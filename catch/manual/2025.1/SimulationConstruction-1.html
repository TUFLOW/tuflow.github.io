<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 4 Simulation construction | TUFLOW CATCH User Manual Release Candidate 2025.1</title>
  <meta name="description" content="TUFLOW CATCH User Manual" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 4 Simulation construction | TUFLOW CATCH User Manual Release Candidate 2025.1" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://docs.tuflow.com/catch/manual/2024.2/images/TUFLOW%20Catch-01-01.png" />
  <meta property="og:description" content="TUFLOW CATCH User Manual" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 4 Simulation construction | TUFLOW CATCH User Manual Release Candidate 2025.1" />
  
  <meta name="twitter:description" content="TUFLOW CATCH User Manual" />
  <meta name="twitter:image" content="https://docs.tuflow.com/catch/manual/2024.2/images/TUFLOW%20Catch-01-01.png" />

<meta name="author" content="Release Candidate 2025.1      This is a release candidate for the TUFLOW CATCH User Manual 2025.1 that accompanies the 2025.1.0-rc.1 release candidate executable. Please note, the information contained within this manual version may vary from the subsequent final version " />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/TUFLOW.ico" type="image/x-icon" />
<link rel="prev" href="ProcessDescriptions-1.html"/>
<link rel="next" href="SimulationExecution-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>





<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://www.tuflow.com"><img src="images/1024in300px_Blue-01.svg" style="width:246px;height:68px;"></a></li>

<li class="divider"></li>
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#about-this-manual"><i class="fa fa-check"></i>About this manual</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#how-to-use-this-manual"><i class="fa fa-check"></i>How to use this manual</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#navigation"><i class="fa fa-check"></i>Navigation</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#searching"><i class="fa fa-check"></i>Searching</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#tables"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#commands"><i class="fa fa-check"></i>Commands</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#parameter-notation"><i class="fa fa-check"></i>Parameter notation</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#portable-document-format"><i class="fa fa-check"></i>Portable Document Format</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#feedback"><i class="fa fa-check"></i>Feedback</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Overview-1.html"><a href="Overview-1.html"><i class="fa fa-check"></i><b>1</b> Overview</a>
<ul>
<li class="chapter" data-level="1.1" data-path="Overview-1.html"><a href="Overview-1.html#OverviewContext-2"><i class="fa fa-check"></i><b>1.1</b> Context</a></li>
<li class="chapter" data-level="1.2" data-path="Overview-1.html"><a href="Overview-1.html#Features-2"><i class="fa fa-check"></i><b>1.2</b> Features</a></li>
<li class="chapter" data-level="1.3" data-path="Overview-1.html"><a href="Overview-1.html#Configs-2"><i class="fa fa-check"></i><b>1.3</b> Configurations</a></li>
<li class="chapter" data-level="1.4" data-path="Overview-1.html"><a href="Overview-1.html#Science-2"><i class="fa fa-check"></i><b>1.4</b> Science</a></li>
<li class="chapter" data-level="1.5" data-path="Overview-1.html"><a href="Overview-1.html#Versioning-2"><i class="fa fa-check"></i><b>1.5</b> Versioning</a></li>
<li class="chapter" data-level="1.6" data-path="Overview-1.html"><a href="Overview-1.html#Support-2"><i class="fa fa-check"></i><b>1.6</b> Support</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Architecture-1.html"><a href="Architecture-1.html"><i class="fa fa-check"></i><b>2</b> Architecture</a>
<ul>
<li class="chapter" data-level="2.1" data-path="Architecture-1.html"><a href="Architecture-1.html#ArchitectureContext-2"><i class="fa fa-check"></i><b>2.1</b> Context</a></li>
<li class="chapter" data-level="2.2" data-path="Architecture-1.html"><a href="Architecture-1.html#CAIntent-2"><i class="fa fa-check"></i><b>2.2</b> Intention</a></li>
<li class="chapter" data-level="2.3" data-path="Architecture-1.html"><a href="Architecture-1.html#CA-2"><i class="fa fa-check"></i><b>2.3</b> Core architecture</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="Architecture-1.html"><a href="Architecture-1.html#ExCoord-3"><i class="fa fa-check"></i><b>2.3.1</b> Execution coordination</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html"><i class="fa fa-check"></i><b>3</b> Process descriptions</a>
<ul>
<li class="chapter" data-level="3.1" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsGeo-2"><i class="fa fa-check"></i><b>3.1</b> Geolocation</a></li>
<li class="chapter" data-level="3.2" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsPollExp-2"><i class="fa fa-check"></i><b>3.2</b> Pollutant export</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsConst-3"><i class="fa fa-check"></i><b>3.2.1</b> Constant</a></li>
<li class="chapter" data-level="3.2.2" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsTS-3"><i class="fa fa-check"></i><b>3.2.2</b> Timeseries</a></li>
<li class="chapter" data-level="3.2.3" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsMats-3"><i class="fa fa-check"></i><b>3.2.3</b> Material based export</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsInterv-2"><i class="fa fa-check"></i><b>3.3</b> Interventions</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsIntervMR-3"><i class="fa fa-check"></i><b>3.3.1</b> Mass removal</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html"><i class="fa fa-check"></i><b>4</b> Simulation construction</a>
<ul>
<li class="chapter" data-level="4.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimulationConstructionContext-2"><i class="fa fa-check"></i><b>4.1</b> Context</a></li>
<li class="chapter" data-level="4.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCIntent-2"><i class="fa fa-check"></i><b>4.2</b> Usage intent</a></li>
<li class="chapter" data-level="4.3" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimulationConstructionInit-2"><i class="fa fa-check"></i><b>4.3</b> Initialisation</a></li>
<li class="chapter" data-level="4.4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCGeneral-2"><i class="fa fa-check"></i><b>4.4</b> General arrangement</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCGeneralFS-3"><i class="fa fa-check"></i><b>4.4.1</b> Folder structure</a></li>
<li class="chapter" data-level="4.4.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCGeneralWF-3"><i class="fa fa-check"></i><b>4.4.2</b> Intended workflow</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCC-2"><i class="fa fa-check"></i><b>4.5</b> TUFLOW CATCH control file</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCCGlobal-3"><i class="fa fa-check"></i><b>4.5.1</b> Global commands</a></li>
<li class="chapter" data-level="4.5.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCCHPC-3"><i class="fa fa-check"></i><b>4.5.2</b> Catchment hydraulic model (TUFLOW HPC) commands</a></li>
<li class="chapter" data-level="4.5.3" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCCPollExp-3"><i class="fa fa-check"></i><b>4.5.3</b> Pollutant export model commands</a></li>
<li class="chapter" data-level="4.5.4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCCFV-3"><i class="fa fa-check"></i><b>4.5.4</b> Receiving model (TUFLOW FV) commands</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCSum-3"><i class="fa fa-check"></i><b>4.6</b> Construction summary</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCSumSupCons-3"><i class="fa fa-check"></i><b>4.6.1</b> Supported configurations</a></li>
<li class="chapter" data-level="4.6.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCSumOthCons-3"><i class="fa fa-check"></i><b>4.6.2</b> Other configurations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="SimulationExecution-1.html"><a href="SimulationExecution-1.html"><i class="fa fa-check"></i><b>5</b> Simulation execution</a>
<ul>
<li class="chapter" data-level="5.1" data-path="SimulationExecution-1.html"><a href="SimulationExecution-1.html#SimulationExecutionContext-2"><i class="fa fa-check"></i><b>5.1</b> Context</a></li>
<li class="chapter" data-level="5.2" data-path="SimulationExecution-1.html"><a href="SimulationExecution-1.html#SimulationExecutionEx-2"><i class="fa fa-check"></i><b>5.2</b> Execution</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="Outputs-1.html"><a href="Outputs-1.html"><i class="fa fa-check"></i><b>6</b> Outputs</a>
<ul>
<li class="chapter" data-level="6.1" data-path="Outputs-1.html"><a href="Outputs-1.html#OutputsContext-2"><i class="fa fa-check"></i><b>6.1</b> Context</a></li>
<li class="chapter" data-level="6.2" data-path="Outputs-1.html"><a href="Outputs-1.html#OutputsConfigs-2"><i class="fa fa-check"></i><b>6.2</b> Core supported configurations</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="Outputs-1.html"><a href="Outputs-1.html#OutputsHyd-3"><i class="fa fa-check"></i><b>6.2.1</b> Hydrology</a></li>
<li class="chapter" data-level="6.2.2" data-path="Outputs-1.html"><a href="Outputs-1.html#OutputsPEx-3"><i class="fa fa-check"></i><b>6.2.2</b> Pollutant export</a></li>
<li class="chapter" data-level="6.2.3" data-path="Outputs-1.html"><a href="Outputs-1.html#OutpitsInt-3"><i class="fa fa-check"></i><b>6.2.3</b> Integrated</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="Outputs-1.html"><a href="Outputs-1.html#OOutputsOther"><i class="fa fa-check"></i><b>6.3</b> Other outputs</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="AppCommands.html"><a href="AppCommands.html"><i class="fa fa-check"></i><b>A</b> Commands</a>
<ul>
<li class="chapter" data-level="A.1" data-path="AppCommands.html"><a href="AppCommands.html#Appcmdsyn"><i class="fa fa-check"></i><b>A.1</b> Command syntax</a></li>
<li class="chapter" data-level="A.2" data-path="AppCommands.html"><a href="AppCommands.html#Appargmtsyn"><i class="fa fa-check"></i><b>A.2</b> Argument syntax</a></li>
<li class="chapter" data-level="A.3" data-path="AppCommands.html"><a href="AppCommands.html#Appcmds"><i class="fa fa-check"></i><b>A.3</b> Commands</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="AppParams.html"><a href="AppParams.html"><i class="fa fa-check"></i><b>B</b> Parameters</a></li>
<li class="chapter" data-level="C" data-path="AppOutputs.html"><a href="AppOutputs.html"><i class="fa fa-check"></i><b>C</b> Files and data fields</a>
<ul>
<li class="chapter" data-level="C.1" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsSurfConc"><i class="fa fa-check"></i><b>C.1</b> Surface water concentrations</a></li>
<li class="chapter" data-level="C.2" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsGWConc"><i class="fa fa-check"></i><b>C.2</b> Groundwater concentrations</a></li>
<li class="chapter" data-level="C.3" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsDryMass"><i class="fa fa-check"></i><b>C.3</b> Dry mass</a></li>
<li class="chapter" data-level="C.4" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsNetMass"><i class="fa fa-check"></i><b>C.4</b> Net mass</a></li>
<li class="chapter" data-level="C.5" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsOther"><i class="fa fa-check"></i><b>C.5</b> Other outputs</a>
<ul>
<li class="chapter" data-level="C.5.1" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsOtherMB"><i class="fa fa-check"></i><b>C.5.1</b> Mass balance</a></li>
<li class="chapter" data-level="C.5.2" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsOtherRP"><i class="fa fa-check"></i><b>C.5.2</b> Receiving polygon</a></li>
<li class="chapter" data-level="C.5.3" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsOtherFV"><i class="fa fa-check"></i><b>C.5.3</b> TUFLOW FV boundaries</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="D" data-path="AppDemoModel.html"><a href="AppDemoModel.html"><i class="fa fa-check"></i><b>D</b> Demonstration model</a>
<ul>
<li class="chapter" data-level="D.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelContext-2"><i class="fa fa-check"></i><b>D.1</b> Context</a></li>
<li class="chapter" data-level="D.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelDomain-2"><i class="fa fa-check"></i><b>D.2</b> Domain</a></li>
<li class="chapter" data-level="D.3" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelModels-2"><i class="fa fa-check"></i><b>D.3</b> Numerical models</a>
<ul>
<li class="chapter" data-level="D.3.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelModelsHPC-3"><i class="fa fa-check"></i><b>D.3.1</b> TUFLOW HPC</a></li>
<li class="chapter" data-level="D.3.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelModelsPE-3"><i class="fa fa-check"></i><b>D.3.2</b> Pollutant export</a></li>
<li class="chapter" data-level="D.3.3" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelModelsFV-3"><i class="fa fa-check"></i><b>D.3.3</b> TUFLOW FV</a></li>
</ul></li>
<li class="chapter" data-level="D.4" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelSuite-2"><i class="fa fa-check"></i><b>D.4</b> Simulation suite</a></li>
<li class="chapter" data-level="D.5" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelDLoad-2"><i class="fa fa-check"></i><b>D.5</b> Downloads</a>
<ul>
<li class="chapter" data-level="D.5.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelBins-3"><i class="fa fa-check"></i><b>D.5.1</b> Binaries</a></li>
<li class="chapter" data-level="D.5.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelFils-3"><i class="fa fa-check"></i><b>D.5.2</b> Simulation files</a></li>
</ul></li>
<li class="chapter" data-level="D.6" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelExe-2"><i class="fa fa-check"></i><b>D.6</b> Execution</a></li>
<li class="chapter" data-level="D.7" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelResInt-2"><i class="fa fa-check"></i><b>D.7</b> Results interrogation</a>
<ul>
<li class="chapter" data-level="D.7.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelJSON-2"><i class="fa fa-check"></i><b>D.7.1</b> Example json file creation</a></li>
<li class="chapter" data-level="D.7.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelres-2"><i class="fa fa-check"></i><b>D.7.2</b> Example results</a></li>
</ul></li>
<li class="chapter" data-level="D.8" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelMassBal-2"><i class="fa fa-check"></i><b>D.8</b> Mass balance - Base Case</a>
<ul>
<li class="chapter" data-level="D.8.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelMassBalConcept-3"><i class="fa fa-check"></i><b>D.8.1</b> Concept</a></li>
<li class="chapter" data-level="D.8.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelMassBalConfig-3"><i class="fa fa-check"></i><b>D.8.2</b> Configuration</a></li>
<li class="chapter" data-level="D.8.3" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelMassBalMethod-3"><i class="fa fa-check"></i><b>D.8.3</b> Method</a></li>
<li class="chapter" data-level="D.8.4" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelMassBalResults-3"><i class="fa fa-check"></i><b>D.8.4</b> Results</a></li>
</ul></li>
<li class="chapter" data-level="D.9" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelMassBalInt-2"><i class="fa fa-check"></i><b>D.9</b> Mass balance - Interventions</a>
<ul>
<li class="chapter" data-level="D.9.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelMassBalConceptInt-3"><i class="fa fa-check"></i><b>D.9.1</b> Concept</a></li>
<li class="chapter" data-level="D.9.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelMassBalConfigInt-3"><i class="fa fa-check"></i><b>D.9.2</b> Configuration</a></li>
<li class="chapter" data-level="D.9.3" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelMassBalMethodInt-3"><i class="fa fa-check"></i><b>D.9.3</b> Method</a></li>
<li class="chapter" data-level="D.9.4" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelMassBalResultsInt-3"><i class="fa fa-check"></i><b>D.9.4</b> Results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="E" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html"><i class="fa fa-check"></i><b>E</b> Application under version control</a>
<ul>
<li class="chapter" data-level="E.1" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContCtxt-3"><i class="fa fa-check"></i><b>E.1</b> Context</a></li>
<li class="chapter" data-level="E.2" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContUC-3"><i class="fa fa-check"></i><b>E.2</b> Use case</a></li>
<li class="chapter" data-level="E.3" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContWF-3"><i class="fa fa-check"></i><b>E.3</b> Possible workflow #1</a></li>
<li class="chapter" data-level="E.4" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContWF2-3"><i class="fa fa-check"></i><b>E.4</b> Possible workflow #2</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.tuflow.com"><img src="images/1024in300px_Blue-01.svg" style="width:246px;height:68px;"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><h0 style="color:rgb(0,85,129);"><bmtpink>TUFLOW CATCH User Manual Release Candidate 2025.1</bmtpink></h0></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="SimulationConstruction-1" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Section 4</span> Simulation construction<a href="SimulationConstruction-1.html#SimulationConstruction-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p class="wmark before">
</p>
<div id="SimulationConstructionContext-2" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Context<a href="SimulationConstruction-1.html#SimulationConstructionContext-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Previous sections have presented the architecture and processes available within TUFLOW CATCH. This section describes the usage intent and construction of a TUFLOW CATCH simulation. This includes the use of the TUFLOW CATCH QGIS plugin, descriptions of all commands, with hyperlinks to the Appendices where commands and explanations are listed in a searchable and sortable table for ease of access.
<span class="math inline">\(\newcommand{\blockindent}{\hspace{0.5cm}}\)</span></p>
</div>
<div id="SCIntent-2" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Usage intent<a href="SimulationConstruction-1.html#SCIntent-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Depending on the chosen configuration, TUFLOW CATCH coordinates and executes TUFLOW HPC, and/or a pollutant export model and/or TUFLOW FV, all automatically and with no direct user input required to affect any of these linkages. This does not, however, mean that TUFLOW CATCH cannot be run until all models (TUFLOW HPC, pollutant export and TUFLOW FV) are fully constructed, even if the target configuration requires all these models eventually. To the contrary, the intention is that the single TUFLOW CATCH control file is used as the common control file for all model construction from project inception, even where this construction is undertaken in parallel by multiple users.</p>
<p>The reason for this approach is that, for example, the TUFLOW HPC block of the TUFLOW CATCH control file is nothing other than a standard TUFLOW HPC *.tcf control file, with a small number of additional TUFLOW CATCH commands. This is intentional, and means that an experienced (or beginner who refers to the TUFLOW user manual) TUFLOW HPC modeller can follow normal model set up processes and procedures to construct the TUFLOW HPC component of TUFLOW CATCH model, unhindered, but via the TUFLOW CATCH control file arrangement. The same logic applies to users constructing the TUFLOW FV sections of a TUFLOW CATCH model - the TUFLOW HPC sections of the TUFLOW CATCH control file can be turned off and TUFLOW FV model construction commenced as usual through the *.tcc rather than *.fvc control file. Users in teams that adopt this approach may want to consider using versioning control software to manage concurrent multiple user contributions.</p>
<p>It is understood that in some legacy cases, existing TUFLOW HPC or TUFLOW FV models (that were originally built outside TUFLOW CATCH) will need to be brought into a block of a TUFLOW CATCH control file. If this is the case, then the process is a matter of copying and pasting the original control files into the relevant TUFLOW CATCH control file block and populating the supporting folder structures with model data (see following sections). The key change that will be required on pasting into a *.tcc block will be to ensure file path references are correct (see following sections). This is only required from the *.tcc as it points to immediately called files, and no further down the folder tree.</p>
</div>
<div id="SimulationConstructionInit-2" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Initialisation<a href="SimulationConstruction-1.html#SimulationConstructionInit-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>TUFLOW CATCH requires construction of a suite of folder substructures to support simulations. These should be all co-located at the same folder level underneath a single directory that sits within an overall project directory. These substructures correspond to each of the three products potentially used in a TUFLOW CATCH simulation, and should be named as follows (with ‘TUFLOW’ referring to TUFLOW HPC):</p>
<ul>
<li>TUFLOW</li>
<li>TUFLOWCATCH</li>
<li>TUFLOWFV</li>
</ul>
<p>Each of these substructures has its own subfolder arrangement, consistent with those suggested for standalone TUFLOW HPC and TUFLOW FV modelling studies. For consistency, the suggested TUFLOWCATCH subfolder arrangement is also similar.</p>
<p>To assist with this set up, and indeed more broadly with the initialisation, execution and results interrogation of a TUFLOW CATCH simulation, a freely available TUFLOW CATCH QGIS plugin has been developed. TUFLOW eLearning resources (also free of charge) have been prepared to support deployment and use of this TUFLOW CATCH plugin, and as such the content of that resource is not repeated here. Users are however encouraged to access this resource before initialising their first TUFLOW CATCH simulation: using this plugin is seen as a core component of the set up of a TUFLOW CATCH simulation. Doing so manually is discouraged.</p>
<p>The TUFLOW CATCH plugin can be accessed <a href="https://downloads.tuflow.com/Private_Download/tuflow_catch_plugin/tuflow_catch.zip">here</a>.</p>
<p>The eLearning materials can be accessed by:</p>
<ol>
<li>Registering for TUFLOW eLearning <a href = "https://elearning.tuflow.com/login/index.php" target="_blank">here</a> if not already registered</li>
<li>Emailing <a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a> noting the registered username and with a request access to the TUFLOW CATCH plugin eLearning course</li>
<li>Following instructions subsequently provided to access the course</li>
<li>Completing the course</li>
</ol>
<p>On completion of the course, users will be able to use the downloaded TUFLOW CATCH plugin to initialise a TUFLOW CATCH simulation in the desired geographical projection system, complete with automatically populated templates for all control files. The sections presented below assume that this QGIS initialisation process has occurred and describe the resulting general arrangements and subsequent construction of a TUFLOW CATCH simulation.</p>
</div>
<div id="SCGeneral-2" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> General arrangement<a href="SimulationConstruction-1.html#SCGeneral-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="SCGeneralFS-3" class="section level3 hasAnchor" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Folder structure<a href="SimulationConstruction-1.html#SCGeneralFS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
The overarching TUFLOW CATCH folder structure created using the QGIS plugin will appear (at the first tier) as per Figure <a href="SimulationConstruction-1.html#fig:fig-fs">4.1</a> (with the top level folder named ‘Modelling’ selected by the user during initialisation).
<br>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-fs"></span>
<img src="images/FS.png" alt="**TUFLOW CATCH folder structure**" width="25%" />
<p class="caption">
Figure 4.1: <strong>TUFLOW CATCH folder structure</strong>
</p>
</div>
</center>
The expansion of these folders to one level is as per Figure <a href="SimulationConstruction-1.html#fig:fig-fs2">4.2</a>. The commonality of folder structures should be evident.
<br>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-fs2"></span>
<img src="images/FS2.png" alt="**TUFLOW CATCH folder structure, expanded**" width="25%" />
<p class="caption">
Figure 4.2: <strong>TUFLOW CATCH folder structure, expanded</strong>
</p>
</div>
</center>
<p>The three relevant executable suites (TUFLOW CATCH, TUFLOW HPC and TUFLOW FV) should be stored in separate subfolders, but within a general EXE folder for neatness, e.g. <tblk>C:\EXE\TUFLOWCatch\2024.0\, C:\EXE\TUFLOW\2024.0\</tblk> and <tblk>C:\EXE\TUFLOWFV\2024.0\</tblk>. The use of version names in the directory structure is important as the TUFLOW software suite allows multiple versions to coexist on the same computer, provided the executable (.exe extension) and libraries (.dll and .ptx extensions) for a specific version are contained within their own sub-folder. The user downloaded version may differ from the examples and the version sub-folder name/s should be amended to reflect the downloaded version/s.</p>
</div>
<div id="SCGeneralWF-3" class="section level3 hasAnchor" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Intended workflow<a href="SimulationConstruction-1.html#SCGeneralWF-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The above folder structure supports the overall intended TUFLOW CATCH simulation workflow, such that:</p>
<ul>
<li>The TUFLOWCATCH folder (and control file, see below) is the single point of contact for execution of TUFLOW CATCH simulations, regardless of the combination of TUFLOW HPC or TUFLOW FV models being called</li>
<li>All simulation results (again, regardless of what subsidiary TUFLOW products are called) are written to the TUFLOWCATCH/results subfolder: users should never need to navigate to TUFLOW HPC or TUFLOWFV output/results folders to examine results from TUFLOW CATCH simulations</li>
<li>Users do not need to (and
should not) set up their own *.tcf (TUFLOW HPC) or *.fvc (TUFLOW FV) top level control files in the respective TUFLOW and TUFLOWFV runs directories: TUFLOW CATCH does this automatically based on information provided in the overarching TUFLOW CATCH control file<br />
</li>
<li>Calls to subsidiary first level control files and/or folders from the overarching TUFLOW CATCH control file for both TUFLOW HPC and TUFLOW FV (such as *.tgc (file), bc_dbase (folder) etc. (TUFLOW HPC) or *.fvsed etc. (TUFLOW FV)) need to be provided as relative paths to locations that sit within the respective TUFLOW or TUFLOWFV subfolder arrangements, from the TUFLOW CATCH runs directory</li>
<li>All model data (e.g. grids, GIS, boundaries etc.) should be located within respective subfolder arrangements for TUFLOW and TUFLOW FV</li>
<li>These first level control files (that sit within the TUFLOW or TUFLOWFV directory structures) then should be constructed to make the usual relative calls to all other files and data within respective their subfolder arrangements</li>
<li>It is suggested that users exploit standard text editor capabilities of opening one text file (e.g. a *.tgc file) from from the currently open text file (i.e. the *.tcc) so as to not need to explicitly navigate between subfolder structures. This is most commonly achieved by right clicking on the relative path of the other file (e.g. *.tgc) as specified in the open text file (i.e. the *.tcc) and using the context menu to open the second file, as per Figure <a href="SimulationConstruction-1.html#fig:fig-rightclick">4.3</a> (where the relative path on line 48 was right clicked)</li>
</ul>
<br>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-rightclick"></span>
<img src="images/rightclick.png" alt="**Opening one text file from the relative path in an already open text file**" width="90%" />
<p class="caption">
Figure 4.3: <strong>Opening one text file from the relative path in an already open text file</strong>
</p>
</div>
</center>
<p>In short, it is intended that the:</p>
<ul>
<li>TUFLOW CATCH control file is the primary point of construction and execution contact</li>
<li>TUFLOW and TUFLOWFV folder substructures contain respective input model data such as GIS layers, DEMs etc</li>
<li>TUFLOWCATCH folder substructure contains model results</li>
</ul>
<p>Subsequent sections describe the TUFLOW CATCH control file set up and model execution.</p>
</div>
</div>
<div id="SCTCC-2" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> TUFLOW CATCH control file<a href="SimulationConstruction-1.html#SCTCC-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A TUFLOW CATCH simulation is set up and executed by constructing a TUFLOW CATCH control file, extension *.tcc. This file should reside in the TUFLOWCATCH\runs directory set up with the TUFLOW CATCH QGIS plugin. The user is not required to (and should not) construct separate *.tcf or *.fvc control files. This TUFLOW CATCH control file has four separate but related blocks:</p>
<ol>
<li>Global commands</li>
<li>Catchment Hydraulic Model (TUFLOW HPC) commands</li>
<li>Catchment Pollutant Export Model</li>
<li>Receiving Model (TUFLOW FV) commands</li>
</ol>
<p>All blocks must be included in the above order, but the latter three can be optionally switched on and off with a single command (rather than extensive line commenting) to suit modelling needs. For example, a user working only on initial TUFLOW HPC model build and testing tasks can turn off the pollutant export and TUFLOW FV blocks (by specifying these block models to be the keyword ‘None’) and continue building a TUFLOW HPC model as per normal, without the need to always execute all components of TUFLOW CATCH (See <a href="AppCommands.html#TCCHMS">Catchment Hydraulic Model</a> <teq>==</teq>, <a href="AppCommands.html#TCCPEMS">Catchment Pollutant Export Model</a> <teq>==</teq> or <a href="AppCommands.html#TCRS">Receiving Model</a> <teq>==</teq>).</p>
<p>Construction of each of the TUFLOW CATCH control file blocks is described in the following sections.</p>
<div id="SCTCCGlobal-3" class="section level3 hasAnchor" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> Global commands<a href="SimulationConstruction-1.html#SCTCCGlobal-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This initial section of the TUFLOW CATCH control file contains information that is applied equally to both TUFLOW HPC and TUFLOW FV. It is not declared as a block. These global commands are presented following (as hyperlinks to Appendix <a href="AppCommands.html#AppCommands">A</a>), with command argument options also shown where appropriate. All commands are mandatory. Some commands can be overwritten if required within subsequent blocks (see Sections <a href="SimulationConstruction-1.html#SCTCCHPC-3">4.5.2</a> and <a href="SimulationConstruction-1.html#SCTCCFV-3">4.5.4</a>).</p>
<p>Set the hardware to be used, with command arguments as either CPU or GPU:</p>
<p><a href="AppCommands.html#TCHardware">Hardware</a> <teq>==</teq></p>
<p>Set the GIS format to be used, with command arguments as either SHP (preferred) or GPKG:</p>
<p><a href="AppCommands.html#TCGISFmt">GIS Format</a> <teq>==</teq></p>
<p>Set projection to be used, as a path to a shape file. This will have been prepared by the TUFLOW CATCH plugin:</p>
<p><a href="AppCommands.html#TCSHPProj">SHP Projection</a> <teq>==</teq></p>
<p>If GPKG is specified as the format and TUFLOW FV is intended to be included in the TUFLOW CATCH simulation then this will need to be overwritten in the receiving model block (see Section <a href="SimulationConstruction-1.html#SCTCCFV-3">4.5.4</a>) because TUFLOW FV does not yet support geopackage based simulation. Similarly, if GPKG is set, then the projection must also be set as follows</p>
<p><a href="AppCommands.html#TCGPKGProj">GPKG Projection</a> <teq>==</teq></p>
<p>Set the time format, with command arguments as either ISODATE (dd/mm/yyy hh:mm:ss) or hours (a single float). It is strongly recommended that ISODATE be used for longer simulations, where interpreting hour output timestamps can be difficult:</p>
<p><a href="AppCommands.html#TCTimeFmt">Time Format</a> <teq>==</teq></p>
<p>Set the start and end times in the format declared above:</p>
<p><a href="AppCommands.html#TCStrtDte">Start Time</a> <teq>==</teq><br />
<a href="AppCommands.html#TCEndDte">End Time</a> <teq>==</teq></p>
<p>Set the directory for simulation outputs (e.g. xmdf and NetCDF results files). This can be set to any location as either a full path (e.g. <tblk>X:\Project\results</tblk>), or as a path relative to the location of the TUFLOW CATCH control file (e.g. <tblk>..\results</tblk>):</p>
<p><a href="AppCommands.html#TCOutDir">Output Directory</a> <teq>==</teq></p>
<p>Set the directory for writing simulation check files (e.g. .shp files). This can be set to any location as either a full path (e.g. <tblk>X:\Project\check</tblk>), or as a path relative to the location of the TUFLOW CATCH control file (e.g. <tblk>..\check</tblk>):</p>
<p><a href="AppCommands.html#TCChkDir">Write Check Files</a> <teq>==</teq></p>
<p>Set the directory for writing simulation log files. TUFLOW HPC and TUFLOW FV engine log files will be written to this location, as well as module log files (such as the water quality module of TUFLOW FV). This can be set to any location as either a full path (e.g. <tblk>X:\Project\runs\log</tblk>), or as a path relative to the location of the TUFLOW CATCH control file (e.g. log - which is the folder created by the TUFLOW CATCH plugin by default):</p>
<p><a href="AppCommands.html#TCLogDir">Log Folder</a> <teq>==</teq></p>
<p>In order to collect all log files without name conflictions, TUFLOW CATCH renames the various log files before it writes them to the user nominated directory. The renaming convention is as follows:</p>
<ul>
<li>TUFLOW HPC related log files:
<ul>
<li>&lt;<em>TUFLOW CATCH tcc filename root</em>&gt;_catchment_hydraulic_***.t*f</li>
</ul></li>
<li>TUFLOW FV related log files:
<ul>
<li>&lt;<em>TUFLOW CATCH tcc filename root</em>&gt;_receiving_***.*log</li>
</ul></li>
</ul>
<p>where *** indicates a usual extension expected in a log file such as “messages” (for TUFLOW HPC) or “ext_cfl_dt” (for TUFLOW FV) etc. For example, for a TUFLOW CATCH control file called SysModel_001.tcc, the following log files might be produced (depending on simulation options)</p>
<ul>
<li>TUFLOW HPC related log files:
<ul>
<li>SysModel_001_catchment_hydraulic.hpc.tlf</li>
<li>SysModel_001_catchment_hydraulic.tlf</li>
<li>SysModel_001_catchment_hydraulic.tsf</li>
</ul></li>
<li>TUFLOW FV related log files:
<ul>
<li>SysModel_001_receiving_ext_cfl_dt.log</li>
<li>SysModel_001_receiving.log</li>
<li>SysModel_001_receiving.fvwqlog</li>
</ul></li>
</ul>
<p>Set the directory for writing the TUFLOW FV boundary condition files prepared by TUFLOW CATCH from TUFLOW HPC simulation, including boundary condition blocks and underlying data (timeseries) files. This command is required even if TUFLOW FV is not used in a TUFLOW CATCH simulation, in which case template TUFLOW FV files will be written to this location. TUFLOW CATCH also writes TUFLOW HPC diagnostic information to this location (regardless of whether TUFLOW FV is simulated), including timeseries files of predicted catchment-wide summed cumulative volumes and/or masses. These files can be useful for providing system understanding, even when TUFLOW FV is not activated. This directory should be always set as the bc_dbase folder within the TUFLOW CATCH folder substructure (as generated by the TUFLOW CATCH QGIS plugin), as a path relative to the location of the TUFLOW CATCH control file (i.e. <tblk>..\bc_dbase</tblk>):</p>
<p><a href="AppCommands.html#TCCatchDir">Catch BC Output Folder</a> <teq>==</teq></p>
<p>Set the timestep (in simulation time seconds) at which lines within a boundary condition file for TUFLOW FV (created from TUFLOW HPC predictions) are separated (required even if TUFLOW FV not used). TUFLOW CATCH offers the user the option to set this timestep differently for different types of TUFLOW FV boundaries: nodestrings (Q boundaries that deliver momentum to TUFLOW FV) and lateral inflows (QC boundaries that do not deliver momentum to TUFLOW FV). It would be typical that nodestring boundaries are written at a shorter timestep to lateral boundaries, but this is not mandated, and the user is able to decide how this timestep relates to simulation time and file size constraints. The second command below is also used to set the output frequency for <a href="AppOutputs.html#AppOutputsOtherRP">receiving polygon</a> inflows and concentrations output if used:</p>
<p><a href="AppCommands.html#TCNSOutDt">Catch BC Output Interval Nodestring</a> <teq>==</teq> <a href="AppParams.html#TCParNSOutDt"><span class="math inline">\(dT_{ns}\)</span></a></p>
<p><a href="AppCommands.html#TCLatOutDt">Catch BC Output Interval Lateral</a> <teq>==</teq> <a href="AppParams.html#TCParLatOutDt"><span class="math inline">\(dT_{lat}\)</span></a></p>
<p>Set the frequency at which TUFLOW CATCH pauses to write out TUFLOW FV boundary condition files, in units of days (simulation time, required even if TUFLOW FV not used). Setting a value of 1 means that TUFLOW CATCH will hold all boundary information in memory for a day of simulation time, and then update TUFLOW FV boundary files (and summed flow and mass timeseries) with this held memory on a daily basis. For example, if outputs were set to be hourly via either of the above interval commands, then 24 lines would be added to each boundary file at time of writing:</p>
<p><a href="AppCommands.html#TCCSVwrite">CSV Write Frequency Day</a> <teq>==</teq> <a href="AppParams.html#TCParCSVwrite"><span class="math inline">\(dT_{csv}\)</span></a></p>
<p>An example block of these global commands that together configure a TUFLOW CATCH simulation (with clarifying section headers as comments) is:</p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! GLOBAL SETTINGS</tgrn><br />
<tcmd>Hardware</tcmd><teq> == </teq><tblk>GPU</tblk><br />
<tcmd>GIS Format</tcmd><teq> == </teq><tblk>SHP</tblk><br />
<tcmd>SHP Projection</tcmd><teq> == </teq><tblk>..\..\TUFLOW\model\gis\projection.prj</tblk></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! SIMULATION SETTINGS</tgrn><br />
<tcmd>Time Format</tcmd><teq> == </teq><tblk>ISODATE</tblk><br />
<tcmd>Start Time</tcmd><teq> == </teq><tblk>01/01/2021 00:00:00</tblk><br />
<tcmd>End Time</tcmd><teq> == </teq><tblk>01/02/2021 00:00:00</tblk></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! OUTPUT FOLDERS</tgrn><br />
<tcmd>Output Directory</tcmd><teq> == </teq><tblk>X:\Project\results</tblk><br />
<tcmd>Write Check Files</tcmd><teq> == </teq><tblk>..\check</tblk><br />
<tcmd>Log Folder</tcmd><teq> == </teq><tblk>..\log</tblk></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! BOUNDARY CONDITION CONFIGURATION</tgrn><br />
<tcmd>Catch BC Output Folder</tcmd><teq> == </teq><tblk>..\bc_dbase</tblk><br />
<tcmd>Catch BC Output Interval Nodestring</tcmd><teq> == </teq><tblk>900</tblk><br />
<tcmd>Catch BC Output Interval Lateral</tcmd><teq> == </teq><tblk>10800</tblk><br />
<tcmd>CSV Write Frequency Day</tcmd><teq> == </teq><tblk>1</tblk></p>
</div>
<div id="SCTCCHPC-3" class="section level3 hasAnchor" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> Catchment hydraulic model (TUFLOW HPC) commands<a href="SimulationConstruction-1.html#SCTCCHPC-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This block of the TUFLOW CATCH control file contains commands that construct a TUFLOW HPC simulation. These commands are almost entirely those that would be used in setting up a standalone TUFLOW HPC control file (*.tcf), with a small number of additional commands that relate to TUFLOW CATCH.</p>
<p>A number of commands issued in the Global commands section of the *.tcc can be overwritten here if needed. These are:</p>
<p><a href="AppCommands.html#TCHardware">Hardware</a> <teq>==</teq><br />
<a href="AppCommands.html#TCGISFmt">GIS Format</a> <teq>==</teq></p>
<p>If GIS Format is overwritten, then a subsequent new projection file is most likely required to be specified</p>
<p><a href="AppCommands.html#TCSHPProj">SHP Projection</a> <teq>==</teq></p>
<p>If GPKG is specified as the GIS format then the projection must also be set as follows</p>
<p><a href="AppCommands.html#TCGPKGProj">GPKG Projection</a> <teq>==</teq></p>
<p>The catchment hydraulic model definition must be declared as a block that encloses all TUFLOW CATCH and TUFLOW HPC commands. This is different to the global commands section at the top of the TUFLOW CATCH control file, which does not need this encompassing structure.
Set the beginning of the block, with command arguments as either HPC or none, and the end of the block (with no command arguments):</p>
<p><tcmd>Catchment Hydraulic Model</tcmd><teq> == </teq><br />
  <tblk><span class="math inline">\(\ldots\)</span>catchment hydraulic model commands<span class="math inline">\(\ldots\)</span></tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>catchment hydraulic model commands<span class="math inline">\(\ldots\)</span></tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>catchment hydraulic model commands<span class="math inline">\(\ldots\)</span></tblk><br />
<tcmd>End Catchment Hydraulic Model</tcmd></p>
<p>If the <a href="AppCommands.html#TCCHMS">Catchment Hydraulic Model</a> command is set to ‘<tblk>None</tblk>’, then catchment simulation is not executed, and TUFLOW FV will either:</p>
<ul>
<li>Read blank (interim) boundary condition files prepared by TUFLOW CATCH. This approach might be adopted for the initial stages of a TUFLOW FV model build, or dry period tidal / thermal stratification calibration of a receiving water, for example, or</li>
<li>Read a suite of TUFLOW FV boundary condition files previously created by TUFLOW HPC, under TUFLOW CATCH running in <strong>Hydrology</strong> or <strong>Integrated</strong> configurations</li>
</ul>
<p>The second approach above might be adopted when an initial <strong>Hydrology</strong> or <strong>Integrated</strong> simulation has been executed and a first pass corresponding suite of TUFLOW FV boundary condition files (that are not final, but at least sufficient for use in parallel preliminary TUFLOW FV calibration processes) has been produced. In this instance if:</p>
<ul>
<li>TUFLOW CATCH run Model_003.tcc (for example) produced initial TUFLOW FV boundary files</li>
<li>The corresponding <tblk>..\TUFLOWCatch\bc_dbase\Model_003_catchment_hydraulic.fvcatchbc</tblk> file could be copied as<br> <tblk>..\TUFLOWCatch\bc_dbase\Model_004_catchment_hydraulic.fvcatchbc</tblk> and</li>
<li>Called automatically in Model_004.tcc by a TUFLOW CATCH simulation that has <a href="AppCommands.html#TCCHMS">Catchment Hydraulic Model</a> <teq>==</teq><tblk> None</tblk>.</li>
</ul>
<p>This supports TUFLOW FV calibration tasks being executed, without relying on TUFLOW HPC. In order to avoid TUFLOW CATCH overwriting Model_003_catchment_hydraulic.fvcatchbc (which it would normally do if <a href="AppCommands.html#TCCHMS">Catchment Hydraulic Model</a> <teq>==</teq><tblk> None</tblk>), the following command is required in the Receiving Model block of Model_004.tcc (the default is OFF)</p>
<p><a href="AppCommands.html#TCRMPCI">Preserve Catchment Inflows</a> <teq>==</teq><tblk> ON</tblk></p>
<p>This approach allows the TUFLOW HPC and TUFLOW modellers to progress independently for a time, gradually progressing their respectively calibrations without:</p>
<ul>
<li>Relying on each other to produce boundaries, and</li>
<li>The need to continually rerun TUFLOW HPC to re-produce (identical) TUFLOW FV boundaries</li>
</ul>
<p>This style of collaborative modelling is at the heart of TUFLOW CATCH’s architectural design intent and is a key use case.</p>
<p>The TUFLOW CATCH commands contained within this Catchment Hydraulic Model block are described following, and all are mandatory unless noted otherwise.</p>
<p>Set the directory from which TUFLOW CATCH controls TUFLOW HPC. Unless there is a need to the contrary, this should be set as a relative path to the TUFLOW\runs directory set up by the TUFLOW CATCH QGIS plugin, i.e. <tblk>..\..\TUFLOW\runs</tblk>. Setting this to any other directory is not recommended:</p>
<p><a href="AppCommands.html#TCRunDir">Runs Directory</a> <teq>==</teq></p>
<p>Set the full or relative path to the location of the the TUFLOW HPC executable (including the name of the executable itself, with .exe extension) to be called by TUFLOW CATCH:</p>
<p><a href="AppCommands.html#TCHPCEXE">EXE</a> <teq>==</teq></p>
<p>Set the time format for output results. Given that the intention of TUFLOW CATCH is that it support longer term environmental investigations (i.e. not short term detailed ‘traditional’ flood studies), results written in hours format can be difficult to interpret in terms of seasonality, for example. As such, TUFLOW HPC can be instructed to write results in the time format adopted by TUFLOW FV. Doing so is strongly recommended, especially if TUFLOW FV is using the ISODATE format rather than hours:</p>
<p><a href="AppCommands.html#TCHPCTF">Time Format</a> <teq>==</teq><tblk> TUFLOWFV</tblk></p>
<p>Set the relationship between hours and dates. TUFLOW HPC reads boundary condition files and executes its internal computations using an hours (rather than date) timestamp, although this is being upgraded in the mid term. In order to coordinate simulation with TUFLOW FV, and to output results in date format, TUFLOW CATCH requires specification of the date that corresponds to zero hours in TUFLOW HPC boundary (and other) files. This command specifies that date at which boundary and other files refer to zero hours. Note the date time format expected, and that the seconds field is excluded:</p>
<p><a href="AppCommands.html#TCHPCZDate">Zero Date</a> <teq>==</teq><tblk> &lt;dd/mm/yyyy hh:mm&gt;</tblk></p>
<p>Set TUFLOW HPC to write TUFLOW CATCH related map outputs (e.g. pollutant and other hydraulic xmdf outputs, see Section <a href="Outputs-1.html#Outputs-1">6</a>). This catch command argument can be comma delimited with other outputs if required:</p>
<p><a href="AppCommands.html#TCHPCMapOut">Output Map Data Types</a> <teq>==</teq><tblk> catch</tblk></p>
<p><strong>Not mandatory</strong>. If TUFLOW CATCH is to be deployed in the pollutant export configuration (i.e. with no immediate intention to deploy TUFLOW FV, see Section <a href="Overview-1.html#Configs-2">1.3</a>), then the following must be set:</p>
<ul>
<li>The use of TUFLOW FV as a receiving model must be switched off. This is achieved by setting the receiving model block command as follows (see Section <a href="SimulationConstruction-1.html#SCTCCFV-3">4.5.4</a>):<br></li>
</ul>
<p>  <a href="AppCommands.html#TCRS">Receiving Model</a> <teq>==</teq><tblk> None</tblk></p>
<p>AND</p>
<ul>
<li>A single polygon (either as a standalone file or as part of a previously specified geopackage) that covers the downstream receiving waters must be specified within the Catchment Hydraulic Model block. This polygon does not need any specific attributes, and can be imported from the empties created by the TUFLOW CATCH QGIS plugin, as an rp polygon type. The TUFLOW HPC cells within this polygon will be removed from the TUFLOW HPC simulation. TUFLOW CATCH will not write any TUFLOW FV boundary condition blocks, but will write:
<ul>
<li>Summary timeseries files that describe total water and pollutant mass fluxes entering the defined polygon. These outputs can be useful for scenario to scenario comparisons, for example</li>
</ul></li>
</ul>
<p>  <a href="AppCommands.html#TCRecPoly">Receiving Polygon</a> <teq>==</teq><tblk> &lt;path to polygon or geopackage reference&gt; </tblk></p>
<p>AND</p>
<ul>
<li>A list of comma separated pollutant names that are to be simulated by TUFLOW CATCH and the pollutant export model. Constant or timeseries pollutants are ignored - only pollutants that are specified within a material block (i.e. that wash off or erode) should be included in this list. These pollutants do not need to be TUFLOW FV keywords/names, and can be completely user defined. These names need to exactly match the names used within each material pollutant export block<br></li>
</ul>
<p>  <a href="AppCommands.html#TCPolls">Pollutant</a> <teq>==</teq><tblk> &lt;name1, name2, name3, …&gt;</tblk></p>
<p>TUFLOW CATCH will error if operating in the pollutant export configuration and either of the above commands are missing</p>
<p>Once specified, TUFLOW CATCH will check to ensure that all pollutants have been specified (no more, no less) across material blocks (see Section <a href="SimulationConstruction-1.html#SCTCCPollExpPE-4">4.5.3.3</a>), and error if not.</p>
<p>Following the issuing of these specific TUFLOW CATCH commands, a TUFLOW HPC model can be constructed in the same manner as a standalone model. In this regard:</p>
<ul>
<li>All TUFLOW HPC commands are recognised by TUFLOW CATCH and can be issued unchanged from the usage described in TUFLOW HPC’s manual and/or relevant release notes</li>
<li>TUFLOW HPC commands that reference other subsidiary control files (such as geometry control files, *.tgc etc.) need to use relative paths, and point to the locations with the TUFLOW directory created by the TUFLOW CATCH QGIS plugin, e.g.:</li>
</ul>
<p>  <tcmd>BC Database</tcmd> <teq>==</teq><tblk> ..\..\TUFLOW\bc_dbase\bc_dbase_001.csv</tblk></p>
<ul>
<li>These subsidiary control files can then in turn use path references are per standalone TUFLOW HPC model construction (and point to locations within the same TUFLOW directory structure)</li>
<li>Variables can be set within the TUFLOW CATCH Catchment Hydraulic Model block for reference in any other subsidiary TUFLOW HPC files as per normal, e.g.:</li>
</ul>
<p>  <tcmd>Set Variable 2D_CELL_SIZE</tcmd> <teq>==</teq><tblk> 25</tblk></p>
<ul>
<li>Scenarios and events can be set within the TUFLOW CATCH Catchment Hydraulic Model block for reference in any other subsidiary TUFLOW HPC file IF statements as per normal, e.g.:</li>
</ul>
<p>  <tcmd>Event</tcmd> <teq>==</teq><tblk> wet_year</tblk></p>
<p>Current limitations of the TUFLOW CATCH with regard to setting up TUFLOW HPC simulations include:</p>
<ul>
<li>Whilst events and scenarios can be manually defined and referenced (see above), dynamic assignment of same (using tilda notation in filenames etc.) is not yet supported. Each event or scenario will need a new TUFLOW CATCH control file</li>
</ul>
<p>An example block of these Catchment Hydraulic Model block commands that together configure a TUFLOW HPC simulation within TUFLOW CATCH (with clarifying section headers as comments) is:</p>
<p><tgrn>!_________________________________________________________________</tgrn><br />
<tgrn>! CATCHMENT HYDRAULICS</tgrn><br />
<tcmd>Catchment Hydraulic Model</tcmd><teq> == </teq><tblk>HPC</tblk></p>
<p>  <tgrn>! Times</tgrn><br />
  <tcmd>Time Format</tcmd><teq> == </teq><tblk>TUFLOWFV</tblk><br />
  <tcmd>Zero Date</tcmd><teq> == </teq><tblk>01/01/2021 00:00</tblk></p>
<p>  <tgrn>! Base runs directory and TUFLOW HPC executable</tgrn><br />
  <tcmd>Runs Directory</tcmd><teq> == </teq><tblk>..\..\TUFLOW\runs</tblk><br />
  <tcmd>EXE</tcmd><teq> == </teq><tblk>C:\EXE\TUFLOW_iSP_w64.exe</tblk></p>
<p>  <tgrn>! GIS</tgrn><br />
  <tcmd>GIS Format</tcmd><teq> == </teq><tblk>GPKG</tblk><br />
  <tcmd>GPKG Projection</tcmd><teq> == </teq><tblk>..\..\TUFLOW\model\gis\Projection.gpkg</tblk></p>
<p>  <tgrn>! Solver</tgrn><br />
  <tcmd>HPC DP Check</tcmd><teq> == </teq><tblk>OFF</tblk><br />
  <tcmd>Solution scheme</tcmd><teq> == </teq><tblk>HPC</tblk><br />
  <tcmd>Timestep</tcmd><teq> == </teq><tblk>1</tblk><br />
  <tcmd>Timestep Maximum</tcmd><teq> == </teq><tblk>20</tblk></p>
<p>  <tgrn>! SGS Settings</tgrn><br />
  <tcmd>SGS</tcmd><teq> == </teq><tblk>ON</tblk><br />
  <tcmd>SGS Sample Target Distance</tcmd><teq> == </teq><tblk>1 </tblk><br />
  <tcmd>GRID Format</tcmd><teq> == </teq><tblk>TIF</tblk></p>
<p>  <tgrn>! Gridding</tgrn><br />
  <tcmd>Set Variable 2D_CELL_SIZE</tcmd><teq> == </teq><tblk>10</tblk></p>
<p>  <tgrn>! Boundaries</tgrn><br />
  <tcmd>BC Database</tcmd><teq> == </teq><tblk>..\..\TUFLOW\bc_dbase\bc_dbase_001.csv</tblk></p>
<p>  <tgrn>! Control Files</tgrn><br />
  <tcmd>Geometry Control File</tcmd><teq> == </teq><tblk>..\..\TUFLOW\model\Demo.tgc</tblk><br />
  <tcmd>BC Control File</tcmd><teq> == </teq><tblk>..\..\TUFLOW\model\Demo_001.tbc</tblk><br />
  <tcmd>Read Materials File</tcmd><teq> == </teq><tblk>..\..\TUFLOW\model\materials.tmf </tblk><br />
  <tcmd>Read Soils File</tcmd><teq> == </teq><tblk>..\..\model\Demo.tsoilf</tblk><br />
  <tcmd>Soil Negative Rainfall Approach</tcmd><teq> == </teq><tblk>FACTOR</tblk><br />
  <tcmd>Set Variable HC</tcmd><teq> == </teq><tblk>10000</tblk><br />
  <tcmd>Soil Negative Rainfall Factor</tcmd><teq> == </teq><tblk>0.2</tblk></p>
<p>  <tgrn>! If operating in Pollutant export configuration</tgrn><br />
  <tgrn>! Downstream polygon</tgrn><br />
  <tcmd>Receiving Polygon</tcmd><teq> == </teq><tblk>..\..\TUFLOW\model\gis\2d_rp_Demonstration_001_R.shp</tblk><br />
  <tcmd>Pollutant</tcmd><teq> == </teq><tblk>Salinity, Temperature, Tailings, PFAS</tblk></p>
<p>  <tgrn>! Output Map Configuration </tgrn><br />
  <tcmd>Map Output Format</tcmd><teq> == </teq><tblk>XMDF TIF </tblk><br />
  <tcmd>Map Output Data Types</tcmd><teq> == </teq><tblk>catch h d V </tblk><br />
  <tcmd>Map Output Interval</tcmd><teq> == </teq><tblk>300</tblk><br />
  <tcmd>TIF Map Output Interval</tcmd><teq> == </teq><tblk>0</tblk><br />
  <tcmd>TIF Map Output Data Types</tcmd><teq> == </teq><tblk>h d dt</tblk><br />
  <tcmd>Grid Output Cell Size</tcmd><teq> == </teq><tblk>&lt;&lt;2D_CELL_SIZE&gt;&gt;</tblk></p>
<p>  <tcmd>SGS Map Extent Trim</tcmd><teq> == </teq><tblk>All</tblk><br />
  <tcmd>SGS Depth Output</tcmd><teq> == </teq><tblk>Cell Average</tblk><br />
  <tcmd>Map Cutoff Depth</tcmd><teq> == </teq><tblk>0.01</tblk></p>
<p><tcmd>End Catchment Hydraulic Model</tcmd></p>
</div>
<div id="SCTCCPollExp-3" class="section level3 hasAnchor" number="4.5.3">
<h3><span class="header-section-number">4.5.3</span> Pollutant export model commands<a href="SimulationConstruction-1.html#SCTCCPollExp-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This block of the TUFLOW CATCH control file contains commands that control pollutant export (and other constituent) simulation.</p>
<p>The pollutant model definition must be declared as a block that encloses all commands. This is analogous to the declaration of a catchment hydraulic model.</p>
<p>Set the beginning of the block, with command arguments as either ‘<tblk>Mass Accumulation Release</tblk>’ or ‘<tblk>None</tblk>’, and the end of the block (with no command arguments). The key phrase ‘<tblk>Mass Accumulation Release</tblk>’ activates all available pollutant export submodels. The keyword ‘<tblk>None</tblk>’ turns off pollutant export simulation and would be used with the <strong>Hydrology</strong> configuration (see Section <a href="Overview-1.html#Configs-2">1.3</a>) or if only TUFLOW FV calibration is being undertaken, for example:</p>
<p><tcmd>Catchment Pollutant Export Model</tcmd><teq> == </teq><br />
  <tblk><span class="math inline">\(\ldots\)</span>pollutant export model commands<span class="math inline">\(\ldots\)</span></tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>pollutant export model commands<span class="math inline">\(\ldots\)</span></tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>pollutant export model commands<span class="math inline">\(\ldots\)</span></tblk><br />
<tcmd>End Catchment Pollutant Export Model</tcmd></p>
<p>If pollutant export is simulated, then all pollutants (and constituents) declared in the catchment hydraulic model (TUFLOW HPC via <a href="AppCommands.html#TCPolls">Pollutant</a> <teq>==</teq>) or receiving model (TUFLOW FV, and including all called modules such as Sediment Transport and Water Quality) must be accounted for with the correct name in the pollutant export block. Each must be assigned either:</p>
<ul>
<li>A constant value/concentration for application to receiving model boundary condition, or</li>
<li>A timeseries value/concentration for application to receiving model boundary conditions, or</li>
<li>A pollutant export model, with supporting parameters, for TUFLOW CATCH pollutant export simulation for every material</li>
</ul>
<p>As such, not all the Catchment Pollutant Export Model block TUFLOW CATCH commands are mandatory, but, in combination, need to ensure that all pollutants are specified across the entire TUFLOW HPC domain.</p>
<div id="SCTCCPollExpConst-4" class="section level4 hasAnchor" number="4.5.3.1">
<h4><span class="header-section-number">4.5.3.1</span> Constant<a href="SimulationConstruction-1.html#SCTCCPollExpConst-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Constant value/concentrations can be assigned when dynamic simulation is not required, such as for salinity or dissolved oxygen, for example. This specification is applied globally.</p>
<p>Set a constant value/concentration that is applied to downstream receiving model boundary condition files by TUFLOW CATCH. In doing so:</p>
<ul>
<li>The name needs to exactly match that configured by the receiving model (in TUFLOW CATCH’s integrated configuration) or set by the user (in TUFLOW CATCH’s pollutant export configuration), and</li>
<li>The concentration needs to be in the same units expected by the receiving model (in TUFLOW CATCH’s integrated configuration) or expected by the user (in TUFLOW CATCH’s pollutant export configuration). For example, most constituents are specified in mg/L, however others, such as phytoplankton or temperature, are expected to be in units of <span class="math inline">\(\mu\)</span>g/L and <span class="math inline">\(^o\)</span>C, respectively. This constant user-specified value therefore needs to be in the correct units: it is simply written ‘as is’ into receiving model boundary condition files.</li>
</ul>
<p><a href="AppCommands.html#TCPECons">Constant &lt;name&gt;</a> <teq>==</teq><tblk> &lt;concentration to be applied&gt;</tblk></p>
</div>
<div id="SCTCCPollExpTS-4" class="section level4 hasAnchor" number="4.5.3.2">
<h4><span class="header-section-number">4.5.3.2</span> Timeseries<a href="SimulationConstruction-1.html#SCTCCPollExpTS-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Timeseries values/concentrations can be assigned for which dynamic simulation is not required, but which values/concentrations likely vary in time. This might include water temperature specification, for example. This specification is applied globally.</p>
<p>Set a timeseries that is applied to downstream receiving model boundary condition files by TUFLOW CATCH. In doing so:</p>
<ul>
<li>The name needs to exactly match that of variable configured by the receiving model, and</li>
<li>The concentration needs to be in the same units expected by the receiving model (in TUFLOW CATCH’s integrated configuration) or expected by the user (in TUFLOW CATCH’s pollutant export configuration). For example, most constituents are specified in mg/L, however others, such as phytoplankton or salinity, are expected to be in units of <span class="math inline">\(\mu\)</span>g/L or g/L, respectively. This user-specified timeseries therefore needs to be in the correct units: it is simply interpolated ‘as is’ into receiving model boundary condition files.</li>
</ul>
<p><a href="AppCommands.html#TCPETS">Time-Series &lt;name&gt;</a> <teq>==</teq><tblk> &lt;bc_name&gt;</tblk></p>
<p>The <tblk>&lt;bc_name&gt;</tblk> field refers to a name declared in the TUFLOW HPC boundary condition database. For example, ‘temperature_davg’, with the corresponding database entry being (in a database simplified for this example):</p>
<p><tblk>Name,Source,Column 1,Column 2,Add Col 1,Mult Col 2,Add Col 2,Column 3,Column 4</tblk><br />
<tblk>temperature_davg,temperature_2021.csv,TUFLOW_Time,Airtemp,,,,,</tblk></p>
</div>
<div id="SCTCCPollExpPE-4" class="section level4 hasAnchor" number="4.5.3.3">
<h4><span class="header-section-number">4.5.3.3</span> Pollutant export<a href="SimulationConstruction-1.html#SCTCCPollExpPE-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Pollutant export models can be configured within TUFLOW CATCH to simulate the release of pollutants from the ground surface across the TUFLOW HPC model domain. This export is a core intention and capability of TUFLOW CATCH and can be configured as uniform or spatially varied across the TUFLOW HPC domain. Any nonuniform spatial definition uses the material numbers (and corresponding spatial distributions) already configured in the TUFLOW HPC model (i.e. the catchment hydraulic model block described above) and affects this through specification of material blocks in this part of the TUFLOW CATCH control file. These blocks are similar to those deployed by TUFLOW FV.</p>
<p>Configure default (or spatially uniform) pollutant export:</p>
<p><tcmd>Material <teq>==</teq><tblk> ALL</tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>commands<span class="math inline">\(\ldots\)</span></tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>commands<span class="math inline">\(\ldots\)</span></tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>commands<span class="math inline">\(\ldots\)</span></tblk><br />
<tcmd>End Material</tcmd></p>
<p>Once these uniform conditions have been set, progressive specifications of material by material pollutant behaviour can be set. These specifications overwrite previous settings on a spatial basis. This stamping-style approach is akin to the way in which digital elevation model inputs can be progressively updated within TUFLOW HPC and TUFLOW FV by specifying a suite of elevation data that overwrite each other on a spatial basis. In the case of pollutant export properties, this stamping is affected by specifying subsequent material blocks that relate to individual or multiple materials. Up to ten comma separated materials can be specified in one material block:</p>
<p><tcmd>Material <teq>==</teq><tblk> MatID1, MatID2, MatID3<span class="math inline">\(\ldots\)</span>, MatID10</tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>commands<span class="math inline">\(\ldots\)</span></tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>commands<span class="math inline">\(\ldots\)</span></tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>commands<span class="math inline">\(\ldots\)</span></tblk><br />
<tcmd>End Material</tcmd></p>
<p>Once all material specifications have been processed, TUFLOW CATCH will check that all pollutants have had all export properties specified for the entire TUFLOW HPC domain (i.e. every computational grid cell). This includes accounting for constant and timeseries specifications (which are global and do not need to be applied within material blocks). Using the ‘<tblk>ALL</tblk>’ command argument in the first material block specified and providing information for every pollutant required within that block (and then progressively spatially refining) ensures this will be true. Once the initial uniform material specification has been made, not every pollutant needs to be specified in every subsequent material block - only alterations to the uniform conditions need be made.</p>
<p>Each line within a material block contains a suite of arguments after the pollutant name (in the form <tcmd>command</tcmd> <teq>==</teq> <tblk>argument, </tblk><tcmd>command</tcmd> <teq>==</teq> <tblk>argument, <span class="math inline">\(\ldots\)</span></tblk> etc.), the first of which is always a keyword flagging the model to be used. Although there are some commonalities in subsequent inline commands, these differ according to the pollutant export model specified, as follows. Different pollutant export models can be specified for different pollutants within the same material block if required. The same pollutant export model should be applied to a given pollutant across all materials, albeit with different parameters.</p>
<div id="SCTCCPollExpAW-5" class="section level5 hasAnchor" number="4.5.3.3.1">
<h5><span class="header-section-number">4.5.3.3.1</span> Accumulation and washoff<a href="SimulationConstruction-1.html#SCTCCPollExpAW-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Set the model and parameters for the pollutant accumulation and washoff model (see Section <a href="ProcessDescriptions-1.html#ProcessDescriptionsAccWO-3">3.2.3.1</a>). All parameters are mandatory:</p>
<div class="scrollable-block">
<p><tblk>&lt;name&gt;, <a href="AppCommands.html#TCMethod">Method</a></tblk><teq> == </teq><tblk><a href="ProcessDescriptions-1.html#ProcessDescriptionsAccWO-3">Washoff1</a>, <a href="AppCommands.html#TCAccR">Rate</a></tblk><teq> == </teq><tblk><a href="AppParams.html#TCParAccR"><span class="math inline">\(R_a\)</span></a>, <a href="AppCommands.html#TCLimit">Limit</a></tblk><teq> == </teq><tblk><a href="AppParams.html#TCParLacc"><span class="math inline">\(L_{acc}\)</span></a>, <a href="AppCommands.html#TCTcon">Time Constant</a></tblk><teq> == </teq><tblk><a href="AppParams.html#TCParTcon"><span class="math inline">\(T_c\)</span></a>, <a href="AppCommands.html#TCRnThrshd">Rain Threshold</a></tblk><teq> == </teq><tblk><a href="AppParams.html#TCParRnThrshd"><span class="math inline">\(R_r\)</span></a>, <a href="AppCommands.html#TCdThresh">Depth Threshold</a></tblk><teq> == </teq><tblk><a href="AppParams.html#TCPardThresh"><span class="math inline">\(d\)</span></a>, <a href="AppCommands.html#TCDeposVel">Deposition Velocity</a></tblk><teq> == </teq><tblk><a href="AppParams.html#TCParDeposVel">w_s</a></tblk></p>
</div>
<p><br>
The <tblk>&lt;name&gt;</tblk> field must correspond to a name designated by TUFLOW FV. The parameters are:</p>
<ul>
<li><a href="AppCommands.html#TCMethod">Method</a>: keyword ‘Washoff1’ that activates the accumulation washoff model</li>
<li><a href="AppCommands.html#TCAccR">Rate</a>: the areal rate at which the pollutant accumulates (kg/ha/year)</li>
<li><a href="AppCommands.html#TCLimit">Limit</a>: the maximum areal mass that can accumulate in the dry store (kg/ha)</li>
<li><a href="AppCommands.html#TCTcon">Time Constant</a>: a time parameter controlling the pollutant dry store release rate, according to Equation <a href="ProcessDescriptions-1.html#eq:equ-wo">(3.1)</a> (s)</li>
<li><a href="AppCommands.html#TCRnThrshd">Rain Threshold</a>: the minimum rain rate required to activate release from the dry store (mm/hr)</li>
<li><a href="AppCommands.html#TCdThresh">Depth Threshold</a>: the minimum water depth in a cell required to activate release from the dry store (m)</li>
<li><a href="AppCommands.html#TCDeposVel">Deposition Velocity</a>: the velocity at which pollutant in the wet store settles. Used to calculate the mass of pollutant transferred back from the wet to dry store in a model timestep, according to Equation <a href="ProcessDescriptions-1.html#eq:equ-wo-sett">(3.2)</a> (m/day)</li>
</ul>
<p>An example for dissolved organic carbon might be:</p>
<div class="scrollable-block">
<p><tblk>WQ_DOC_MG_L,</tblk> <tcmd>Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> <tcmd>Rate</tcmd><teq> == </teq><tblk>21.446,</tblk> <tcmd>Limit</tcmd><teq> == </teq><tblk>21.446,</tblk> <tcmd>Time Constant</tcmd><teq> == </teq><tblk>3600,</tblk> <tcmd>Rain Threshold</tcmd><teq> == </teq><tblk>1.0,</tblk> <tcmd>Depth Threshold</tcmd><teq> == </teq><tblk>0.020,</tblk> <tcmd>Deposition Velocity</tcmd><teq> == </teq><tblk>0.0</tblk></p>
</div>
</div>
<div id="SCTCCPollExpSS-5" class="section level5 hasAnchor" number="4.5.3.3.2">
<h5><span class="header-section-number">4.5.3.3.2</span> Shear stress<a href="SimulationConstruction-1.html#SCTCCPollExpSS-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Set the model and parameters for the shear stress model (see Section <a href="ProcessDescriptions-1.html#ProcessDescriptionsSS-3">3.2.3.2</a>). All parameters are mandatory:</p>
<div class="scrollable-block">
<p><tblk>&lt;name&gt;, <a href="AppCommands.html#TCMethod">Method</a></tblk><teq> == </teq><tblk><a href="ProcessDescriptions-1.html#ProcessDescriptionsSS-3">Shear1</a>, <a href="AppCommands.html#TCAccR">Rate</a></tblk><teq> == </teq><tblk>&lt;not used&gt;, <a href="AppCommands.html#TCLimit">Limit</a></tblk><teq> == </teq><tblk><a href="AppParams.html#TCParLshr"><span class="math inline">\(L_{shr}\)</span></a>, <a href="AppCommands.html#TCdThresh">Depth Threshold</a></tblk><teq> == </teq><tblk><a href="AppParams.html#TCPardThresh"><span class="math inline">\(d\)</span></a>, <a href="AppCommands.html#TCDeposThresh">Deposition Stress</a></tblk><teq> == </teq><tblk><a href="AppParams.html#TCParDeposThresh"><span class="math inline">\(\tau_{cd}\)</span></a>, <a href="AppCommands.html#TCErosThresh">Erosion Stress</a></tblk><teq> == </teq><tblk><a href="AppParams.html#TCParErosThresh"><span class="math inline">\(\tau_{ce}\)</span></a>, <a href="AppCommands.html#TCDeposVel">Deposition Velocity</a></tblk><teq> == </teq><tblk><a href="AppParams.html#TCParDeposVel">w_s</a>, <a href="AppCommands.html#TCEr">Erosion Rate</a></tblk><teq> == </teq><tblk><a href="AppParams.html#TCParEr"><span class="math inline">\(E_r\)</span></a></tblk></p>
</div>
<p><br>
The <tblk>&lt;name&gt;</tblk> field must correspond to a name designated by TUFLOW FV. The parameters are:</p>
<ul>
<li><a href="AppCommands.html#TCMethod">Method</a>: keyword ‘Shear1’ that activates the shear stress model</li>
<li><a href="AppCommands.html#TCAccR">Rate</a>: not used, but listed for consistency</li>
<li><a href="AppCommands.html#TCLimit">Limit</a>: the maximum erosion or deposition that can occur in a cell. Always a positive number (kg/ha)</li>
<li><a href="AppCommands.html#TCdThresh">Depth Threshold</a>: the minimum water depth in a cell required to activate release from the dry store (m)</li>
<li><a href="AppCommands.html#TCDeposThresh">Deposition Stress</a>: the maximum shear stress for which deposition can occur. Shear stresses below this limit will allow for deposition to occur, according to Equation <a href="ProcessDescriptions-1.html#eq:equ-krone-dp">(3.4)</a>. Should always be less than the specified erosionStress (N/m<span class="math inline">\(^2\)</span>)</li>
<li><a href="AppCommands.html#TCErosThresh">Erosion Stress</a>: the minimum shear stress for which erosion can occur. Shear stresses above this limit will allow for erosion to occur, according to Equation <a href="ProcessDescriptions-1.html#eq:equ-mehta-er">(3.3)</a>. Should always be greater than the specified depositionStress (N/m<span class="math inline">\(^2\)</span>)</li>
<li><a href="AppCommands.html#TCDeposVel">Deposition Velocity</a>: the velocity at which pollutant in the wet store settles. Used to calculate the mass of pollutant transferred back from the wet to dry store in a model timestep, according to Equation <a href="ProcessDescriptions-1.html#eq:equ-krone-dp">(3.4)</a> (m/day)</li>
<li><a href="AppCommands.html#TCEr">Erosion Rate</a>: The maximum rate of erosion of pollutant from the dry store, if erosion conditions are met, according to Equation <a href="ProcessDescriptions-1.html#eq:equ-mehta-er">(3.3)</a> (g/m<span class="math inline">\(^2\)</span>/s)</li>
</ul>
<p>An example for suspended sediment might be:</p>
<div class="scrollable-block">
<p><tblk>SED_TSS,</tblk> <tcmd>Method</tcmd><teq> == </teq><tblk>Shear1,</tblk> <tcmd>Rate</tcmd><teq> == </teq><tblk>0.0,</tblk> <tcmd>Limit</tcmd><teq> == </teq><tblk>1000.0,</tblk> <tcmd>Depth Threshold</tcmd><teq> == </teq><tblk>0.02,</tblk> <tcmd>Deposition Stress</tcmd><teq> == </teq><tblk>0.01,</tblk> <tcmd>Erosion Stress</tcmd><teq> == </teq><tblk>0.5,</tblk> <tcmd>Deposition Velocity</tcmd><teq> == </teq><tblk>1.0,</tblk> <tcmd>Erosion Rate</tcmd><teq> == </teq><tblk>0.002</tblk></p>
</div>
<p><br>
An example for a complete material block might be:</p>
<div class="scrollable-block">
<p><tcmd>Material</tcmd><teq> == </teq><tblk>1, 4</tblk><br />
  <tblk>SED_TSS,</tblk> <tcmd>Method</tcmd><teq> == </teq><tblk>Shear1,</tblk> <tcmd>Rate</tcmd><teq> == </teq><tblk>0.0,</tblk> <tcmd>Limit</tcmd><teq> == </teq><tblk>1000.0,</tblk> <tcmd>Depth Threshold</tcmd><teq> == </teq><tblk>0.02,</tblk> <tcmd>Deposition Stress</tcmd><teq> == </teq><tblk>0.01,</tblk> <tcmd>Erosion Stress</tcmd><teq> == </teq><tblk>0.5,</tblk> <tcmd>Deposition Velocity</tcmd><teq> == </teq><tblk>1.0,</tblk> <tcmd>Erosion Rate</tcmd><teq> == </teq><tblk>0.001</tblk><br />
  <tblk>WQ_DOC_MG_L,</tblk> <tcmd>Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> <tcmd>Rate</tcmd><teq> == </teq><tblk>21.446,</tblk> <tcmd>Limit</tcmd><teq> == </teq><tblk>21.446,</tblk> <tcmd>Time Constant</tcmd><teq> == </teq><tblk>3600,</tblk> <tcmd>Rain Threshold</tcmd><teq> == </teq><tblk>1.0,</tblk> <tcmd>Depth Threshold</tcmd><teq> == </teq><tblk>0.020,</tblk> <tcmd>Deposition Velocity</tcmd><teq> == </teq><tblk>0.0</tblk><br />
<tcmd>End Material</tcmd></p>
</div>
</div>
<div id="SCTCCPollExpUnits-5" class="section level5 hasAnchor" number="4.5.3.3.3">
<h5><span class="header-section-number">4.5.3.3.3</span> Units<a href="SimulationConstruction-1.html#SCTCCPollExpUnits-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>TUFLOW CATCH has been configured to allow for the concurrent simulation of several unit systems, with different unit systems deployed for different pollutants. This is by design and reflects the diversity of commonly accepted unit systems across the water quality modelling discipline. For example, concentrations of nutrients are typically (but not always) thought of in units of mg/L, whilst those of phytoplankton are typically referred to in <span class="math inline">\(\mu\)</span>g/L. TUFLOW CATCH accounts for this variation in unit systems and offers complete flexibility in this regard. The available unit systems are:</p>
<ul>
<li>mg/L (the most commonly used and TUFLOW CATCH default)</li>
<li>g/L</li>
<li><span class="math inline">\(\mu\)</span>g/L, and</li>
<li>CFU/100mL</li>
</ul>
<p><strong>Start: Experimental feature subject to change</strong></p>
<p>The way in which a unit system is selected for a given constituent is simply by setting the correct units of the accumulation rate or erosion rate. TUFLOW CATCH does not need to be instructed explicitly as to the units it is being configured to simulate (except in the case of interventions, see Section <a href="SimulationConstruction-1.html#SCTCCIntervUnits-5">4.5.3.5.3</a>). Rather, it is a responsibility of the user to set the correct accumulation or erosion rate units per pollutant (different units can be used for different exported pollutants) to ensure that TUFLOW CATCH produces the corresponding and expected:</p>
<ul>
<li>Advected surface and subsurface quantities:
<ul>
<li>Concentrations in map outputs (Sections <a href="Outputs-1.html#OutputsPExF-4">6.2.2.2</a> and <a href="Outputs-1.html#OutputsIntF-4">6.2.3.2</a>)</li>
<li>Concentrations in downstream <a href="AppOutputs.html#AppOutputsOtherFV">TUFLOW FV inflow boundary condition</a> files</li>
<li>Concentrations in <a href="AppOutputs.html#AppOutputsOtherMB">mass balance</a> output files</li>
<li>Masses in <a href="AppOutputs.html#AppOutputsOtherRP">receiving polygon</a> summary files</li>
</ul></li>
<li>Dry store quantities
<ul>
<li>Dry mass (Section <a href="AppOutputs.html#AppOutputsDryMass">C.3</a>)</li>
<li>Net mass (Section <a href="AppOutputs.html#AppOutputsNetMass">C.4</a>)</li>
</ul></li>
</ul>
<p>The above are implicitly linked: the units set for accumulation or erosion rates subsquently set the manner in which the units of the above quantities are to be interpreted. This linkage is presented in Tables <a href="SimulationConstruction-1.html#tab:tab-SCTCCPollExpUnits">4.1</a> and <a href="SimulationConstruction-1.html#tab:tab-SCTCCPollExpUnitsStore">4.2</a> for advected and dry store quantities, respectively. The user selected units are in <bmtpink>pink</bmtpink> and the units that follow for the various different outputs are in <bmtgreen>green</bmtgreen>.</p>
<table>
<caption>
<span id="tab:tab-SCTCCPollExpUnits">Table 4.1: </span><strong>TUFLOW CATCH units systems and linkages - advected quantities</strong>
</caption>
<thead>
<tr>
<th style="text-align:center;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
Desired units system
</th>
<th style="text-align:center;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
Accumulation rate
</th>
<th style="text-align:center;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
Erosion rate
</th>
<th style="text-align:center;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
Map output concentration
</th>
<th style="text-align:center;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
TUFLOW FV BC concentration
</th>
<th style="text-align:center;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
Mass balance mass
</th>
<th style="text-align:center;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
Receiving polygon concentration
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
<span class="math inline">\(\mu\)</span>g/L
</td>
<td style="text-align:center;width: 15%; color: rgb(226,1,119) !important;">
g/ha/yr
</td>
<td style="text-align:center;width: 15%; color: rgb(226,1,119) !important;">
mg/m<span class="math inline">\(^2\)</span>/s
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
<span class="math inline">\(\mu\)</span>g/L
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
<span class="math inline">\(\mu\)</span>g/L
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
mg
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
<span class="math inline">\(\mu\)</span>g/L
</td>
</tr>
<tr>
<td style="text-align:center;">
mg/L
</td>
<td style="text-align:center;width: 15%; color: rgb(226,1,119) !important;">
kg/ha/yr
</td>
<td style="text-align:center;width: 15%; color: rgb(226,1,119) !important;">
g/m<span class="math inline">\(^2\)</span>/s
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
mg/L
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
mg/L
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
g
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
mg/L
</td>
</tr>
<tr>
<td style="text-align:center;">
g/L
</td>
<td style="text-align:center;width: 15%; color: rgb(226,1,119) !important;">
t/ha/yr
</td>
<td style="text-align:center;width: 15%; color: rgb(226,1,119) !important;">
kg/m<span class="math inline">\(^2\)</span>/s
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
g/L
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
g/L
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
kg
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
g/L
</td>
</tr>
<tr>
<td style="text-align:center;">
CFU/100mL
</td>
<td style="text-align:center;width: 15%; color: rgb(226,1,119) !important;">
CFU/ha/yr /10<span class="math inline">\(^5\)</span>
</td>
<td style="text-align:center;width: 15%; color: rgb(226,1,119) !important;">
CFU/m<span class="math inline">\(^2\)</span>/s /10<span class="math inline">\(^2\)</span>
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
CFU/100mL
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
CFU/100mL
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
CFU x10<span class="math inline">\(^3\)</span>
</td>
<td style="text-align:center;width: 15%; color: rgb(26,189,201) !important;">
CFU/100mL
</td>
</tr>
</tbody>
</table>
<table>
<caption>
<span id="tab:tab-SCTCCPollExpUnitsStore">Table 4.2: </span><strong>TUFLOW CATCH units systems and linkages - dry store quantities</strong>
</caption>
<thead>
<tr>
<th style="text-align:center;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
Desired units system
</th>
<th style="text-align:center;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
Accumulation rate
</th>
<th style="text-align:center;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
Erosion rate
</th>
<th style="text-align:center;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
Dry store mass
</th>
<th style="text-align:center;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
Net mass
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;width: 5%; ">
<span class="math inline">\(\mu\)</span>g/L
</td>
<td style="text-align:center;color: rgb(226,1,119) !important;">
g/ha/yr
</td>
<td style="text-align:center;color: rgb(226,1,119) !important;">
mg/m<span class="math inline">\(^2\)</span>/s
</td>
<td style="text-align:center;color: rgb(26,189,201) !important;">
g/ha
</td>
<td style="text-align:center;color: rgb(26,189,201) !important;">
g/ha
</td>
</tr>
<tr>
<td style="text-align:center;width: 5%; ">
mg/L
</td>
<td style="text-align:center;color: rgb(226,1,119) !important;">
kg/ha/yr
</td>
<td style="text-align:center;color: rgb(226,1,119) !important;">
g/m<span class="math inline">\(^2\)</span>/s
</td>
<td style="text-align:center;color: rgb(26,189,201) !important;">
kg/ha
</td>
<td style="text-align:center;color: rgb(26,189,201) !important;">
kg/ha
</td>
</tr>
<tr>
<td style="text-align:center;width: 5%; ">
g/L
</td>
<td style="text-align:center;color: rgb(226,1,119) !important;">
t/ha/yr
</td>
<td style="text-align:center;color: rgb(226,1,119) !important;">
kg/m<span class="math inline">\(^2\)</span>/s
</td>
<td style="text-align:center;color: rgb(26,189,201) !important;">
t/ha
</td>
<td style="text-align:center;color: rgb(26,189,201) !important;">
t/ha
</td>
</tr>
<tr>
<td style="text-align:center;width: 5%; ">
CFU/100mL
</td>
<td style="text-align:center;color: rgb(226,1,119) !important;">
CFU/ha/yr /10<span class="math inline">\(^5\)</span>
</td>
<td style="text-align:center;color: rgb(226,1,119) !important;">
CFU/m<span class="math inline">\(^2\)</span>/s /10<span class="math inline">\(^2\)</span>
</td>
<td style="text-align:center;color: rgb(26,189,201) !important;">
CFU/ha /10<span class="math inline">\(^5\)</span>
</td>
<td style="text-align:center;color: rgb(26,189,201) !important;">
CFU/m<span class="math inline">\(^2\)</span> /10<span class="math inline">\(^2\)</span>
</td>
</tr>
</tbody>
</table>
<p>As an example, if a particular pollutant was to be simulated using the Washoff1 method and the desired units system was mg/L, then the accumulation rate would need to be specified in kg/ha/yr. As such, if a user found an accumulation rate in the literature of (say) 42.0 kg/ha/yr for that pollutant, then this number should be specified unchanged as an accumulation rate in TUFLOW CATCH, and all concentration units would then be in mg/L as per Table <a href="SimulationConstruction-1.html#tab:tab-SCTCCPollExpUnits">4.1</a>. If however, for the same pollutant, the g/L units system was desired, then the literature value of 42.0 would need to be specified in t/ha/yr in TUFLOW CATCH, that is, as a value of 0.042.</p>
<p>As a further example, if a particular pathogen was to be simulated using the Washoff1 method and the desired units system was CFU/100mL, then the accumulation rate would need to be specified in CFU/ha/yr, divided by 10<span class="math inline">\(^5\)</span>. As such, if a user found an accumulation rate in the literature of (say) 10<span class="math inline">\(^{11}\)</span> CFU/ha/yr for that pathogen, then this number should be specified as 10<span class="math inline">\(^{6}\)</span> as an accumulation rate in TUFLOW CATCH, and all concentration units would then be in CFU/100mL as per Table <a href="SimulationConstruction-1.html#tab:tab-SCTCCPollExpUnits">4.1</a>.</p>
<p>Units associated with pollutants assigned via the commands:</p>
<p><tcmd>Constant <tblk>&lt;name&gt;</tblk></tcmd><teq> == </teq><tblk>float</tblk></p>
<p>or</p>
<p><tcmd>Time-Series <tblk>&lt;name&gt;</tblk></tcmd><teq> == </teq><tblk>&lt;name&gt;</tblk></p>
<p>are not included in map, mass balance or polygon outputs as they are not simulated explicitly by TUFLOW CATCH. They are only written to TUFLOW FV boundary condition files, and as the absolute number or timeseries specified by the user. It is therefore a user responsibility to make sure that the number or timeseries specified is in the correct unit system expected by TUFLOW FV. For example, if blue green algae were set as constant and the command issued:</p>
<p><tcmd>Constant <tblk>WQ_PHYTO_BLUEGREEN_CONC_MICG_L</tblk></tcmd><teq> == </teq><tblk>4.0</tblk></p>
<p>then the number 4.0 is written to all TUFLOW FV boundary condition files, and interpreted by TULFOW FV as 4.0 <span class="math inline">\(\mu\)</span>g/L. No other outputs for WQ_PHYTO_BLUEGREEN_CONC_MICG_L are written. If temperature is set as a timeseries, for example, then it should be in degrees Celsius, as expected by TUFLOW FV.</p>
<p>As a general note, users need to be clear on units used, and the translation of these through a modelling framework. This is especially the case when comparing model predictions to scheduled water quality objectives or conducting mass balance analyses - in such cases understanding of the units used is essential.</p>
<p><strong>End: Experimental feature subject to change</strong></p>
<p>Users are encouraged to undertake their own reviews and specifications of pollutant accumulation and erosion rates, and associated TUFLOW CATCH configurations. Notwithstanding this, some indicative pollutant accumulation rates are provided in Table <a href="SimulationConstruction-1.html#tab:tab-PollAccRates">4.3</a>, corresponding to the default mg/L units system. These are not to be seen as endorsed or recommended by TUFLOW, but are provided for information only, for a range of common pollutants. Decimal places are not intended to imply precision.</p>
<table>
<caption>
<span id="tab:tab-PollAccRates">Table 4.3: </span><strong>Indicative pollutant accumulation rates</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
Pollutant
</th>
<th style="text-align:center;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
Lower estimate (kg/ha/yr)
</th>
<th style="text-align:center;font-weight: bold;color: #FFFFFF !important;background-color: #1ABDC9 !important;">
Upper estimate (kg/ha/yr)
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;width: 30%; ">
Sediment
</td>
<td style="text-align:center;">
55.00
</td>
<td style="text-align:center;">
300.00
</td>
</tr>
<tr>
<td style="text-align:left;width: 30%; ">
Ammonium
</td>
<td style="text-align:center;">
0.20
</td>
<td style="text-align:center;">
2.00
</td>
</tr>
<tr>
<td style="text-align:left;width: 30%; ">
Nitrate
</td>
<td style="text-align:center;">
0.50
</td>
<td style="text-align:center;">
3.00
</td>
</tr>
<tr>
<td style="text-align:left;width: 30%; ">
Filterable Reactive Phosphorus
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.03
</td>
</tr>
<tr>
<td style="text-align:left;width: 30%; ">
Dissolved Organic Nitrogen
</td>
<td style="text-align:center;">
1.00
</td>
<td style="text-align:center;">
2.00
</td>
</tr>
<tr>
<td style="text-align:left;width: 30%; ">
Particulate Organic Nitrogen
</td>
<td style="text-align:center;">
1.00
</td>
<td style="text-align:center;">
3.00
</td>
</tr>
<tr>
<td style="text-align:left;width: 30%; ">
Dissolved Organic Phosphorus
</td>
<td style="text-align:center;">
0.01
</td>
<td style="text-align:center;">
0.05
</td>
</tr>
<tr>
<td style="text-align:left;width: 30%; ">
Particulate Organic Phosphorus
</td>
<td style="text-align:center;">
0.06
</td>
<td style="text-align:center;">
0.60
</td>
</tr>
<tr>
<td style="text-align:left;width: 30%; ">
Dissolved Organic Carbon
</td>
<td style="text-align:center;">
20.00
</td>
<td style="text-align:center;">
70.00
</td>
</tr>
<tr>
<td style="text-align:left;width: 30%; ">
Particulate Organic Carbon
</td>
<td style="text-align:center;">
12.00
</td>
<td style="text-align:center;">
40.00
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="SCTCCPollExpPT-4" class="section level4 hasAnchor" number="4.5.3.4">
<h4><span class="header-section-number">4.5.3.4</span> Pollutant transport<a href="SimulationConstruction-1.html#SCTCCPollExpPT-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div id="SCTCCPollExpPTSur-5" class="section level5 hasAnchor" number="4.5.3.4.1">
<h5><span class="header-section-number">4.5.3.4.1</span> Surface<a href="SimulationConstruction-1.html#SCTCCPollExpPTSur-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Once released, pollutants are transported in the surface. Pollutants are treated as passive tracers and do not undergo non-conservative transformation, other than that allowed by the pollutant export models described above and that due to the action of interventions (see Section <a href="SimulationConstruction-1.html#SCTCCPollExpInter-4">4.5.3.5</a>).</p>
</div>
<div id="SCTCCPollExpPTSub-5" class="section level5 hasAnchor" number="4.5.3.4.2">
<h5><span class="header-section-number">4.5.3.4.2</span> Subsurface<a href="SimulationConstruction-1.html#SCTCCPollExpPTSub-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>If soils have been included in the TUFLOW HPC simulation and infiltration of water occurs, then this water takes with it any previously released pollutants and continues to advect these in the subsurface as it does water. Similarly, if TUFLOW HPC predicts that water travelling in soil layers intersects the ground surface, then any included pollutants are returned to the surface wet store and advected and dispersed as normal. If a particular pollutant is not required to infiltrate from the surface to subsurface, then this infiltration can be turned off (default is on). This is intended to be set as off for particulate pollutants, although is user definable:</p>
<p><a href="AppCommands.html#TCHPCInfil">Infiltration &lt;name&gt;</a> <teq>==</teq><tblk> OFF </tblk></p>
</div>
<div id="SCTCCADUnits-5" class="section level5 hasAnchor" number="4.5.3.4.3">
<h5><span class="header-section-number">4.5.3.4.3</span> Units<a href="SimulationConstruction-1.html#SCTCCADUnits-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The units of the concentrations reported due to pollutant transport for both surface and subrface accord with the commentary provided in Section <a href="SimulationConstruction-1.html#SCTCCPollExpUnits-5">4.5.3.3.3</a> and are the same as those written to boundary condition files.</p>
</div>
</div>
<div id="SCTCCPollExpInter-4" class="section level4 hasAnchor" number="4.5.3.5">
<h4><span class="header-section-number">4.5.3.5</span> Interventions<a href="SimulationConstruction-1.html#SCTCCPollExpInter-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Once released and transported, pollutant mass can be removed at user specified rates and locations due to the action of intervention devices (see Section <a href="ProcessDescriptions-1.html#ProcessDescriptionsInterv-2">3.3</a>). Intervention devices are specified as polylines (via empty layer ‘2d_im_’) with a single required attribute, being device name (attribute ‘ID’ - other fields are included but are not used).</p>
<p><a href="AppCommands.html#TCIntervPolyLns">Read GIS Intervention</a> <teq>==</teq><tblk> &lt;path to GIS polyline file&gt;</tblk></p>
<p>Any number of these commands can be issued, and all intervention devices need not be in a single GIS layer.</p>
<p>Once spatially specified, parameterised mass removal methods for each pollutant within each device are required. This is achieved through specifying device blocks, with one block for each device. The general arrangement of these blocks follows.</p>
<p><tcmd>Device <teq>==</teq><tblk> ALL | Device name</tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>commands<span class="math inline">\(\ldots\)</span></tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>commands<span class="math inline">\(\ldots\)</span></tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>commands<span class="math inline">\(\ldots\)</span></tblk><br />
<tcmd>End Device</tcmd></p>
<p>Each such block commences and ends with <a href="AppCommands.html#TCIntervDvce">Device ==</a> and <a href="AppCommands.html#TCIntervEndDvce">End Device</a> keywords, respectively.</p>
<p>To avoid repetition, it is recommended that a blanket device block be issued initially using the device name ‘ALL’. The content of this block is applied to all devices, and this can then be refined and overwritten by progressive device-specific block commands. This stamping-style approach is akin to the way in which digital elevation model inputs can be progressively updated within TUFLOW HPC and TUFLOW FV by specifying a suite of elevation data that overwrite each other on a spatial basis. In the case of intervention device properties, this stamping is affected by specifying subsequent device blocks that relate to individual devices.</p>
<p>Each line within a device block contains information on mass removal for a given pollutant. A suite of arguments follow the pollutant name (in the form <tcmd>command</tcmd> <teq>==</teq> <tblk>argument, </tblk><tcmd>command</tcmd> <teq>==</teq> <tblk>argument, <span class="math inline">\(\ldots\)</span></tblk> etc.), the first of which is always a keyword flagging the mass removal model to be used. Different mass removal models can be specified for different pollutants within the same device block. Different mass removal models can also be applied to a given pollutant across different devices. Although there are some commonalities in subsequent inline commands, these differ according to the mass removal model specified, as described in the following sections.</p>
<div id="SCTCCIntervConst-5" class="section level5 hasAnchor" number="4.5.3.5.1">
<h5><span class="header-section-number">4.5.3.5.1</span> Equation<a href="SimulationConstruction-1.html#SCTCCIntervConst-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div id="SCTCCIntervConst-6" class="section level6 hasAnchor" number="4.5.3.5.1.1">
<h6><span class="header-section-number">4.5.3.5.1.1</span> Constant<a href="SimulationConstruction-1.html#SCTCCIntervConst-6" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<p>Set the model and parameters for the constant equation model (see Section <a href="ProcessDescriptions-1.html#ProcessDescriptionsIntervConst-5">3.3.1.1.1</a>). All parameters are mandatory:</p>
<div>
<p><tblk>&lt;name&gt;, <a href="AppCommands.html#TCIntMethod">Method</a></tblk> <teq>==</teq> <tblk><a href="ProcessDescriptions-1.html#ProcessDescriptionsIntervEqn-4">Eqn</a>, <a href="AppCommands.html#TCMethEqn">Eqn</a></tblk> <teq>==</teq> <tblk><a href="ProcessDescriptions-1.html#ProcessDescriptionsIntervConst-5">Constant</a>, <a href="AppCommands.html#TCConstEqnCoeff">Coefficients</a></tblk> <teq>==</teq> <tblk><a href="AppParams.html#TCParRj"><span class="math inline">\(R_j\)</span></a></tblk></p>
</div>
<p>The <tblk>&lt;name&gt;</tblk> field must correspond to a pollutant name. The parameters are:</p>
<ul>
<li><a href="AppCommands.html#TCIntMethod">Method</a>: keyword ‘Eqn’ that activates an equation based mass removal model. The number of available Eqn models may expand in future</li>
<li><a href="AppCommands.html#TCMethEqn">Eqn</a>: the specific equation based model used (‘<a href="ProcessDescriptions-1.html#ProcessDescriptionsIntervConst-5">Constant</a>’ in this case)</li>
<li><a href="AppCommands.html#TCConstEqnCoeff">Coefficients</a>: the proportion (0.0 - 1.0) of pollutant mass removed ([-])</li>
</ul>
<p>An example for dissolved organic carbon removal by a device at 60% mass flux removal (i.e. 40% pass through) is:</p>
<div>
<p><tblk>WQ_DOC_MG_L, </tblk><tcmd>Method</tcmd> <teq>==</teq> <tblk>Eqn, </tblk><tcmd>Eqn</tcmd> <teq>==</teq> <tblk>Constant, </tblk><tcmd>Coefficients</tcmd> <teq>==</teq> <tblk>0.6</tblk></p>
</div>
</div>
<div id="SCTCCIntervOther-6" class="section level6 hasAnchor" number="4.5.3.5.1.2">
<h6><span class="header-section-number">4.5.3.5.1.2</span> Other<a href="SimulationConstruction-1.html#SCTCCIntervOther-6" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<p>Other equation based models may be added in future. Contact <a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a> with requests or suggestions.</p>
</div>
</div>
<div id="SCTCCIntervMtrx-5" class="section level5 hasAnchor" number="4.5.3.5.2">
<h5><span class="header-section-number">4.5.3.5.2</span> Table<a href="SimulationConstruction-1.html#SCTCCIntervMtrx-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Set the model and parameters for the table model (see Section <a href="ProcessDescriptions-1.html#ProcessDescriptionsIntervMatrix-4">3.3.1.2</a>). All parameters are mandatory:</p>
<div>
<p><tblk>&lt;name&gt;, <a href="AppCommands.html#TCIntMethod">Method</a></tblk> <teq>==</teq> <tblk><a href="ProcessDescriptions-1.html#ProcessDescriptionsIntervMatrix-4">Table</a>, <a href="AppCommands.html#TCMethMtrx">Path</a></tblk> <teq>==</teq> <tblk><a href="ProcessDescriptions-1.html#ProcessDescriptionsIntervMatrix-4">&lt;Path to table&gt;</a></tblk></p>
</div>
<p>The <tblk>&lt;name&gt;</tblk> field must correspond to a pollutant name. The parameters are:</p>
<ul>
<li><a href="AppCommands.html#TCIntMethod">Method</a>: keyword ‘Table’ that activates a table based mass removal model</li>
<li><a href="AppCommands.html#TCMethMtrx">Path</a>: the file path to the table to be used for mass removal</li>
</ul>
<p>An example for dissolved organic carbon removal might be:</p>
<div>
<p><tblk>WQ_DOC_MG_L, </tblk><tcmd>Method</tcmd> <teq>==</teq> <tblk>Table, </tblk><tcmd>Path</tcmd> <teq>==</teq> <tblk>..\bc_dbase\Wetland1_removals.csv</tblk></p>
</div>
<p>The format of the removal table is as follows, with all entries being comma separated values. Formats are provided in angled brackets, and all <a href="AppParams.html#TCParRj"><span class="math inline">\(R_j\)</span></a> vales are between 0.0 and 1.0:</p>
<pre><code>Header line &lt;free text&gt;
Multiplier, conc_1, conc_2, conc_3, ... &lt; real, real, real, real, ... &gt;
Flow_1, R_j, R_j, R_j, ... &lt; real, real, real, real, ... &gt;
Flow_2, R_j, R_j, R_j, ... &lt; real, real, real, real, ... &gt;
Flow_3, R_j, R_j, R_j, ... &lt; real, real, real, real, ... &gt;
Flow_4, R_j, R_j, R_j, ... &lt; real, real, real, real, ... &gt;
...</code></pre>
<p>An example is presented in Figure <a href="SimulationConstruction-1.html#fig:fig-TableLookup">4.4</a>. The usual exclamation points are used to comment text and the colour coding is not required but is included to illustrate:</p>
<ul>
<li>Grey: Multiplier</li>
<li>Blue: Concentration headers</li>
<li>Green: Flow headers</li>
</ul>
<p>The (positive value) multiplier is applied to all <a href="AppParams.html#TCParRj"><span class="math inline">\(R_j\)</span></a> entries uniformly and can be used to easily scale all <a href="AppParams.html#TCParRj"><span class="math inline">\(R_j\)</span></a> entries up and down equally, without needing to manually adjust individual entries. Beware of applying a scaling that increases <a href="AppParams.html#TCParRj"><span class="math inline">\(R_j\)</span></a> entries above 1.0 - TUFLOW CATCH will error and stop if this occurs. TUFLOW CATCH will interpolate linearly between column and row headers to compute the exact values of <a href="AppParams.html#TCParRj"><span class="math inline">\(R_j\)</span></a> based on environmental conditions.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-TableLookup"></span>
<img src="images/lookup.png" alt="**Example intervention device table input**" width="75%" />
<p class="caption">
Figure 4.4: <strong>Example intervention device table input</strong>
</p>
</div>
</center>
</div>
<div id="SCTCCIntervUnits-5" class="section level5 hasAnchor" number="4.5.3.5.3">
<h5><span class="header-section-number">4.5.3.5.3</span> Units<a href="SimulationConstruction-1.html#SCTCCIntervUnits-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><strong>Start: Experimental feature subject to change</strong></p>
<p>Intervention mass removal is computed on a proportional mass basis. This means that for the:</p>
<ul>
<li><tcmd>Eqn</tcmd> <teq>==</teq> <tblk>Constant</tblk> method, the pollutant units are not explicitly required to be known by TUFLOW CATCH in applying the pre-specified <a href="AppParams.html#TCParRj"><span class="math inline">\(R_j\)</span></a></li>
<li><tcmd>Method</tcmd> <teq>==</teq> <tblk>Table</tblk> method that uses a csv lookup table to select <a href="AppParams.html#TCParRj"><span class="math inline">\(R_j\)</span></a>, the units of concentration specified in the csv table header row need to be in the same units as intended by the user (see blue highlighted values in Figure <a href="SimulationConstruction-1.html#fig:fig-TableLookup">4.4</a>). It is the users responsibility to ensure this is the case</li>
</ul>
<p>The only requirement beyond the above, and this applies only if interventions are simulated, is that the user instruct TUFLOW CATCH as to the intended units system for a given pollutant <strong>if it is not mg/L</strong> (mg/L is the default). This is because TUFLOW CATCH uniformly reports removals of pollutants due to the action of interventions in grams and CFU. As such, TUFLOW CATCH needs to know the absolute units of concentrations advected into interventions to do so. This is affected via the following command:</p>
<div>
<p><tcmd><a href="AppCommands.html#TCIntUnits">Units</a></tcmd> <tblk>&lt;name&gt; </tblk><teq>==</teq> <tblk>&lt;arg&gt;</tblk></p>
</div>
<p>This command is issued within a pollutant export block (not within an individual intervention block). The <tblk>&lt;name&gt;</tblk> field must correspond to a pollutant name. The arguments are <tblk>MGL</tblk>, <tblk>GL</tblk>, <tblk>MICGL</tblk> or <tblk>CFU100ML</tblk>.</p>
<p>As an example for POLLUTANT_A (intended to be simulated in g/L):</p>
<div>
<p><tcmd>Units</tcmd> <tblk>POLLUTANT_A</tblk> <teq>==</teq><tblk> GL</tblk></p>
</div>
<p>This would mean that:</p>
<ul>
<li>The units of concentration specified in the top row of an intervention table (if used) are expected to be g/L, and</li>
<li>The absolute mass removed will still be reported in units of grams (see Section <a href="Outputs-1.html#OOutputsOther">6.3</a>)</li>
</ul>
<p><strong>End: Experimental feature subject to change</strong></p>
<p>An example all the above Pollutant Export Model block commands within TUFLOW CATCH (with clarifying section headers as comments), including interventions is:</p>
<style>
  .align1 {
    display: inline-block;
    width: 170px;
  }
  .align4 {
    display: inline-block;
    width: 340px;
  }
  .align2 {
    display: inline-block;
    width: 270px;
  }
  .align3 {
    display: inline-block;
    width: 200px;
  }
</style>
<div class="scrollable-block">
<p><tgrn>! _________________________________________________________________</tgrn><br />
<tgrn>! POLLUTANT EXPORT</tgrn> <br>
<tcmd>Catchment Pollutant Export Model</tcmd><teq> == </teq><tblk>Mass Accumulation Release</tblk></p>
<p>  <tgrn>! Constant Concentrations</tgrn><br />
  <tcmd>Constant </tcmd><tblk>Salinity</tblk><teq> == </teq><tblk>0.0</tblk><br />
  <tcmd>Constant </tcmd><tblk>WQ_DISS_OXYGEN_MG_L</tblk><teq> == </teq><tblk>8.0</tblk><br />
  <tcmd>Constant </tcmd><tblk>WQ_SILICATE_MG_L</tblk><teq> == </teq><tblk>0.0</tblk></p>
<p>  <tgrn>! Time Series</tgrn><br />
  <tcmd>Time-Series </tcmd><tblk>Temperature</tblk><teq> == </teq><tblk>Temperature</tblk></p>
<p>  <tgrn>! Prohibited Infiltrations</tgrn><br />
  <tcmd>Infiltration </tcmd><tblk>SED_TSS</tblk><teq> == </teq><tblk>OFF</tblk><br />
  <tcmd>Infiltration </tcmd><tblk>WQ_POC_MG_L</tblk><teq> == </teq><tblk>OFF</tblk><br />
  <tcmd>Infiltration </tcmd><tblk>WQ_PON_MG_L</tblk><teq> == </teq><tblk>OFF</tblk><br />
  <tcmd>Infiltration </tcmd><tblk>WQ_POP_MG_L</tblk><teq> == </teq><tblk>OFF</tblk><br />
  <tcmd>Infiltration </tcmd><tblk>WQ_PHYTO_BLUEGREEN_CONC_MICG_L</tblk><teq> == </teq><tblk>OFF</tblk></p>
<p>  <tgrn>! Pollutant Export Properties</tgrn><br />
  <tcmd>Material</tcmd><teq> == </teq><tblk>ALL</tblk><br />
    <span class="align3"><tblk>SED_TSS,</tblk> </span> <span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Shear1,</tblk> </span> <span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>0.0,</tblk> </span> <span class="align1"><tcmd> Limit</tcmd><teq> == </teq><tblk>1000.0,</tblk> </span> <span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.02,</tblk> </span> <span class="align2"><tcmd> Deposition Stress</tcmd><teq> == </teq><tblk>0.01,</tblk> </span> <span class="align2"><tcmd> Erosion Stress</tcmd><teq> == </teq><tblk>0.5,</tblk> </span> <span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>1.2,</tblk> </span> <span class="align2"><tcmd> Erosion Rate</tcmd><teq> == </teq><tblk>0.001</tblk></span><br />
    <span class="align3"><tblk>WQ_AMMONIUM_MG_L,</tblk> </span> <span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> </span> <span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>0.273,</tblk> </span> <span class="align1"><tcmd> Limit</tcmd><teq> == </teq><tblk>0.273,</tblk> </span> <span class="align2"><tcmd> Time Constant</tcmd><teq> == </teq><tblk>3600,</tblk> </span> <span class="align2"><tcmd> Rain Threshold</tcmd><teq> == </teq><tblk>1.0,</tblk> </span> <span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.020,</tblk> </span> <span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>0.0</tblk></span><br />
    <span class="align3"><tblk>WQ_NITRATE_MG_L,</tblk> </span> <span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> </span> <span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>0.662,</tblk> </span> <span class="align1"><tcmd> Limit</tcmd><teq> == </teq><tblk>0.662,</tblk> </span> <span class="align2"><tcmd> Time Constant</tcmd><teq> == </teq><tblk>3600,</tblk> </span> <span class="align2"><tcmd> Rain Threshold</tcmd><teq> == </teq><tblk>1.0,</tblk> </span> <span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.020,</tblk> </span> <span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>0.0</tblk></span><br />
    <span class="align3"><tblk>WQ_FRP_MG_L,</tblk> </span> <span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> </span> <span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>0.010,</tblk> </span> <span class="align1"><tcmd> Limit</tcmd><teq> == </teq><tblk>0.010,</tblk> </span> <span class="align2"><tcmd> Time Constant</tcmd><teq> == </teq><tblk>3600,</tblk> </span> <span class="align2"><tcmd> Rain Threshold</tcmd><teq> == </teq><tblk>1.0,</tblk> </span> <span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.020,</tblk> </span> <span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>0.0</tblk></span><br />
    <span class="align3"><tblk>WQ_DOC_MG_L,</tblk> </span> <span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> </span> <span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>21.446,</tblk> </span> <span class="align1"><tcmd> Limit</tcmd><teq> == </teq><tblk>21.446,</tblk> </span> <span class="align2"><tcmd> Time Constant</tcmd><teq> == </teq><tblk>3600,</tblk> </span> <span class="align2"><tcmd> Rain Threshold</tcmd><teq> == </teq><tblk>1.0,</tblk> </span> <span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.020,</tblk> </span> <span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>0.0</tblk></span><br />
    <span class="align3"><tblk>WQ_DON_MG_L,</tblk> </span> <span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> </span> <span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>1.021,</tblk> </span> <span class="align1"><tcmd> Limit</tcmd><teq> == </teq><tblk>1.021,</tblk> </span> <span class="align2"><tcmd> Time Constant</tcmd><teq> == </teq><tblk>3600,</tblk> </span> <span class="align2"><tcmd> Rain Threshold</tcmd><teq> == </teq><tblk>1.0,</tblk> </span> <span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.020,</tblk> </span> <span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>0.0</tblk></span><br />
    <span class="align3"><tblk>WQ_DOP_MG_L,</tblk> </span> <span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> </span> <span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>0.005,</tblk> </span> <span class="align1"><tcmd> Limit</tcmd><teq> == </teq><tblk>0.005,</tblk> </span> <span class="align2"><tcmd> Time Constant</tcmd><teq> == </teq><tblk>3600,</tblk> </span> <span class="align2"><tcmd> Rain Threshold</tcmd><teq> == </teq><tblk>1.0,</tblk> </span> <span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.020,</tblk> </span> <span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>0.0</tblk></span><br />
    <span class="align3"><tblk>WQ_POC_MG_L,</tblk> </span> <span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> </span> <span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>12.154,</tblk> </span> <span class="align1"><tcmd> Limit</tcmd><teq> == </teq><tblk>12.154,</tblk> </span> <span class="align2"><tcmd> Time Constant</tcmd><teq> == </teq><tblk>3600,</tblk> </span> <span class="align2"><tcmd> Rain Threshold</tcmd><teq> == </teq><tblk>1.0,</tblk> </span> <span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.020,</tblk> </span> <span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>0.5</tblk></span><br />
    <span class="align3"><tblk>WQ_PON_MG_L,</tblk> </span> <span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> </span> <span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>1.044,</tblk> </span> <span class="align1"><tcmd> Limit</tcmd><teq> == </teq><tblk>1.044,</tblk> </span> <span class="align2"><tcmd> Time Constant</tcmd><teq> == </teq><tblk>3600,</tblk> </span> <span class="align2"><tcmd> Rain Threshold</tcmd><teq> == </teq><tblk>1.0,</tblk> </span> <span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.020,</tblk> </span> <span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>0.5</tblk></span><br />
    <span class="align3"><tblk>WQ_POP_MG_L,</tblk> </span> <span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> </span> <span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>0.061,</tblk> </span> <span class="align1"><tcmd>Limit</tcmd><teq> == </teq><tblk>0.061,</tblk> </span> <span class="align2"><tcmd> Time Constant</tcmd><teq> == </teq><tblk>3600,</tblk> </span> <span class="align2"><tcmd> Rain Threshold</tcmd><teq> == </teq><tblk>1.0,</tblk> </span> <span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.020,</tblk> </span> <span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>0.5</tblk></span><br />
    <span class="align4"><tblk>WQ_PHYTO_BLUEGREEN_CONC_MICG_L,</tblk> </span> <span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> </span> <span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>0.002,</tblk> </span> <span class="align1"><tcmd>Limit</tcmd><teq> == </teq><tblk>0.02,</tblk> </span> <span class="align2"><tcmd> Time Constant</tcmd><teq> == </teq><tblk>3600,</tblk> </span> <span class="align2"><tcmd> Rain Threshold</tcmd><teq> == </teq><tblk>1.0,</tblk> </span> <span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.020,</tblk> </span> <span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>0.0</tblk></span><br />
  <tcmd>End Material</tcmd></p>
<p>  <tcmd>Material</tcmd><teq> == </teq><tblk>2</tblk><br />
    <span class="align3"><tblk>SED_TSS,</tblk> </span> <span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Shear1,</tblk> </span> <span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>0.0,</tblk> </span> <span class="align1"><tcmd> Limit</tcmd><teq> == </teq><tblk>2000.0,</tblk> </span> <span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.002,</tblk> </span> <span class="align2"><tcmd> Deposition Stress</tcmd><teq> == </teq><tblk>0.001,</tblk></span> <span class="align2"><tcmd> Erosion Stress</tcmd><teq> == </teq><tblk>0.05,</tblk> </span> <span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>1.5,</tblk> </span> <span class="align2"><tcmd> Erosion Rate</tcmd><teq> == </teq><tblk>0.1</tblk></span><br />
    <span class="align3"><tblk>WQ_AMMONIUM_MG_L,</tblk> </span> <span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> </span> <span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>2.0,</tblk> </span> <span class="align1"><tcmd> Limit</tcmd><teq> == </teq><tblk>20.0,</tblk> </span> <span class="align2"><tcmd> Time Constant</tcmd><teq> == </teq><tblk>30,</tblk> </span> <span class="align2"><tcmd> Rain Threshold</tcmd><teq> == </teq><tblk>0.1,</tblk> </span> <span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.002,</tblk> </span> <span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>0.0</tblk></span><br />
    <span class="align3"><tblk>WQ_NITRATE_MG_L,</tblk> </span> <span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> </span> <span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>5.0,</tblk> </span> <span class="align1"><tcmd> Limit</tcmd><teq> == </teq><tblk>50.0,</tblk> </span> <span class="align2"><tcmd> Time Constant</tcmd><teq> == </teq><tblk>60,</tblk> </span> <span class="align2"><tcmd> Rain Threshold</tcmd><teq> == </teq><tblk>0.1,</tblk> </span> <span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.002,</tblk> </span> <span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>0.0</tblk></span><br />
  <tcmd>End Material</tcmd></p>
<p>  <tcmd>Material</tcmd><teq> == </teq><tblk>3, 5</tblk><br />
    <span class="align3"><tblk>WQ_DOP_MG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Washoff1,</tblk> </span>
<span class="align1"><tcmd> Rate</tcmd><teq> == </teq><tblk>0.5,</tblk> </span>
<span class="align1"><tcmd> Limit</tcmd><teq> == </teq><tblk>0.5,</tblk> </span>
<span class="align2"><tcmd> Time Constant</tcmd><teq> == </teq><tblk>300,</tblk> </span>
<span class="align2"><tcmd> Rain Threshold</tcmd><teq> == </teq><tblk>10.0,</tblk> </span>
<span class="align2"><tcmd> Depth Threshold</tcmd><teq> == </teq><tblk>0.120,</tblk> </span>
<span class="align2"><tcmd> Deposition Velocity</tcmd><teq> == </teq><tblk>0.0</tblk></span><br />
  <tcmd>End Material</tcmd></p>
<p>  <tgrn>! Interventions</tgrn><br />
  <tcmd>Read GIS Intervention</tcmd><teq> == </teq><tblk>..\bc_dbase\Wetland_removals.csv</tblk><br>
  <tcmd>Read GIS Intervention</tcmd><teq> == </teq><tblk>..\bc_dbase\Swale_removals.csv</tblk></p>
<p>  <tgrn>! Mass Removal Properties</tgrn><br />
  <tcmd>Device</tcmd><teq> == </teq><tblk>ALL</tblk><br />
    <span class="align3"><tblk>SED_TSS,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Eqn,</tblk> </span>
<span class="align1"><tcmd> Eqn</tcmd><teq> == </teq><tblk>Constant,</tblk> </span>
<span class="align2"><tcmd> Coefficients</tcmd><teq> == </teq><tblk>1.0</tblk></span><br />
    <span class="align3"><tblk>WQ_AMMONIUM_MG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Eqn,</tblk> </span>
<span class="align1"><tcmd> Eqn</tcmd><teq> == </teq><tblk>Constant,</tblk> </span>
<span class="align2"><tcmd> Coefficients</tcmd><teq> == </teq><tblk>0.2</tblk></span><br />
    <span class="align3"><tblk>WQ_NITRATE_MG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Table,</tblk> </span>
<span class="align3"><tcmd> Path</tcmd><teq> == </teq><tblk>..\..\bc_dbase\Alldevices.csv</tblk></span><br />
    <span class="align3"><tblk>WQ_FRP_MG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Eqn,</tblk> </span>
<span class="align1"><tcmd> Eqn</tcmd><teq> == </teq><tblk>Constant,</tblk> </span>
<span class="align2"><tcmd> Coefficients</tcmd><teq> == </teq><tblk>0.1</tblk></span><br />
    <span class="align3"><tblk>WQ_DOC_MG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Eqn,</tblk> </span>
<span class="align1"><tcmd> Eqn</tcmd><teq> == </teq><tblk>Constant,</tblk> </span>
<span class="align2"><tcmd> Coefficients</tcmd><teq> == </teq><tblk>0.2</tblk></span><br />
    <span class="align3"><tblk>WQ_DON_MG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Eqn,</tblk> </span>
<span class="align1"><tcmd> Eqn</tcmd><teq> == </teq><tblk>Constant,</tblk> </span>
<span class="align2"><tcmd> Coefficients</tcmd><teq> == </teq><tblk>0.15</tblk></span><br />
    <span class="align3"><tblk>WQ_DOP_MG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Eqn,</tblk> </span>
<span class="align1"><tcmd> Eqn</tcmd><teq> == </teq><tblk>Constant,</tblk> </span>
<span class="align2"><tcmd> Coefficients</tcmd><teq> == </teq><tblk>0.05</tblk></span><br />
    <span class="align3"><tblk>WQ_POC_MG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Eqn,</tblk> </span>
<span class="align1"><tcmd> Eqn</tcmd><teq> == </teq><tblk>Constant,</tblk> </span>
<span class="align2"><tcmd> Coefficients</tcmd><teq> == </teq><tblk>0.03</tblk></span><br />
    <span class="align3"><tblk>WQ_PON_MG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Eqn,</tblk> </span>
<span class="align1"><tcmd> Eqn</tcmd><teq> == </teq><tblk>Constant,</tblk> </span>
<span class="align2"><tcmd> Coefficients</tcmd><teq> == </teq><tblk>0.01</tblk></span><br />
    <span class="align3"><tblk>WQ_POP_MG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Eqn,</tblk> </span>
<span class="align1"><tcmd> Eqn</tcmd><teq> == </teq><tblk>Constant,</tblk> </span>
<span class="align2"><tcmd> Coefficients</tcmd><teq> == </teq><tblk>0.02</tblk></span><br />
    <span class="align4"><tblk>WQ_PHYTO_BLUEGREEN_CONC_MICG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Eqn,</tblk> </span>
<span class="align1"><tcmd> Eqn</tcmd><teq> == </teq><tblk>Constant,</tblk> </span>
<span class="align2"><tcmd> Coefficients</tcmd><teq> == </teq><tblk>0.0</tblk></span><br />
  <tcmd>End Device</tcmd></p>
<p>  <tcmd>Device</tcmd><teq> == </teq><tblk>Wetland1</tblk><br />
    <span class="align3"><tblk>WQ_POP_MG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Eqn,</tblk> </span>
<span class="align1"><tcmd> Eqn</tcmd><teq> == </teq><tblk>Constant,</tblk> </span>
<span class="align2"><tcmd> Coefficients</tcmd><teq> == </teq><tblk>0.5</tblk></span><br />
    <span class="align4"><tblk>WQ_PHYTO_BLUEGREEN_CONC_MICG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Table,</tblk> </span>
<span class="align3"><tcmd> Path</tcmd><teq> == </teq><tblk>..\..\bc_dbase\Wetland1.csv</tblk></span><br />
  <tcmd>End Device</tcmd></p>
<p>  <tcmd>Device</tcmd><teq> == </teq><tblk>Swale3</tblk><br />
    <span class="align3"><tblk>WQ_AMMONIUM_MG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Table,</tblk> </span>
<span class="align3"><tcmd> Path</tcmd><teq> == </teq><tblk>..\..\bc_dbase\Swale3.csv</tblk></span><br />
    <span class="align3"><tblk>WQ_NITRATE_MG_L,</tblk> </span>
<span class="align3"><tcmd> Method</tcmd><teq> == </teq><tblk>Table,</tblk> </span>
<span class="align3"><tcmd> Path</tcmd><teq> == </teq><tblk>..\..\bc_dbase\Swale3.csv</tblk></span><br />
  <tcmd>End Device</tcmd></p>
<p>  <tcmd>Units</tcmd> <tblk>WQ_PHYTO_BLUEGREEN_CONC_MICG_L</tblk><teq> == </teq><tblk> MICGL</tblk></p>
<p><tcmd>End Catchment Pollutant Export Model</tcmd></p>
</div>
</pre>
</div>
</div>
</div>
<div id="SCTCCFV-3" class="section level3 hasAnchor" number="4.5.4">
<h3><span class="header-section-number">4.5.4</span> Receiving model (TUFLOW FV) commands<a href="SimulationConstruction-1.html#SCTCCFV-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This block of the TUFLOW CATCH control file contains commands that construct a TUFLOW FV simulation. These commands are almost entirely those that would be used in setting up a standalone TUFLOW FV control file (*.fvc), with a small number of additional commands that relate to TUFLOW CATCH.</p>
<p>A small number of commands issued in the Global commands section of the *.tcc can be overwritten here if needed (for example if GPKG had been specified in the Global commands for the GIS format). These are:</p>
<p><a href="AppCommands.html#TCHardware">Hardware</a> <teq>==</teq><br />
<a href="AppCommands.html#TCGISFmt">GIS Format</a> <teq>==</teq></p>
<p>If GIS Format is overwritten (as SHP), then a subsequent new projection file is most likely required to be specified</p>
<p><a href="AppCommands.html#TCSHPProj">SHP Projection</a> <teq>==</teq></p>
<p>The receiving model definition must be declared as a block that encloses all TUFLOW CATCH and TUFLOW FV commands.</p>
<p>Set the beginning of the block, with command arguments as either TUFLOWFV or none, and the end of the block (with no command arguments):</p>
<p><tcmd>Receiving Model</tcmd><teq> ==</teq><br />
  <tblk><span class="math inline">\(\ldots\)</span>receiving model commands<span class="math inline">\(\ldots\)</span></tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>receiving model commands<span class="math inline">\(\ldots\)</span></tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span>receiving model commands<span class="math inline">\(\ldots\)</span></tblk><br />
<tcmd>End Receiving Model</tcmd  

If the [Receiving Model](#TCRMS) command is set to none, then receiving simulation is not executed. This approach might be adopted for the initial stages of a TUFLOW HPC model build, for example. The TUFLOW CATCH commands contained within this Receiving Model block are described following, and all are mandatory unless noted.

Set the directory from which TUFLOW CATCH controls TUFLOW FV. Unless there is a need to the contrary, this should be set as a relative path to the TUFLOWFV\\runs directory set up by the TUFLOW CATCH QGIS plugin, i.e. <tblk>..\..\TUFLOWFV\runs</tblk>. Setting this to any other directory is not recommended:</p>
<p><a href="AppCommands.html#TCFVRunDir">Runs Directory</a> <teq>==</teq></p>
<p>Set the full or relative path to the location of the the TUFLOW FV executable (including the name of the executable itself, with .exe extension) to be called by TUFLOW CATCH:</p>
<p><a href="AppCommands.html#TCFVEXE">EXE</a> <teq>==</teq></p>
<p>All TUFLOW FV boundary condition files generated by TUFLOW CATCH are QC type (cell inflow, ‘lateral’, and do not transfer momentum to TUFLOW FV) unless specified otherwise as nodestring (Q type, and do transfer momentum to TUFLOW FV) inflows. All such nodestring inflows need to be drawn as line type objects in a single GIS file and this file declared in the receiving model block as:</p>
<p><a href="#TCFVnstring">Catchment BC Nodestring</a> <teq>==</teq><tblk> &lt;path to GIS nodestring file&gt;</tblk></p>
<p>If TUFLOW FV is being executed alone using previous inflow boundaries created by TUFLOW HPC, then the following command will ensure that those previous boundaries are not overwritten. The name of the .fvcatchbc file produced by a previous TUFLOW HPC simulation needs to be renamed to match the name of the subsequent TUFLOW CATCH simulation calling only TUFLOW FV. In this instance if:</p>
<ul>
<li>TUFLOW CATCH run Model_003.tcc (for example) produced initial TUFLOW FV boundary files</li>
<li>The corresponding <tblk>..\TUFLOWCatch\bc_dbase\Model_003_catchment_hydraulic.fvcatchbc</tblk> file could be copied as<br> <tblk>..\TUFLOWCatch\bc_dbase\Model_004_catchment_hydraulic.fvcatchbc</tblk> and</li>
<li>Called automatically in Model_004.tcc by a TUFLOW CATCH simulation that has <a href="AppCommands.html#TCCHMS">Catchment Hydraulic Model</a> <teq>==</teq><tblk> None</tblk></li>
</ul>
<p><a href="AppCommands.html#TCRMPCI">Preserve Catchment Inflows</a> <teq>==</teq><tblk> ON</tblk></p>
<p>Following the issuing of these specific TUFLOW CATCH commands, a TUFLOW FV model can be constructed in the same manner as a standalone model. In this regard:</p>
<ul>
<li>All TUFLOW FV commands are recognised by TUFLOW CATCH and can be issued unchanged from the usage described in TUFLOW FV’s manual and/or relevant release notes</li>
<li>TUFLOW FV commands that reference other subsidiary control files (such as geometry control files, *.tgc etc.) or GIS files need to use relative paths, and point to the locations with the TUFLOWFV directory created by the TUFLOW CATCH QGIS plugin, e.g.:</li>
</ul>
<p>  <tcmd>Sediment Control File</tcmd><teq> == </teq><tblk>..\..\TUFLOWFV\stm\Demo.fvsed</tblk></p>
<ul>
<li>These subsidiary control files can then in turn use path references are per standalone TUFLOW FV model construction (and point to locations within the same TUFLOWFV directory structure)</li>
<li>Include command calls are supported, as relative references to the TUFLOWFV folder should be used</li>
</ul>
<p>An example block of these Receiving Model block commands within TUFLOW CATCH (with clarifying section headers as comments) is:</p>
<p><tgrn>! _________________________________________________________________</tgrn><br />
<tgrn>! RECEIVING HYDRODYNAMICS AND WQ</tgrn><br />
<tcmd>Receiving Model </tcmd><teq>==</teq><tblk> TUFLOWFV</tblk></p>
<p>  <tgrn>! Base runs directory (to write fvc to) and TUFLOW FV executable</tgrn><br />
  <tcmd>Runs Directory </tcmd><teq>==</teq><tblk> ..\..\TUFLOWFV\runs</tblk><br />
  <tcmd>EXE </tcmd><teq>==</teq><tblk> C:\EXE\TUFLOWFV\2023.1.1\TUFLOWFV.exe</tblk><br />
  <tcmd>Preserve Catchment Inflows </tcmd><teq>==</teq><tblk> ON</tblk></p>
<p>  <tgrn>! General Parameters</tgrn><br />
  <tcmd>Bottom Drag Model </tcmd><teq>==</teq><tblk> Manning</tblk><br />
  <tcmd>Include Salinity </tcmd><teq>==</teq><tblk> 1,1</tblk><br />
  <tcmd>Include Temperature </tcmd><teq>==</teq><tblk> 1,1</tblk><br />
  <tcmd>Include Sediment </tcmd><teq>==</teq><tblk> 1,0</tblk><br />
  <tcmd>Include Heat </tcmd><teq>==</teq><tblk> 1</tblk><br />
  <tcmd>Spatial Order </tcmd><teq>==</teq><tblk> 1,1</tblk></p>
<p>  <tgrn>! Timestep Commands</tgrn><br />
  <tcmd>CFL </tcmd><teq>==</teq><tblk> 0.95</tblk><br />
  <tcmd>Timestep Limits </tcmd><teq>==</teq><tblk> 1.0,10.0</tblk><br />
  <tcmd>Display dt </tcmd><teq>==</teq><tblk> 900</tblk></p>
<p>  <tgrn>! Model Parameters</tgrn><br />
  <tcmd>Cell Wet/Dry Depths </tcmd><teq>==</teq><tblk> 5.0e-03, 5.0e-02</tblk><br />
  <tcmd>Stability Limits </tcmd><teq>==</teq><tblk> 20.0, 10.0</tblk><br />
  <tcmd>CFL </tcmd><teq>==</teq><tblk> 0.95</tblk><br />
  <tcmd>Momentum Mixing Model </tcmd><teq>==</teq><tblk> Smagorinsky</tblk><br />
  <tcmd>Global Horizontal Eddy Viscosity </tcmd><teq>==</teq><tblk> 0.2</tblk><br />
  <tcmd>Global Horizontal Eddy Viscosity Limits </tcmd><teq>==</teq><tblk> 0.05, 99999.</tblk><br />
  <tcmd>Scalar Mixing Model </tcmd><teq>==</teq><tblk> Smagorinsky</tblk><br />
  <tcmd>Global Horizontal Scalar Diffusivity </tcmd><teq>==</teq><tblk> 0.2</tblk><br />
  <tcmd>Global Horizontal Scalar Diffusivity Limits </tcmd><teq>==</teq><tblk> 0.05, 99999.</tblk><br />
  <tcmd>Vertical Mixing Model </tcmd><teq>==</teq><tblk> External</tblk><br />
  <tcmd>Turbulence Update dt </tcmd><teq>==</teq><tblk> 1800</tblk><br />
  <tcmd>Global Vertical Eddy Viscosity Limits </tcmd><teq>==</teq><tblk> 1.0e-4, 1.0</tblk><br />
  <tcmd>Global Vertical Scalar Diffusivity Limits </tcmd><teq>==</teq><tblk> 0., 1.0</tblk></p>
<p>  <tgrn>Water Quality</tgrn><br />
  <tcmd>Water Quality Model </tcmd><teq>==</teq><tblk> TUFLOW</tblk><br />
  <tcmd>Water Quality Control File </tcmd><teq>==</teq><tblk> .\Demonstration_005.fvwq</tblk><br />
  <tcmd>Water Quality Model Directory </tcmd><teq>==</teq><tblk> ..\..\TUFLOWFV\wqm\</tblk><br />
  <tcmd>Cell Water Quality Depth </tcmd><teq>==</teq><tblk> 0.04</tblk></p>
<p>  <tgrn>! Sediment Transport</tgrn><br />
  <tcmd>Sediment Control File </tcmd><teq>==</teq><tblk> ..\..\TUFLOWFV\stm\Demonstration_005.fvsed</tblk></p>
<p>  <tgrn>! 2D Geometry</tgrn><br />
  <tcmd>Geometry 2D </tcmd><teq>==</teq><tblk> ..\..\TUFLOWFV\model\geo\Demonstration_005.2dm</tblk><br />
  <tcmd>Read Grid Zpts </tcmd><teq>==</teq><tblk> ..\..\TUFLOWFV\model\geo\DEM.asc</tblk><br />
  <tcmd>Read GIS Zline </tcmd><teq>==</teq><tblk> ..\..\TUFLOWFV\model\gis\2d_zln_Demonstration_005_Outlet_R.shp</tblk></p>
<p>  <tgrn>! 3D Geometry</tgrn><br />
  <tcmd>Vertical Mesh Type </tcmd><teq>==</teq><tblk> z</tblk><br />
  <tcmd>Layer Faces </tcmd><teq>==</teq><tblk> ..\..\TUFLOWFV\model\geo\Demonstration_005_layers.csv</tblk><br />
  <tcmd>Sigma Layers </tcmd><teq>==</teq><tblk> 6</tblk><br />
  <tcmd>Min Bottom Layer Thickness </tcmd><teq>==</teq><tblk> 0.05</tblk><br />
  <tcmd>Cell 3D Depth </tcmd><teq>==</teq><tblk> 0.05</tblk></p>
<p>  <tgrn>! Materials</tgrn><br />
  <tcmd>Global Bottom Roughness </tcmd><teq>==</teq><tblk> 0.03</tblk><br />
  <tcmd>Read GIS Mat </tcmd><teq>==</teq><tblk> ..\..\TUFLOWFV\model\gis\2d_mat_Demonstration_005_R.shp</tblk><br />
  <tgrn>! Main Lake</tgrn><br />
  <tcmd>Material </tcmd><teq>==</teq><tblk> 1</tblk><br />
    <tcmd>Bottom Roughness </tcmd><teq>==</teq><tblk> 0.012 </tblk><br />
  <tcmd>End Material</tcmd><br />
  <tgrn>! Inflows</tgrn><br />
  <tcmd>Material </tcmd><teq>==</teq><tblk> 2</tblk><br />
    <tcmd>Bottom Roughness </tcmd><teq>==</teq><tblk> 0.030 </tblk><br />
  <tcmd>End Material</tcmd><br />
  <tgrn>! Exit</tgrn><br />
  <tcmd>Material </tcmd><teq>==</teq><tblk> 3</tblk><br />
    <tcmd>Bottom Roughness </tcmd><teq>==</teq><tblk> 0.012 </tblk><br />
  <tcmd>End Material</tcmd></p>
<p>  <tgrn>! Initial Conditions</tgrn><br />
  <tcmd>Initial Water Level </tcmd><teq>==</teq><tblk> 4.0</tblk><br />
  <tcmd>Initial Salinity </tcmd><teq>==</teq><tblk> 0.0</tblk><br />
  <tcmd>Initial Temperature </tcmd><teq>==</teq><tblk> 17.0</tblk><br />
  <tcmd>Initial Sediment Concentration </tcmd><teq>==</teq><tblk> 1.0</tblk><br />
  <tcmd>Initial WQ Concentration </tcmd><teq>==</teq><tblk> 7.5,1.0,0.00005,0.00005,0.0031,0.0,0.1,0.0,0.056,0.0,0.0000031,0.0,5.0</tblk></p>
<p>  <tgrn>! Large Sewage Plant</tgrn><br />
  <tcmd>Read GIS SA </tcmd><teq>==</teq><tblk> ..\..\TUFLOWFV\model\gis\2d_sa_Demonstration_005_R.shp</tblk><br />
  <tcmd>BC </tcmd><teq>==</teq><tblk> QC_POLY, Sewage_large, ..\..\TUFLOWFV\bc_dbase\Demonstration_005_Sewage_large.csv</tblk><br />
    <tcmd>BC Header </tcmd><teq>==</teq><tblk> Date,Q,sal,temp,sed,DO,Si,Amm,Nit,FRP,FRP_ads,DOC,POC,DON,PON,DOP,POP,Phy</tblk><br />
    <tcmd>BC Update dt </tcmd><teq>==</teq><tblk> 3600.</tblk><br />
    <tcmd>Vertical Coordinate Type </tcmd><teq>==</teq><tblk> depth</tblk><br />
    <tcmd>Vertical Distribution File </tcmd><teq>==</teq><tblk> ..\..\TUFLOWFV\bc_dbase\Demonstration_005_Sewage_vert.csv </tblk><br />
  <tcmd>End BC </tcmd><br />
  <tgrn>! Small Sewage Plant</tgrn><br />
  <tcmd>BC </tcmd><teq>==</teq><tblk> QC_POLY, Sewage_small, ..\..\TUFLOWFV\bc_dbase\Demonstration_005_Sewage_small.csv</tblk><br />
    <tcmd>BC Header </tcmd><teq>==</teq><tblk> Date,Q,sal,temp,sed,DO,Si,Amm,Nit,FRP,FRP_ads,DOC,POC,DON,PON,DOP,POP,Phy</tblk><br />
    <tcmd>BC Update dt </tcmd><teq>==</teq><tblk> 3600.</tblk><br />
    <tcmd>Vertical Coordinate Type </tcmd><teq>==</teq><tblk> depth</tblk><br />
    <tcmd>Vertical Distribution File </tcmd><teq>==</teq><tblk> ..\..\TUFLOWFV\bc_dbase\Demonstration_005_Sewage_vert.csv </tblk><br />
  <tcmd>End BC </tcmd><br />
  <tgrn>! Offtake</tgrn><br />
  <tcmd>BC == QC_POLY, Offtake, ..\..\TUFLOWFV_dbase\Demonstration_005_Offtake.csv</tblk><br />
    <tcmd>BC Header </tcmd><teq>==</teq><tblk> Date,Q</tblk><br />
    <tcmd>BC Update dt </tcmd><teq>==</teq><tblk> 3600.</tblk><br />
    <tcmd>Vertical Coordinate Type </tcmd><teq>==</teq><tblk> height</tblk><br />
    <tcmd>Vertical Distribution File </tcmd><teq>==</teq><tblk> ..\..\TUFLOWFV\bc_dbase\Demonstration_005_Offtake_vert.csv </tblk><br />
    <tcmd>BC Scale </tcmd><teq>==</teq><tblk> 1.0</tblk><br />
  <tcmd>End BC </tcmd></p>
<p>  <tgrn>! Overflow Weir</tgrn><br />
  <tcmd>Read GIS Nodestring </tcmd><teq>==</teq><tblk> ..\..\TUFLOWFV\model\gis\2d_ns_Demonstration_005_Weir_L.shp</tblk><br />
  <tcmd>BC </tcmd><teq>==</teq><tblk> QN, ovfl_weir, 0.001</tblk><br />
  <tcmd>End BC </tcmd></p>
<p>  <tgrn>! Catchment Boundaries (to be used for linkage)</tgrn><br />
  <tcmd>Catchment BC Nodestring </tcmd><teq>==</teq><tblk> ..\..\TUFLOWFV\model\gis\2d_ns_Demonstration_005_Inflows_L.shp</tblk></p>
<p>  <tgrn>! Meteorology</tgrn><br />
  <tcmd>BC </tcmd><teq>==</teq><tblk> W10, ..\..\TUFLOWFV\bc_dbase\met\Demonstration_005_Met_data.csv</tblk><br />
    <tcmd>BC Header </tcmd><teq>==</teq><tblk> Date, u10, v10</tblk><br />
    <tcmd>BC Update dt </tcmd><teq>==</teq><tblk> 3600.</tblk><br />
  <tcmd>End BC</tcmd><br />
  <tcmd>BC </tcmd><teq>==</teq><tblk> LW_RAD, ..\..\TUFLOWFV\bc_dbase\met\Demonstration_005_Met_data.csv</tblk><br />
    <tcmd>BC Header </tcmd><teq>==</teq><tblk> Date, lw</tblk><br />
    <tcmd>BC Update dt </tcmd><teq>==</teq><tblk> 3600.</tblk><br />
  <tcmd>End BC</tcmd><br />
  <tcmd>BC </tcmd><teq>==</teq><tblk> SW_RAD, ..\..\TUFLOWFV\bc_dbase\met\Demonstration_005_Met_data.csv</tblk><br />
    <tcmd>BC Header </tcmd><teq>==</teq><tblk> Date, sw</tblk><br />
    <tcmd>BC Update dt </tcmd><teq>==</teq><tblk> 3600.</tblk><br />
  <tcmd>End BC</tcmd><br />
  <tcmd>BC </tcmd><teq>==</teq><tblk> AIR_TEMP, ..\..\TUFLOWFV\bc_dbase\met\Demonstration_005_Met_data.csv</tblk><br />
    <tcmd>BC Header </tcmd><teq>==</teq><tblk> Date, at</tblk><br />
    <tcmd>BC Update dt </tcmd><teq>==</teq><tblk> 3600.</tblk><br />
  <tcmd>End BC</tcmd><br />
  <tcmd>BC </tcmd><teq>==</teq><tblk> REL_HUM, ..\..\TUFLOWFV\bc_dbase\met\Demonstration_005_Met_data.csv</tblk><br />
    <tcmd>BC Header </tcmd><teq>==</teq><tblk> Date, rh</tblk><br />
    <tcmd>BC Update dt </tcmd><teq>==</teq><tblk> 3600.</tblk><br />
  <tcmd>End BC</tcmd><br />
  <tcmd>BC </tcmd><teq>==</teq><tblk> PRECIP, ..\..\TUFLOWFV\bc_dbase\met\Demonstration_005_Met_data.csv</tblk><br />
    <tcmd>BC Header </tcmd><teq>==</teq><tblk> Date, precip</tblk><br />
    <tcmd>BC Update dt </tcmd><teq>==</teq><tblk> 3600.</tblk><br />
  <tcmd>End BC</tcmd></p>
<p>  <tgrn>! Outputs</tgrn><br />
  <tcmd>Output </tcmd><teq>==</teq><tblk> NetCDF</tblk><br />
    <tcmd>Output Parameters </tcmd><teq>==</teq><tblk> h,v,d,sal,temp,sed_1</tblk><br />
    <tcmd>Output Interval </tcmd><teq>==</teq><tblk> 900.0</tblk><br />
    <tcmd>Suffix </tcmd><teq>==</teq><tblk> HD</tblk><br />
  <tcmd>End Output</tcmd></p>
<p>  <tcmd>Output </tcmd><teq>==</teq><tblk> NetCDF</tblk><br />
    <tcmd>Output Parameters </tcmd><teq>==</teq><tblk> wq_all</tblk><br />
    <tcmd>Output Interval </tcmd><teq>==</teq><tblk> 7200</tblk><br />
    <tcmd>Suffix </tcmd><teq>==</teq><tblk> WQ</tblk><br />
  <tcmd>End Output</tcmd></p>
<p>  <tcmd>Output </tcmd><teq>==</teq><tblk> Mass</tblk><br />
    <tcmd>Output Interval </tcmd><teq>==</teq><tblk> 3600.</tblk><br />
  <tcmd>End Output</tcmd></p>
<p>  <tcmd>Write Restart dt </tcmd><teq>==</teq><tblk> 24</tblk><br />
  <tcmd>Restart Overwrite </tcmd><teq>==</teq><tblk> 1</tblk></p>
<p><tcmd>End Receiving Model</tcmd></p>
</div>
</div>
<div id="SCTCSum-3" class="section level2 hasAnchor" number="4.6">
<h2><span class="header-section-number">4.6</span> Construction summary<a href="SimulationConstruction-1.html#SCTCSum-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="SCTCSumSupCons-3" class="section level3 hasAnchor" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> Supported configurations<a href="SimulationConstruction-1.html#SCTCSumSupCons-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The following presents a summary of the combinations of block level commands that will trigger the core supported TUFLOW CATCH configurations. Only block level commands have been included, unless specific internal commands are relevant.</p>
<div id="SCTCSumHyd-4" class="section level4 hasAnchor" number="4.6.1.1">
<h4><span class="header-section-number">4.6.1.1</span> Hydrology<a href="SimulationConstruction-1.html#SCTCSumHyd-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For simulation of water only:</p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! GLOBAL SETTINGS</tgrn></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tgrn>!_________________________________________________________________</tgrn><br />
<tgrn>! CATCHMENT HYDRAULICS</tgrn><br />
<tcmd>Catchment Hydraulic Model </tcmd><teq>==</teq><tblk> HPC</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Catchment Hydraulic Model</tcmd></p>
<p><tgrn>! _________________________________________________________________</tgrn><br />
<tgrn>! POLLUTANT EXPORT</tgrn><br />
<tcmd>Catchment Pollutant Export Model </tcmd><teq>==</teq><tblk> None</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Catchment Pollutant Export Model</tcmd></p>
<p><tgrn>! _________________________________________________________________</tgrn><br />
<tgrn>! RECEIVING MODEL</tgrn><br />
<tcmd>Receiving Model </tcmd><teq>==</teq><tblk> TUFLOWFV</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Receiving Model</tcmd></p>
<p>If temperature and salinity (or either) are to be simulated:</p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! GLOBAL SETTINGS</tgrn></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tgrn>!_________________________________________________________________</tgrn><br />
<tgrn>! CATCHMENT HYDRAULICS</tgrn><br />
<tcmd>Catchment Hydraulic Model </tcmd><teq>==</teq><tblk> HPC</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Catchment Hydraulic Model</tcmd></p>
<p><tgrn>! _________________________________________________________________</tgrn><br />
<tgrn>! POLLUTANT EXPORT</tgrn><br />
<tcmd>Catchment Pollutant Export Model </tcmd><teq>==</teq><tblk> None</tblk></p>
<p>  <tcmd>Constant </tcmd><tblk>Salinity </tblk><teq>==</teq><tblk> 0.0</tblk><br />
  <tcmd>Time-Series </tcmd><tblk>Temperature </tblk><teq>==</teq><tblk> Temperature</tblk></p>
<p><tcmd>End Catchment Pollutant Export Model</tcmd></p>
<p><tgrn>! _________________________________________________________________</tgrn><br />
<tgrn>! RECEIVING MODEL</tgrn><br />
<tcmd>Receiving Model </tcmd><teq>==</teq><tblk> TUFLOWFV</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Receiving Model</tcmd></p>
</div>
<div id="SCTCSumPE-4" class="section level4 hasAnchor" number="4.6.1.2">
<h4><span class="header-section-number">4.6.1.2</span> Pollutant export<a href="SimulationConstruction-1.html#SCTCSumPE-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! GLOBAL SETTINGS</tgrn></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! CATCHMENT HYDRAULICS</tgrn><br />
<tcmd>Catchment Hydraulic Model </tcmd><teq>==</teq><tblk> HPC</tblk></p>
<p>  <tgrn>! Downstream polygon</tgrn><br />
  <tcmd>Receiving Polygon </tcmd><teq>==</teq><tblk> ..\..\TUFLOW\model\gis\2d_rp_&lt;name&gt;_R.shp</tblk><br />
  <tcmd>Pollutant </tcmd><teq>==</teq><tblk> &lt;name&gt;, &lt;name&gt;, &lt;name&gt;, <span class="math inline">\(\ldots\)</span></tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Catchment Hydraulic Model</tcmd></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! POLLUTANT EXPORT</tgrn><br />
<tcmd>Catchment Pollutant Export Model </tcmd><teq>==</teq><tblk> Mass Accumulation Release</tblk></p>
<p>  <tblk>&lt;names must match</tblk><tcmd> Pollutant </tcmd><teq>==</teq><tblk> above&gt;</tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Catchment Pollutant Export Model</tcmd></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! RECEIVING MODEL</tgrn><br />
<tcmd>Receiving Model </tcmd><teq>==</teq><tblk> None</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Receiving Model</tcmd></p>
</div>
<div id="SCTCSumInt-4" class="section level4 hasAnchor" number="4.6.1.3">
<h4><span class="header-section-number">4.6.1.3</span> Integrated<a href="SimulationConstruction-1.html#SCTCSumInt-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! GLOBAL SETTINGS</tgrn></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! CATCHMENT HYDRAULICS</tgrn><br />
<tcmd>Catchment Hydraulic Model </tcmd><teq>==</teq><tblk> HPC</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Catchment Hydraulic Model</tcmd></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! POLLUTANT EXPORT</tgrn><br />
<tcmd>Catchment Pollutant Export Model </tcmd><teq>==</teq><tblk> Mass Accumulation Release</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Catchment Pollutant Export Model</tcmd></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! RECEIVING MODEL</tgrn><br />
<tcmd>Receiving Model </tcmd><teq>==</teq><tblk> TUFLOWFV</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Receiving Model</tcmd></p>
</div>
</div>
<div id="SCTCSumOthCons-3" class="section level3 hasAnchor" number="4.6.2">
<h3><span class="header-section-number">4.6.2</span> Other configurations<a href="SimulationConstruction-1.html#SCTCSumOthCons-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The following presents a summary of the combinations of block level commands that will trigger the alternative TUFLOW CATCH configurations that might be used during model construction and calibration. Only block level commands have been included, unless specific internal commands are relevant.</p>
<div id="SCTCSumHPC-4" class="section level4 hasAnchor" number="4.6.2.1">
<h4><span class="header-section-number">4.6.2.1</span> TUFLOW HPC calibration only<a href="SimulationConstruction-1.html#SCTCSumHPC-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! GLOBAL SETTINGS</tgrn></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! CATCHMENT HYDRAULICS</tgrn><br />
<tcmd>Catchment Hydraulic Model </tcmd><teq>==</teq><tblk> HPC</tblk></p>
<p>  <tblk>&lt;may require a 2d_bc at downstream outlet to release water from domain&gt;</tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Catchment Hydraulic Model</tcmd></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! POLLUTANT EXPORT</tgrn><br />
<tcmd>Catchment Pollutant Export Model </tcmd><teq>==</teq><tblk> None</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Catchment Pollutant Export Model</tcmd></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! RECEIVING MODEL</tgrn><br />
<tcmd>Receiving Model </tcmd><teq>==</teq><tblk> None</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Receiving Model</tcmd></p>
<p>Alternatively, a TUFLOW CATCH simulation in <strong>Pollutant Export</strong> configuration could be set up, with only a constant and zero salinity set. Because this constant is not simulated in the TUFLOW HPC domain, doing so will not adversely affect TUFLOW HPC run times. It will, however, allow for specification of a receiving polygon to let water out of the TUFLOW HPC domain at a location well downstream of calibration comparison gauges.</p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! GLOBAL SETTINGS</tgrn></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! CATCHMENT HYDRAULICS</tgrn><br />
<tcmd>Catchment Hydraulic Model </tcmd><teq>==</teq><tblk> HPC</tblk></p>
<p>  <tgrn>! Downstream polygon</tgrn><br />
  <tcmd>Receiving Polygon </tcmd><teq>==</teq><tblk> ..\..\TUFLOW\model\gis\2d_rp_&lt;name&gt;_R.shp</tblk><br />
  <tcmd>Pollutant </tcmd><teq>==</teq><tblk> Salinity</tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Catchment Hydraulic Model</tcmd></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! POLLUTANT EXPORT</tgrn><br />
<tcmd>Catchment Pollutant Export Model </tcmd><teq>==</teq><tblk> Mass Accumulation Release</tblk></p>
<p>  <tcmd>Constant </tcmd><tblk>Salinity </tblk><teq>==</teq><tblk> 0.0</tblk></p>
<p><tcmd>End Catchment Pollutant Export Model</tcmd></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! RECEIVING MODEL</tgrn><br />
<tcmd>Receiving Model </tcmd><teq>==</teq><tblk> None</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Receiving Model</tcmd></p>
</div>
<div id="SCTCSumFV-4" class="section level4 hasAnchor" number="4.6.2.2">
<h4><span class="header-section-number">4.6.2.2</span> TUFLOW FV calibration only<a href="SimulationConstruction-1.html#SCTCSumFV-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! GLOBAL SETTINGS</tgrn></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! CATCHMENT HYDRAULICS</tgrn><br />
<tcmd>Catchment Hydraulic Model </tcmd><teq>==</teq><tblk> None</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Catchment Hydraulic Model</tcmd></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! POLLUTANT EXPORT</tgrn><br />
<tcmd>Catchment Pollutant Export Model </tcmd><teq>==</teq><tblk> None</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Catchment Pollutant Export Model</tcmd></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! RECEIVING MODEL</tgrn><br />
<tcmd>Receiving Model </tcmd><teq>==</teq><tblk> TUFLOWFV</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Receiving Model</tcmd></p>
<p>The above will assign blank inflows to TUFLOW from the TUFLOW HPC domain. If TUFLOW FV is to use previously created inflow boundaries from TUFLOW HPC (via TUFLOW CATCH) then the following should be used, after copying the previously created .fvcatchbc file, for example:</p>
<ul>
<li>TUFLOW CATCH run Model_003.tcc (for example) produced initial TUFLOW FV boundary files</li>
<li>The corresponding <tblk>..\TUFLOWCatch\bc_dbase\Model_003_catchment_hydraulic.fvcatchbc</tblk> file could be copied as<br> <tblk>..\TUFLOWCatch\bc_dbase\Model_004_catchment_hydraulic.fvcatchbc</tblk> and</li>
<li>Called automatically in Model_004.tcc</li>
</ul>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! GLOBAL SETTINGS</tgrn></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! CATCHMENT HYDRAULICS</tgrn><br />
<tcmd>Catchment Hydraulic Model </tcmd><teq>==</teq><tblk> None</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Catchment Hydraulic Model</tcmd></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! POLLUTANT EXPORT</tgrn><br />
<tcmd>Catchment Pollutant Export Model </tcmd><teq>==</teq><tblk> None</tblk></p>
<p>  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Catchment Pollutant Export Model</tcmd></p>
<p><tgrn>!________________________________________________________</tgrn><br />
<tgrn>! RECEIVING MODEL</tgrn><br />
<tcmd>Receiving Model </tcmd><teq>==</teq><tblk> TUFLOWFV</tblk></p>
<p>  <tcmd>Preserve Catchment Inflows </tcmd><teq>==</teq><tblk> ON</tblk><br />
  <tblk><span class="math inline">\(\ldots\)</span></tblk></p>
<p><tcmd>End Receiving Model</tcmd></p>
<p><img src="images/WQFooter.jpg" width="100%" /></p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ProcessDescriptions-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="SimulationExecution-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": false,
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
