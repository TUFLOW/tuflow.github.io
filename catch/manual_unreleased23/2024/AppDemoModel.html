<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Appendix D Demonstration Model | TUFLOW CATCH User Manual</title>
  <meta name="description" content="Appendix D Demonstration Model | TUFLOW CATCH User Manual" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Appendix D Demonstration Model | TUFLOW CATCH User Manual" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/1024in300px_Blue-01.svg" />
  <meta property="og:description" content="Appendix D Demonstration Model | TUFLOW CATCH User Manual" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Appendix D Demonstration Model | TUFLOW CATCH User Manual" />
  
  <meta name="twitter:description" content="Appendix D Demonstration Model | TUFLOW CATCH User Manual" />
  <meta name="twitter:image" content="/images/1024in300px_Blue-01.svg" />

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/TUFLOW.ico" type="image/x-icon" />
<link rel="prev" href="AppOutputs.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>



<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://www.tuflow.com"><img src="images/1024in300px_Blue-01.svg" style="width:246px;height:68px;"></a></li>

<li class="divider"></li>
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#about-this-manual"><i class="fa fa-check"></i>About this manual</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#how-to-use-this-manual"><i class="fa fa-check"></i>How to use this manual</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#navigation"><i class="fa fa-check"></i>Navigation</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#searching"><i class="fa fa-check"></i>Searching</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#tables"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#commands"><i class="fa fa-check"></i>Commands</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#parameter-notation"><i class="fa fa-check"></i>Parameter notation</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#feedback"><i class="fa fa-check"></i>Feedback</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Overview-1.html"><a href="Overview-1.html"><i class="fa fa-check"></i><b>1</b> Overview</a>
<ul>
<li class="chapter" data-level="1.1" data-path="Overview-1.html"><a href="Overview-1.html#OverviewContext-2"><i class="fa fa-check"></i><b>1.1</b> Context</a></li>
<li class="chapter" data-level="1.2" data-path="Overview-1.html"><a href="Overview-1.html#Features-2"><i class="fa fa-check"></i><b>1.2</b> Features</a></li>
<li class="chapter" data-level="1.3" data-path="Overview-1.html"><a href="Overview-1.html#Configs-2"><i class="fa fa-check"></i><b>1.3</b> Configurations</a></li>
<li class="chapter" data-level="1.4" data-path="Overview-1.html"><a href="Overview-1.html#Science-2"><i class="fa fa-check"></i><b>1.4</b> Science</a></li>
<li class="chapter" data-level="1.5" data-path="Overview-1.html"><a href="Overview-1.html#Support-2"><i class="fa fa-check"></i><b>1.5</b> Support</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Architecture-1.html"><a href="Architecture-1.html"><i class="fa fa-check"></i><b>2</b> Architecture</a>
<ul>
<li class="chapter" data-level="2.1" data-path="Architecture-1.html"><a href="Architecture-1.html#ArchitectureContext-2"><i class="fa fa-check"></i><b>2.1</b> Context</a></li>
<li class="chapter" data-level="2.2" data-path="Architecture-1.html"><a href="Architecture-1.html#CAIntent-2"><i class="fa fa-check"></i><b>2.2</b> Intention</a></li>
<li class="chapter" data-level="2.3" data-path="Architecture-1.html"><a href="Architecture-1.html#CA-2"><i class="fa fa-check"></i><b>2.3</b> Core Architecture</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="Architecture-1.html"><a href="Architecture-1.html#ExCoord-3"><i class="fa fa-check"></i><b>2.3.1</b> Execution Coordination</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html"><i class="fa fa-check"></i><b>3</b> Process Descriptions</a>
<ul>
<li class="chapter" data-level="3.1" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsGeo-2"><i class="fa fa-check"></i><b>3.1</b> Geolocation</a></li>
<li class="chapter" data-level="3.2" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsPollExp-2"><i class="fa fa-check"></i><b>3.2</b> Pollutant Export</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsConst-3"><i class="fa fa-check"></i><b>3.2.1</b> Constant</a></li>
<li class="chapter" data-level="3.2.2" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsTS-3"><i class="fa fa-check"></i><b>3.2.2</b> Timeseries</a></li>
<li class="chapter" data-level="3.2.3" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsMats-3"><i class="fa fa-check"></i><b>3.2.3</b> Material based export</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html"><i class="fa fa-check"></i><b>4</b> Simulation Construction</a>
<ul>
<li class="chapter" data-level="4.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimulationConstructionContext-2"><i class="fa fa-check"></i><b>4.1</b> Context</a></li>
<li class="chapter" data-level="4.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCIntent-2"><i class="fa fa-check"></i><b>4.2</b> Usage intent</a></li>
<li class="chapter" data-level="4.3" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimulationConstructionInit-2"><i class="fa fa-check"></i><b>4.3</b> Initialisation</a></li>
<li class="chapter" data-level="4.4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCGeneral-2"><i class="fa fa-check"></i><b>4.4</b> General arrangement</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCGeneralFS-3"><i class="fa fa-check"></i><b>4.4.1</b> Folder structure</a></li>
<li class="chapter" data-level="4.4.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCGeneralWF-3"><i class="fa fa-check"></i><b>4.4.2</b> Intended workflow</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCC-2"><i class="fa fa-check"></i><b>4.5</b> TUFLOW CATCH control file</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCCGlobal-3"><i class="fa fa-check"></i><b>4.5.1</b> Global commands</a></li>
<li class="chapter" data-level="4.5.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCCHPC-3"><i class="fa fa-check"></i><b>4.5.2</b> Catchment hydraulic model (TUFLOW HPC) commands</a></li>
<li class="chapter" data-level="4.5.3" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCCPollExp-3"><i class="fa fa-check"></i><b>4.5.3</b> Pollutant export model commands</a></li>
<li class="chapter" data-level="4.5.4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCCFV-3"><i class="fa fa-check"></i><b>4.5.4</b> Receiving model (TUFLOW FV) commands</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCSum-3"><i class="fa fa-check"></i><b>4.6</b> Construction summary</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCSumSupCons-3"><i class="fa fa-check"></i><b>4.6.1</b> Supported configurations</a></li>
<li class="chapter" data-level="4.6.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTCSumOthCons-3"><i class="fa fa-check"></i><b>4.6.2</b> Other configurations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="SimulationExecution-1.html"><a href="SimulationExecution-1.html"><i class="fa fa-check"></i><b>5</b> Simulation Execution</a>
<ul>
<li class="chapter" data-level="5.1" data-path="SimulationExecution-1.html"><a href="SimulationExecution-1.html#SimulationExecutionContext-2"><i class="fa fa-check"></i><b>5.1</b> Context</a></li>
<li class="chapter" data-level="5.2" data-path="SimulationExecution-1.html"><a href="SimulationExecution-1.html#SimulationExecutionEx-2"><i class="fa fa-check"></i><b>5.2</b> Execution</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="Outputs-1.html"><a href="Outputs-1.html"><i class="fa fa-check"></i><b>6</b> Outputs</a>
<ul>
<li class="chapter" data-level="6.1" data-path="Outputs-1.html"><a href="Outputs-1.html#OutputsContext-2"><i class="fa fa-check"></i><b>6.1</b> Context</a></li>
<li class="chapter" data-level="6.2" data-path="Outputs-1.html"><a href="Outputs-1.html#OutputsConfigs-2"><i class="fa fa-check"></i><b>6.2</b> Supported configurations</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="Outputs-1.html"><a href="Outputs-1.html#OutputsHyd-3"><i class="fa fa-check"></i><b>6.2.1</b> Hydrology</a></li>
<li class="chapter" data-level="6.2.2" data-path="Outputs-1.html"><a href="Outputs-1.html#OutputsPEx-3"><i class="fa fa-check"></i><b>6.2.2</b> Pollutant export</a></li>
<li class="chapter" data-level="6.2.3" data-path="Outputs-1.html"><a href="Outputs-1.html#OutpitsInt-3"><i class="fa fa-check"></i><b>6.2.3</b> Integrated</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="AppCommands.html"><a href="AppCommands.html"><i class="fa fa-check"></i><b>A</b> Commands</a>
<ul>
<li class="chapter" data-level="A.1" data-path="AppCommands.html"><a href="AppCommands.html#Appcmdsyn"><i class="fa fa-check"></i><b>A.1</b> Command syntax</a></li>
<li class="chapter" data-level="A.2" data-path="AppCommands.html"><a href="AppCommands.html#Appargmtsyn"><i class="fa fa-check"></i><b>A.2</b> Argument syntax</a></li>
<li class="chapter" data-level="A.3" data-path="AppCommands.html"><a href="AppCommands.html#Appcmds"><i class="fa fa-check"></i><b>A.3</b> Commands</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="AppParams.html"><a href="AppParams.html"><i class="fa fa-check"></i><b>B</b> Parameters</a></li>
<li class="chapter" data-level="C" data-path="AppOutputs.html"><a href="AppOutputs.html"><i class="fa fa-check"></i><b>C</b> Files and Data Fields</a>
<ul>
<li class="chapter" data-level="C.1" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsSurfConc"><i class="fa fa-check"></i><b>C.1</b> Surface water concentrations</a></li>
<li class="chapter" data-level="C.2" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsGWConc"><i class="fa fa-check"></i><b>C.2</b> Groundwater concentrations</a></li>
<li class="chapter" data-level="C.3" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsDryMass"><i class="fa fa-check"></i><b>C.3</b> Dry mass</a></li>
<li class="chapter" data-level="C.4" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsNetMass"><i class="fa fa-check"></i><b>C.4</b> Net mass</a></li>
<li class="chapter" data-level="C.5" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsOther"><i class="fa fa-check"></i><b>C.5</b> Other outputs</a>
<ul>
<li class="chapter" data-level="C.5.1" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsOtherMB"><i class="fa fa-check"></i><b>C.5.1</b> Mass balance</a></li>
<li class="chapter" data-level="C.5.2" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsOtherRP"><i class="fa fa-check"></i><b>C.5.2</b> Receiving polygon</a></li>
<li class="chapter" data-level="C.5.3" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsOtherFV"><i class="fa fa-check"></i><b>C.5.3</b> TUFLOW FV boundaries</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="D" data-path="AppDemoModel.html"><a href="AppDemoModel.html"><i class="fa fa-check"></i><b>D</b> Demonstration Model</a>
<ul>
<li class="chapter" data-level="D.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelContext-2"><i class="fa fa-check"></i><b>D.1</b> Context</a></li>
<li class="chapter" data-level="D.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelDomain-2"><i class="fa fa-check"></i><b>D.2</b> Domain</a></li>
<li class="chapter" data-level="D.3" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelModels-2"><i class="fa fa-check"></i><b>D.3</b> Numerical models</a>
<ul>
<li class="chapter" data-level="D.3.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelModelsHPC-3"><i class="fa fa-check"></i><b>D.3.1</b> TUFLOW HPC</a></li>
<li class="chapter" data-level="D.3.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelModelsPE-3"><i class="fa fa-check"></i><b>D.3.2</b> Pollutant export</a></li>
<li class="chapter" data-level="D.3.3" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelModelsFV-3"><i class="fa fa-check"></i><b>D.3.3</b> TUFLOW FV</a></li>
</ul></li>
<li class="chapter" data-level="D.4" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelSuite-2"><i class="fa fa-check"></i><b>D.4</b> Simulation suite</a></li>
<li class="chapter" data-level="D.5" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelDLoad-2"><i class="fa fa-check"></i><b>D.5</b> Downloads</a>
<ul>
<li class="chapter" data-level="D.5.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelBins-3"><i class="fa fa-check"></i><b>D.5.1</b> Binaries</a></li>
<li class="chapter" data-level="D.5.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelFils-3"><i class="fa fa-check"></i><b>D.5.2</b> Simulation files</a></li>
</ul></li>
<li class="chapter" data-level="D.6" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelExe-2"><i class="fa fa-check"></i><b>D.6</b> Execution</a></li>
<li class="chapter" data-level="D.7" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelResInt-2"><i class="fa fa-check"></i><b>D.7</b> Results interrogation</a>
<ul>
<li class="chapter" data-level="D.7.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelJSON-2"><i class="fa fa-check"></i><b>D.7.1</b> Example json file creation</a></li>
<li class="chapter" data-level="D.7.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelres-2"><i class="fa fa-check"></i><b>D.7.2</b> Example results</a></li>
</ul></li>
<li class="chapter" data-level="D.8" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelResCont-2"><i class="fa fa-check"></i><b>D.8</b> Application under version control</a>
<ul>
<li class="chapter" data-level="D.8.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelResContCtxt-3"><i class="fa fa-check"></i><b>D.8.1</b> Context</a></li>
<li class="chapter" data-level="D.8.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelResContUC-3"><i class="fa fa-check"></i><b>D.8.2</b> Use case</a></li>
<li class="chapter" data-level="D.8.3" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelResContWF-3"><i class="fa fa-check"></i><b>D.8.3</b> Possible workflow #1</a></li>
<li class="chapter" data-level="D.8.4" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelResContWF2-3"><i class="fa fa-check"></i><b>D.8.4</b> Possible workflow #2</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.tuflow.com"><img src="images/1024in300px_Blue-01.svg" style="width:246px;height:68px;"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><h0 style="color:rgb(0,85,129);">TUFLOW CATCH User Manual</h0></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="AppDemoModel" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">Appendix D</span> Demonstration Model<a href="AppDemoModel.html#AppDemoModel" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="AppDemoModelContext-2" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">D.1</span> Context<a href="AppDemoModel.html#AppDemoModelContext-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A demonstration model and small suite of simulations have been developed to support TUFLOW CATCH users. These simulations:</p>
<ul>
<li>Can be used as templates for construction of other TUFLOW CATCH simulations</li>
<li>Encompass the supported TUFLOW CATCH configurations, and</li>
<li>Are able to be run without a licence for TUFLOW CATCH, TUFLOW HPC or TUFLOW FV</li>
</ul>
<p>Descriptions of the model and demonstration simulations follow.</p>
</div>
<div id="AppDemoModelDomain-2" class="section level2 hasAnchor" number="10.2">
<h2><span class="header-section-number">D.2</span> Domain<a href="AppDemoModel.html#AppDemoModelDomain-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The demonstration model is located in New Zealand. It uses publicly available base data sets where available (with some of these being modified on occasion), and synthetic data otherwise.</p>
<p>The catchment has:</p>
<ul>
<li>An area of approximately 55km<span class="math inline">\(^2\)</span></li>
<li>A relief of approximately 20m</li>
<li>Three (synthetic) land uses
<ul>
<li>Urban</li>
<li>Forest</li>
<li>Agriculture</li>
</ul></li>
</ul>
<p>The general arrangement of the catchment is presented in Figure <a href="AppDemoModel.html#fig:fig-demHPC">D.1</a>.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-demHPC"></span>
<img src="images/Demo_HPC.png" alt="**TUFLOW CATCH demonstration model: catchment**" width="100%" />
<p class="caption">
Figure D.1: <strong>TUFLOW CATCH demonstration model: catchment</strong>
</p>
</div>
</center>
<p>The receiving waterway (which is a hypothetical lake) has:</p>
<ul>
<li>An area of approximately 1km<span class="math inline">\(^2\)</span></li>
<li>A maximum depth of approximately 12m</li>
<li>Two major riverine tributaries</li>
<li>Two local wastewater treatment plant discharges</li>
<li>One offtake</li>
<li>An overflow outlet weir</li>
</ul>
<p>The general arrangement of the receiving waterway is presented in Figure <a href="AppDemoModel.html#fig:fig-demFV">D.2</a>.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-demFV"></span>
<img src="images/demo_FVpng.png" alt="**TUFLOW CATCH demonstration model: receiving waterway**" width="100%" />
<p class="caption">
Figure D.2: <strong>TUFLOW CATCH demonstration model: receiving waterway</strong>
</p>
</div>
</center>
<p>The domain is simulated under TUFLOW CATCH for a period of 1 week from 01/01/2021 to 07/01/2021, inclusive.</p>
</div>
<div id="AppDemoModelModels-2" class="section level2 hasAnchor" number="10.3">
<h2><span class="header-section-number">D.3</span> Numerical models<a href="AppDemoModel.html#AppDemoModelModels-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The TUFLOW HPC, pollutant export and TUFLOW FV models are described following.</p>
<div id="AppDemoModelModelsHPC-3" class="section level3 hasAnchor" number="10.3.1">
<h3><span class="header-section-number">D.3.1</span> TUFLOW HPC<a href="AppDemoModel.html#AppDemoModelModelsHPC-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The TUFLOW HPC model has the following general configuration:</p>
<ul>
<li>A 2D cell size of 50m, SGS turned on with a sample target distance of 1m</li>
<li>A synthetic rainfall record applied, with a maximum daily rainfall of approximately 60mm</li>
<li>Three materials, with one for each land use above</li>
<li>One soil layer with constant thickness of 0.6m</li>
</ul>
<p>All simulations use GPU.</p>
</div>
<div id="AppDemoModelModelsPE-3" class="section level3 hasAnchor" number="10.3.2">
<h3><span class="header-section-number">D.3.2</span> Pollutant export<a href="AppDemoModel.html#AppDemoModelModelsPE-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The pollutant export model has various forms depending on the TUFLOW CATCH configuration is simulated. Across these various forms, both shear1 and washoff1 methods are deployed, and other pollutant export parameters are set using the guidance provided in this manual. In all cases where applicable:</p>
<ul>
<li>Salinity, dissolved oxygen, silicate, adsorbed phosphorus and phytoplankton are set to constant concentrations</li>
<li>Sediment and particulate organics are prohibited from infiltrating to groundwater</li>
<li>Water temperature is provided as a timeseries</li>
<li>Sediment uses the shear1 method, and all other pollutants use the washoff1 method</li>
</ul>
</div>
<div id="AppDemoModelModelsFV-3" class="section level3 hasAnchor" number="10.3.3">
<h3><span class="header-section-number">D.3.3</span> TUFLOW FV<a href="AppDemoModel.html#AppDemoModelModelsFV-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The TUFLOW FV model has the following general configuration:</p>
<ul>
<li>Simulation of hydrodynamics, including density (salinity and temperature) driven processes</li>
<li>Full atmospheric heat exchange simulation</li>
<li>Sediment transport simulation, with one fraction</li>
<li>Water quality simulation, using the <a href="https://docs.tuflow.com/fv/wqm/manual/2023/SimulationConstruction-1.html#SimSetSimClOrg-2">Organics simulation class</a></li>
<li>3D simulation with 8 z layers and 6 sigma layers</li>
<li>Three bed materials to define sediment transport and water quality processes</li>
</ul>
<p>All simulations use GPU.</p>
</div>
</div>
<div id="AppDemoModelSuite-2" class="section level2 hasAnchor" number="10.4">
<h2><span class="header-section-number">D.4</span> Simulation suite<a href="AppDemoModel.html#AppDemoModelSuite-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The demonstration model suite includes the following simulations.</p>
<table>
<caption>
<span id="tab:tab-suite">Table D.1: </span><strong>Demonstration TUFLOW CATCH Simulations</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Simulation name
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Use case
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
TUFLOW CATCH Configuration
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;width: 15%; vertical-align:top;">
Demonstration_001.tcc
</td>
<td style="text-align:left;">
Catchment hydraulic calibration: HPC 2d outlet
</td>
<td style="text-align:left;">
Calibration of catchment hydraulic model without receiving model
</td>
<td style="text-align:left;">
<a href="SimulationConstruction-1.html#SCTCSumHPC-4">TUFLOW HPC calibration only</a>
</td>
</tr>
<tr>
<td style="text-align:left;width: 15%; vertical-align:top;">
Demonstration_002.tcc
</td>
<td style="text-align:left;">
Catchment hydraulic calibration: Pollutant export configuration with constant salinity and temperature timeseries
</td>
<td style="text-align:left;">
Calibration of catchment hydraulic model with downstream polygon
</td>
<td style="text-align:left;">
<a href="Architecture-1.html#ExCoordPE-4">Pollutant export</a>
</td>
</tr>
<tr>
<td style="text-align:left;width: 15%; vertical-align:top;">
Demonstration_003.tcc
</td>
<td style="text-align:left;">
Catchment pollutant calibration: Pollutant export configuration with user pollutant/s
</td>
<td style="text-align:left;">
Only catchment hydraulic and pollutant export models are to be used, with non-TUFLOW FV pollutants and downstream polygon
</td>
<td style="text-align:left;">
<a href="Architecture-1.html#ExCoordPE-4">Pollutant export</a>
</td>
</tr>
<tr>
<td style="text-align:left;width: 15%; vertical-align:top;">
Demonstration_004.tcc
</td>
<td style="text-align:left;">
Catchment pollutant calibration: Pollutant export configuration with TUFLOW FV pollutants
</td>
<td style="text-align:left;">
Calibration of catchment pollutant export model following 002 calibration, to TUFLOW FV pollutants with downstream polygon
</td>
<td style="text-align:left;">
<a href="Architecture-1.html#ExCoordPE-4">Pollutant export</a>
</td>
</tr>
<tr>
<td style="text-align:left;width: 15%; vertical-align:top;">
Demonstration_005.tcc
</td>
<td style="text-align:left;">
Linked catchment and receiving model: Integrated configuration with all TUFLOW FV pollutants
</td>
<td style="text-align:left;">
Generation of first pass spatially resolved TUFLOW FV HD and pollutant boundaries for subsequent TUFLOW FV calibration initiation
</td>
<td style="text-align:left;">
<a href="Architecture-1.html#ExCoordInt-4">Integrated</a>
</td>
</tr>
<tr>
<td style="text-align:left;width: 15%; vertical-align:top;">
Demonstration_006.tcc
</td>
<td style="text-align:left;">
Receiving model calibration: TUFLOW FV simulation with preserved inflows
</td>
<td style="text-align:left;">
Catchment hydraulic and pollutant modelling complete (or largely so) and TUFLOW FV is to be calibrated without reunning catchment model
</td>
<td style="text-align:left;">
<a href="Architecture-1.html#ExCoordInt-4">Integrated</a>
</td>
</tr>
<tr>
<td style="text-align:left;width: 15%; vertical-align:top;">
Demonstration_007.tcc
</td>
<td style="text-align:left;">
Linked catchment and receiving model: Hydrology configuration with salinity and temperature
</td>
<td style="text-align:left;">
No pollutant simulation required in TUFLOW - extend 002 above to include TUFLOW FV model
</td>
<td style="text-align:left;">
<a href="Architecture-1.html#ExCoordHyd-4">Hydrology</a>
</td>
</tr>
</tbody>
</table>
</div>
<div id="AppDemoModelDLoad-2" class="section level2 hasAnchor" number="10.5">
<h2><span class="header-section-number">D.5</span> Downloads<a href="AppDemoModel.html#AppDemoModelDLoad-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="AppDemoModelBins-3" class="section level3 hasAnchor" number="10.5.1">
<h3><span class="header-section-number">D.5.1</span> Binaries<a href="AppDemoModel.html#AppDemoModelBins-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The required binary executable files are to be downloaded from the following locations (<strong>to be updated with hyperlinks: in the interim, email <a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a> for relevant binaries</strong>):</p>
<ul>
<li>TUFLOW CATCH</li>
<li>TUFLOW HPC</li>
<li>TUFLOW FV</li>
</ul>
<p>It is suggested that these are saved in a convenient and centralised location. For the purposes of explanation in this Appendix, it has been assumed that they are saved to the following locations (with ReleaseXX being a placeholder for the release version of each, which will be different):</p>
<ul>
<li>C:\TUFLOW\EXE\TUFLOWCATCH\ReleaseXX\TUFLOWCATCH.exe</li>
<li>C:\TUFLOW\EXE\TUFLOW\ReleaseXX\TUFLOW_iSP_w64.exe</li>
<li>C:\TUFLOW\EXE\TUFLOWFV\ReleaseXX\TUFLOWFV.exe</li>
</ul>
</div>
<div id="AppDemoModelFils-3" class="section level3 hasAnchor" number="10.5.2">
<h3><span class="header-section-number">D.5.2</span> Simulation files<a href="AppDemoModel.html#AppDemoModelFils-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The demonstration model suite can be downloaded <a href="https://www.tuflow.com/downloads/"> here</a>, in the TUFLOW CATCH section. For the purposes of explanation in this Appendix, it has been assumed that the suite is saved to the following location and then unzipped:</p>
<ul>
<li>C:\TUFLOW\Demonstration\TUFLOWCATCH\</li>
</ul>
<p>When unzipped, the high level folder structure will be as follows:</p>
<ul>
<li>Modelling
<ul>
<li>TUFLOW</li>
<li>TUFLOWCATCH</li>
<li>TUFLOWFV</li>
</ul></li>
</ul>
<p>The key directory for executing TUFLOW CATCH is then C:\TUFLOW\Demonstration\TUFLOWCATCH\Modelling\TUFLOWCATCH\runs</p>
<p>Once downloaded and unzipped, the user is required to:</p>
<ul>
<li><p>In the Modelling\TUFLOWCATCH\runs\run_simulation.bat file:</p>
<ul>
<li>On line 2, copy and paste in the exact path to the TUFLOW CATCH executable over the placeholder &lt;TUFLOW CATCH EXECUTABLE FULL PATH&gt;, so that:</li>
</ul>
<pre><code>set exe=&lt;TUFLOW CATCH EXECUTABLE FULL PATH&gt;</code></pre>
<p>becomes (using the example path above):</p>
<pre><code>set exe=C:\TUFLOW\EXE\TUFLOWCATCH\ReleaseXX\TUFLOWCATCH.exe</code></pre>
<ul>
<li>Uncomment the desired simulation command by deleting the preceding ‘::’ , so that (if simulation 001 was to be run):</li>
</ul>
<pre><code>:: %exe% Demonstration_001.tcc</code></pre>
<p>becomes:</p>
<pre><code>%exe% Demonstration_001.tcc</code></pre></li>
<li><p>In the Modelling\TUFLOWCATCH\runs\Demonstration_001.tcc file (and any other Demonstration_00*.tcc file to be executed):</p>
<ul>
<li>In the Catchment Hydraulic Model block, copy and paste in the exact path to the TUFLOW CATCH executable over the placeholder &lt;TUFLOW EXECUTABLE FULL PATH&gt;, so that:</li>
</ul>
<pre><code>EXE == &lt;TUFLOW EXECUTABLE FULL PATH&gt;</code></pre>
<p>becomes (using the example path above):</p>
<pre><code>EXE == C:\\TUFLOW\\EXE\\TUFLOW\\ReleaseXX\\TUFLOW_iSP_w64.exe</code></pre>
<ul>
<li>In the Receiving Model block, copy and paste in the exact path to the TUFLOW FV executable over the placeholder &lt;TUFLOW FV EXECUTABLE FULL PATH&gt;, so that:</li>
</ul>
<pre><code>EXE == &lt;TUFLOW FV EXECUTABLE FULL PATH&gt;</code></pre>
<p>becomes (using the example path above):</p>
<pre><code>EXE == C:\\TUFLOW\\EXE\\TUFLOWFV\\ReleaseXX\\TUFLOWFV.exe</code></pre></li>
</ul>
</div>
</div>
<div id="AppDemoModelExe-2" class="section level2 hasAnchor" number="10.6">
<h2><span class="header-section-number">D.6</span> Execution<a href="AppDemoModel.html#AppDemoModelExe-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Once the binaries and simulation files have been downloaded and paths altered as above (and altered files saved), a TUFLOW CATCH simulation can be executed as follows:</p>
<ul>
<li>Open a command prompt and navigate to the TUFLOW CATCH runs folder</li>
</ul>
<pre><code>cd C:\TUFLOW\Demonstration\TUFLOWCATCH\Modelling\TUFLOWCATCH\runs
C:\</code></pre>
<ul>
<li>Ensure the path to the TUFLOW CATCH executable has been set in run_simulations.bat, and that at least one simulation has been uncommented</li>
<li>Type the following in the command prompt and hit enter, and TUFLOW CATCH will execute:</li>
</ul>
<pre><code>run_simulations</code></pre>
</div>
<div id="AppDemoModelResInt-2" class="section level2 hasAnchor" number="10.7">
<h2><span class="header-section-number">D.7</span> Results interrogation<a href="AppDemoModel.html#AppDemoModelResInt-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Once executed, results will be written to:</p>
<ul>
<li>C:\TUFLOW\Demonstration\TUFLOWCATCH\Modelling\TUFLOWCATCH\results</li>
</ul>
<p>Use the QGIS TUFLOW CATCH plugin (see Section <a href="SimulationConstruction-1.html#SimulationConstructionInit-2">4.3</a>) to generate a .json file and view the results. Simulations that involve only TUFLOW HPC or TUFLOW FV can have their results interrogated in the normal manner through the TUFLOW Viewer.</p>
<div id="AppDemoModelJSON-2" class="section level3 hasAnchor" number="10.7.1">
<h3><span class="header-section-number">D.7.1</span> Example json file creation<a href="AppDemoModel.html#AppDemoModelJSON-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Simulations 005 and 006 can be used (after execution) to create a json file within the TUFLOW CATCH plugin (see Section <a href="SimulationConstruction-1.html#SimulationConstructionInit-2">4.3</a>). To do so, select the following results files in the json creation process:</p>
<ul>
<li>Demonstration_006_receiving_HD.nc</li>
<li>Demonstration_006_receiving_WQ.nc</li>
<li>Demonstration_005_catchment_hydraulic.xmdf</li>
</ul>
<p>Save the json to here:</p>
<ul>
<li>C:\TUFLOW\Demonstration\TUFLOWCATCH\Modelling\TUFLOWCATCH\results\Demonstration_006.tuflow.json</li>
</ul>
<p>Once created, drag and drop the json onto a QGIS window to view the results. Hit F7 to toggle the layer styling panel and reveal the the full suite of simulated quantities. Select the ‘Conc SED_FINES’ field by clicking on the contour icon to the right of the field name as per Figure <a href="AppDemoModel.html#fig:fig-sedfines">D.3</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-sedfines"></span>
<img src="images/sedfines.png" alt="**Selecting the Conc SED_FINES data field in a json results file**" width="50%" />
<p class="caption">
Figure D.3: <strong>Selecting the Conc SED_FINES data field in a json results file</strong>
</p>
</div>
<p>An animation of the associated surface concentraton results, that shows the connectivity between TUFLOW HPC, pollutant export and TUFLOW FV simultions of sediment is presented in Figure <a href="AppDemoModel.html#fig:fig-sedfinesanim">D.4</a>. This animation was prepared using the TUFLOW CATCH plugin, and the maximum concentration was set to 5 mg/L.</p>
<center>
<video  loop width = "900" height = "650" autoplay muted start=00:00:10 id="myVideo">
<source src="videos/sedfines.mp4" type="video/mp4">
</video>
</center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-sedfinesanim"></span>
<img src="images/blank.png" alt="**Conc SED_FINES animated results**" width="1%" height="1%" />
<p class="caption">
Figure D.4: <strong>Conc SED_FINES animated results</strong>
</p>
</div>
<script>
var vid = document.getElementById("myVideo");
function setPlaySpeed() { 
  vid.playbackRate = 1.0;
} 
</script>
<p>The connectivity between models is clear. Of note is the increase in concentrations once flows enter the receiving model arms. This is due to resuspension of previously accumulated bed sediment in the lake, which has been computed using the advanced TUFLOW FV Sediment Transport Module capability. Users could investigate this further by reducing erosion rates, or setting initial bed masses in the TUFLOW FV ST model to zero - this concentration spike will then not appear.</p>
</div>
<div id="AppDemoModelres-2" class="section level3 hasAnchor" number="10.7.2">
<h3><span class="header-section-number">D.7.2</span> Example results<a href="AppDemoModel.html#AppDemoModelres-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An example of a dry mass accumulation predicted by TUFLOW HPC (under the washoff1 model) at a point in time just prior to rainfall is presented in Figure <a href="AppDemoModel.html#fig:fig-demHPCFRP">D.5</a>, for FRP. The different accumulations of FRP in different land use areas are clear. The red areas are urban areas, which had the highest accumulation rates of FRP set within the simulation.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-demHPCFRP"></span>
<img src="images/FRP_drymass.png" alt="**TUFLOW CATCH demonstration model: FRP dry mass accumulation**" width="100%" />
<p class="caption">
Figure D.5: <strong>TUFLOW CATCH demonstration model: FRP dry mass accumulation</strong>
</p>
</div>
</center>
<p>An example of a net mass distribution predicted by TUFLOW HPC (under the shear1 model) at simulation end is presented in Figure <a href="AppDemoModel.html#fig:fig-demHPCSF">D.6</a>, for SED_FINES. Positive (negative) results reflect net accumulation (erosion) at simulation end. Erosion (and deposition) limits were set to 1 kg/ha in the simulation.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-demHPCSF"></span>
<img src="images/SF_netmass.png" alt="**TUFLOW CATCH demonstration model: SED_FINES net mass at simulation end**" width="100%" />
<p class="caption">
Figure D.6: <strong>TUFLOW CATCH demonstration model: SED_FINES net mass at simulation end</strong>
</p>
</div>
</center>
</div>
</div>
<div id="AppDemoModelResCont-2" class="section level2 hasAnchor" number="10.8">
<h2><span class="header-section-number">D.8</span> Application under version control<a href="AppDemoModel.html#AppDemoModelResCont-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="AppDemoModelResContCtxt-3" class="section level3 hasAnchor" number="10.8.1">
<h3><span class="header-section-number">D.8.1</span> Context<a href="AppDemoModel.html#AppDemoModelResContCtxt-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>It is understood that the a common use case of TUFLOW CATCH involves multiple modellers with seperate but complementary skill sets working on the same TUFLOW CATCH project. For example, a TUFLOW CATCH project might involve a TUFLOW HPC specialist undertaking catchment simulation and a TUFLOW FV specialist addressing receiving waterway simulation. These modellers will need to work quasi-independently for parts of the project, but bring their work together efficiently at a point. TUFLOW CATCH has been designed to allow for these modellers to work in parallel as the project unfolds, and most importantly, to both work from the same TUFLOW CATCH control file: <strong>different users should not need to set up and work from different TUFLOW CATCH control files of the same model</strong>. It also goes without saying that TUFLOW HPC and TUFLOW FV modellers should <strong>never</strong> set up individual *.tcc and *.fvc control files and attempt to construct their models disjointedly in the hope of manually combining models together under TUFLOW CATCH at some future point: both should undertake all set up works from a single TUFLOW CATCH *.tcc control file. Given this, the question arises as to how this is to be managed from a file control perspective. This is discussed in the following sections.</p>
</div>
<div id="AppDemoModelResContUC-3" class="section level3 hasAnchor" number="10.8.2">
<h3><span class="header-section-number">D.8.2</span> Use case<a href="AppDemoModel.html#AppDemoModelResContUC-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The use case considered here as an example of using version control is the <strong>integrated</strong> TUFLOW CATCH configuration, with one modeller working on the TUFLOW HPC calibration, and a different modeller working on the TUFLOW FV calibration. TUFLOW makes no recommendation as to which (of the many available) versioning platforms should or could be used. For the purposes of this example, Git is used, with no intent of endorsement.</p>
</div>
<div id="AppDemoModelResContWF-3" class="section level3 hasAnchor" number="10.8.3">
<h3><span class="header-section-number">D.8.3</span> Possible workflow #1<a href="AppDemoModel.html#AppDemoModelResContWF-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The following is a possible workflow for the two modellers delivering the use case described above, working largely independently until recombination of their work into an overall TUFLOW CATCH simulation. Alterations to this are expected to be required on a case by case basis, and one such example is presented subsequently as a second workflow.</p>
<p>The steps below assume an introductory level of knowledge of Git commands and processes, and are not intended to be exhaustive. Users should familiarise themselves with basic Git protocols and concepts before reviewing the below. For example, users should appropriate configure their .gitignore file, and be familiar with commnads such as <code>git log</code> and <code>git status</code> to keep track of their work.</p>
<ul>
<li><p>Preliminaries</p>
<ul>
<li>Install Git. See <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" class="uri">https://git-scm.com/book/en/v2/Getting-Started-Installing-Git</a></li>
<li>Ensure at least one user already has the relevant account and sufficient permissions to create a new Git project in a web interface</li>
</ul></li>
<li><p>Project initiation</p>
<ul>
<li>Use the TUFLOW CATCH QGIS plugin (see Section <a href="SimulationConstruction-1.html#SimulationConstructionInit-2">4.3</a>) to generate the folder structure and template files for a TUFLOW CATCH simulation. This can be created in any location because it wil be subsequently moved</li>
<li>Create a new Git project via the web interface of either GitHub or GitLab - TUFLOW makes no recommendation in this regard. This is often via clicking a blue button and filling out some high level project details. The project will have one branch, assumed to be called ‘main’ for the purposes of this example
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-gitnew"></span>
<img src="images/gitnew.png" alt="**Creating a new Git project**" width="50%" />
<p class="caption">
Figure D.7: <strong>Creating a new Git project</strong>
</p>
</div>
</center></li>
<li>Once created, and also from the web interface, copy the address that allows cloning of the new project via https. This is often achieved through a drop down menu on a button marked ‘Clone’, such as the below (the blue highlighted text is to be copied)
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-gitclone"></span>
<img src="images/clone.png" alt="**Copying the https address of a newly created Git project**" width="25%" />
<p class="caption">
Figure D.8: <strong>Copying the https address of a newly created Git project</strong>
</p>
</div>
</center></li>
<li>Open a new DOS command prompt and navigate to a location where modelling is to be undertaken, preferably under a folder called ‘Modelling’</li>
<li>Clone the new Git project to the Modelling folder, by typing the following, pasting the https address copied abve in the &lt;placeholder&gt; location</li>
</ul>
<pre><code>git clone &lt;placeholder&gt;</code></pre>
<p>An example might look like the following. A new folder under Modelling will be created named the same as the Git project name (in this case, ‘catch-demo’). It is this lower folder that is the git project:</p>
<pre><code>git clone https://bmt-gitlab.bmt-wbm.local/user.last/catch-demo.git</code></pre>
<ul>
<li>Change directory into the cloned folder (using the name of the project, in this case ‘catch-demo’)</li>
</ul>
<pre><code>cd catch-demo</code></pre>
<ul>
<li>Copy the TUFLOW CATCH folder structure created above into this project directory (‘Modelling\catch-demo’ in this example), either through windows explorer or the DOS prompt</li>
<li>In the DOS command prompt whilst in the catch-demo directory, add the new files to a Git commit by typing:</li>
</ul>
<pre><code>git add .
git commit -m &quot;First commit&quot;</code></pre>
<ul>
<li>Push the new commit back up to the Git web interface</li>
</ul>
<pre><code>git push</code></pre>
<p>The project created earlier is now populated with vanilla TUFLOW CATCH template files, both locally and in the web repository.</p></li>
<li><p>Update files</p>
<ul>
<li>Modify template files locally to set up overall TUFLOW CATCH simulation with common commands (e.g. project etc) and save files</li>
<li>Commit changes and push</li>
</ul>
<pre><code>git add .
git commit -m &quot;Populates initial TUFLOW CATCH files for branching&quot;
git push</code></pre></li>
<li><p>Create branches</p>
<ul>
<li>In the web interface, which now has the “Populates initial TUFLOW CATCH files for branching” commit present, create a new branch from main for the TUFLOW HPC modeller. This is often via clicking a blue button. Call the branch ‘HPC’ when prompted for a name. Create this new branch from main
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-gitbranch"></span>
<img src="images/gitbranch.png" alt="**Create a branch in a Git project**" width="50%" />
<p class="caption">
Figure D.9: <strong>Create a branch in a Git project</strong>
</p>
</div>
</center></li>
<li>In the web interface, create another new branch from main for the TUFLOW FV modeller in the same way. Call the branch ‘FV’ when prompted for a name. Create this new branch from main</li>
</ul></li>
</ul>
<p>The Git project now has the branches it needs: ‘main’ for the final TUFLOW CATCH model; ‘HPC’ for the TUFLOW HPC modeller; and ‘FV’ for the TUFLOW FV modeller. This allows for the individual modellers to develop their models independently, but from the same starting point. The intention is that thie files will be merged back into main on completion to form the TUFLOW CATCH simulation suite.</p>
<ul>
<li><p>The TUFLOW HPC and TUFLOW FV modellers can now work on different branches, in parallel, with a view to merging their work back into the main branch on completion.</p>
<ul>
<li>The TUFLOW HPC modeller now:
<ul>
<li>Opens a DOS command prompt and navigates to the directory to be used for modelling. This can be anywhere and does not need to be related to the TUFLOW FV modeller’s work</li>
<li>Following the steps above, clones the project</li>
</ul>
<pre><code>git clone https://bmt-gitlab.bmt-wbm.local/user.last/catch-demo.git
cd catch-demo</code></pre>
<ul>
<li>Once in the catch-demo (or project) directory it is essential that the TUFLOW HPC modeller not work in the ‘main’ branch, but work in the ‘HPC’ branch. This requires the TUFLOW HPC modeller to check out the HPC branch by typing:</li>
</ul>
<pre><code>git checkout HPC</code></pre>
<ul>
<li>The TUFLOW HPC modeller should then begin construction of the TUFLOW HPC model through the TUFLOW CATCH *.tcc control file in this HPC branch, noting:</li>
<li>Set up and execution of the TUFLOW HPC model should only occur through the *.tcc file. The modeller should never create a *.tcf file</li>
<li>References to boundary database files etc, should point into the TUFLOW directory structure from the *.tcc, for example
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-tuflowpaths"></span>
<img src="images/tuflowpaths.png" alt="**Example of referencing TUFLOW files from a \*.tcc TUFLOW CATCH control file**" width="90%" />
<p class="caption">
Figure D.10: <strong>Example of referencing TUFLOW files from a *.tcc TUFLOW CATCH control file</strong>
</p>
</div>
</center></li>
<li>The TUFLOW CATCH simulation should use the <a href="SimulationConstruction-1.html#SCTCSumHPC-4">TUFLOW HPC calibration only</a> or <a href="Architecture-1.html#ExCoordPE-4">Pollutant export</a> configuration with a downstream polygon as a placeholder for the TUFLOW FV mesh. This does not involve making any changes to the Receiving Model block of the *.tcc (which will be modified by the TUFLOW FV modeller)</li>
<li>At key stages of construction, the TUFLOW HPC modeller should stage, commit and push changes to the web project</li>
</ul>
<pre><code>git add .
git commit -m &quot;A useful commit message&quot;
git push</code></pre>
<ul>
<li>When construction is finished, the TUFLOW HPC modeller is ready to merge into the main branch to populate the overall TUFLOW CATCH simulation</li>
</ul></li>
<li>The TUFLOW FV modeller now:
<ul>
<li>Opens a DOS command prompt and navigates to the directory to be used for modelling. This can be anywhere and does not need to be related to the TUFLOW HPC modeller’s work</li>
<li>Following the steps above, clones the project</li>
</ul>
<pre><code>git clone https://bmt-gitlab.bmt-wbm.local/user.last/catch-demo.git
cd catch-demo</code></pre>
<ul>
<li>Once in the catch-demo (or project) directory it is essential that the TUFLOW FV modeller not work in the ‘main’ branch, but work in the ‘FV’ branch. This requires the TUFLOW FV modeller to check out the FV branch by typing:</li>
</ul>
<pre><code>git checkout FV</code></pre>
<ul>
<li>The TUFLOW FV modeller should then begin construction of the TUFLOW FV model through the TUFLOW CATCH *.tcc control file in this FV branch, noting:</li>
<li>Set up and execution of the TUFLOW FV model should only occur through the *.tcc file. The modeller should never create a *.fvc file</li>
<li>References to boundary, geometry and files etc, should point into the TUFLOWFV directory structure from the *.tcc, for example
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-tuflowfvpaths"></span>
<img src="images/tuflowfvpaths.png" alt="**Example of referencing TUFLOW FV files from a \*.tcc TUFLOW CATCH control file**" width="90%" />
<p class="caption">
Figure D.11: <strong>Example of referencing TUFLOW FV files from a *.tcc TUFLOW CATCH control file</strong>
</p>
</div>
</center></li>
<li>The TUFLOW CATCH simulation should use the <a href="SimulationConstruction-1.html#SCTCSumFV-4">TUFLOW FV calibration only</a> configuration. This does not involve making any changes to the Catchment Hydraulic Model block of the *.tcc (which will be modified by the TUFLOW HPC modeller)</li>
<li>At key stages of construction, the TUFLOW HPC modeller should stage, commit and push changes to the web project</li>
</ul>
<pre><code>git add .
git commit -m &quot;A useful commit message&quot;
git push</code></pre>
<ul>
<li>When construction is finished, the TUFLOW FV modeller is ready to merge into the main branch to populate the overall TUFLOW CATCH simulation</li>
</ul></li>
</ul></li>
<li><p>The HPC and FV branches can be merged into the main branch to generate the overall TUFLOW CATCH simulation</p>
<ul>
<li>Because the modellers have been working in separate blocks of the *.tcc, and separate folder structures for base data (..\TUFLOW and ..\TUFLOWFV), conflicts should be minimal</li>
<li>Free packages such as Winmerge can be used to asist with this process. This is a suggestion only and not an endorsement of Winmerge by TUFLOW</li>
</ul></li>
</ul>
</div>
<div id="AppDemoModelResContWF2-3" class="section level3 hasAnchor" number="10.8.4">
<h3><span class="header-section-number">D.8.4</span> Possible workflow #2<a href="AppDemoModel.html#AppDemoModelResContWF2-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The following is a possible addition to the above workflow for the two modellers delivering the same use case. Instead of the modellers working entirely independently until merging, it includes occassional provision of interim catchment inflows from the TUFLOW HPC modeller to the TUFLOW FV modeller to assist in calibration of the latter under wet conditions. This is accomplished by:</p>
<ul>
<li>Merging sufficiently complete HPC and FV branches into the main branch to produce a TUFLOW CATCH <strong>integrated</strong> configuration simulation from time to time, instead of only at the end of individual calibration tasks</li>
<li>Executing TUFLOW CATCH in <strong>integrated</strong> configuration to produce all spatially and temporally resolved boundary inflows for TUFLOW FV</li>
<li>Add, commit and push the boundary files to the main branch</li>
<li>Copy the boundary files (including header blocks (.fvcatchbc) and data files (.csv)) to the \TUFLOWCATCH\bc_dbase\ folder in the FV branch being used by the TUFLOW FV modeller for subsequent access</li>
<li>Rename the *.fvcatchbc file to be the same as the TUFLOW FV modellers *.tcc file name so that it is automatically found by the *.tcc simulation</li>
<li>Rerun the TUFLOW FV modeller’s *.tcc simulaion, adding the command below inside the Receiving Model block so that blank catchment boundary files (the default) are not produced and so do not overwrite those developed in the above <strong>integrated</strong> TUFLOW CATCH simulation</li>
</ul>
<pre><code>Preserve catchment inflows == ON</code></pre>
<ul>
<li>The TUFLOW FV modeller can then continue the calibration process with revised inflows. The above process can be repeated at intervals that suit the modelling project and timelines.</li>
</ul>
<p><img src="images/WQFooter.jpg" width="100%" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="AppOutputs.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": false,
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
