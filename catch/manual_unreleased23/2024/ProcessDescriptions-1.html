<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 3 Process Descriptions | TUFLOW CATCH User Manual</title>
  <meta name="description" content="Section 3 Process Descriptions | TUFLOW CATCH User Manual" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 3 Process Descriptions | TUFLOW CATCH User Manual" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/tuflow.png" />
  <meta property="og:description" content="Section 3 Process Descriptions | TUFLOW CATCH User Manual" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 3 Process Descriptions | TUFLOW CATCH User Manual" />
  
  <meta name="twitter:description" content="Section 3 Process Descriptions | TUFLOW CATCH User Manual" />
  <meta name="twitter:image" content="/images/tuflow.png" />

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/TUFLOW.ico" type="image/x-icon" />
<link rel="prev" href="Architecture-1.html"/>
<link rel="next" href="SimulationConstruction-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>



<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://www.tuflow.com"><img src="images/tuflow.png" style="width:246px;height:68px;"></a></li>

<li class="divider"></li>
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#about-this-manual"><i class="fa fa-check"></i>About this manual</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#how-to-use-this-manual"><i class="fa fa-check"></i>How to use this manual</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#navigation"><i class="fa fa-check"></i>Navigation</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#searching"><i class="fa fa-check"></i>Searching</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#tables"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#commands"><i class="fa fa-check"></i>Commands</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#parameter-notation"><i class="fa fa-check"></i>Parameter notation</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#feedback"><i class="fa fa-check"></i>Feedback</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Overview-1.html"><a href="Overview-1.html"><i class="fa fa-check"></i><b>1</b> Overview</a>
<ul>
<li class="chapter" data-level="1.1" data-path="Overview-1.html"><a href="Overview-1.html#OverviewContext-2"><i class="fa fa-check"></i><b>1.1</b> Context</a></li>
<li class="chapter" data-level="1.2" data-path="Overview-1.html"><a href="Overview-1.html#Features-2"><i class="fa fa-check"></i><b>1.2</b> Features</a></li>
<li class="chapter" data-level="1.3" data-path="Overview-1.html"><a href="Overview-1.html#Configs-2"><i class="fa fa-check"></i><b>1.3</b> Configurations</a></li>
<li class="chapter" data-level="1.4" data-path="Overview-1.html"><a href="Overview-1.html#Science-2"><i class="fa fa-check"></i><b>1.4</b> Science</a></li>
<li class="chapter" data-level="1.5" data-path="Overview-1.html"><a href="Overview-1.html#Support-2"><i class="fa fa-check"></i><b>1.5</b> Support</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Architecture-1.html"><a href="Architecture-1.html"><i class="fa fa-check"></i><b>2</b> Architecture</a>
<ul>
<li class="chapter" data-level="2.1" data-path="Architecture-1.html"><a href="Architecture-1.html#ArchitectureContext-2"><i class="fa fa-check"></i><b>2.1</b> Context</a></li>
<li class="chapter" data-level="2.2" data-path="Architecture-1.html"><a href="Architecture-1.html#CA-2"><i class="fa fa-check"></i><b>2.2</b> Core Architecture</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="Architecture-1.html"><a href="Architecture-1.html#ExCoord-3"><i class="fa fa-check"></i><b>2.2.1</b> Execution Coordination</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html"><i class="fa fa-check"></i><b>3</b> Process Descriptions</a>
<ul>
<li class="chapter" data-level="3.1" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsGeo-2"><i class="fa fa-check"></i><b>3.1</b> Geolocation</a></li>
<li class="chapter" data-level="3.2" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsPollExp-2"><i class="fa fa-check"></i><b>3.2</b> Pollutant Export</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsConst-3"><i class="fa fa-check"></i><b>3.2.1</b> Constant</a></li>
<li class="chapter" data-level="3.2.2" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsTS-3"><i class="fa fa-check"></i><b>3.2.2</b> Timeseries</a></li>
<li class="chapter" data-level="3.2.3" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsAccWO-3"><i class="fa fa-check"></i><b>3.2.3</b> Accumulation and washoff</a></li>
<li class="chapter" data-level="3.2.4" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ProcessDescriptionsSS-3"><i class="fa fa-check"></i><b>3.2.4</b> Shear Stress</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html"><i class="fa fa-check"></i><b>4</b> Simulation Construction</a>
<ul>
<li class="chapter" data-level="4.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimulationConstructionContext-2"><i class="fa fa-check"></i><b>4.1</b> Context</a></li>
<li class="chapter" data-level="4.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#General-2"><i class="fa fa-check"></i><b>4.2</b> General arrangement</a></li>
<li class="chapter" data-level="4.3" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#TFVCommands-2"><i class="fa fa-check"></i><b>4.3</b> TUFLOW FV control file commands</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#WQMActivation-3"><i class="fa fa-check"></i><b>4.3.1</b> WQ Module activation</a></li>
<li class="chapter" data-level="4.3.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#InitBCCond-3"><i class="fa fa-check"></i><b>4.3.2</b> Initial and boundary conditions</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#WQctrlfil-2"><i class="fa fa-check"></i><b>4.4</b> Water quality control file commands</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimCtrls-3"><i class="fa fa-check"></i><b>4.4.1</b> Part 1: Simulation controls</a></li>
<li class="chapter" data-level="4.4.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#ConModSttngs-3"><i class="fa fa-check"></i><b>4.4.2</b> Part 2: Constituent model settings</a></li>
<li class="chapter" data-level="4.4.3" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#MatSpecs-3"><i class="fa fa-check"></i><b>4.4.3</b> Part 3: Material specifications</a></li>
<li class="chapter" data-level="4.4.4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimSetSum-2"><i class="fa fa-check"></i><b>4.4.4</b> Summary</a></li>
<li class="chapter" data-level="4.4.5" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimSetLog-2"><i class="fa fa-check"></i><b>4.4.5</b> Log files</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimSetSimClDO-2"><i class="fa fa-check"></i><b>4.5</b> Simulation Class: DO</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#PrereqDO-3"><i class="fa fa-check"></i><b>4.5.1</b> Prerequisites</a></li>
<li class="chapter" data-level="4.5.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimCtrlsDO-3"><i class="fa fa-check"></i><b>4.5.2</b> Part 1: Simulation specification</a></li>
<li class="chapter" data-level="4.5.3" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#ConModSttngsDO-3"><i class="fa fa-check"></i><b>4.5.3</b> Part 2: Constituent model specification</a></li>
<li class="chapter" data-level="4.5.4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#MatSpecsDO-3"><i class="fa fa-check"></i><b>4.5.4</b> Part 3: Material specification</a></li>
<li class="chapter" data-level="4.5.5" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#ConOrdDO-3"><i class="fa fa-check"></i><b>4.5.5</b> Constituent ordering</a></li>
<li class="chapter" data-level="4.5.6" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#ExampleDO"><i class="fa fa-check"></i><b>4.5.6</b> Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="AppCommands.html"><a href="AppCommands.html"><i class="fa fa-check"></i><b>5</b> Commands</a></li>
<li class="divider"></li>
<li><a href="https://www.tuflow.com"><img src="images/tuflow.png" style="width:246px;height:68px;"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><h0 style="color:rgb(0,85,129);">TUFLOW CATCH User Manual</h0></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ProcessDescriptions-1" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Section 3</span> Process Descriptions<a href="ProcessDescriptions-1.html#ProcessDescriptions-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Previous chapters have presented an overview of the architecture and capabilities of TUFLOW CATCH. This chapter presents the details of the processes that TUFLOW CATCH executes. It does not present the processes executed by either TUFLOW HPC or TUFLOW FV: these are detailed in the respective model manuals and should be referred to as such.</p>
<p>TUFLOW CATCH provides three primary functions:</p>
<ul>
<li>Coordination of the execution of TUFLOW HPC and TUFLOW FV across an entire catchment and receiving water domain</li>
<li>Automatic geolocation and writing of flow and concentration boundary conditions for TUFLOW FV, generated from TUFLOW HPC predictions</li>
<li>Pollutant export and transport calculations within a catchment</li>
</ul>
<p>The first of these is its core architectural capability and so is described in Section <a href="Architecture-1.html#ExCoord-3">2.2.1</a>. The latter two are technical componentry of this acrchitecture and so are detailed here in Sections <a href="ProcessDescriptions-1.html#ProcessDescriptionsGeo-2">3.1</a> and <a href="ProcessDescriptions-1.html#ProcessDescriptionsPollExp-2">3.2</a>, respectively.</p>
<div id="ProcessDescriptionsGeo-2" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Geolocation<a href="ProcessDescriptions-1.html#ProcessDescriptionsGeo-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Manually linking catchment and receiving water models can potentially be a time-consuming and error prone process. TUFLOW CATCH undertakes this task automatically via a process of geolocation, whereby TUFLOW HPC cells that spatially coincide with either (user nominated, see Section <font color="red">XXXX</font>) TUFLOW FV nodestring inflows or TUFLOW FV mesh cells are identified. These TUFLOW HPC cells are called transfer cells. Once identified, these transfer cells track the local surface and groundwater flow volumes and constituent masses predicted by TUFLOW HPC, and each transfer cell’s outflows are converted into timeseries of flow rates and concentrations and exported into the comma delimited (.csv) format expected by TUFLOW FV. It is noted that:</p>
<ul>
<li>Where the user has nominated a nodestring/s as transfer locations from TUFLOW HPC to TUFLOW FV, TUFLOW CATCH will write the corresponding TUFLOW FV boundary condition files as ‘Q’ types that include the transfer of momentum from TUFLOW HPC to TUFLOW FV. As such, these boundaries (and specifying the corresponding TUFLOW FV nodestrings) should be considered where channelised riverine inflows and the like are to be matched, i.e. where inflow momentum is important in controlling receiving water hydrodynamics</li>
<li>Where TUFLOW CATCH automatically geolocates non-nodestring transfer locations from TUFLOW HPC to TUFLOW FV, TUFLOW CATCH will write the corresponding TUFLOW FV boundary condition files as ‘QC’ types that exclude the transfer of momentum from TUFLOW HPC to TUFLOW FV. As such, these boundaries should typify non-channelised ‘lateral’ inflows where momentum transfer is less important in controlling receiving water hydrodynamics</li>
<li>Boundary data for TUFLOW FV is written with date (dd/mm/yyyy hh:mm:ss) format.</li>
</ul>
<p>This automated selection of linkage cells is sufficiently robust to handle differences in mesh/grid resolution between TUFLOW HPC and TUFLOW FV, including cases where the TUFLOW HPC model is higher resolution than the (local) TUFLOW FV model mesh, and vice-versa. Some typical cases are presented in Figure <a href="ProcessDescriptions-1.html#fig:fig-TransferCells">3.1</a>.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-TransferCells"></span>
<img src="images/TransferCells.png" alt="**Examples of linkages under varying TUFLOW HPC and TUFLOW FV cell resolutions**" width="100%" />
<p class="caption">
Figure 3.1: <strong>Examples of linkages under varying TUFLOW HPC and TUFLOW FV cell resolutions</strong>
</p>
</div>
</center>
<p>If a TUFLOW FV mesh element does not contain one or more TUFLOW HPC cell centres, then the TUFLOW HPC cell that contains the TUFLOW FV element centroid is selected. Finally, after all mesh elements and boundary nodestrings are processed, any cells entirely within the TUFLOW FV mesh are deactivated entirely from TUFLOW HPC computations - these locations within the overall model domain are simulated by TUFLOW FV.</p>
<p>The locations of the TUFLOW HPC transfer cells automatically geolocated by TUFLOW CATCH are reported in the TUFLOW HPC ‘hpc_transfer’ check file for review. The corresponding TUFLOW FV boundary condition locations are also reported in the TUFLOW FV ‘bc_check_P’ check files. An example of both is presented in Figure <a href="ProcessDescriptions-1.html#fig:fig-TransferCells2">3.2</a>, with TUFLOW HPC and TUFLOW FV check file outputs on the left (brown squares) and right (red dots), respectively.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-TransferCells2"></span>
<img src="images/FVHPCtransfer.png" alt="**HPC transfer cell (left) and TUFLOW FV boundary cell (right) check file examples**" width="100%" />
<p class="caption">
Figure 3.2: <strong>HPC transfer cell (left) and TUFLOW FV boundary cell (right) check file examples</strong>
</p>
</div>
</center>
<p>The above geolocation process does not exclude or prevent the TUFLOW FV user from manually specifying additional boundaries to a TUFLOW FV model. For example, tidal or wastewater discharge (or other) boundaries can be specified by the user within the TUFLOW CATCH control file as per a normal TUFLOW FV model set up by specify ‘bc’ blocks as required. TUFLOW CATCH will collect these manual (user defined) boundaries and all automatically geolocated boundaries and apply them to the execution of TUFLOW FV under TUFLOW CATCH.</p>
<p>An example of how this geolocation method supports transfer of water, concentrations and momentum is provided in Figure <a href="ProcessDescriptions-1.html#fig:fig-transfervid">3.3</a>. The animation presents a catchment derived TUFLOW HPC flow originating from left of screen (and from the fixed grid domain) being transferred automatically into the (flexible mesh) TUFLOW FV domain, and then advected downstream to the right. Constituent concentrations vary from low (blue) to red (high).</p>
<center>
<video  loop style='border: 0px ridge #00B0F0;' width = "675" height = "480" autoplay muted start=00:00:10 id="myVideo">
<source src="videos/Cudgen_crop_trim.mp4" type="video/mp4">
</video>
</center>
<script>
var vid = document.getElementById("myVideo");
function setPlaySpeed() { 
  vid.playbackRate = 1.0;
} 
</script>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-transfervid"></span>
<img src="images/blank.png" alt="**Example of transferral of an inflow (from left to right) from TUFLOW HPC to TUFLOW FV**" width="1%" />
<p class="caption">
Figure 3.3: <strong>Example of transferral of an inflow (from left to right) from TUFLOW HPC to TUFLOW FV</strong>
</p>
</div>
</div>
<div id="ProcessDescriptionsPollExp-2" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Pollutant Export<a href="ProcessDescriptions-1.html#ProcessDescriptionsPollExp-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>TUFLOW CATCH supports the simulation of pollutant generation and transport. It does so on a spatially varying basis via use of materials so that, in a manner analogous to hydraulic roughness calculations (that also use materials), pollutant export simulation is ultimately affected on a computational cell by computational cell basis. This obviates the need to make lumped hydrologic or pollutant export related assumptions, and facilitates the solution of the equations of motion and constituents on a spatially and temporally resolved basis.
<span class="math inline">\(\newcommand{\blockindent}{\hspace{0.5cm}}\)</span></p>
<p>In general terms, pollutant export simulation within TUFLOW CATCH allows for either:</p>
<ul>
<li>Specification of a constant concentration (to be written to TUFLOW FV boundary conditions without numerical simulation. Examples include water quality constituents that are not meaningfully conceptualised as being liberated from a ground surface, such as dissolved oxygen, or</li>
<li>Specification of a time varying concentration (again to be written to TUFLOW FV boundary conditions without numerical simulation). Examples include water temperature</li>
<li>Specification of the following on a material by material basis, for a given pollutant:
<ul>
<li>The computational pollutant export method to be used</li>
<li>The parameters associated with the selected computational pollutant export method, or</li>
</ul></li>
</ul>
<p>Different pollutant export methods across the above options for different pollutants can be used within a single TUFLOW CATCH simulation. Commands are provided in detail in Section <a href="SimulationConstruction-1.html#SimulationConstruction-1">4</a>, however an example of such a specification is provided following, with incomplete (…) parameter lists for brevity.</p>
<blockquote>
<p>Constant POLLUTANT_C == 8.0<br>
Time-series POLLUTANT_D == temptre</p>
</blockquote>
<blockquote>
<p>Material == 1,4 <br>
<span class="math inline">\(\blockindent\)</span>POLLUTANT_A,<nbsp>method==sed4,param1==43.0…<br>
<span class="math inline">\(\blockindent\)</span>POLLUTANT_B,<nbsp>method==rate,param1==12.0…<br>
<span class="math inline">\(\blockindent\)</span>POLLUTANT_X,<nbsp>method==sed1,param1==0.37…<br>
<span class="math inline">\(\blockindent\)</span>POLLUTANT_Y,<nbsp>method==sed2,param1==5.23…<br>
<span class="math inline">\(\blockindent\)</span>…<br>
End Material</p>
</blockquote>
<p>Multiple constant and time-series pollutants can be specified, and material blocks can be specified to apply to more than one material (the above example applies to materials 1 and 4, for example). Different computational pollutant export methods can be assigned to different pollutants within a single material block.</p>
<p>The above pollutant export models are described following.</p>
<div id="ProcessDescriptionsConst-3" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Constant<a href="ProcessDescriptions-1.html#ProcessDescriptionsConst-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The constant pollutant export method is the simplest of all available methods. It does not involve any calculations within TUFLOW CATCH. Rather, it has TUFLOW CATCH assign the specified constant value to the relevant column in all TUFLOW FV boundary condition files produced, for all times. It is suitable for pollutants that are conceptually inconsistent with generation from a ground surface, such as dissolved oxygen or phytoplankton.</p>
</div>
<div id="ProcessDescriptionsTS-3" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Timeseries<a href="ProcessDescriptions-1.html#ProcessDescriptionsTS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The constant pollutant export method does not involve any calculations within TUFLOW CATCH. Rather, it has TUFLOW CATCH assign an interpolated timeseries value to the relevant column in all TUFLOW FV boundary condition files produced. Interpolation is based on matching the specified timeseries timestamp with the output frequency of TUFLOW FV boundary condition files. It is suitable for pollutants that are conceptually inconsistent with generation from a ground surface and also likely to vary temporally, such as water temperature. One timeseries per pollutant can be specified and it is applied across the entire model domain.</p>
</div>
<div id="ProcessDescriptionsAccWO-3" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Accumulation and washoff<a href="ProcessDescriptions-1.html#ProcessDescriptionsAccWO-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Accumulation/washoff methods are common in urban water modelling and are conceptually distinct from event mean concentration / dry weather concentration (EMC/DWC) methods. The former have been the subject of considerable research and development since at least the 1970s. In short, the accumulation washoff method conceptualises pollutant accumulation during no-flow or low-flow conditions and washoff during higher-flow conditions. Typically, a proportion of the accumulated pollutant runs off if a threshold flow or flow depth is reached (i.e. enough energy is available for liberation of mass). This mechanism is generally based on a non-linear function for the runoff, if runoff is not explicitly simulated (e.g. in models that make lumped average assumptions). TUFLOW CATCH’s implementation of this method (that explicitly simulates hydrology so does not resort to such lumped assumptions) is described following.</p>
<div id="ProcessDescriptionsAcc-4" class="section level4 hasAnchor" number="3.2.3.1">
<h4><span class="header-section-number">3.2.3.1</span> Accumulation<a href="ProcessDescriptions-1.html#ProcessDescriptionsAcc-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>TUFLOW CATCH allows for the specification of accumulation rates (kg/ha/yr) for each pollutant simulated, on a spatially varying (material by material) basis. These rates are linearly applied in time until a user specified maximum areal mass (also kg/ha/yr) is reached. Even though these rates and maximums are specified per material, they are used to undertake accumulation calculations on a cell by cell basis at the beginning of every timestep. For example, if a user has specified a 5 metre TUFLOW HPC grid size, then pollutant accumulation calculations will be undertaken at this same spatial resolution. As each pollutant accumulates, it is added to TUFLOW CATCH’s dry store mass, which is also tracked on a cell by cell basis. It is this dry store mass that is then depleted (washed off) when user specified hydrologic conditions are met (see Section <a href="ProcessDescriptions-1.html#ProcessDescriptionsWO-4">3.2.3.2</a>). Each pollutant’s and each cell’s dry store mass is temporally incremented at the specified rate, up to a user specified limiting areal mass (kg/ha).</p>
<p>One advantage of the pollutant accumulation method is that the user has full control over the spatial distribution of the associated rates, through the use of materials. Specifically, each material is assigned these rates, and materials are (typically) specified as polygons that cover regions with similar pollutant properties (analogous to roughness materials). Although it may seem natural to equate this spatial distribution of pollutant properties with land uses (as is often the case in lumped hydrology/pollutant export models), this is not a requirement of TUFLOW CATCH. Indeed, the user has full discretion with regard to how pollutant properties are set, and whilst perhaps making initial use of land use data, it is possible that different material polygons that represent the same land use are given different pollutant properties. For example, an ‘urban’ land use might be tagged to two separate housing estates in a generic land use GIS vector layer, but the user may also know that one estate has stormwater treatment devices in place and the other does not. In such an instance, different pollutant accumulation (and washoff) parameters can be applied through TUFLOW CATCH. In short, TUFLOW CATCH has been deliberately designed to allow users to insert their local knowledge of the systems being modelled into the model build process directly, down to a cell by cell spatial resolution if required, without being limited by lumping assumptions.</p>
<p>Akin to the flexibility offered in spatial resolution, TUFLOW CATCH allows full control over the specification of pollutant accumulation rates, and in doing so allows the user to inform the modelling process with local knowledge and expertise. Users are therefore encouraged to undertake their own reviews and specifications of pollutant accumulation rates, and assocaited material configurations. Notwithstanding this, some indicative pollutant accumulation rates are provided in Table <a href="ProcessDescriptions-1.html#tab:tab-PollAccRates">3.1</a>. <strong>These are indicative and are not intended to be seen as endorsed or recommended.</strong></p>
<table>
<caption>
<span id="tab:tab-PollAccRates">Table 3.1: </span><strong>Indicative pollutant accumulation rates</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Pollutant
</th>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Lower estimate (kg/ha/yr)
</th>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Upper estimate (kg/ha/yr)
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;width: 40%; ">
Ammonium
</td>
<td style="text-align:right;">
0.20
</td>
<td style="text-align:right;">
2e+00
</td>
</tr>
<tr>
<td style="text-align:left;width: 40%; ">
Nitrate
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
3e+00
</td>
</tr>
<tr>
<td style="text-align:left;width: 40%; ">
Filterable reactive phosphorus
</td>
<td style="text-align:right;">
0.01
</td>
<td style="text-align:right;">
3e-02
</td>
</tr>
<tr>
<td style="text-align:left;width: 40%; ">
Dissolved organic nitrogen
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
2e+00
</td>
</tr>
<tr>
<td style="text-align:left;width: 40%; ">
Particulate organic nitrogen
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
3e+00
</td>
</tr>
<tr>
<td style="text-align:left;width: 40%; ">
Dissolved organic phosphorus
</td>
<td style="text-align:right;">
0.01
</td>
<td style="text-align:right;">
5e-03
</td>
</tr>
<tr>
<td style="text-align:left;width: 40%; ">
Particulate organic phosphorus
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
6e-01
</td>
</tr>
<tr>
<td style="text-align:left;width: 40%; ">
Dissolved organic carbon
</td>
<td style="text-align:right;">
20.00
</td>
<td style="text-align:right;">
7e+01
</td>
</tr>
<tr>
<td style="text-align:left;width: 40%; ">
Particulate organic carbon
</td>
<td style="text-align:right;">
12.00
</td>
<td style="text-align:right;">
4e+01
</td>
</tr>
</tbody>
</table>
<p>The relevant TUFLOW CATCH commands are described in Section <font color="red">XXXX.</font></p>
</div>
<div id="ProcessDescriptionsWO-4" class="section level4 hasAnchor" number="3.2.3.2">
<h4><span class="header-section-number">3.2.3.2</span> Washoff<a href="ProcessDescriptions-1.html#ProcessDescriptionsWO-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>TUFLOW CATCH allows for the specification of the manner in which the accumulated dry store mass described in Section <a href="ProcessDescriptions-1.html#ProcessDescriptionsAcc-4">3.2.3.1</a> is washed off in response to local hydrologic conditions. This specification occurs in the same command line as accumulation rates (for a given pollutant), which is therefore also on a material by material basis: for a given material and pollutant, the accumulation and washoff parameters are co-specified, and therefore related.</p>
<p>The TUFLOW CATCH washoff method is presented conceptually in Figure <a href="ProcessDescriptions-1.html#fig:fig-WO">3.4</a>. Under wet weather conditions, a mass <span class="math inline">\(\Delta\)</span> is dissolved from the dry store mass (<span class="math inline">\(\alpha_{dry}\)</span>) into the wet store (<span class="math inline">\(\alpha_{wet}\)</span>) (i.e. to add to a water concentration) at a rate given by a user defined time constant (also referred to as a time of concentration), T<span class="math inline">\(_c\)</span>, such that over a timestep <span class="math inline">\(dt\)</span>:</p>
<p><span class="math display" id="eq:equ-wo">\[\begin{equation}
  \Delta = dt\frac{\alpha_{dry}}{T_c} \tag{3.1}
\end{equation}\]</span></p>
This dissolution only occurs once user-specified minimum rain rates, <span class="math inline">\(RR_{min}\)</span>, and surface water depths <span class="math inline">\(d_{min}\)</span> have both been exceeded. Otherwise, the dry store masses described in Section <a href="ProcessDescriptions-1.html#ProcessDescriptionsAcc-4">3.2.3.1</a> are accumulated at the rates specified.
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-WO"></span>
<img src="images/WO.png" alt="**Washoff method**" width="50%" />
<p class="caption">
Figure 3.4: <strong>Washoff method</strong>
</p>
</div>
</center>
<p>If a pollutant is released into its wet store, it is transported according to the progression of hydraulic flows (and associated advection and dispersion), which is completed as a separate calculation step to the generation update. Settling velocities can be optionally assigned to individual pollutants. Any settling returns pollutants from the wet store to the dry store. This is not recommended for dissolved pollutants.</p>
<p>If soils and subsurface flow (interflow) is not simulated in TUFLOW HPC, then this transport is purely surficial. If soils are included then released pollutants will be transported in both the surface and subsurface in accordance with water flows. TUFLOW CATCH allows for the optional prevention of infiltration of a given pollutant into the subsurface flow if soils are included in the TUFLOW HPC simulation. This is relevant for particulate pollutants such as sediment or particulate organic material. A conceptualisation of TUUFLOW CATCH’s pollutant generation and transport methods is presented in Figure <a href="ProcessDescriptions-1.html#fig:fig-wopoll">3.5</a>.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-wopoll"></span>
<img src="images/WO-polls.png" alt="**TUFLOW CATCH pollutant generation method**" width="100%" />
<p class="caption">
Figure 3.5: <strong>TUFLOW CATCH pollutant generation method</strong>
</p>
</div>
</center>
<p>The relevant TUFLOW CATCH commands are described in Section <font color="red">XXXX.</font></p>
</div>
</div>
<div id="ProcessDescriptionsSS-3" class="section level3 hasAnchor" number="3.2.4">
<h3><span class="header-section-number">3.2.4</span> Shear Stress<a href="ProcessDescriptions-1.html#ProcessDescriptionsSS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Shear stress generation methods are common in natural waterway (e.g. estuaries and coastal oceans) modelling studies, particularly with regard to the simulation of sediment transport. In short, these methods conceptualise sediment release from the bed as a function of overlying hydrodynamic shear stress: once a specified minimum shear stress is exceeded, sediment is released to the water column. Similarly, these methods also allow for deposition of previously suspended sediment back to the bed, and this is typically allowed to occur once hydrodynamic shear stress drops below a specified maximum depositional shear stress. More advanced methods allow for construction of intermediary bed roughness models that translate raw hydrodynamic shear stress to the corresponding shear stress that is actually felt by the bed and can therefore cause erosion (or allow deposition). These methods therefore allow for the ongoing erosion and deposition of particulate materials as hydrodynamic conditions evolve in time and space.TUFLOW CATCH’s implementation of this method is described following.</p>
<div id="ProcessDescriptionsEro-4" class="section level4 hasAnchor" number="3.2.4.1">
<h4><span class="header-section-number">3.2.4.1</span> Erosion<a href="ProcessDescriptions-1.html#ProcessDescriptionsEro-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>TUFLOW CATCH allows for the specification of erosion behavior of any pollutant, on a spatially varying (material by material) basis. Even though this behaviour is specified per material, it used to undertake erosion calculations on a cell by cell basis at the beginning of every timestep. For example, if a user has specified a 5 metre TUFLOW HPC grid size, then erosion calculations will be undertaken at this same spatial resolution. As each pollutant erodes from its dry store mass, it is transferred to its wet store and advected/dispersed accordingly. This removal is tracked and reported at the end of a simulation as a loss to each cell’s dry store mass (kg/ha).</p>
<p>TUFLOW CATCH adopts the Mehta erosion model on a cell by cell basis, such that the erosive flux <span class="math inline">\(F_e\)</span> (g/m<span class="math inline">\(^2\)</span>/s) is given by Equation <a href="ProcessDescriptions-1.html#eq:equ-mehta-er">(3.2)</a></p>
<p><span class="math display" id="eq:equ-mehta-er">\[\begin{equation}
  F_e = E_r\left(\frac{\tau}{\tau_{ce}}-1\right)^{\alpha} \tag{3.2}
\end{equation}\]</span></p>
<p><span class="math inline">\(E_r\)</span> is the erosion rate constant (g/m<span class="math inline">\(^2\)</span>/s), <span class="math inline">\(\tau\)</span> is the hydrodynamic shear stress (N/m<span class="math inline">\(^2\)</span>), <span class="math inline">\(\tau_{ce}\)</span> is the user specified critical shear stress for erosion (N/m<span class="math inline">\(^2\)</span>), <span class="math inline">\(\alpha\)</span> is set to 1.0 and <span class="math inline">\(\tau &gt; \tau_{ce}\)</span>. TUFLOW CATCH does not deploy a bed roughness model so <span class="math inline">\(\tau\)</span> is the pure hydrodynamic shear stress calculated from cell velocity. Once computed, <span class="math inline">\(F_e\)</span> is multiplied by cell area and timestep to compute eroded mass flux. This eroded mass is tracked so that at simulation end, TUFLOW CATCH produces a map of eroded areas that allows for identification, fro example, of ‘hotspot’ erosion locations. Users can specify a limit to the mass of pollutant that is eroded within each material to simulate, for example, the attainment of bedrock. The cell water depth below which no erosion occurs is also user specifiable.</p>
<p>The relevant TUFLOW CATCH commands are described in Section <font color="red">XXXX.</font></p>
</div>
<div id="ProcessDescriptionsDep-4" class="section level4 hasAnchor" number="3.2.4.2">
<h4><span class="header-section-number">3.2.4.2</span> Deposition<a href="ProcessDescriptions-1.html#ProcessDescriptionsDep-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>TUFLOW CATCH allows for the specification of depositional behavior of any pollutant, on a spatially varying (material by material) basis. Even though this behaviour is specified per material, it used to undertake deposition calculations on a cell by cell basis at the beginning of every timestep. As each pollutant deposits from its wet store mass, it is transferred to its dry store mass. This deposition is tracked and reported at the end of a simulation as a gain to each cell’s dry store mass (kg/ha).</p>
<p>TUFLOW CATCH adopts the Krone deposition model on a cell by cell basis, such that the depositional flux <span class="math inline">\(F_d\)</span> (g/m<span class="math inline">\(^2\)</span>/s) is given by Equation <a href="ProcessDescriptions-1.html#eq:equ-krone-dp">(3.3)</a></p>
<p><span class="math display" id="eq:equ-krone-dp">\[\begin{equation}
  F_d = \left(1-\frac{\tau}{\tau_{cd}}\right)w_sC \tag{3.3}
\end{equation}\]</span></p>
<p><span class="math inline">\(\tau\)</span> is the raw hydrodynamic shear stress (N/m<span class="math inline">\(^2\)</span>), <span class="math inline">\(\tau_{cd}\)</span> is the user specified critical shear stress for deposition (N/m<span class="math inline">\(^2\)</span>), w<span class="math inline">\(_s\)</span> is the user specified settling velocity, <span class="math inline">\(C\)</span> is the wet store cell concentration of pollutant and <span class="math inline">\(\tau &lt; \tau_{cd}\)</span>.</p>
<p>The relevant TUFLOW CATCH commands are described in Section <font color="red">XXXX.</font></p>
<p><img src="images/WQFooter.jpg" width="100%" /></p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Architecture-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="SimulationConstruction-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": false,
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
