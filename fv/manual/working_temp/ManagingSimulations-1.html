<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 12 Managing And Starting Simulations | TUFLOW FV User Manual</title>
  <meta name="description" content="Section 12 Managing And Starting Simulations | TUFLOW FV User Manual" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 12 Managing And Starting Simulations | TUFLOW FV User Manual" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/1024in300px_Blue-01.svg" />
  <meta property="og:description" content="Section 12 Managing And Starting Simulations | TUFLOW FV User Manual" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 12 Managing And Starting Simulations | TUFLOW FV User Manual" />
  
  <meta name="twitter:description" content="Section 12 Managing And Starting Simulations | TUFLOW FV User Manual" />
  <meta name="twitter:image" content="/images/1024in300px_Blue-01.svg" />

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/TUFLOW.ico" type="image/x-icon" />
<link rel="prev" href="Hardware-1.html"/>
<link rel="next" href="CAL-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.2/visNetwork.js"></script>



<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 1em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://www.tuflow.com"><img src="images/1024in300px_Blue-01.svg" style="width:246px;height:68px;"></a></li>

<li class="divider"></li>
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i>Overview</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#about-this-manual"><i class="fa fa-check"></i>About this manual</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#how-to-use-this-manual"><i class="fa fa-check"></i>How to use this manual</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#navigation"><i class="fa fa-check"></i>Navigation</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#searching"><i class="fa fa-check"></i>Searching</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#tables"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#commands"><i class="fa fa-check"></i>Commands</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#parameter-notation"><i class="fa fa-check"></i>Parameter notation</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#feedback"><i class="fa fa-check"></i>Feedback</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Intro-1.html"><a href="Intro-1.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TP-2"><i class="fa fa-check"></i><b>1.1</b> TUFLOW Products</a></li>
<li class="chapter" data-level="1.2" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TFV-2"><i class="fa fa-check"></i><b>1.2</b> TUFLOW FV</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TFV-FMFVS-3"><i class="fa fa-check"></i><b>1.2.1</b> Flexible Mesh Finite Volume Solver</a></li>
<li class="chapter" data-level="1.2.2" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TFV-AOM-3"><i class="fa fa-check"></i><b>1.2.2</b> Add-on Modules</a></li>
<li class="chapter" data-level="1.2.3" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TFV-BS-3"><i class="fa fa-check"></i><b>1.2.3</b> Benchmarking Studies</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TW-2"><i class="fa fa-check"></i><b>1.3</b> TUFLOW Webinars</a></li>
<li class="chapter" data-level="1.4" data-path="Intro-1.html"><a href="Intro-1.html#Intro-ME-2"><i class="fa fa-check"></i><b>1.4</b> Modelling Environment</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Arch-1.html"><a href="Arch-1.html"><i class="fa fa-check"></i><b>2</b> Architecture</a>
<ul>
<li class="chapter" data-level="2.1" data-path="Arch-1.html"><a href="Arch-1.html#Arch-Cont-2"><i class="fa fa-check"></i><b>2.1</b> Context</a></li>
<li class="chapter" data-level="2.2" data-path="Arch-1.html"><a href="Arch-1.html#Arch-ST-2"><i class="fa fa-check"></i><b>2.2</b> Simulation Tiers</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="Arch-1.html"><a href="Arch-1.html#Arch-ST-SC-3"><i class="fa fa-check"></i><b>2.2.1</b> Tier 1: Simulation Class</a></li>
<li class="chapter" data-level="2.2.2" data-path="Arch-1.html"><a href="Arch-1.html#Arch-ST-MC-3"><i class="fa fa-check"></i><b>2.2.2</b> Tier 2: Model Class</a></li>
<li class="chapter" data-level="2.2.3" data-path="Arch-1.html"><a href="Arch-1.html#Arch-ST-Mode-3"><i class="fa fa-check"></i><b>2.2.3</b> Tier 3: Model Implementations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="GS-1.html"><a href="GS-1.html"><i class="fa fa-check"></i><b>3</b> Getting Started</a>
<ul>
<li class="chapter" data-level="3.1" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-2"><i class="fa fa-check"></i><b>3.1</b> How to Build Your First Model</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-TM-3"><i class="fa fa-check"></i><b>3.1.1</b> Tutorial Models</a></li>
<li class="chapter" data-level="3.1.2" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-EM-3"><i class="fa fa-check"></i><b>3.1.2</b> Example Models</a></li>
<li class="chapter" data-level="3.1.3" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-LFDM-3"><i class="fa fa-check"></i><b>3.1.3</b> Licence Free Demo Mode</a></li>
<li class="chapter" data-level="3.1.4" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-ILTTC-3"><i class="fa fa-check"></i><b>3.1.4</b> Instructor Led TUFLOW Training Courses</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="GS-1.html"><a href="GS-1.html#GS-TTMC-2"><i class="fa fa-check"></i><b>3.2</b> The TUFLOW Modelling Concept</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="GS-1.html"><a href="GS-1.html#GS-TTMC-NPP-3"><i class="fa fa-check"></i><b>3.2.1</b> Notepad++</a></li>
<li class="chapter" data-level="3.2.2" data-path="GS-1.html"><a href="GS-1.html#GS-TTMC-QGIS-3"><i class="fa fa-check"></i><b>3.2.2</b> QGIS / TUFLOW Viewer</a></li>
<li class="chapter" data-level="3.2.3" data-path="GS-1.html"><a href="GS-1.html#GS-TTMC-SMS-3"><i class="fa fa-check"></i><b>3.2.3</b> Aquaveo SMS Mesh Generator / TUFLOW FV Graphical User Interface</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="GS-1.html"><a href="GS-1.html#GS-IART-2"><i class="fa fa-check"></i><b>3.3</b> Installing and Running TUFLOW</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="GS-1.html"><a href="GS-1.html#GS-IART-TFVDAI-3"><i class="fa fa-check"></i><b>3.3.1</b> TUFLOW FV Downloads and Installation</a></li>
<li class="chapter" data-level="3.3.2" data-path="GS-1.html"><a href="GS-1.html#GS-IART-Lice-3"><i class="fa fa-check"></i><b>3.3.2</b> Licencing</a></li>
<li class="chapter" data-level="3.3.3" data-path="GS-1.html"><a href="GS-1.html#GS-IART-PS-3"><i class="fa fa-check"></i><b>3.3.3</b> Performing Simulations</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="GS-1.html"><a href="GS-1.html#GS-FFTAFN-TAT-3"><i class="fa fa-check"></i><b>3.4</b> Tips and Tricks</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="CF-1.html"><a href="CF-1.html"><i class="fa fa-check"></i><b>4</b> Folders, Control Files and Data Layers</a>
<ul>
<li class="chapter" data-level="4.1" data-path="CF-1.html"><a href="CF-1.html#CF-Intr-2"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="CF-1.html"><a href="CF-1.html#CF-FS-2"><i class="fa fa-check"></i><b>4.2</b> Folder Structure</a></li>
<li class="chapter" data-level="4.3" data-path="CF-1.html"><a href="CF-1.html#CF-CF-2"><i class="fa fa-check"></i><b>4.3</b> Control Files</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FVC-3"><i class="fa fa-check"></i><b>4.3.1</b> FVC</a></li>
<li class="chapter" data-level="4.3.2" data-path="CF-1.html"><a href="CF-1.html#CF-CF-TEF-3"><i class="fa fa-check"></i><b>4.3.2</b> TEF</a></li>
<li class="chapter" data-level="4.3.3" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FVSED-3"><i class="fa fa-check"></i><b>4.3.3</b> FVSED</a></li>
<li class="chapter" data-level="4.3.4" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FVWQ-3"><i class="fa fa-check"></i><b>4.3.4</b> FVWQ</a></li>
<li class="chapter" data-level="4.3.5" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FVPTM-3"><i class="fa fa-check"></i><b>4.3.5</b> FVPTM</a></li>
<li class="chapter" data-level="4.3.6" data-path="CF-1.html"><a href="CF-1.html#CF-CF-IF-3"><i class="fa fa-check"></i><b>4.3.6</b> Include File</a></li>
<li class="chapter" data-level="4.3.7" data-path="CF-1.html"><a href="CF-1.html#CF-CF-RAN-3"><i class="fa fa-check"></i><b>4.3.7</b> Rules and Notation</a></li>
<li class="chapter" data-level="4.3.8" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FP-3"><i class="fa fa-check"></i><b>4.3.8</b> File Paths</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="CF-1.html"><a href="CF-1.html#CF-IF-2"><i class="fa fa-check"></i><b>4.4</b> Input Files</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="CF-1.html"><a href="CF-1.html#CF-IF-Over-3"><i class="fa fa-check"></i><b>4.4.1</b> Overview</a></li>
<li class="chapter" data-level="4.4.2" data-path="CF-1.html"><a href="CF-1.html#CF-IF-ICSVF-3"><i class="fa fa-check"></i><b>4.4.2</b> Input CSV Files</a></li>
<li class="chapter" data-level="4.4.3" data-path="CF-1.html"><a href="CF-1.html#CF-IF-IGISL-3"><i class="fa fa-check"></i><b>4.4.3</b> Input GIS Layers</a></li>
<li class="chapter" data-level="4.4.4" data-path="CF-1.html"><a href="CF-1.html#CF-IF-INCF-3"><i class="fa fa-check"></i><b>4.4.4</b> Input NetCDF Files</a></li>
<li class="chapter" data-level="4.4.5" data-path="CF-1.html"><a href="CF-1.html#CF-IF-IMF-3"><i class="fa fa-check"></i><b>4.4.5</b> Input Mesh Files</a></li>
<li class="chapter" data-level="4.4.6" data-path="CF-1.html"><a href="CF-1.html#CF-IF-IRS-3"><i class="fa fa-check"></i><b>4.4.6</b> Input Restart Files</a></li>
<li class="chapter" data-level="4.4.7" data-path="CF-1.html"><a href="CF-1.html#CF-IF-ITF-3"><i class="fa fa-check"></i><b>4.4.7</b> Input Transport File</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="CF-1.html"><a href="CF-1.html#CF-LID-2"><i class="fa fa-check"></i><b>4.5</b> Layering Input Data</a></li>
<li class="chapter" data-level="4.6" data-path="CF-1.html"><a href="CF-1.html#CF-OF-2"><i class="fa fa-check"></i><b>4.6</b> Output Files</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OCSVF-3"><i class="fa fa-check"></i><b>4.6.1</b> Output CSV Files</a></li>
<li class="chapter" data-level="4.6.2" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OGISF-3"><i class="fa fa-check"></i><b>4.6.2</b> Output GIS Files</a></li>
<li class="chapter" data-level="4.6.3" data-path="CF-1.html"><a href="CF-1.html#CF-OF-ONCF-3"><i class="fa fa-check"></i><b>4.6.3</b> Output NetCDF Files</a></li>
<li class="chapter" data-level="4.6.4" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OTPC-3"><i class="fa fa-check"></i><b>4.6.4</b> Output TUFLOW Plot Control</a></li>
<li class="chapter" data-level="4.6.5" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OSL-3"><i class="fa fa-check"></i><b>4.6.5</b> Output Structure Logging</a></li>
<li class="chapter" data-level="4.6.6" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OSMSDF-3"><i class="fa fa-check"></i><b>4.6.6</b> Output SMS Data Files</a></li>
<li class="chapter" data-level="4.6.7" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OLF-3"><i class="fa fa-check"></i><b>4.6.7</b> Output Log File</a></li>
<li class="chapter" data-level="4.6.8" data-path="CF-1.html"><a href="CF-1.html#CF-OF-ORS-3"><i class="fa fa-check"></i><b>4.6.8</b> Output Restart Files</a></li>
<li class="chapter" data-level="4.6.9" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OTF-3"><i class="fa fa-check"></i><b>4.6.9</b> Output Transport File</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="HD2D-1.html"><a href="HD2D-1.html"><i class="fa fa-check"></i><b>5</b> Model Construction: 2D HD Simulation Class</a>
<ul>
<li class="chapter" data-level="5.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Over-2"><i class="fa fa-check"></i><b>5.1</b> Overview</a></li>
<li class="chapter" data-level="5.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MI-2"><i class="fa fa-check"></i><b>5.2</b> Model Initialisation</a></li>
<li class="chapter" data-level="5.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CRF-2"><i class="fa fa-check"></i><b>5.3</b> Coordinate Reference Frame</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CRF-CS-3"><i class="fa fa-check"></i><b>5.3.1</b> Command Status</a></li>
<li class="chapter" data-level="5.3.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CRF-Desc-3"><i class="fa fa-check"></i><b>5.3.2</b> Description</a></li>
<li class="chapter" data-level="5.3.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CRF-Exam-3"><i class="fa fa-check"></i><b>5.3.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-SO-2"><i class="fa fa-check"></i><b>5.4</b> Spatial Order</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-SO-CS-3"><i class="fa fa-check"></i><b>5.4.1</b> Command Status</a></li>
<li class="chapter" data-level="5.4.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-SO-Desc-3"><i class="fa fa-check"></i><b>5.4.2</b> Description</a></li>
<li class="chapter" data-level="5.4.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-SO-Exam-3"><i class="fa fa-check"></i><b>5.4.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Hard-2"><i class="fa fa-check"></i><b>5.5</b> Hardware</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Hard-CS-3"><i class="fa fa-check"></i><b>5.5.1</b> Command Status</a></li>
<li class="chapter" data-level="5.5.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Hard-Desc-3"><i class="fa fa-check"></i><b>5.5.2</b> Description</a></li>
<li class="chapter" data-level="5.5.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Hard-Exam-3"><i class="fa fa-check"></i><b>5.5.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-STS-2"><i class="fa fa-check"></i><b>5.6</b> Simulation Time Settings</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-STS-CS-3"><i class="fa fa-check"></i><b>5.6.1</b> Command Status</a></li>
<li class="chapter" data-level="5.6.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-STT-Desc-3"><i class="fa fa-check"></i><b>5.6.2</b> Description</a></li>
<li class="chapter" data-level="5.6.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-STS-Exam-3"><i class="fa fa-check"></i><b>5.6.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CT-2"><i class="fa fa-check"></i><b>5.7</b> Computational Timestep</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CT-CS-3"><i class="fa fa-check"></i><b>5.7.1</b> Command Status</a></li>
<li class="chapter" data-level="5.7.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CT-Desc-3"><i class="fa fa-check"></i><b>5.7.2</b> Description</a></li>
<li class="chapter" data-level="5.7.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CT-Exam-3"><i class="fa fa-check"></i><b>5.7.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-WAD-2"><i class="fa fa-check"></i><b>5.8</b> Wetting And Drying</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-WAD-CS-3"><i class="fa fa-check"></i><b>5.8.1</b> Command Status</a></li>
<li class="chapter" data-level="5.8.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-WAD-Desc-3"><i class="fa fa-check"></i><b>5.8.2</b> Description</a></li>
<li class="chapter" data-level="5.8.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-WAD-Exam-3"><i class="fa fa-check"></i><b>5.8.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BDM-2"><i class="fa fa-check"></i><b>5.9</b> Bottom Drag Model</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BDM-CS-3"><i class="fa fa-check"></i><b>5.9.1</b> Command Status</a></li>
<li class="chapter" data-level="5.9.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BDM-Desc-3"><i class="fa fa-check"></i><b>5.9.2</b> Description</a></li>
<li class="chapter" data-level="5.9.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BDM-Exam-3"><i class="fa fa-check"></i><b>5.9.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HMM-2"><i class="fa fa-check"></i><b>5.10</b> Horizontal Momentum Mixing</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HMM-CS-3"><i class="fa fa-check"></i><b>5.10.1</b> Command Status</a></li>
<li class="chapter" data-level="5.10.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HMM-Desc-3"><i class="fa fa-check"></i><b>5.10.2</b> Description</a></li>
<li class="chapter" data-level="5.10.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HMM-Exam-3"><i class="fa fa-check"></i><b>5.10.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-2"><i class="fa fa-check"></i><b>5.11</b> Computational Mesh</a>
<ul>
<li class="chapter" data-level="5.11.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-CS-3"><i class="fa fa-check"></i><b>5.11.1</b> Command Status</a></li>
<li class="chapter" data-level="5.11.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-Desc-3"><i class="fa fa-check"></i><b>5.11.2</b> Description</a></li>
<li class="chapter" data-level="5.11.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-UM-3"><i class="fa fa-check"></i><b>5.11.3</b> Unstructured Mesh</a></li>
<li class="chapter" data-level="5.11.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-UME-3"><i class="fa fa-check"></i><b>5.11.4</b> Unstructured Mesh Examples</a></li>
<li class="chapter" data-level="5.11.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-SM-3"><i class="fa fa-check"></i><b>5.11.5</b> Structured Mesh</a></li>
<li class="chapter" data-level="5.11.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-SME-3"><i class="fa fa-check"></i><b>5.11.6</b> Structured Mesh Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.12" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-2"><i class="fa fa-check"></i><b>5.12</b> Bathymetry</a>
<ul>
<li class="chapter" data-level="5.12.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-CS-3"><i class="fa fa-check"></i><b>5.12.1</b> Command Status</a></li>
<li class="chapter" data-level="5.12.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-Desc-3"><i class="fa fa-check"></i><b>5.12.2</b> Description</a></li>
<li class="chapter" data-level="5.12.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-SB-3"><i class="fa fa-check"></i><b>5.12.3</b> Static Bathymetry</a></li>
<li class="chapter" data-level="5.12.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-SBE-3"><i class="fa fa-check"></i><b>5.12.4</b> Static Bathymetry Examples</a></li>
<li class="chapter" data-level="5.12.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-TVB-3"><i class="fa fa-check"></i><b>5.12.5</b> Time Varying Bathymetry</a></li>
</ul></li>
<li class="chapter" data-level="5.13" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-2"><i class="fa fa-check"></i><b>5.13</b> Materials</a>
<ul>
<li class="chapter" data-level="5.13.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-CS-3"><i class="fa fa-check"></i><b>5.13.1</b> Command Status</a></li>
<li class="chapter" data-level="5.13.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-Desc-3"><i class="fa fa-check"></i><b>5.13.2</b> Description</a></li>
<li class="chapter" data-level="5.13.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-MSD-3"><i class="fa fa-check"></i><b>5.13.3</b> Material Spatial Definition</a></li>
<li class="chapter" data-level="5.13.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-MSDE-3"><i class="fa fa-check"></i><b>5.13.4</b> Material Spatial Definition Examples</a></li>
<li class="chapter" data-level="5.13.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-Prop-3"><i class="fa fa-check"></i><b>5.13.5</b> Material Properties</a></li>
<li class="chapter" data-level="5.13.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-MPE-3"><i class="fa fa-check"></i><b>5.13.6</b> Material Properties Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.14" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-2"><i class="fa fa-check"></i><b>5.14</b> Initial Conditions</a>
<ul>
<li class="chapter" data-level="5.14.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-CS-3"><i class="fa fa-check"></i><b>5.14.1</b> Command Status</a></li>
<li class="chapter" data-level="5.14.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-Desc-3"><i class="fa fa-check"></i><b>5.14.2</b> Description</a></li>
<li class="chapter" data-level="5.14.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-SC-3"><i class="fa fa-check"></i><b>5.14.3</b> Spatially Constant</a></li>
<li class="chapter" data-level="5.14.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-SV-3"><i class="fa fa-check"></i><b>5.14.4</b> Spatially Varying</a></li>
<li class="chapter" data-level="5.14.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-RF-3"><i class="fa fa-check"></i><b>5.14.5</b> Restart File</a></li>
<li class="chapter" data-level="5.14.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-Exam-3"><i class="fa fa-check"></i><b>5.14.6</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.15" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-2"><i class="fa fa-check"></i><b>5.15</b> Boundary Conditions</a>
<ul>
<li class="chapter" data-level="5.15.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-CS-3"><i class="fa fa-check"></i><b>5.15.1</b> Command Status</a></li>
<li class="chapter" data-level="5.15.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-Desc-3"><i class="fa fa-check"></i><b>5.15.2</b> Description</a></li>
<li class="chapter" data-level="5.15.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-BT-3"><i class="fa fa-check"></i><b>5.15.3</b> Boundary Types</a></li>
<li class="chapter" data-level="5.15.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-BLD-3"><i class="fa fa-check"></i><b>5.15.4</b> Boundary Location Definition</a></li>
<li class="chapter" data-level="5.15.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-BCB-3"><i class="fa fa-check"></i><b>5.15.5</b> Boundary Condition Block</a></li>
<li class="chapter" data-level="5.15.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-BCSWE-4"><i class="fa fa-check"></i><b>5.15.6</b> Boundary Condition Specification - Worked Example</a></li>
<li class="chapter" data-level="5.15.7" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-WL-3"><i class="fa fa-check"></i><b>5.15.7</b> Water Level</a></li>
<li class="chapter" data-level="5.15.8" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-IO-3"><i class="fa fa-check"></i><b>5.15.8</b> Inflow/Outflow</a></li>
<li class="chapter" data-level="5.15.9" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-DS-3"><i class="fa fa-check"></i><b>5.15.9</b> Stage-Discharge</a></li>
<li class="chapter" data-level="5.15.10" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-Atmo-3"><i class="fa fa-check"></i><b>5.15.10</b> Atmospheric</a></li>
<li class="chapter" data-level="5.15.11" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-SW-3"><i class="fa fa-check"></i><b>5.15.11</b> Spectral Wave</a></li>
<li class="chapter" data-level="5.15.12" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-Forc-3"><i class="fa fa-check"></i><b>5.15.12</b> Force</a></li>
<li class="chapter" data-level="5.15.13" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-ZGAR-3"><i class="fa fa-check"></i><b>5.15.13</b> Zero Gradient And Reflective</a></li>
</ul></li>
<li class="chapter" data-level="5.16" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-2"><i class="fa fa-check"></i><b>5.16</b> Hydraulic Structures</a>
<ul>
<li class="chapter" data-level="5.16.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-CS-3"><i class="fa fa-check"></i><b>5.16.1</b> Command Status</a></li>
<li class="chapter" data-level="5.16.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Desc-3"><i class="fa fa-check"></i><b>5.16.2</b> Description</a></li>
<li class="chapter" data-level="5.16.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-ST-3"><i class="fa fa-check"></i><b>5.16.3</b> Structure Types</a></li>
<li class="chapter" data-level="5.16.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-SCT-3"><i class="fa fa-check"></i><b>5.16.4</b> Structure Connection Types</a></li>
<li class="chapter" data-level="5.16.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-SB-3"><i class="fa fa-check"></i><b>5.16.5</b> Structure Block</a></li>
<li class="chapter" data-level="5.16.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Weir-3"><i class="fa fa-check"></i><b>5.16.6</b> Weirs</a></li>
<li class="chapter" data-level="5.16.7" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Culv-3"><i class="fa fa-check"></i><b>5.16.7</b> Culverts</a></li>
<li class="chapter" data-level="5.16.8" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Brid-3"><i class="fa fa-check"></i><b>5.16.8</b> Bridges</a></li>
<li class="chapter" data-level="5.16.9" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-PS-3"><i class="fa fa-check"></i><b>5.16.9</b> Porous Structures</a></li>
<li class="chapter" data-level="5.16.10" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-UDM-3"><i class="fa fa-check"></i><b>5.16.10</b> User-Defined Matrix</a></li>
<li class="chapter" data-level="5.16.11" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-UDT-3"><i class="fa fa-check"></i><b>5.16.11</b> User-Defined Timeseries</a></li>
<li class="chapter" data-level="5.16.12" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Pump-3"><i class="fa fa-check"></i><b>5.16.12</b> Pumps</a></li>
<li class="chapter" data-level="5.16.13" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Wall-3"><i class="fa fa-check"></i><b>5.16.13</b> Walls</a></li>
<li class="chapter" data-level="5.16.14" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-VB-3"><i class="fa fa-check"></i><b>5.16.14</b> Variable Bathymetry</a></li>
<li class="chapter" data-level="5.16.15" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-OSAVB-3"><i class="fa fa-check"></i><b>5.16.15</b> Operational Structures And Variable Bathymetry</a></li>
<li class="chapter" data-level="5.16.16" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-TS-3"><i class="fa fa-check"></i><b>5.16.16</b> Treatment Structure</a></li>
</ul></li>
<li class="chapter" data-level="5.17" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-2"><i class="fa fa-check"></i><b>5.17</b> Model Outputs</a>
<ul>
<li class="chapter" data-level="5.17.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-Poin-3"><i class="fa fa-check"></i><b>5.17.1</b> Point</a></li>
<li class="chapter" data-level="5.17.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-PL-3"><i class="fa fa-check"></i><b>5.17.2</b> Polyline</a></li>
<li class="chapter" data-level="5.17.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-Mesh-3"><i class="fa fa-check"></i><b>5.17.3</b> Mesh</a></li>
<li class="chapter" data-level="5.17.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-MB-3"><i class="fa fa-check"></i><b>5.17.4</b> Mass Balance</a></li>
<li class="chapter" data-level="5.17.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-Stru-3"><i class="fa fa-check"></i><b>5.17.5</b> Structure</a></li>
<li class="chapter" data-level="5.17.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-Log-3"><i class="fa fa-check"></i><b>5.17.6</b> Log Files And Diagnostics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="HD3D-1.html"><a href="HD3D-1.html"><i class="fa fa-check"></i><b>6</b> Model Construction: 3D HD Simulation Class</a>
<ul>
<li class="chapter" data-level="6.1" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-Over-2"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-SO-2"><i class="fa fa-check"></i><b>6.2</b> Spatial Order</a></li>
<li class="chapter" data-level="6.3" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-VMM-2"><i class="fa fa-check"></i><b>6.3</b> Vertical Momentum Mixing</a></li>
<li class="chapter" data-level="6.4" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-CM-2"><i class="fa fa-check"></i><b>6.4</b> Computational Mesh</a></li>
<li class="chapter" data-level="6.5" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-Mate-2"><i class="fa fa-check"></i><b>6.5</b> Materials</a></li>
<li class="chapter" data-level="6.6" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-IC-2"><i class="fa fa-check"></i><b>6.6</b> Initial Conditions</a></li>
<li class="chapter" data-level="6.7" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-BC-2"><i class="fa fa-check"></i><b>6.7</b> Boundary Conditions</a></li>
<li class="chapter" data-level="6.8" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-HS-2"><i class="fa fa-check"></i><b>6.8</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="6.9" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-MO-2"><i class="fa fa-check"></i><b>6.9</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="AD-1.html"><a href="AD-1.html"><i class="fa fa-check"></i><b>7</b> Model Construction: AD Simulation Class</a>
<ul>
<li class="chapter" data-level="7.1" data-path="AD-1.html"><a href="AD-1.html#AD-Over-2"><i class="fa fa-check"></i><b>7.1</b> Overview</a></li>
<li class="chapter" data-level="7.2" data-path="AD-1.html"><a href="AD-1.html#AD-TempM-2"><i class="fa fa-check"></i><b>7.2</b> Temperature Model</a></li>
<li class="chapter" data-level="7.3" data-path="AD-1.html"><a href="AD-1.html#AD-TraceM-2"><i class="fa fa-check"></i><b>7.3</b> Tracer Model</a></li>
<li class="chapter" data-level="7.4" data-path="AD-1.html"><a href="AD-1.html#AD-SMM-2"><i class="fa fa-check"></i><b>7.4</b> Scalar Mixing Model</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="AD-1.html"><a href="AD-1.html#AD-SMM-Hori-3"><i class="fa fa-check"></i><b>7.4.1</b> Horizontal</a></li>
<li class="chapter" data-level="7.4.2" data-path="AD-1.html"><a href="AD-1.html#AD-SMM-Vert-3"><i class="fa fa-check"></i><b>7.4.2</b> Vertical</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="AD-1.html"><a href="AD-1.html#AD-AHE-2"><i class="fa fa-check"></i><b>7.5</b> Atmospheric Heat Exchange</a></li>
<li class="chapter" data-level="7.6" data-path="AD-1.html"><a href="AD-1.html#AD-SRM-2"><i class="fa fa-check"></i><b>7.6</b> Shortwave Radiation Model</a></li>
<li class="chapter" data-level="7.7" data-path="AD-1.html"><a href="AD-1.html#AD-LRM-2"><i class="fa fa-check"></i><b>7.7</b> Longwave Radiation Model</a></li>
<li class="chapter" data-level="7.8" data-path="AD-1.html"><a href="AD-1.html#AD-LHM-2"><i class="fa fa-check"></i><b>7.8</b> Latent Heat Model</a></li>
<li class="chapter" data-level="7.9" data-path="AD-1.html"><a href="AD-1.html#AD-Mate-2"><i class="fa fa-check"></i><b>7.9</b> Materials</a></li>
<li class="chapter" data-level="7.10" data-path="AD-1.html"><a href="AD-1.html#AD-IC-2"><i class="fa fa-check"></i><b>7.10</b> Initial Conditions</a></li>
<li class="chapter" data-level="7.11" data-path="AD-1.html"><a href="AD-1.html#AD-BC-2"><i class="fa fa-check"></i><b>7.11</b> Boundary Conditions</a>
<ul>
<li class="chapter" data-level="7.11.1" data-path="AD-1.html"><a href="AD-1.html#AD-BC-BT-3"><i class="fa fa-check"></i><b>7.11.1</b> Boundary Types</a></li>
<li class="chapter" data-level="7.11.2" data-path="AD-1.html"><a href="AD-1.html#AD-BC-BLD-3"><i class="fa fa-check"></i><b>7.11.2</b> Boundary Location Definition</a></li>
<li class="chapter" data-level="7.11.3" data-path="AD-1.html"><a href="AD-1.html#AD-BC-OCM-3"><i class="fa fa-check"></i><b>7.11.3</b> Ocean Circulation Model</a></li>
<li class="chapter" data-level="7.11.4" data-path="AD-1.html"><a href="AD-1.html#AD-BC-Mass-3"><i class="fa fa-check"></i><b>7.11.4</b> Mass</a></li>
<li class="chapter" data-level="7.11.5" data-path="AD-1.html"><a href="AD-1.html#AD-BC-SC-3"><i class="fa fa-check"></i><b>7.11.5</b> Scalar Concentration</a></li>
<li class="chapter" data-level="7.11.6" data-path="AD-1.html"><a href="AD-1.html#AD-BC-TF-3"><i class="fa fa-check"></i><b>7.11.6</b> Transport File</a></li>
</ul></li>
<li class="chapter" data-level="7.12" data-path="AD-1.html"><a href="AD-1.html#AD-HS-2"><i class="fa fa-check"></i><b>7.12</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="7.13" data-path="AD-1.html"><a href="AD-1.html#AD-MO-2"><i class="fa fa-check"></i><b>7.13</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ST-1.html"><a href="ST-1.html"><i class="fa fa-check"></i><b>8</b> Model Construction: ST Simulation Class</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ST-1.html"><a href="ST-1.html#ST-Over-2"><i class="fa fa-check"></i><b>8.1</b> Overview</a></li>
<li class="chapter" data-level="8.2" data-path="ST-1.html"><a href="ST-1.html#ST-SM-2"><i class="fa fa-check"></i><b>8.2</b> Sediment Model</a></li>
<li class="chapter" data-level="8.3" data-path="ST-1.html"><a href="ST-1.html#ST-SC-2"><i class="fa fa-check"></i><b>8.3</b> Sediment Configuration</a></li>
<li class="chapter" data-level="8.4" data-path="ST-1.html"><a href="ST-1.html#ST-IC-2"><i class="fa fa-check"></i><b>8.4</b> Initial Conditions</a></li>
<li class="chapter" data-level="8.5" data-path="ST-1.html"><a href="ST-1.html#ST-BC-2"><i class="fa fa-check"></i><b>8.5</b> Boundary Conditions</a></li>
<li class="chapter" data-level="8.6" data-path="ST-1.html"><a href="ST-1.html#ST-HS-2"><i class="fa fa-check"></i><b>8.6</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="8.7" data-path="ST-1.html"><a href="ST-1.html#ST-MO-2"><i class="fa fa-check"></i><b>8.7</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="WQ-1.html"><a href="WQ-1.html"><i class="fa fa-check"></i><b>9</b> Model Construction: WQ Simulation Class</a>
<ul>
<li class="chapter" data-level="9.1" data-path="WQ-1.html"><a href="WQ-1.html#WQ-Over-2"><i class="fa fa-check"></i><b>9.1</b> Overview</a></li>
<li class="chapter" data-level="9.2" data-path="WQ-1.html"><a href="WQ-1.html#WQ-WQM-2"><i class="fa fa-check"></i><b>9.2</b> Water Quality Model</a></li>
<li class="chapter" data-level="9.3" data-path="WQ-1.html"><a href="WQ-1.html#WQ-WQC-2"><i class="fa fa-check"></i><b>9.3</b> Water Quality Configuration</a></li>
<li class="chapter" data-level="9.4" data-path="WQ-1.html"><a href="WQ-1.html#WQ-IC-2"><i class="fa fa-check"></i><b>9.4</b> Initial Conditions</a></li>
<li class="chapter" data-level="9.5" data-path="WQ-1.html"><a href="WQ-1.html#WQ-BC-2"><i class="fa fa-check"></i><b>9.5</b> Boundary Conditions</a></li>
<li class="chapter" data-level="9.6" data-path="WQ-1.html"><a href="WQ-1.html#WQ-HS-2"><i class="fa fa-check"></i><b>9.6</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="9.7" data-path="WQ-1.html"><a href="WQ-1.html#WQ-MO-2"><i class="fa fa-check"></i><b>9.7</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="PT-1.html"><a href="PT-1.html"><i class="fa fa-check"></i><b>10</b> Model Construction: PT Simulation Class</a>
<ul>
<li class="chapter" data-level="10.1" data-path="PT-1.html"><a href="PT-1.html#PT-Over-2"><i class="fa fa-check"></i><b>10.1</b> Overview</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="Hardware-1.html"><a href="Hardware-1.html"><i class="fa fa-check"></i><b>11</b> Hardware And Operating System</a>
<ul>
<li class="chapter" data-level="11.1" data-path="Hardware-1.html"><a href="Hardware-1.html#Hardware-2"><i class="fa fa-check"></i><b>11.1</b> Context</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html"><i class="fa fa-check"></i><b>12</b> Managing And Starting Simulations</a>
<ul>
<li class="chapter" data-level="12.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#RunningSimulationsIntro-2"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#FileNaming-2"><i class="fa fa-check"></i><b>12.2</b> File Naming</a></li>
<li class="chapter" data-level="12.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#SimulationManagement-2"><i class="fa fa-check"></i><b>12.3</b> Simulation Management</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#TimeOutputControls-3"><i class="fa fa-check"></i><b>12.3.1</b> Time and Output Controls</a></li>
<li class="chapter" data-level="12.3.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#Events-3"><i class="fa fa-check"></i><b>12.3.2</b> Events</a></li>
<li class="chapter" data-level="12.3.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#Scenarios-3"><i class="fa fa-check"></i><b>12.3.3</b> Scenarios</a></li>
<li class="chapter" data-level="12.3.4" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#Variables-3"><i class="fa fa-check"></i><b>12.3.4</b> Variables</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#TUFLOWExecDownload-2"><i class="fa fa-check"></i><b>12.4</b> TUFLOW Executable Download</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#InstallOverview-3"><i class="fa fa-check"></i><b>12.4.1</b> Overview and Where to Install</a></li>
<li class="chapter" data-level="12.4.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#iSPdSP-3"><i class="fa fa-check"></i><b>12.4.2</b> Single and Double Precision</a></li>
<li class="chapter" data-level="12.4.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#CustomingTUFLOW-3"><i class="fa fa-check"></i><b>12.4.3</b> Customising TUFLOW using TUFLOW_USER_DEFINED.dll</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#RunningSims-2"><i class="fa fa-check"></i><b>12.5</b> Running Simulations</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#DongleTypesandSetup-3"><i class="fa fa-check"></i><b>12.5.1</b> Dongle Types and Setup</a></li>
<li class="chapter" data-level="12.5.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#StartingaSim-3"><i class="fa fa-check"></i><b>12.5.2</b> Starting a Simulation</a></li>
<li class="chapter" data-level="12.5.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#SMSSimulations-3"><i class="fa fa-check"></i><b>12.5.3</b> Using TUFLOW FV with SMS</a></li>
<li class="chapter" data-level="12.5.4" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#OptimisingSims-3"><i class="fa fa-check"></i><b>12.5.4</b> Optimising Startup and Run Times</a></li>
<li class="chapter" data-level="12.5.5" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#AutoTerminateOptions-3"><i class="fa fa-check"></i><b>12.5.5</b> Auto Terminate (Simulation End) Options</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplication-3"><i class="fa fa-check"></i><b>12.6</b> Reproducibility of Results</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplicationClassic-3"><i class="fa fa-check"></i><b>12.6.1</b> TUFLOW Classic (CPU only)</a></li>
<li class="chapter" data-level="12.6.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplicationHPCCPU-3"><i class="fa fa-check"></i><b>12.6.2</b> TUFLOW HPC (incl. Quadtree) on CPU</a></li>
<li class="chapter" data-level="12.6.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplicationHPCGPU-3"><i class="fa fa-check"></i><b>12.6.3</b> TUFLOW HPC (incl. Quadtree) on GPU</a></li>
<li class="chapter" data-level="12.6.4" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplicationHPCMultiThread-3"><i class="fa fa-check"></i><b>12.6.4</b> TUFLOW HPC (incl. Quadtree) on multiple GPUs / CPU threads</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="CAL-1.html"><a href="CAL-1.html"><i class="fa fa-check"></i><b>13</b> Checks And Logs</a>
<ul>
<li class="chapter" data-level="13.1" data-path="CAL-1.html"><a href="CAL-1.html#CAL-Cont-2"><i class="fa fa-check"></i><b>13.1</b> Context</a></li>
<li class="chapter" data-level="13.2" data-path="CAL-1.html"><a href="CAL-1.html#CAL-TLF-2"><i class="fa fa-check"></i><b>13.2</b> TUFLOW FV Log File</a></li>
<li class="chapter" data-level="13.3" data-path="CAL-1.html"><a href="CAL-1.html#CAL-MD-2"><i class="fa fa-check"></i><b>13.3</b> Mesh Diagnostics</a></li>
<li class="chapter" data-level="13.4" data-path="CAL-1.html"><a href="CAL-1.html#CAL-GCF-2"><i class="fa fa-check"></i><b>13.4</b> GIS Check Files</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="ViewingOutputs-1.html"><a href="ViewingOutputs-1.html"><i class="fa fa-check"></i><b>14</b> Viewing Outputs</a>
<ul>
<li class="chapter" data-level="14.1" data-path="ViewingOutputs-1.html"><a href="ViewingOutputs-1.html#ViewingOutputs-2"><i class="fa fa-check"></i><b>14.1</b> Context</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="QAAndTroubleshooting-1.html"><a href="QAAndTroubleshooting-1.html"><i class="fa fa-check"></i><b>15</b> QA And Troubleshooting</a>
<ul>
<li class="chapter" data-level="15.1" data-path="QAAndTroubleshooting-1.html"><a href="QAAndTroubleshooting-1.html#QAAndTroubleshooting-2"><i class="fa fa-check"></i><b>15.1</b> Context</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="AppCommands.html"><a href="AppCommands.html"><i class="fa fa-check"></i><b>A</b> Commands</a>
<ul>
<li class="chapter" data-level="A.1" data-path="AppCommands.html"><a href="AppCommands.html#Appcmdsyn"><i class="fa fa-check"></i><b>A.1</b> Command syntax</a></li>
<li class="chapter" data-level="A.2" data-path="AppCommands.html"><a href="AppCommands.html#Appargmtsyn"><i class="fa fa-check"></i><b>A.2</b> Argument syntax</a></li>
<li class="chapter" data-level="A.3" data-path="AppCommands.html"><a href="AppCommands.html#Appcmds"><i class="fa fa-check"></i><b>A.3</b> Commands</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="AppParams.html"><a href="AppParams.html"><i class="fa fa-check"></i><b>B</b> Parameters</a></li>
<li class="chapter" data-level="C" data-path="AppFiles.html"><a href="AppFiles.html"><i class="fa fa-check"></i><b>C</b> Files and Data Fields</a>
<ul>
<li class="chapter" data-level="C.1" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsSurfConc"><i class="fa fa-check"></i><b>C.1</b> Surface water concentrations</a></li>
<li class="chapter" data-level="C.2" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsGWConc"><i class="fa fa-check"></i><b>C.2</b> Groundwater concentrations</a></li>
<li class="chapter" data-level="C.3" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsDryMass"><i class="fa fa-check"></i><b>C.3</b> Dry mass</a></li>
<li class="chapter" data-level="C.4" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsNetMass"><i class="fa fa-check"></i><b>C.4</b> Net mass</a></li>
<li class="chapter" data-level="C.5" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsOther"><i class="fa fa-check"></i><b>C.5</b> Other outputs</a>
<ul>
<li class="chapter" data-level="C.5.1" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsOtherMB"><i class="fa fa-check"></i><b>C.5.1</b> Mass balance</a></li>
<li class="chapter" data-level="C.5.2" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsOtherRP"><i class="fa fa-check"></i><b>C.5.2</b> Receiving polygon</a></li>
<li class="chapter" data-level="C.5.3" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsOtherFV"><i class="fa fa-check"></i><b>C.5.3</b> TUFLOW FV boundaries</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="D" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html"><i class="fa fa-check"></i><b>D</b> Processes: Governing Equations And Numerical Scheme</a>
<ul>
<li class="chapter" data-level="D.1" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#AppProc-GE-Cont-2"><i class="fa fa-check"></i><b>D.1</b> Context</a></li>
<li class="chapter" data-level="D.2" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#AppProc-GE-GE-2"><i class="fa fa-check"></i><b>D.2</b> Governing Equations</a></li>
<li class="chapter" data-level="D.3" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#scalar-conservation-equations"><i class="fa fa-check"></i><b>D.3</b> Scalar Conservation Equations</a></li>
<li class="chapter" data-level="D.4" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#units"><i class="fa fa-check"></i><b>D.4</b> Units</a>
<ul>
<li class="chapter" data-level="D.4.1" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#master-variables-table-cell-centre-state-variables-2d"><i class="fa fa-check"></i><b>D.4.1</b> Master Variables Table — Cell-centre State Variables (2D)</a></li>
<li class="chapter" data-level="D.4.2" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#face-flux-densities-per-unit-face-length-2d"><i class="fa fa-check"></i><b>D.4.2</b> Face Flux Densities — Per Unit Face Length (2D)</a></li>
<li class="chapter" data-level="D.4.3" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#cell-centre-sources-per-unit-area-x-equation-2d"><i class="fa fa-check"></i><b>D.4.3</b> Cell-centre Sources — Per Unit Area (x-equation) (2D)</a></li>
<li class="chapter" data-level="D.4.4" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#how-it-all-links-in-fv-updates"><i class="fa fa-check"></i><b>D.4.4</b> 4. How it all links in FV updates</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#AppProc-GE-CT-2"><i class="fa fa-check"></i><b>D.5</b> Cell Topology</a></li>
<li class="chapter" data-level="D.6" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#AppProc-GE-SN-2"><i class="fa fa-check"></i><b>D.6</b> Numerical Scheme</a>
<ul>
<li class="chapter" data-level="D.6.1" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#discrete-system"><i class="fa fa-check"></i><b>D.6.1</b> Discrete System</a></li>
<li class="chapter" data-level="D.6.2" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#mode-splitting"><i class="fa fa-check"></i><b>D.6.2</b> Mode Splitting</a></li>
<li class="chapter" data-level="D.6.3" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#flux-terms"><i class="fa fa-check"></i><b>D.6.3</b> Flux Terms</a></li>
<li class="chapter" data-level="D.6.4" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#time-integration"><i class="fa fa-check"></i><b>D.6.4</b> Time Integration</a></li>
<li class="chapter" data-level="D.6.5" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#wetting-and-drying"><i class="fa fa-check"></i><b>D.6.5</b> Wetting and Drying</a></li>
<li class="chapter" data-level="D.6.6" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#source-terms"><i class="fa fa-check"></i><b>D.6.6</b> Source Terms</a></li>
</ul></li>
<li class="chapter" data-level="D.7" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#atmospheric-heat-exchange"><i class="fa fa-check"></i><b>D.7</b> Atmospheric Heat Exchange</a></li>
<li class="chapter" data-level="D.8" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#references"><i class="fa fa-check"></i><b>D.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="App2DHD-1.html"><a href="App2DHD-1.html"><i class="fa fa-check"></i><b>E</b> Processes: 2D HD Simulation Class</a>
<ul>
<li class="chapter" data-level="E.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Cont-2"><i class="fa fa-check"></i><b>E.1</b> Context</a></li>
<li class="chapter" data-level="E.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MI-2"><i class="fa fa-check"></i><b>E.2</b> Model Initialisation</a></li>
<li class="chapter" data-level="E.3" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CRF-2"><i class="fa fa-check"></i><b>E.3</b> Coordinate Reference Frame</a>
<ul>
<li class="chapter" data-level="E.3.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CRF-Scie-3"><i class="fa fa-check"></i><b>E.3.1</b> Science</a></li>
<li class="chapter" data-level="E.3.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CRF-GUG-3"><i class="fa fa-check"></i><b>E.3.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.4" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-SO-2"><i class="fa fa-check"></i><b>E.4</b> Spatial Order</a>
<ul>
<li class="chapter" data-level="E.4.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-SO-Scie-3"><i class="fa fa-check"></i><b>E.4.1</b> Science</a></li>
<li class="chapter" data-level="E.4.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-SO-GUG-3"><i class="fa fa-check"></i><b>E.4.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.5" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Hard-2"><i class="fa fa-check"></i><b>E.5</b> Hardware</a>
<ul>
<li class="chapter" data-level="E.5.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Hard-Scie-3"><i class="fa fa-check"></i><b>E.5.1</b> Science</a></li>
<li class="chapter" data-level="E.5.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Hard-GUG-3"><i class="fa fa-check"></i><b>E.5.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.6" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-STS-2"><i class="fa fa-check"></i><b>E.6</b> Simulation Time Settings</a>
<ul>
<li class="chapter" data-level="E.6.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-STS-Scie-3"><i class="fa fa-check"></i><b>E.6.1</b> Science</a></li>
<li class="chapter" data-level="E.6.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-STS-GUG-3"><i class="fa fa-check"></i><b>E.6.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.7" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CT-2"><i class="fa fa-check"></i><b>E.7</b> Computational Timestep</a>
<ul>
<li class="chapter" data-level="E.7.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CT-Scie-3"><i class="fa fa-check"></i><b>E.7.1</b> Science</a></li>
<li class="chapter" data-level="E.7.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CT-GUG-3"><i class="fa fa-check"></i><b>E.7.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.8" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-WAD-2"><i class="fa fa-check"></i><b>E.8</b> Wetting And Drying</a>
<ul>
<li class="chapter" data-level="E.8.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-WAD-Scie-3"><i class="fa fa-check"></i><b>E.8.1</b> Science</a></li>
<li class="chapter" data-level="E.8.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-WAD-GUG-3"><i class="fa fa-check"></i><b>E.8.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.9" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BDM-2"><i class="fa fa-check"></i><b>E.9</b> Bottom Drag Model</a>
<ul>
<li class="chapter" data-level="E.9.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BDM-Scie-3"><i class="fa fa-check"></i><b>E.9.1</b> Science</a></li>
<li class="chapter" data-level="E.9.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BDM-GUG-3"><i class="fa fa-check"></i><b>E.9.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.10" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MMM-2"><i class="fa fa-check"></i><b>E.10</b> Momentum Mixing Model</a>
<ul>
<li class="chapter" data-level="E.10.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MMM-Scie-3"><i class="fa fa-check"></i><b>E.10.1</b> Science</a></li>
<li class="chapter" data-level="E.10.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MMM-GUG-3"><i class="fa fa-check"></i><b>E.10.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.11" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CM-2"><i class="fa fa-check"></i><b>E.11</b> Computational Mesh</a>
<ul>
<li class="chapter" data-level="E.11.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CM-Scie-3"><i class="fa fa-check"></i><b>E.11.1</b> Science</a></li>
<li class="chapter" data-level="E.11.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CM-GUG-3"><i class="fa fa-check"></i><b>E.11.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.12" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Bath-2"><i class="fa fa-check"></i><b>E.12</b> Bathymetry</a>
<ul>
<li class="chapter" data-level="E.12.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Bath-Scie-3"><i class="fa fa-check"></i><b>E.12.1</b> Science</a></li>
<li class="chapter" data-level="E.12.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Bath-GUG-3"><i class="fa fa-check"></i><b>E.12.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.13" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Mate-2"><i class="fa fa-check"></i><b>E.13</b> Materials</a>
<ul>
<li class="chapter" data-level="E.13.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Mate-Scie-3"><i class="fa fa-check"></i><b>E.13.1</b> Science</a></li>
</ul></li>
<li class="chapter" data-level="E.14" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-IC-2"><i class="fa fa-check"></i><b>E.14</b> Initial Conditions</a>
<ul>
<li class="chapter" data-level="E.14.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-IC-Scie-3"><i class="fa fa-check"></i><b>E.14.1</b> Science</a></li>
<li class="chapter" data-level="E.14.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-IC-GUG-3"><i class="fa fa-check"></i><b>E.14.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.15" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BC-2"><i class="fa fa-check"></i><b>E.15</b> Boundary Conditions</a>
<ul>
<li class="chapter" data-level="E.15.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BC-Scie-3"><i class="fa fa-check"></i><b>E.15.1</b> Science</a></li>
<li class="chapter" data-level="E.15.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BC-GUG-3"><i class="fa fa-check"></i><b>E.15.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.16" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-HS-2"><i class="fa fa-check"></i><b>E.16</b> Hydraulic Structures</a>
<ul>
<li class="chapter" data-level="E.16.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-HS-Scie-3"><i class="fa fa-check"></i><b>E.16.1</b> Science</a></li>
<li class="chapter" data-level="E.16.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-HS-OSAVB-3"><i class="fa fa-check"></i><b>E.16.2</b> Operational Structures And Variable Bathymetry</a></li>
<li class="chapter" data-level="E.16.3" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-HS-GUG-3"><i class="fa fa-check"></i><b>E.16.3</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.17" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MO-2"><i class="fa fa-check"></i><b>E.17</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="App3DHD-1.html"><a href="App3DHD-1.html"><i class="fa fa-check"></i><b>F</b> Processes: 3D HD Simulation Class</a>
<ul>
<li class="chapter" data-level="F.1" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-Cont-2"><i class="fa fa-check"></i><b>F.1</b> Context</a></li>
<li class="chapter" data-level="F.2" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-SO-2"><i class="fa fa-check"></i><b>F.2</b> Spatial Order</a></li>
<li class="chapter" data-level="F.3" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-CT-2"><i class="fa fa-check"></i><b>F.3</b> Computational Timestep</a>
<ul>
<li class="chapter" data-level="F.3.1" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-CT-Cont-3"><i class="fa fa-check"></i><b>F.3.1</b> Context</a></li>
<li class="chapter" data-level="F.3.2" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-CT-Scie-3"><i class="fa fa-check"></i><b>F.3.2</b> Science</a></li>
</ul></li>
<li class="chapter" data-level="F.4" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-VMM-2"><i class="fa fa-check"></i><b>F.4</b> Vertical Mixing Model</a></li>
<li class="chapter" data-level="F.5" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-CM-2"><i class="fa fa-check"></i><b>F.5</b> Computational Mesh</a></li>
<li class="chapter" data-level="F.6" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-IC-2"><i class="fa fa-check"></i><b>F.6</b> Initial Conditions</a></li>
<li class="chapter" data-level="F.7" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-BC-2"><i class="fa fa-check"></i><b>F.7</b> Boundary Conditions</a></li>
<li class="chapter" data-level="F.8" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-HS-2"><i class="fa fa-check"></i><b>F.8</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="F.9" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-MO-2"><i class="fa fa-check"></i><b>F.9</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="G" data-path="AppAD-1.html"><a href="AppAD-1.html"><i class="fa fa-check"></i><b>G</b> Processes: AD Simulation Class</a>
<ul>
<li class="chapter" data-level="G.1" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-Cont-2"><i class="fa fa-check"></i><b>G.1</b> Context</a></li>
<li class="chapter" data-level="G.2" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-SM-2"><i class="fa fa-check"></i><b>G.2</b> Salinity Model</a></li>
<li class="chapter" data-level="G.3" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-TempM-2"><i class="fa fa-check"></i><b>G.3</b> Temperature Model</a></li>
<li class="chapter" data-level="G.4" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-TraceM-2"><i class="fa fa-check"></i><b>G.4</b> Tracer Model</a></li>
<li class="chapter" data-level="G.5" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-CT-2"><i class="fa fa-check"></i><b>G.5</b> Computational Timestep</a>
<ul>
<li class="chapter" data-level="G.5.1" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-CT-Cont-3"><i class="fa fa-check"></i><b>G.5.1</b> Context</a></li>
<li class="chapter" data-level="G.5.2" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-CT-Scie-3"><i class="fa fa-check"></i><b>G.5.2</b> Science</a></li>
</ul></li>
<li class="chapter" data-level="G.6" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-SMM-2"><i class="fa fa-check"></i><b>G.6</b> Scalar Mixing Model</a></li>
<li class="chapter" data-level="G.7" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-2"><i class="fa fa-check"></i><b>G.7</b> Atmospheric Heat Exchange</a>
<ul>
<li class="chapter" data-level="G.7.1" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-Cont-3"><i class="fa fa-check"></i><b>G.7.1</b> Context</a></li>
<li class="chapter" data-level="G.7.2" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-SRM-3"><i class="fa fa-check"></i><b>G.7.2</b> Shortwave Radiation Model</a></li>
<li class="chapter" data-level="G.7.3" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-LRM-3"><i class="fa fa-check"></i><b>G.7.3</b> Longwave Radiation Model</a></li>
<li class="chapter" data-level="G.7.4" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-LHM-3"><i class="fa fa-check"></i><b>G.7.4</b> Latent Heat Model</a></li>
</ul></li>
<li class="chapter" data-level="G.8" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-IC-2"><i class="fa fa-check"></i><b>G.8</b> Initial Conditions</a></li>
<li class="chapter" data-level="G.9" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-BC-2"><i class="fa fa-check"></i><b>G.9</b> Boundary Conditions</a></li>
<li class="chapter" data-level="G.10" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-HS"><i class="fa fa-check"></i><b>G.10</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="G.11" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-MO-2"><i class="fa fa-check"></i><b>G.11</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="H" data-path="AppST-1.html"><a href="AppST-1.html"><i class="fa fa-check"></i><b>H</b> Processes: ST Simulation Class</a>
<ul>
<li class="chapter" data-level="H.1" data-path="AppST-1.html"><a href="AppST-1.html#AppST-Cont-2"><i class="fa fa-check"></i><b>H.1</b> Context</a></li>
<li class="chapter" data-level="H.2" data-path="AppST-1.html"><a href="AppST-1.html#AppST-SM-2"><i class="fa fa-check"></i><b>H.2</b> Sediment Model</a></li>
<li class="chapter" data-level="H.3" data-path="AppST-1.html"><a href="AppST-1.html#AppST-BRM-2"><i class="fa fa-check"></i><b>H.3</b> Bottom Drag Model</a></li>
<li class="chapter" data-level="H.4" data-path="AppST-1.html"><a href="AppST-1.html#AppST-Bath-2"><i class="fa fa-check"></i><b>H.4</b> Bathymetry</a></li>
<li class="chapter" data-level="H.5" data-path="AppST-1.html"><a href="AppST-1.html#AppST-SC-2"><i class="fa fa-check"></i><b>H.5</b> Sediment Configuration</a></li>
<li class="chapter" data-level="H.6" data-path="AppST-1.html"><a href="AppST-1.html#AppST-IC-2"><i class="fa fa-check"></i><b>H.6</b> Initial Conditions</a></li>
<li class="chapter" data-level="H.7" data-path="AppST-1.html"><a href="AppST-1.html#AppST-BC-2"><i class="fa fa-check"></i><b>H.7</b> Boundary Conditions</a></li>
<li class="chapter" data-level="H.8" data-path="AppST-1.html"><a href="AppST-1.html#AppST-HS-2"><i class="fa fa-check"></i><b>H.8</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="H.9" data-path="AppST-1.html"><a href="AppST-1.html#AppST-MO-2"><i class="fa fa-check"></i><b>H.9</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="I" data-path="AppWQ-1.html"><a href="AppWQ-1.html"><i class="fa fa-check"></i><b>I</b> Processes: WQ Simulation Class</a>
<ul>
<li class="chapter" data-level="I.1" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-Cont-2"><i class="fa fa-check"></i><b>I.1</b> Context</a></li>
<li class="chapter" data-level="I.2" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-WQM-2"><i class="fa fa-check"></i><b>I.2</b> Water Quality Model</a></li>
<li class="chapter" data-level="I.3" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-WQC-2"><i class="fa fa-check"></i><b>I.3</b> Water Quality Configuration</a></li>
<li class="chapter" data-level="I.4" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-IC-2"><i class="fa fa-check"></i><b>I.4</b> Initial Conditions</a></li>
<li class="chapter" data-level="I.5" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-BC-2"><i class="fa fa-check"></i><b>I.5</b> Boundary Conditions</a></li>
<li class="chapter" data-level="I.6" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-HS-2"><i class="fa fa-check"></i><b>I.6</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="I.7" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-MO-2"><i class="fa fa-check"></i><b>I.7</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="J" data-path="AppPT-1.html"><a href="AppPT-1.html"><i class="fa fa-check"></i><b>J</b> Processes: PT Simulation Class</a>
<ul>
<li class="chapter" data-level="J.1" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-Cont-2"><i class="fa fa-check"></i><b>J.1</b> Context</a></li>
<li class="chapter" data-level="J.2" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-PTC-2"><i class="fa fa-check"></i><b>J.2</b> Particle Tracking Configuration</a></li>
<li class="chapter" data-level="J.3" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-IC-2"><i class="fa fa-check"></i><b>J.3</b> Initial Conditions</a></li>
<li class="chapter" data-level="J.4" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-BC-2"><i class="fa fa-check"></i><b>J.4</b> Boundary Conditions</a></li>
<li class="chapter" data-level="J.5" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-HS-2"><i class="fa fa-check"></i><b>J.5</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="J.6" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-MO-2"><i class="fa fa-check"></i><b>J.6</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="K" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html"><i class="fa fa-check"></i><b>K</b> Application under version control</a>
<ul>
<li class="chapter" data-level="K.1" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContCtxt-3"><i class="fa fa-check"></i><b>K.1</b> Context</a></li>
<li class="chapter" data-level="K.2" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContUC-3"><i class="fa fa-check"></i><b>K.2</b> Use case</a></li>
<li class="chapter" data-level="K.3" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContWF-3"><i class="fa fa-check"></i><b>K.3</b> Possible workflow #1</a></li>
<li class="chapter" data-level="K.4" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContWF2-3"><i class="fa fa-check"></i><b>K.4</b> Possible workflow #2</a></li>
</ul></li>
<li class="chapter" data-level="L" data-path="App-FFE-1.html"><a href="App-FFE-1.html"><i class="fa fa-check"></i><b>L</b> File Format Examples</a>
<ul>
<li class="chapter" data-level="L.1" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-Cont-2"><i class="fa fa-check"></i><b>L.1</b> Context</a></li>
<li class="chapter" data-level="L.2" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-2"><i class="fa fa-check"></i><b>L.2</b> Input File Format Examples</a>
<ul>
<li class="chapter" data-level="L.2.1" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-2DHD-3"><i class="fa fa-check"></i><b>L.2.1</b> 2D HD Simulation Class</a></li>
<li class="chapter" data-level="L.2.2" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-3DHD-3"><i class="fa fa-check"></i><b>L.2.2</b> 3D HD Simulation Class</a></li>
<li class="chapter" data-level="L.2.3" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-AD-3"><i class="fa fa-check"></i><b>L.2.3</b> AD Simulation Class</a></li>
<li class="chapter" data-level="L.2.4" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-ST-3"><i class="fa fa-check"></i><b>L.2.4</b> ST Simulation Class</a></li>
<li class="chapter" data-level="L.2.5" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-WQ-3"><i class="fa fa-check"></i><b>L.2.5</b> WQ Simulation Class</a></li>
<li class="chapter" data-level="L.2.6" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-PT-3"><i class="fa fa-check"></i><b>L.2.6</b> PT Simulation Class</a></li>
</ul></li>
<li class="chapter" data-level="L.3" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-OFFE-2"><i class="fa fa-check"></i><b>L.3</b> Output File Format Examples</a></li>
<li class="chapter" data-level="L.4" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-LFF-2"><i class="fa fa-check"></i><b>L.4</b> Legacy File Formats</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://www.tuflow.com"><img src="images/1024in300px_Blue-01.svg" style="width:246px;height:68px;"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><h0 style="color:rgb(0,85,129);">TUFLOW FV User Manual</h0></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ManagingSimulations-1" class="section level1 hasAnchor" number="12">
<h1><span class="header-section-number">Section 12</span> Managing And Starting Simulations<a href="ManagingSimulations-1.html#ManagingSimulations-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="RunningSimulationsIntro-2" class="section level2 hasAnchor" number="12.1">
<h2><span class="header-section-number">12.1</span> Introduction<a href="ManagingSimulations-1.html#RunningSimulationsIntro-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This chapter provides guidance on model naming conventions
and how TUFLOW’s powerful Variables, Events and Scenarios functionalities may be used to
simulate any number of scenarios and events from a single control (.tcf) file.</p>
<p>The latter part of the chapter discusses the installation of TUFLOW, the
different TUFLOW dongle types and how to start a simulation, both as a standalone TUFLOW simulation and in conjunction with third-party software.</p>
<p>Finally, there is a section on the reproducibility of results when using different hardware.</p>
</div>
<div id="FileNaming-2" class="section level2 hasAnchor" number="12.2">
<h2><span class="header-section-number">12.2</span> File Naming<a href="ManagingSimulations-1.html#FileNaming-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Each hydraulic modelling study can easily generate hundreds, if not thousands, of model
input files in addition to a large number of check and result files.
Devising a sound naming convention as part of the modelling process is
key to modelling that is easily interpreted, logical, efficient, quick to
error check and quality control, and provide traceability for quality assurance.</p>
<p>The examples below are presented as guidance only. They demonstrate the
progression of a simple model naming convention to a more complex
version that incorporates different flood events and scenarios. The
examples focus on the name of the .tcf control file, as this
determines the prefix assigned to both the 1D and 2D check and result
files.</p>
<p>A general recommendation is to avoid long filenames and use acronyms where
possible. For example, for a simulation of the Brisbane River for the existing topography for the 1 in 100, 12 hour duration flood event, “BR_Exg_100yr_12hr_001.tcf” is preferable to “Brisbane_River_Existing_100year_12hour_001.tcf”.</p>
<p><strong>Example 1</strong></p>
<p>MODEL_001.tcf</p>
<p>In its simplest form, the names of the majority of TUFLOW models consist
of a few characters denoting the study name and a version number. The
characters denoting the study name are typically included in all input
files to specify that the files are unique or created for this study.
The numbering is used to denote different versions of the model, where
each time a change is made and the model re-simulated, the version
number is incremented. Use of a model version numbering system ensures
it is clear which model input files generated which model output files.
This is particularly important when troubleshooting or quality controlling a model.</p>
<p><strong>Example 2</strong></p>
<p>MODEL_0100F_001.tcf</p>
<p>MODEL_1000F_001.tcf</p>
<p>Most hydraulic modelling studies require the simulation of more than one
event. In these cases, it is preferable to include the name of the
event within the simulation name rather than simply incrementing the
model version number. Note that the same number of characters is
retained for the 100-year (0100F) and 1000-year (1000F) events and, in this case, the use of ‘F’ to
denote a fluvial flood event. Retaining the same number of characters (for example, by using preceding zeroes)
ensures that when the files are viewed in Windows Explorer, they are
presented in ascending order. The model version number is the same in
this example and tells the user that the same version of the model has
been simulated for two different flood events.</p>
<p>Refer to Section <a href="ManagingSimulations-1.html#Events-3">12.3.2</a> which presents a method to model numerous
hydraulic events using a single .tcf control file.</p>
<p><strong>Example 3</strong></p>
<p>MODEL_0100F_EXG_001.tcf</p>
<p>MODEL_0100F_PRP_001.tcf</p>
<p>Many hydraulic modelling studies require the simulation of multiple
scenarios, such as pre- and post-development scenarios or sensitivity
testing where one or more model parameters are varied. Incorporating the
name of the modelled scenario into the .tcf filename easily differentiates the
output files associated with each scenario. The characters used to
denote the scenario are typically also used for model input files
specific to the scenario. For example, the post-development scenario
‘PRP’ may involve the raising of defences, hence the GIS layer used to raise the defences
might be named ‘2d_zsh_MODEL_PRP_defence_001.shp’. The presence of this
layer in a model simulation of the pre-development scenario ‘EXG’, will
immediately highlight to the user that a mistake has been made.</p>
<p>Refer to Section <a href="ManagingSimulations-1.html#Scenarios-3">12.3.3</a> which presents a method to model one or
more scenarios using a single .tcf control file.</p>
</div>
<div id="SimulationManagement-2" class="section level2 hasAnchor" number="12.3">
<h2><span class="header-section-number">12.3</span> Simulation Management<a href="ManagingSimulations-1.html#SimulationManagement-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>TUFLOW incorporates powerful functionality to manage the simulation of
multiple events and multiple scenarios. The flexibility offered allows
the user the ability to initiate all simulations using the one .tcf file should they so desire. Rather than create a new .tcf file for every simulation
and a new .tgc and/or .ecf file for every different model scenario, it
is possible to just have one of each of these files, or at least
markedly reduce the number of these files. The example application described <a href="https://www.tuflow.com/insights/2021_12-scenarios-events-and-variables/">here</a> uses a single set of control files to simulate 328,986 combinations of different model domains, events and scenarios.</p>
<p>The following sections of the manual discuss the available options.</p>
<div id="TimeOutputControls-3" class="section level3 hasAnchor" number="12.3.1">
<h3><span class="header-section-number">12.3.1</span> Time and Output Controls<a href="ManagingSimulations-1.html#TimeOutputControls-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>All time-dependent data must refer to an arbitrary time reference,
which is defined by the simulation time commands: <a href="#tcfStartTime">Start
Time</a>, <a href="#tcfEndTime">End Time</a> and <a href="#tcfTimestep">Timestep</a> in the .tcf file.</p>
<p>The starting time and finishing times specify the period in hours for
which calculations are made. If the <a href="#tcfStartTime">Start Time</a> or <a href="#tcfEndTime">End Time</a> is not defined, by default TUFLOW will use 0 hours and 1 hours respectively. The timestep is the calculation interval in seconds, which is dependent on various conditions as described in Section <a href="#TimesteppingandControlNumbers-2"><strong>??</strong></a>. For 1D/2D models, different timesteps may be used
for both the 2D and 1D schemes.</p>
<p>The output period is controlled by the times set using <a href="#tcfStartMapOutput">Start Map
Output</a> and <a href="#tcfStartTimeSeriesOutput">Start Time Series
Output</a> for the 2D domains,
and <a href="#ecfStartOutput">Start Output</a> for the 1D domain.
All outputs are limited to the period between these times and the end
time. The output interval is defined by <a href="#tcfMapOutputInterval">Map Output
Interval</a> and <a href="#tcfTimeSeriesOutputInterval">Time Series Output
Interval</a> for the 2D domains, and <a href="#tcfTimeSeriesOutputInterval">Output
Interval</a> for the 1D domain.</p>
<p>The maximum and minimum hydraulic values can be determined using the
<a href="#tcfMaximumsandMinimums">Maximums and Minimums</a> command for 2D domains
(maximums and minimums are always output for 1D domains). <strong>Note: Maximum and
minimum values are determined by tracking the model results every
calculation timestep, not the output interval.</strong></p>
</div>
<div id="Events-3" class="section level3 hasAnchor" number="12.3.2">
<h3><span class="header-section-number">12.3.2</span> Events<a href="ManagingSimulations-1.html#Events-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Most hydraulic modelling studies require the simulation of different
probabilistic events. For example, a flood study may have to consider the
2, 5, 10, 20, 50, 100, 200 and 500 year Average Recurrence Interval
events, and one or two extreme floods. Each, or most of these, may have to
be simulated using a range of different duration rainfalls. A downstream
boundary such as the ocean may also need to be varied to model different
probability storm tides or climate change scenarios. The final number of
simulations can easily be in the hundreds, if not thousands.</p>
<p>The ability to simulate
multiple events using a single .tcf control file not only makes
management of the model easier, it also ensures consistency between the
simulations and better quality control.</p>
<p>Multiple events are set up through the creation of a TUFLOW Event File
(recommended extension .tef) containing .tcf and .ecf commands that are
particular to a specific event. The event specific commands are
contained between <a href="#tcfDefineEvent">Define Event</a> and <a href="#tcfEndDefine">End
Define</a> commands. Global .tcf and .ecf commands can also
be used by placing these commands outside the <a href="#tcfDefineEvent">Define
Event</a> blocks (normally at the top).</p>
<p>The .tef file is referenced in the .tcf file using the command <a href="#tcfEventFile">Event
File</a>. Up to nine (9) different events can be
specified for a single simulation, although in most cases only one or two is
all that is needed. For example, a 100 year flood with a 10 year storm tide. The number of events in the .tef file is unlimited with the
only limitation being the maximum of nine for the number of selected events per simulation. The .tef file should be viewed as a database of all the individual events that are or could be applied.</p>
<p>To automatically insert the name of the event(s) into the output filenames
to make the output files unique, place “~e~” or “~e&lt;X&gt;~” where
&lt;X&gt; is from 1 to 9 into the .tcf filename. Note ~e~ is effectively the same as ~e1~ and is typically used if there is only one event type being varied.</p>
<p>For example,</p>
<p>MODEL_~e1~_~e2~_EXG_001.tcf</p>
<p>can be configured to run any number of e1 and e2 events such as:</p>
<ul>
<li>e1=0100F and e2=12h results in MODEL_0100F_12h_EXG_001<br />
</li>
<li>e1=0100F and e2=24h results in MODEL_0100F_24h_EXG_001<br />
</li>
<li>e1=1000F and e2=12h results in MODEL_1000F_12h_EXG_001<br />
</li>
<li>e1=1000F and e2=24h results in MODEL_1000F_24h_EXG_001</li>
</ul>
<p>Two options are available to run multiple events from the same .tcf file:</p>
<ol style="list-style-type: decimal">
<li>Using a batch file (.bat): Specify the –e or –eX options (see Table
<a href="ManagingSimulations-1.html#tab:tab-TUFLOWOptions">12.1</a>) to run the multiple events using the same .tcf file – refer to the examples below.<br />
</li>
<li>Using <a href="#tcfModelEvents">Model Events</a>: Change the events manually
before each simulation within the .tcf file. Note that if using the
–e or -ex option, this will override any events defined
using <a href="#tcfModelEvents">Model Events</a> in the .tcf file. This option is particularly useful for carrying out quick what-if or sensitivity simulations. For example, do the results change if I halve the timestepping.</li>
</ol>
<p>The examples below show two approaches for running simulations for a 20
and 50 year flood and 1 and 2 hour duration storms. Example 1 just uses
one event. Example 2 achieves the same outcome as Example 1, but
by using two types of events (~e1~ and ~e2~) there is no need to repeat
commands as is required for Example 1.</p>
<p>In the examples below, note how the same command, in this case <a href="#tcfEndTime">End
Time</a>, is used within the event blocks to assign a
different simulation end time depending on the duration of the event.</p>
<p>Also note the use of <a href="#tcfBCEventSource">BC Event Source</a>, which is a
much more powerful alternative to using <a href="#tcfBCEventText">BC Event Text</a>
and <a href="#tcfBCEventName">BC Event Name</a>, in that it can be used to define
up to 100 different event text/name combinations instead of being
limited to one. The linkages with the <a href="#tcfBCDatabase">BC Database</a> file
key text fields are highlighted in yellow in the examples below.</p>
<p><strong>Note: The location of <a href="#tcfEventFile">Event File</a> within</strong> <strong>the .tcf
file and the location of the commands within the .tef file are
important. If, for example <a href="#tcfEndTime">End Time</a></strong> <strong>occurs in the
.tcf file after where <a href="#tcfEventFile">Event File</a> occurs, this latter
occurrence of <a href="#tcfEndTime">End Time</a> will prevail over those specified
in the .tef file. Essentially, the commands from the .tef file (for the
events specified using the –e or -eX run options or <a href="#tcfModelEvents">Model
Events</a>) are inserted into the .tcf at the location of
the <a href="#tcfEventFile">Event File</a> command, and are processed as if they
are embedded into the .tcf file at that location.</strong></p>
<p><strong>Note: To distinguish between 1D and 2D commands in a .tef file, prefix
.ecf commands by “1D” followed by a space. In the examples below, the
.ecf <a href="#ecfOutputFolder">Output Folder</a> command is used to set different
folders for the 1D results depending on the event.</strong></p>
<p><strong>Events Example 1:</strong></p>
<p>Within the BC Database file:</p>
<p>Name,Source,Column 1,Column 2,Add Col 1,Mult Col 2,Add Col 2,Column 3,Column 4</p>
<p>C001,..\Inflows\_<mark>~ARI~</mark>_<mark>~durn~</mark>.csv,Time,C001</p>
<p>C002,..\Inflows\_<mark>~ARI~</mark>_<mark>~durn~</mark>.csv,Time,C002</p>
<p>…</p>
<p>Include “~e~” in the .tcf filename, for example “Nile_~e~.tcf”, and
add the following line:</p>
<p><tcmd><a href="#tcfEventFile">Event File</a></tcmd><teq> ==</teq><tblk> Nile_Events.tef</tblk></p>
<p>The “Nile_Events.tef” file contains lines such as the below:</p>
<p><tgrn>!__________________________________________________________________________</tgrn><br />
<tgrn>! Global Default Settings</tgrn></p>
<p><tcmd><a href="#tcfStartTime">Start Time</a></tcmd><teq> ==</teq><tblk> 0</tblk> <tgrn>! Unless Start Time is subsequently repeated all start at time 0</tgrn><br />
<tgrn>!__________________________________________________________________________</tgrn><br />
<tgrn>! 20 year event definitions</tgrn></p>
<div class="line-block"><tcmd><a href="#tcfDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 020y_01h</tblk><br />
      <tcmd><a href="#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~ARI~</mark> | 020y</tblk><br />
      <tcmd><a href="#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~durn~</mark> | 01h</tblk><br />
      <tcmd><a href="#tcfEndTime">End Time</a></tcmd><teq> ==</teq><tblk> 3</tblk><br />
      <tcmd><a href="#tcfOutputFolder">Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\2d\020y</tblk><br />
      <tcmd><a href="#ecfOutputFolder">1D Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\1d\020y</tblk><br />
<tcmd><a href="#tcfDefineEvent">End Define</a></tcmd></div>
<div class="line-block"><tcmd><a href="#tcfDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 020y_02h</tblk><br />
      <tcmd><a href="#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~ARI~</mark> | 020y</tblk><br />
      <tcmd><a href="#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~durn~</mark> | 02h</tblk><br />
      <tcmd><a href="#tcfEndTime">End Time</a></tcmd><teq> ==</teq><tblk> 4</tblk><br />
      <tcmd><a href="#tcfOutputFolder">Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\2d\020y</tblk><br />
      <tcmd><a href="#ecfOutputFolder">1D Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\1d\020y</tblk></div>
<p><tcmd><a href="#tcfDefineEvent">End Define</a></tcmd><br />
<tgrn>!__________________________________________________________________________</tgrn><br />
<tgrn>! 50 year event definitions</tgrn></p>
<div class="line-block"><tcmd><a href="#tcfDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 050y_01h</tblk><br />
      <tcmd><a href="#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~ARI~</mark> | 050y</tblk><br />
      <tcmd><a href="#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~durn~</mark> | 01h</tblk><br />
      <tcmd><a href="#tcfEndTime">End Time</a></tcmd><teq> ==</teq><tblk> 3</tblk><br />
      <tcmd><a href="#tcfOutputFolder">Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\2d\050y</tblk><br />
      <tcmd><a href="#ecfOutputFolder">1D Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\1d\050y</tblk><br />
<tcmd><a href="#tcfDefineEvent">End Define</a></tcmd></div>
<div class="line-block"><tcmd><a href="#tcfDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 050y_02h</tblk><br />
      <tcmd><a href="#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~ARI~</mark> | 050y</tblk><br />
      <tcmd><a href="#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~durn~</mark> | 02h</tblk><br />
      <tcmd><a href="#tcfEndTime">End Time</a></tcmd><teq> ==</teq><tblk> 4</tblk><br />
      <tcmd><a href="#tcfOutputFolder">Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\2d\050y</tblk><br />
      <tcmd><a href="#ecfOutputFolder">1D Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\1d\050y</tblk><br />
<tcmd><a href="#tcfDefineEvent">End Define</a></tcmd></div>
<p> <br />
Multiple events can be simulated from the one .tcf file using a batch
file. Refer to Section <a href="ManagingSimulations-1.html#StartingaSim-3">12.5.2</a> for details how to create a batch
file. Below is a batch file example in its simplest form with no looping.</p>
<p><tblk><strong>set</strong> TUFLOWEXE=C:\Program Files\TUFLOW\TUFLOW_iSP_w64.exe<br />
<strong>set</strong> RUN=start “TUFLOW” /low /wait /min “<strong>%TUFLOWEXE%</strong>” -b<br />
<strong>%RUN%</strong> –e 020y_01h Nile_~e~.tcf<br />
<strong>%RUN%</strong> –e 020y_02h Nile_~e~.tcf<br />
<strong>%RUN%</strong> –e 050y_01h Nile_~e~.tcf<br />
<strong>%RUN%</strong> –e 050y_02h Nile_~e~.tcf<br />
</tblk></p>
<p><strong>Events Example 2:</strong></p>
<p>Within the BC Database file:</p>
<p>Name,Source,Column 1,Column 2,Add Col 1,Mult Col 2,Add Col 2,Column
3,Column 4</p>
<p>C001,..\Inflows\Nile\_<mark>~ARI~</mark>_<mark>~durn~</mark>.csv,Time,C001</p>
<p>C002,..\Inflows\Nile\_<mark>~ARI~</mark>_<mark>~durn~</mark>.csv,Time,C002</p>
<p>…</p>
<p>Include “~e1~” and “~e2” in the .tcf filename, for example
“Nile_~e1~_~e2~.tcf”, and add the following line:</p>
<p><tcmd><a href="#tcfEventFile">Event File</a></tcmd><teq> == </teq><tblk>Nile_Events.tef</tblk></p>
<p>The “Nile_Events.tef” file would contain lines such as the below:</p>
<p><tgrn>!__________________________________________________________________________________</tgrn></p>
<p><tgrn>! Global Default Settings</tgrn></p>
<p><tcmd><a href="#tcfStartTime">Start Time</a></tcmd><teq> ==</teq><tblk> 0</tblk><tgrn>! Unless Start Time is subsequently repeated all start
at time 0</tgrn></p>
<p><tgrn>!__________________________________________________________________________________</tgrn></p>
<p><tgrn>! ARI definitions</tgrn></p>
<p><tcmd><a href="#tcfDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 020y</tblk>
| <tcmd><a href="#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~ARI~</mark> | 020y</tblk></p>
<div class="line-block">      <tcmd><a href="#tcfOutputFolder">Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\2d\020y</tblk></div>
<div class="line-block">      <tcmd><a href="#ecfOutputFolder">1D Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\1d\020y</tblk></div>
<p><tcmd><a href="#tcfDefineEvent">End Define</a></tcmd></p>
<p><tcmd><a href="#tcfDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 050y</tblk>
| <tcmd><a href="#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~ARI~</mark> | 050y</tblk></p>
<div class="line-block">      <tcmd><a href="#tcfOutputFolder">Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\2d\050y</tblk></div>
<div class="line-block">      <tcmd><a href="#ecfOutputFolder">1D Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\1d\050y</tblk></div>
<p><tcmd><a href="#tcfDefineEvent">End Define</a></tcmd></p>
<p><tgrn>!__________________________________________________________________________________</tgrn></p>
<p><tgrn>! Storm duration definitions</tgrn></p>
<p><tcmd><a href="#tcfDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 01h</tblk>
| <tcmd><a href="#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~durn~</mark> | 01h</tblk></p>
<div class="line-block">      <tcmd><a href="#tcfEndTime">End Time</a></tcmd><teq> ==</teq><tblk> 3</tblk></div>
<div class="line-block">      <tcmd><a href="#tcfDefineEvent">End Define</a></tcmd></div>
<p><tcmd><a href="#tcfDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 02h</tblk>
| <tcmd><a href="#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~durn~</mark> | 02h</tblk></p>
<div class="line-block">      <tcmd><a href="#tcfEndTime">End Time</a></tcmd><teq> ==</teq><tblk> 4</tblk></div>
<p><tcmd><a href="#tcfDefineEvent">End Define</a></tcmd></p>
<p>To run multiple events from the one .tcf file a .bat file may be used such as below
(see Section <a href="ManagingSimulations-1.html#StartingaSim-3">12.5.2</a>):</p>
<p><strong>set</strong> TUFLOWEXE=C:\Program Files\TUFLOW\TUFLOW_iSP_w64.exe</p>
<p><strong>set</strong> RUN=start “TUFLOW” /low /wait /min “<strong>%TUFLOWEXE%</strong>” -b</p>
<p><strong>%RUN%</strong> –e1 020y –e2 01h Nile_~e1~_~e2~.tcf</p>
<p><strong>%RUN%</strong> –e1 020y –e2 02h Nile_~e1~_~e2~.tcf</p>
<p><strong>%RUN%</strong> –e1 050y –e2 01h Nile_~e1~_~e2~.tcf</p>
<p><strong>%RUN%</strong> –e1 050y –e2 02h Nile_~e1~_~e2~.tcf</p>
<p><a href="#tcfIfEvent">If Event</a> logic blocks are also permitted in the same
manner as the <a href="#tcfIfScenario">If Scenario</a> command. Refer to
Section <a href="ManagingSimulations-1.html#Scenarios-3">12.3.3</a> for further information.</p>
<p>Events are also automatically defined as variables and can be used, for example, to set the output folder name. See Section <a href="ManagingSimulations-1.html#Variables-3">12.3.4</a> for information on variables.</p>
</div>
<div id="Scenarios-3" class="section level3 hasAnchor" number="12.3.3">
<h3><span class="header-section-number">12.3.3</span> Scenarios<a href="ManagingSimulations-1.html#Scenarios-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <a href="#tcfIfScenario">If Scenario</a> feature controls the commands to
be applied depending on the scenario or combination of scenarios
specified by the user. Using <a href="#tcfIfScenario">If Scenario</a> is similar to
using If…Else If… Else…End If constructs in a programming or macro
language.</p>
<p>In Example 1 below, an <a href="#tcfIfScenario">If Scenario</a> logic block has
been inserted into a .tgc file:</p>
<p><strong>Scenarios Example 1:</strong></p>
<p><tgrn>!__________________________________________________________________________________</tgrn></p>
<p><tgrn>! Apply materials</p>
<p><tcmd><a href="#tgcSet">Set Mat</a></tcmd><teq> ==</teq><tblk> 1</tblk> <tgrn>! Set unspecified materials to default of 1</tgrn></p>
<p><tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_existing.shp</tblk> <tgrn>! Apply existing materials</tgrn></p>
<p><tcmd><a href="#tcfIfScenario">If Scenario</a></tcmd><teq> ==</teq><tblk> opA</tblk></p>
<div class="line-block">      <tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_opA.shp</tblk> <tgrn>! Option A changes to existing materials</tgrn></div>
<p><tcmd><a href="#tcfIfScenario">End If</a></tcmd></p>
<p>TUFLOW will carry out the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Set all material values over the entire 2D domain to a value of 1.</p></li>
<li><p>Process the 2d_mat_existing.shp layer to assign material values from
a layer of land-use polygons representing the existing situation.</p></li>
<li><p>One of the following will then occur:</p>
<ol style="list-style-type: decimal">
<li><p>If either “–s opA” was specified as a run option, or “<a href="#tcfModelScenarios">Model Scenarios</a> <teq>==</teq> opA” was
specified in the .tcf file, then the 2d_mat_opA.shp layer is
processed to modify the material values affected by the Option A scenario. If “~s~” or “~s1~” occurs within the .tcf
filename, it is replaced by “opA” in the output filenames,
otherwise “opA” is appended to the end of the .tcf filename for
the output filenames.</p></li>
<li><p>If opA was not specified as a scenario, this layer would be
ignored. For example, as would be required if modelling the
existing scenario.</p></li>
</ol></li>
</ol>
<p>Example 1 can be extended to include an Option B, where Option B is a
modified version of Option A as shown in Example 2a below:</p>
<p><strong>Scenarios Example 2a:</strong></p>
<p><tcmd><a href="#tgcSet">Set Mat</a></tcmd><teq> ==</teq><tblk> 1</tblk> <tgrn>! Set unspecified materials to default of 1</tgrn></p>
<p><tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_existing.shp</tblk> <tgrn>! Apply existing materials</tgrn></p>
<p><tcmd><a href="#tcfIfScenario">If Scenario</a></tcmd><teq> ==</teq><tblk> opA | opB</tblk></p>
<div class="line-block">      <tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_opA.shp</tblk> <tgrn>! Option A changes to existing materials</tgrn></div>
<p><tcmd><a href="#tcfIfScenario">End If</a></tcmd></p>
<p><tcmd><a href="#tcfIfScenario">If Scenario</a></tcmd><teq> ==</teq><tblk> opB</tblk></p>
<div class="line-block">      <tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_opB.shp</tblk> <tgrn>! Option B changes to Existing and Option A</tgrn></div>
<p><tcmd><a href="#tcfIfScenario">End If</a></tcmd></p>
<p>In the above example, either “–s opB” or “–s1 opA –s2 opB” could be used
for the run options when modelling the Option B scenario. An advantage
of using the latter is the output files would be named “Nile_opA+opB”
indicating that the simulation was for Option A plus Option B (which is
the case as Option B builds upon Option A). If using <a href="#tcfModelScenarios">Model
Scenarios</a>, the equivalent for “–s1 opA –s2 opB”
would be “<a href="#tcfModelScenarios">Model Scenarios</a> <teq>==</teq> opA | opB”.</p>
<p>However, if Option B was not a modification of Option A, but purely a
change to the existing case the commands could be written as shown in
Example 2b:</p>
<p><strong>Scenarios Example 2b:</strong></p>
<p><tcmd><a href="#tgcSet">Set Mat</a></tcmd><teq> ==</teq><tblk> 1</tblk> <tgrn>! Set unspecified materials to default of 1</tgrn></p>
<p><tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_existing.shp</tblk> <tgrn>! Apply existing materials</tgrn></p>
<p><tcmd><a href="#tcfIfScenario">If Scenario</a></tcmd><teq> ==</teq><tblk> opA</tblk></p>
<div class="line-block">      <tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_opA.shp</tblk> <tgrn>! Option A changes to existing materials</tgrn></div>
<p><tcmd><a href="#tcfIfScenario">End If</a></tcmd></p>
<p><tcmd><a href="#tcfIfScenario">If Scenario</a></tcmd><teq> ==</teq><tblk> opB</tblk></p>
<div class="line-block">      <tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_opB.shp</tblk> <tgrn>! Option B changes to existing materials</tgrn></div>
<p><tcmd><a href="#tcfIfScenario">End If</a></tcmd></p>
<p>Alternatively, the following would give the same result:</p>
<p><tcmd><a href="#tgcSet">Set Mat</a></tcmd><teq> ==</teq><tblk> 1</tblk> <tgrn>! Set unspecified materials to default of 1</tgrn></p>
<p><tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_existing.shp</tblk> <tgrn>! Apply existing materials</tgrn></p>
<p><tcmd><a href="#tcfIfScenario">If Scenario</a></tcmd><teq> ==</teq><tblk> opA</tblk></p>
<div class="line-block">      <tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_opA.shp</tblk> <tgrn>! Option A changes to existing materials</tgrn></div>
<p><tcmd><a href="#tcfIfScenario">Else If Scenario</a></tcmd><teq> ==</teq><tblk> opB</tblk></p>
<div class="line-block">      <tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_opB.shp</tblk> <tgrn>! Option B changes to existing materials</tgrn></div>
<p><tcmd><a href="#tcfIfScenario">End If</a></tcmd></p>
<p>In the above, either “–s opB” or “<a href="#tcfModelScenarios">Model Scenarios</a>
<teq>== </teq><tblk>opB</tblk>” would be used when modelling Option B.</p>
<p>If the Existing, Option A and Option B scenarios all had their own layer
of materials for the whole model the commands could be laid out as shown
in Example 2c, noting the use of the <a href="#tcfIfScenario">Else</a> option which
forces the use of the layer 2d_mat_existing.shp if opA or opB is not
specified.</p>
<p><strong>Scenarios Example 2c:</strong></p>
<p><tcmd><a href="#tgcSet">Set Mat</a></tcmd><teq> == </teq><tblk> 1 </tblk> <tgrn>! Set unspecified materials to default of 1</tgrn></p>
<p><tcmd><a href="#tcfIfScenario">If Scenario</a></tcmd><teq> == </teq><tblk> opA </tblk></p>
<div class="line-block">      <tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> == </teq><tblk>shp\2d_mat_opA.shp </tblk> <tgrn>! Option A materials for whole model</div>
<p><tcmd><a href="#tcfIfScenario">Else If Scenario</a></tcmd><teq> == </teq><tblk> opB </tblk></p>
<div class="line-block">      <tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> == </teq><tblk> shp\2d_mat_opB.shp </tblk> <tgrn>! Option B materials for whole model</tgrn></div>
<p><tcmd><a href="#tcfIfScenario">Else</a></tcmd></p>
<div class="line-block">      <tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> == </teq><tblk> shp\2d_mat_existing.shp </tblk> <tgrn>! Existing materials for whole model</tgrn></div>
<p><tcmd><a href="#tcfIfScenario">End If</a></tcmd></p>
<p>Or, a more explicit approach to the above would be:</p>
<p><tcmd><a href="#tgcSet">Set Mat</a></tcmd><teq> == </teq><tblk> 1 </tblk> <tgrn>! Set unspecified materials to default of 1</tgrn></p>
<p><tcmd><a href="#tcfIfScenario">If Scenario</a></tcmd><teq> == </teq><tblk> exg </tblk></p>
<div class="line-block">      <tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> == </teq><tblk> shp\2d_mat_existing.shp </tblk> <tgrn>! Existing materials for whole model</tgrn></div>
<p><tcmd><a href="#tcfIfScenario">Else If Scenario</a></tcmd><teq> == </teq><tblk> opA </tblk></p>
<div class="line-block">      <tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> == </teq><tblk> shp\2d_mat_opA.shp </tblk> <tgrn>! Option A materials for whole model</tgrn></div>
<p><tcmd><a href="#tcfIfScenario">Else If Scenario</a></tcmd><teq> == </teq><tblk> opB </tblk></p>
<div class="line-block">      <tcmd><a href="#tgcReadGIS">Read GIS Mat</a></tcmd><teq> == </teq><tblk> shp\2d_mat_opB.shp </tblk> <tgrn>! Option B materials for whole model</tgrn></div>
<p><tcmd><a href="#tcfIfScenario">End If</a></tcmd></p>
<p>In the example above, to batch run the Existing, Option A and Option B
scenarios the .bat file would be something like:</p>
<p><strong>set</strong> TUFLOWEXE=C:\Program Files\TUFLOW\TUFLOW_iSP_w64.exe</p>
<p><strong>set</strong> RUN=start “TUFLOW” /low /wait /min “<strong>%TUFLOWEXE%</strong>” -b</p>
<p><strong>%RUN%</strong> –b -s exg Nile_~s~.tcf</p>
<p><strong>%RUN%</strong> –b -s opA Nile_~s~.tcf</p>
<p><strong>%RUN%</strong> –b –s opB Nile_~s~.tcf</p>
<p>The <a href="#tcfIfScenario">If Scenario</a> command can be nested up to 10 levels.
The extract from a .tcf file of a complex model is shown below.
The model is a combination of models that can be simulated at different
resolutions and in different configurations depending on the
simulation’s objective. Out of interest, the same .tcf file is used
to simulate all historical and design flood events.</p>
<p>The excerpt below shows the Casino township (Richmond River, Australia) sub-model able to be run at
either a 20m or 60m resolution using the same .tcf file. The logic as to
which other sub-models/boundaries the Casino sub-model needs is built
into the .tbc file using nested If Scenarios.</p>
<p><tgrn>#####################</tgrn></p>
<p><tgrn>### CASINO DOMAIN ###</tgrn></p>
<p><tgrn>#####################</tgrn></p>
<p><tcmd><a href="#tcfIfScenario">If Scenario</a></tcmd><teq> == </teq><tblk> CAS</tblk></p>
<p><tgrn>! Cell size dependent commands</tgrn></p>
<div class="line-block">      <tcmd><a href="#tcfIfScenario">If Scenario</a></tcmd> == </teq><tblk> 20m</tblk> <tgrn> ! 20m grid Domain</tgrn></div>
<div class="line-block">              <tcmd><a href="#tcfStart2DDomain">Start 2D domain</a></tcmd><teq> == </teq><tblk> CAS_20m </tblk></div>
<div class="line-block">                  <tcmd><a href="#tcfGeometryControlFile">Geometry Control File</a></tcmd><teq> == </teq><tblk> ..\model_CAS\CAS_20m_001.tgc </tblk></div>
<div class="line-block">                  <tcmd><a href="#tcfTimestep">Timestep</a></tcmd><teq> == </teq><tblk> 7.5</tblk></div>
<div class="line-block">              <tcmd><a href="#tcfEnd2DDomain">End 2D Domain</a></tcmd></div>
<div class="line-block">      <tcmd><a href="#tcfIfScenario">Else If Scenario</a></tcmd><teq> == </teq><tblk> 60m </tblk> <tgrn> ! 60m grid Domain</tgrn></div>
<div class="line-block">              <tcmd><a href="#tcfStart2DDomain">Start 2D domain</a></tcmd><teq> == </teq><tblk> CAS_60m</tblk></div>
<div class="line-block">                  <tcmd><a href="#tcfGeometryControlFile">Geometry Control File</a></tcmd><teq> == </teq><tblk> ..\model_CAS\CAS_60m_001.tgc</tblk></div>
<div class="line-block">                  <tcmd><a href="#tcfTimestep">Timestep</a></tcmd><teq> == </teq><tblk> 20</tblk></div>
<div class="line-block">              <tcmd><a href="#tcfEnd2DDomain">End 2D Domain</a></tcmd></div>
<div class="line-block">      <tcmd><a href="#tcfIfScenario">Else</a></tcmd></div>
<div class="line-block">            <tcmd><a href="#tcfPause">Pause</a></tcmd><teq> == </teq><tblk> Should not be here - invalid CAS cell size scenario specified.</tblk></div>
<div class="line-block">      <tcmd><a href="#tcfIfScenario">End If</a></tcmd></div>
<div class="line-block">      <tgrn>! Cell size independent commands</tgrn></div>
<div class="line-block">      <tcmd><a href="#tcfBCControlFile">BC Control File</a></tcmd><teq> == </teq><tblk> ..\model_CAS\CAS_001.tbc</tblk></div>
<div class="line-block">      <tcmd><a href="#tgcReadGIS">Read GIS IWL</a></tcmd><teq> == </teq><tblk> ..\model_CAS\2D_iwl\2D_iwl_CAS_001.shp</tblk></div>
<div class="line-block">      <tcmd><a href="#tcfESTRYControlFile">ESTRY Control File</a></tcmd><teq> == </teq><tblk> ..\model_CAS\CAS_001.ecf</tblk></div>
<p><tcmd><a href="#tcfIfScenario">End If</a></tcmd></p>
<p>Of note is the <a href="#tcfPause">Pause</a> command can be used to pause TUFLOW whenever it
is encountered. In the example above, the <a href="#tcfPause">Pause</a> command is
used to pause the simulation and display the message shown as a
cross-check that an appropriate cell size scenario has been specified.
The user has the option to continue or discontinue the simulation via a
dialogue window.</p>
<p>Scenarios are also automatically defined as variables and can be used, for example, to set the output folder name. See Section <a href="ManagingSimulations-1.html#Variables-3">12.3.4</a> for information on variables.</p>
</div>
<div id="Variables-3" class="section level3 hasAnchor" number="12.3.4">
<h3><span class="header-section-number">12.3.4</span> Variables<a href="ManagingSimulations-1.html#Variables-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <a href="#tcfSetVariable">Set Variable</a> command can be used to set different
values for the same variable. This command operates at a higher level
than <a href="#tcfIfScenario">If Scenario</a> or <a href="#tcfIfEvent">If Event</a> logic
blocks so that variables can differ within different scenarios/events.
For example, in the case below the variable “2D_CELL_SIZE” is used to
set both the grid output resolution and the cell size of the model.
Variables are referenced within the control files by enclosing with “&lt;&lt;” and “&gt;&gt;” as in the examples below.</p>
<p><strong>Note: Set variable commands can only be specified in the .tcf or
within a read file referenced from the .tcf. The variables can then be
used in all control files (.tcf, .tgc, .tbc, .ecf, etc).</strong></p>
<p>In the .tcf file we have:</p>
<p><a href="#tcfIfScenario">If Scenario</a> <teq>==</teq><tblk> 2m</tblk></p>
<div class="line-block">      <a href="#tcfSetVariable">Set Variable</a> 2D_CELL_SIZE <teq>==</teq><tblk> 2</tblk></div>
<p><a href="#tcfIfScenario">Else If Scenario</a> <teq>==</teq><tblk> 5m</tblk></p>
<div class="line-block">      <a href="#tcfSetVariable">Set Variable</a> 2D_CELL_SIZE <teq>==</teq><tblk> 5</tblk></div>
<p><a href="#tcfIfScenario">End If</a></p>
<p>…</p>
<p><a href="#tcfGridOutputCellSize">Grid Output Cell Size</a> <teq>==</teq><tblk> &lt;&lt;2D_CELL_SIZE&gt;&gt;</tblk></p>
<p>…</p>
<p>And in the .tgc file we have:</p>
<p><a href="#tgcCellSize">Cell Size</a> <teq>==</teq><tblk> &lt;&lt;2D_CELL_SIZE&gt;&gt;</tblk></p>
<p>The variable “2D_CELL_SIZE” centralises all of the scenario specific
commands in the one location. For example, the timestep, log interval
and cell size are all dependent on the scenario.</p>
<p><a href="#tcfIfScenario">If Scenario</a><teq> ==</teq><tblk> 2m</tblk></p>
<div class="line-block">      <a href="#tcfSetVariable">Set Variable</a> 2D_CELL_SIZE <teq>==</teq><tblk> 2</tblk></div>
<div class="line-block">      <a href="#tcfSetVariable">Set Variable</a> 2D_TIMESTEP <teq>==</teq><tblk> 1</tblk></div>
<div class="line-block">      <a href="#tcfSetVariable">Set Variable</a> Log_Interval <teq>==</teq><tblk> 60</tblk></div>
<p><a href="#tcfIfScenario">Else If Scenario</a> <teq>==</teq><tblk> 5m</tblk></p>
<div class="line-block">      <a href="#tcfSetVariable">Set Variable</a> 2D_CELL_SIZE <teq>==</teq><tblk> 5</tblk></div>
<div class="line-block">      <a href="#tcfSetVariable">Set Variable</a> 2D_TIMESTEP <teq>==</teq><tblk> 2.5</tblk></div>
<div class="line-block">      <a href="#tcfSetVariable">Set Variable</a> Log_Interval <teq>==</teq><tblk> 120</tblk></div>
<p><a href="#tcfIfScenario">End If</a></p>
<p>In the .tgc we have the cell size command and in the .tcf we may have
the following commands:</p>
<p><a href="#tcfGridOutputCellSize">Grid Output Cell Size</a> <teq>==</teq><tblk> &lt;&lt;2D_CELL_SIZE&gt;&gt;</tblk></p>
<p><a href="#tcfTimestep">Timestep</a> <teq>==</teq><tblk> &lt;&lt;2D_TIMESTEP&gt;&gt;</tblk></p>
<p><a href="#tcfScreenLogDisplayInterval">Screen/Log Display Interval</a> <teq>==</teq><tblk> &lt;&lt;Log_Interval&gt;&gt;</tblk></p>
<p>The use of variables allows the scenario specific commands to occur in a
single logic block rather than having multiple If..Else If.. End If
blocks of commands. This can optionally be moved into a <a href="#tcfReadFile">Read
File</a> command.</p>
<p><a href="#tcfReadFile">Read File</a> <teq>==</teq><tblk> Cell_Size_Commands_001.trd</tblk></p>
<p>Any scenarios and events are automatically set as a variable that can be
used within your control files. For example, if your model results are
to be output to different folders depending on Scenario 1 (~s1~), enter
the following into the .tcf file noting the use of &lt;&lt; and &gt;&gt; to
delineate the variable name.</p>
<p><a href="#tcfOutputFolder">Output Folder</a> <teq>==</teq><tblk> ..\results\&lt;&lt;~s1~&gt;&gt;</tblk></p>
<p>In the case above, if Scenario ~s1~ is set to “OpA”, TUFLOW
automatically sets a variable named “~s1~” to a value of “OpA”, and the
output will be directed to ..\results\OpA.</p>
<p>As an extension to the example above, if the output folder is to also
include the first event name, which, for example, is the return period
of the flood, the following could be used:</p>
<p><a href="#tcfOutputFolder">Output Folder</a> <teq>==</teq><tblk>..\results\&lt;&lt;~e1~&gt;&gt;_&lt;&lt;~s1~&gt;&gt;</tblk></p>
<p>If Event ~e1~ is set to “Q100”, the output will be directed to
..\results\Q100_OpA.</p>
</div>
</div>
<div id="TUFLOWExecDownload-2" class="section level2 hasAnchor" number="12.4">
<h2><span class="header-section-number">12.4</span> TUFLOW Executable Download<a href="ManagingSimulations-1.html#TUFLOWExecDownload-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="InstallOverview-3" class="section level3 hasAnchor" number="12.4.1">
<h3><span class="header-section-number">12.4.1</span> Overview and Where to Install<a href="ManagingSimulations-1.html#InstallOverview-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The TUFLOW release consists of two different versions of the executable
as follows:</p>
<ul>
<li><p>TUFLOW_iSP_w64.exe</p></li>
<li><p>TUFLOW_iDP_w64.exe</p></li>
</ul>
<p>The naming convention for each executable is explained in . Each version
has associated TUFLOW .dll and .ptx files, and several system .dll files.
<!-- WJS
Missing reference above in first sentence
--></p>
<p>For each version all .exe, .dll and .ptx files must be placed in the same
folder and kept together at all times. Older versions of TUFLOW may not have any .ptx files (these are associated with GPU based simulations. When replacing with a new build,
archive the files by creating a folder of the same name as the Build ID
(e.g. 2023-03-AD), and place all files in this folder.</p>
<p>The Build ID includes the acronym and appears in the top bar of the
Console window, in the .tlf file and elsewhere. For example, if running
the single precision, Windows 64-bit version, the Build ID would be
“2023-03-AD-iSP-w64”.</p>
<p>Older builds can always be setup in a similar manner by placing the
build in its own folder, if they are needed for running legacy models.</p>
<p><a href="#tcfModelTUFLOWBuild">Model TUFLOW Build</a> or a combination of <a href="#tcfModelTUFLOWRelease">Model
TUFLOW Release</a>, <a href="#tcfModelPrecision">Model
Precision</a> and <a href="#tcfModelPlatform">Model Platform</a>
can be used to force a simulation to use a specific TUFLOW build,
release, or precision (SP or DP). This can be
very useful for ensuring a consistent TUFLOW build/release/version is
used for a project.</p>
<p>It is recommended that a folder structure such as shown below is used.
If an update (patch) is issued, archive the old build by moving all
files to a separate folder or .zip file, and copy in the new TUFLOW
files. This way, batch files, text editors and GIS packages that are
used to start TUFLOW simulations will access the latest build. Previous
versions can still be used if required.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-TUFLOWEngineFiles"></span>
<img src="images/image176.png" alt="**TUFLOW Engine Files**" width="50%" />
<p class="caption">
Figure 12.1: <strong>TUFLOW Engine Files</strong>
</p>
</div>
</center>
<!-- WJS
Above image might need to be clearer/higher resolution
-->
<p>Running TUFLOW is carried out by initiating the TUFLOW_X.exe file using
one of the approaches discussed in Section <a href="ManagingSimulations-1.html#StartingaSim-3">12.5.2</a>. The system
.dll files are required for the following purposes:</p>
<ul>
<li><p>TUFLOW_LINK_X.dll allows other schemes such as 12D DDA, FloodModeller 1D, EPA SWMM and XPSWMM to dynamically link with TUFLOW.</p></li>
<li><p>TUFLOW_USER_DEFINED_X.dll allows users to customise TUFLOW to suit
their purposes (see Section <a href="ManagingSimulations-1.html#CustomingTUFLOW-3">12.4.3</a>).</p></li>
<li><p>TUFLOW_AD_X.dll contains the AD (advection-dispersion) module
algorithms.</p></li>
<li><p>TUFLOW_MORPHOLOGY_X.dll contains the morphology module algorithms. These are deprecated and retained for backward compatibility.</p></li>
<li><p>Other supplied .dlls are system DLLs required by TUFLOW.</p></li>
</ul>
<p>A number of .ptx files are required to run TUFLOW HPC/Quadtree simulations on a GPU card, these are:-</p>
<ul>
<li><p>hpcKernels_nSP.ptx</p></li>
<li><p>hpcKernels_nDP.ptx</p></li>
<li><p>qpcKernels_nSP.ptx</p></li>
<li><p>qpcKernels_nDP.ptx</p></li>
</ul>
<p><strong>As a general rule, once a build is over three years old, it is no
longer supported.</strong> It can still be used, but there is no guarantee that
older builds will recognise newer dongles or are updated with bug fixes.</p>
</div>
<div id="iSPdSP-3" class="section level3 hasAnchor" number="12.4.2">
<h3><span class="header-section-number">12.4.2</span> Single and Double Precision<a href="ManagingSimulations-1.html#iSPdSP-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When storing floating point values on a computer, a certain number of
bytes per value is needed. Single precision numbers use 4 bytes and
double precision 8 bytes. This will yield from 6 to 9 digits
of precision for single precision and 15 to 17 digits for double. TUFLOW Classic and TUFLOW HPC are available in both single precision and double precision, however, the reasons why you would use double precision instead of single are somewhat different for the two solvers.</p>
<div id="iSPdSP-Classic" class="section level4 hasAnchor" number="12.4.2.1">
<h4><span class="header-section-number">12.4.2.1</span> TUFLOW Classic<a href="ManagingSimulations-1.html#iSPdSP-Classic" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Being an implicit matrix based solution, TUFLOW Classic solves for water levels rather than depths. The affect of this is best illustrated by an example. Consider a model where the highest ground level is under 10mAD. If a tiny amount of rainfall falls on the cell, this might raise the water level in the cell to 5.000001mAD. Both single and double precision will handle the accuracy needed as the resulting water level falls within the acceptable number of significant figures for both precisions.</p>
<p>However, consider another model with much higher elevations, and a cell that has a water level of 1000.000mAD. If this cell receives 0.000001m of rainfall in one timestep, for single precision the resulting water level will be 1000.000mAD (i.e. the added rainfall has disappeared resulting in an incorrect calculation and associated mass error). However, for double precision the resulting water level is 1000.00000100000, which is the correct water level and mass is conserved.</p>
<p>The need to use double precision for Classic also depends on other factors such as cell size and timestep. As there is no simple rule-of-thumb, the recommended action is to run the model in single and double precision modes. If the results are unacceptably different, and especially if the mass error is significantly lower in double precision, then double precision should be used.</p>
<p>Note that the choice of single or double precision also impacts on
simulation times and RAM allocation. iDP versions of TUFLOW Classic will take
approximately 25% longer to run and require up to twice as much memory,
limiting the ability to run concurrent simulations. Refer to Sections <a href="#SimulationTimes-2"><strong>??</strong></a> and <a href="#LargeModels-2"><strong>??</strong></a> for further information. Therefore, if the results of a model run in both iSP and iDP versions are consistent, the iSP version of TUFLOW is recommended to take advantage of the faster
simulation times and smaller memory footprint.</p>
</div>
<div id="iSPdSP-HPC" class="section level4 hasAnchor" number="12.4.2.2">
<h4><span class="header-section-number">12.4.2.2</span> TUFLOW HPC<a href="ManagingSimulations-1.html#iSPdSP-HPC" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Being an explicit solution, the calculation method in TUFLOW HPC uses depth, unlike TUFLOW Classic which uses water level as discussed above. This means that precision issues associated with, for example, applying a very small rainfall to a high elevation are not applicable in TUFLOW HPC, resulting in most models being accurately solved using single precision. However, carrying out simulations in single and double precision and checking for consistency is still a recommended task, especially if the simulation is using for example, very small inflows or other metrics that are unusually fine-scale.</p>
<p>Unless testing shows otherwise, use the single precision version for all TUFLOW HPC simulations. <strong>Note: Double precision solutions on GPU cards can be four times slower than single precision on some GPU devices!</strong> If the TUFLOW HPC simulation is started with the single precision version of TUFLOW, the HPC solver will utilise a single precision version. If the simulation is started with the double precision version of TUFLOW, error message <a href="https://wiki.tuflow.com/TUFLOW_Message_2420">ERROR 2420</a> will be output by default stating that the single precision version should be used. This can be overridden by using the <a href="#tcfHPCDPCheck">HPC DP Check</a> <teq>==</teq><tblk> OFF</tblk> command.</p>
</div>
</div>
<div id="CustomingTUFLOW-3" class="section level3 hasAnchor" number="12.4.3">
<h3><span class="header-section-number">12.4.3</span> Customising TUFLOW using TUFLOW_USER_DEFINED.dll<a href="ManagingSimulations-1.html#CustomingTUFLOW-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The TUFLOW_USER_DEFINED.dll is a legacy feature for TUFLOW Classic that was primarily used for customising hazard category outputs and is no longer supported as the same service cannot be offered for HPC given its GPU code base.</p>
<p><strong>Note: For customising hazard category outputs, see ???.</strong></p>
<!-- WJS
I've assumed we're no longer supporting above? So, I've deleted and changed to no longer supported. Please add link to user defined hazard feature.
-->
</div>
</div>
<div id="RunningSims-2" class="section level2 hasAnchor" number="12.5">
<h2><span class="header-section-number">12.5</span> Running Simulations<a href="ManagingSimulations-1.html#RunningSims-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<!-- EFC: put in chapter of what to do when sim not starting correctly and link to https://wiki.tuflow.com/TUFLOW_crashing -->
<div id="DongleTypesandSetup-3" class="section level3 hasAnchor" number="12.5.1">
<h3><span class="header-section-number">12.5.1</span> Dongle Types and Setup<a href="ManagingSimulations-1.html#DongleTypesandSetup-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>BMT dongles are generally distributed as a WIBU Codemeter (metal) dongle or software licence. These dongles were introduced in 2010. The older ‘SoftLok’ dongles are no longer supported.</p>
<p>Two types of licences are currently provided:</p>
<ul>
<li><p>Local or Standalone Licence – Allows up to a specified limit the
number of TUFLOW simulations to be run from the one computer. For
example, a Local 1 licence will allow a single simulation to be
performed on the machine. A local 4 licence allows up to 4 concurrent
simulations. Local 1 to Local 16 licences can be configured.</p></li>
<li><p>Network Licence – allows for multiple TUFLOW processes running at any
one time across multiple machines within the limitations of the <a href="https://downloads.tuflow.com/_archive/Licensing/TUFLOW%20Products%20Licence%20Agreement.pdf">TUFLOW EULA</a>. For example, a Network 5 licence allows up to 5
concurrent simulations to be performed. This could be 5 simulations on
a single computer, 5 simulations with each one on a different computer, or
anything in between.</p></li>
</ul>
<p>Refer to the <a href="https://wiki.tuflow.com/TUFLOW_Licensing">installation instructions</a> on the TUFLOW
Wiki for both types of dongles.</p>
<div id="DongleAccessProtocols-4" class="section level4 hasAnchor" number="12.5.1.1">
<h4><span class="header-section-number">12.5.1.1</span> Protocols for Accessing Dongles<a href="ManagingSimulations-1.html#DongleAccessProtocols-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If more than one type of dongle is available the protocols for taking
and checking licences are:</p>
<ol style="list-style-type: decimal">
<li>WIBU Codemeter licences are searched for, and if a licence is free
it is taken.<br />
</li>
<li>If no licence is available, you can optionally set for TUFLOW to
continue to try and find an available WIBU dongle licence. This is
achieved using the “C:\BMT\TUFLOW_Dongle_Settings.dcf” file
described below. This is useful if there are no free licences and
you wish to start a simulation (the simulation will start once a
free licence becomes available).<br />
</li>
<li>Once a simulation is under way, and if the licence is lost, TUFLOW
will try to regain a licence, but it cannot switch to a different
dongle type / provider. For example, a WIBU dongle can’t be used to
finish a simulation if it is started with another WIBU dongle which is
removed.</li>
</ol>
<p>There are five varieties of licence type / vendor:</p>
<ul>
<li>BMT physical USB lock (dongle)<br />
</li>
<li>BMT software lock (tied to a particular machine)<br />
</li>
<li>Aquaveo (SMS) USB lock<br />
</li>
<li>Jacobs (Flood Modeller) USB lock<br />
</li>
<li>Jacobs (Flood Modeller) software lock</li>
</ul>
<p>With numerous licencing options available, setting the preferred licence
type can (slightly) speed the simulation start-up. The licence search order can be set
via a licence control file “TUFLOW_licence_settings.lcf”, this replaces
the TUFLOW_Dongle_Settings.dcf. Note that this file can occur in several
locations. When looking for a licence setting file TUFLOW searches in
the following locations:</p>
<ol style="list-style-type: decimal">
<li>A “TUFLOW_licence_settings.lcf” in the same location as the TUFLOW executable.<br />
</li>
<li>A “TUFLOW_licence_settings.lcf” in a TUFLOW folder in the “ProgramData” environment variable location. By default this will resolve to C:\ProgramData\TUFLOW\TUFLOW_licence_settings.lcf.
Entering %programdata% into the windows explorer path will take you to the location.<br />
</li>
<li>C:\BMT\TUFLOW_Licence_Settings.lcf<br />
</li>
<li>C:\BMT\TUFLOW_Dongle_Settings.dcf</li>
</ol>
<p>If no licence settings files are found, TUFLOW defaults to the order
listed above. <a href="#tcfSearchOrder">WIBU Firm Code Search Order</a> can be used
to control the search order in the TUFLOW_licence_settings.lcf file.</p>
<p><strong>Note: Use of C:\BMT\ above is for legacy reasons and is not recommended as read/write access to local drives is now often blocked for protection against hackers.</strong></p>
</div>
<div id="DongleSettingsFile-4" class="section level4 hasAnchor" number="12.5.1.2">
<h4><span class="header-section-number">12.5.1.2</span> TUFLOW_Licence_Settings.lcf File<a href="ManagingSimulations-1.html#DongleSettingsFile-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The TUFLOW Licence Settings (.lcf) file can be used to set WIBU
settings, such as retry time interval and count. It has the same form
and notation as a TUFLOW .tcf file.</p>
<p><strong>Note: This file is optional and if not found the settings below are
the default.</strong></p>
<p><tgrn>! Use this file to set general and WIBU specific dongle parameters </tgrn></p>
<p><tgrn>! Use ! or # to comment out commands or make comments</tgrn></p>
<p><a href="#tcfSimulationsLogFolder">Simulations Log Folder</a><teq> ==</teq><tblk> C:\ProgramData\TUFLOW\<username>\log</tblk> <tgrn>! Path or URL to global .log file </tgrn></p>
<p><a href="ManagingSimulations-1.html#WIBURetryTime">WIBU Retry Time</a><teq> ==</teq><tblk> 60</tblk> <tgrn>! seconds. Values less than 3 are reset to 3. Default = 60.</tgrn></p>
<p><a href="ManagingSimulations-1.html#WIBURetryCount">WIBU Retry Count</a><teq> ==</teq><tblk> 0</tblk> <tgrn>! Use -1 for indefinitely.</tgrn></p>
<p><a href="ManagingSimulations-1.html#WIBURetryCount">WIBU Dongles Only</a><teq> ==</teq><tblk> OFF</tblk> <tgrn>! If ON, searches for WIBU dongles only.
Default is OFF.</tgrn></p>
<p><a href="#tcfSimulationsLogFolder">Simulations Log Folder</a> sets the folder path or URL to a folder for
logging all simulations. If the keywords “DO NOT USE” occur within the
folder path or URL, this feature is disabled. Also see <a href="#tcfSimulationsLogFolder">Simulations Log
Folder</a>.</p>
<p><a href="" id="WIBURetryTime">WIBU Retry Time</a> sets the interval in seconds for retrying to take a
licence or regain a lost licence. The default is 60 and values less than
3 are set to 3.</p>
<p><a href="" id="WIBURetryCount">WIBU Retry Count</a> sets the number of times to retry for a licence at
the start of a simulation. By default, if a licence is lost during the simulation,
TUFLOW tries indefinitely to regain a licence so as not to lose the
simulation.</p>
<p><a href="" id="WIBURetryTime">WIBU Dongles Only</a> if set to ON will force TUFLOW to only search for WIBU dongles.</p>
</div>
<div id="DongleFailure-4" class="section level4 hasAnchor" number="12.5.1.3">
<h4><span class="header-section-number">12.5.1.3</span> Dongle Failure during a Simulation<a href="ManagingSimulations-1.html#DongleFailure-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If TUFLOW fails to recognise a network lock during a simulation
(e.g. the network dongle server computer is down) it enters a holding
pattern and continues trying until a license is found.</p>
<p>For local, standalone locks, TUFLOW prompts with a message that the lock
could not be found. If it’s a USB lock try a different USB port,
and press Enter to continue.</p>
</div>
</div>
<div id="StartingaSim-3" class="section level3 hasAnchor" number="12.5.2">
<h3><span class="header-section-number">12.5.2</span> Starting a Simulation<a href="ManagingSimulations-1.html#StartingaSim-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are a number of ways TUFLOW can be started, in each case the
TUFLOW executable is started with the TUFLOW control file (.tcf) as the
input argument. There are a number of optional switches that can be
specified when starting a simulation; these are outlined in ???<!--reference-->.</p>
<p>Starting a TUFLOW simulation can be carried out in a multitude of
methods:</p>
<ol style="list-style-type: decimal">
<li>From within a text editor such as <a href="https://wiki.tuflow.com/NotepadPlusPlus_Run_TUFLOW">Notepad++</a><br />
</li>
<li>Through a <a href="https://wiki.tuflow.com/Run_TUFLOW_From_a_Batch-file">batch file</a><br />
</li>
<li>From within your GIS software:
<ol style="list-style-type: decimal">
<li>QGIS via the <a href="https://wiki.tuflow.com/TUFLOW_QGIS_Plugin">QGIS TUFLOW Plugin</a><br />
</li>
<li>ArcMap via the use of the <a href="https://wiki.tuflow.com/ArcGIS_TUFLOW_Toolbar#Run_TUFLOW_Simulation">ArcTUFLOW toolbox</a><br />
</li>
<li>MapInfo (through the <a href="https://wiki.tuflow.com/MiTools_Tips#TUFLOW_Capabilities">MiTools</a> add-on)<br />
</li>
</ol></li>
<li>From a <a href="https://wiki.tuflow.com/Run_TUFLOW_through_the_command_window0">Console (DOS) Window</a><br />
</li>
<li>Via the right mouse button in Microsoft Explorer<br />
</li>
<li>Via a runner such as the <a href="https://gitlab.com/tuflow-user-group/tuflow/simulation-management/tuflow-runner">TUFLOW Runner</a> or <a href="https://wiki.tuflow.com/TRIM_Tips">TRIM</a></li>
</ol>
<p>This section of the manual only provides detailed instructions on
initiating simulations through batch files as it is the most effective
method to run several or many simulations. Instructions on all methods
have been described on the <a href="https://wiki.tuflow.com/Running_TUFLOW">TUFLOW
Wiki</a>.</p>
<div id="BatchFileExamples-4" class="section level4 hasAnchor" number="12.5.2.1">
<h4><span class="header-section-number">12.5.2.1</span> Batch File Example and Run Options (Switches)<a href="ManagingSimulations-1.html#BatchFileExamples-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A batch file is a text file that contains a series of commands or
instructions that is read by the Windows Operating System. The batch
file requires the extension .bat to be recognised by Windows.</p>
<p>The simplest format of a TUFLOW batch file is to specify a single
simulation. This is of the format:</p>
<p>&lt;TUFLOW Executable&gt; &lt;TUFLOW Control File&gt;</p>
<p>For example:</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe MR_H99_C25_Q100.tcf</p>
<p>The .bat file is run or opened by double clicking on it in Windows
Explorer. This opens a Console Window and then executes each line of the
.bat file. The above batch file will start the TUFLOW executable with
the control file “MR_H99_C25_Q100.tcf” as the input file. As the control
file argument does not have a file path, the batch file must be located
in the same folder as the .tcf file. This could also include a relative
or absolute file path, for example in the batch file line below, the
batch file could be stored in any folder as the absolute file path is
used. As outlined in Section <a href="#FilePath-3"><strong>??</strong></a>, the relative file path is recommended
for TUFLOW modelling inputs.</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe C:\Example\MR_H99_C25_Q100.tcf</p>
<p>To start multiple simulations one after the other, these can be listed
in succession.</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe –b MR_H99_C25_Q100.tcf</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe –b MR_H99_C25_Q050.tcf</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe –b MR_H99_C25_Q020.tcf</p>
<p><em>pause</em></p>
<p>Note the use of the –b (batch) switch, which suppresses the need to press
the return key at the end of a simulation. This ensures that one
simulation proceeds on to the next without any need for user input. The
pause at the end stops the Console window from closing automatically
after completion of the last simulations so you can check the status of the simulations.</p>
<p>The –t (test) switch is very useful for testing the data input without
running the simulation. It is good practice to use this switch before
carrying out the simulations, as this will tell you whether there are
any data input problems. The –t switch runs TUFLOW to just before it
starts the hydrodynamic computations.</p>
<p>Using the example above, the recommended approach is to first run the
following batch file:</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –t
MR_H99_C25_Q100.tcf</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –t
MR_H99_C25_Q050.tcf</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –t
MR_H99_C25_Q020.tcf</p>
<p><em>pause</em></p>
<p>This will indicate any input problems (note some WARNINGS do not require
a “press return key”, but they can be located in the .tlf file).</p>
<p>From TUFLOW version 2018-03-AA, it is possible to use the test model option without using a TUFLOW licence noting no diagnostics are reported so don’t use this option whilst you are developing/building a model. To utilise this licence free test, the -nlc (No Licence Check) input argument
must be specified, e.g. the command line below would run the model in test model (-t) without needing a licence (-nlc):</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –t -nlc MR_H99_C25_Q020.tcf</p>
<p>To carry out the simulations the –t can be removed (and -nlc flag if used) or replaced with the –x
(execute) switch. The -x switch is optional, but is useful when editing
the .bat file to quickly change between –t and –x switches.</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –x MR_H99_C25_Q100.tcf</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –x MR_H99_C25_Q050.tcf C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –x MR_H99_C25_Q020.tcf</p>
<p><em>pause</em></p>
<p>Comment lines are specified in a .bat file using “REM” (remark) in the
first column. Alternatively, “::” has a similar effect. See also
<a href="https://ss64.com/nt/rem.html" class="uri">https://ss64.com/nt/rem.html</a>. For example, if you want to re-run only
the first simulation in the examples above, edit the file as follows:</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –x MR_H99_C25_Q100.tcf</p>
<p>:: C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –x MR_H99_C25_Q050.tcf</p>
<p>:: C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –x MR_H99_C25_Q020.tcf</p>
<p><em>pause</em></p>
<p>Table <a href="ManagingSimulations-1.html#tab:tab-TUFLOWOptions">12.1</a> below describes other switches that are available. The switches are also
displayed to the console if TUFLOW.exe is executed without any arguments
(i.e. double click on TUFLOW.exe in Windows Explorer).</p>
<p>Any of the options can be prefixed by a:</p>
<ul>
<li><p>“-” (short dash or minus sign);</p></li>
<li><p>“-” (long dash); or</p></li>
<li><p>“/” (forward slash)</p></li>
</ul>
<p>For example, to start a model in batch mode, the following all perform
the exact same function:</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe <strong>-</strong>b MR_H99_C25_Q100.tcf</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe <strong>–</strong>b MR_H99_C25_Q100.tcf</p>
<p>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe <strong>/</strong>b MR_H99_C25_Q100.tcf</p>
<table>
<caption>
<span id="tab:tab-TUFLOWOptions">Table 12.1: </span><strong>TUFLOW.exe Options (Switches)</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Switch
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
-acf
</td>
<td style="text-align:left;">
Automatically create folders (the default). Prevents the dialog prompt from appearing when encountering non-existent folders (ie. results folders), and creates these folders automatically. If for any reason the folder can’t be created, a dialog will appear.
</td>
</tr>
<tr>
<td style="text-align:left;">
-b
</td>
<td style="text-align:left;">
Batch mode. Used when running two or more simulations in succession from a .bat file (see Section <a href="ManagingSimulations-1.html#BatchFileExamples-4">12.5.2.1</a>). Suppresses display of the TUFLOW “simulation has finished” dialogue window, or a request to press Enter at the end of a simulation, so that the .bat file can continue onto the next simulation.
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>-c</p>
<p>Optional additional flags of “a” , “L”, “p” or “ncf”.</p>
(e.g. -c, -cap, -cpncf, -cncf)
</td>
<td style="text-align:left;">
<p>A copy of a TUFLOW model can be created as described below. Making a copy of a model is useful for transferring a model to another site or for making an archive of the input data. Also see the -pm (package model) option as an alternative.</p>
<p>To copy a TUFLOW model, the -c switch must be included on the TUFLOW command line, as a minimum. The -c switch copies only the files read by TUFLOW. Therefore, for MapInfo users, the .mif and .mid files read by TUFLOW will be copied. To copy the remaining MapInfo format files (.tab, .id, .dat and .map) use the -ca option described further below.</p>
<p>Additional optional flags can be added to the base -c switch, in any combination, including:</p>
<ul>
<li>“a” (all);<br />
</li>
<li>“L” (list);<br />
</li>
<li>“p” (path); and<br />
</li>
<li>“ncf” (no check files).</li>
</ul>
<p>The addition of the “a” flag (e.g. -ca) copies all files of the same name for all input files (i.e. same name, but different extensions). This option is particularly useful if the .tab and other associated files of a GIS layer need to be archived or delivered.</p>
<p>The addition of the “L” flag will output the files used by TUFLOW into a .tcl (TUFLOW Copy List) file but not copy the files to a destination folder. This can be useful if scripting the copying of models. To run the copy list the character “L” needs to be specified after the -c input argument. This works for all copy options, for example the following are all valid; -cL, -caL -capL. The .tcl file produced is output in the same directory as the .tcf and takes the simulation name.</p>
<p>The addition of the “p” flag (e.g. -cp) allows the user to specify an alternate path in which to copy the model. Without this flag, the location defaults to the .tcf’s location. For example, specifying the following, will place a copy of the model into a folder C:\put_model_here:</p>
<p>“TUFLOW.exe” -cp “C:\put_model_here” “C:\TUFLOW\runs\M01_5m_003.tcf”</p>
<p>The addition of the “ncf” flag (e.g. -cncf) copies the essential input files and excludes all check files.</p>
<p>Note that these optional flags can be added in any combination to the base -c switch (e.g. -c, -ca, -cp, -cncf, -cap, -cancf, -cpncf, -capncf).</p>
<p>Specifying -c on the TUFLOW command line creates a folder “<span class="math inline">\(\lt\)</span>.tcf filename<span class="math inline">\(\gt\)</span>_copy” (or “<span class="math inline">\(\lt\)</span>.tcf filename<span class="math inline">\(\gt\)</span>_copy_all” if the “a” flag is added) in the same location as the .tcf file. Under the folder, input files are copied (including the full folder structure), and any check files and output folders created. For example, specifying:</p>
<p>TUFLOW.exe -c “C:\tuflow_models\my model.tcf” will make a copy of the TUFLOW model based on the file “my model.tcf” in a folder “my model.tcf_copy”, or “my model.tcf_copy_all” if using the “a” flag.</p>
<p>Notes:</p>
<ol style="list-style-type: decimal">
<li><b>Use the full path to the .tcf file (this is generally the default if running from an editor such as UltraEdit or using the right click approach).</b><br />
</li>
<li>Make sure there is sufficient disk space (no checks for sufficient disk space are made).<br />
</li>
<li>Output folders and some output files are created but these will be empty.<br />
</li>
<li>Unless the -ncf option is used, any check folder(s) are created and check files written (these can be deleted if wishing to minimise the size of the folder).<br />
</li>
<li>The full path of the input files is reproduced to provide traceability and also handle inputs from other drives and URLs. Drive letters are replaced, for example, “C:” becomes a folder “C Drive”. URLs (denoted by “\” or “//” at the beginning of the path) are replaced by a folder called “URL\”.<br />
</li>
<li>To run the copied .tcf file, it will be necessary to change any non-relative pathnames according to the point above. Alternatively you can share and then map, for example, the “D Drive” folder as “D:”.<br />
</li>
<li>If using MapInfo formats, the <a href="#tcfCheckMISaveDate">Check MI Save Date</a> will need to be set to WARNING or OFF in the .tcf file if the –ca option has not been used as the .tab and other files will not have been copied.<br />
</li>
<li>There is a limit of 1,000 characters (including spaces) on pathnames. As very long pathnames can result due to the above approach, if the number of characters exceeds 1,000, problems may occur.<br />
</li>
<li>The -c switch automatically invokes the -t (i.e. the simulation does not commence, only the input data is tested/checked).<br />
</li>
<li>The -b option still applies if several models wish to be copied using a batch (.bat) file.
</td>
</tr>
<tr>
<td style="text-align:left;">
-e &lt;name&gt;</li>
</ol>
-e{1-9} &lt;name&gt; </name></name>
</td>
<td style="text-align:left;">
<p>Specifies an event name to be used by <a href="#tcfDefineEvent">Define Event</a> in a .tef <a href="#tcfEventFile">Event File</a> to customise inputs for an event. There must be a space between –e and &lt;name&gt;. &lt;name&gt; may itself contain spaces, but if it does the event name must be enclosed in quotes. More than one (up to a maximum of nine) events per simulation may be specified by placing a number after –e. –e and –e1 are treated the same (don’t specify both of them otherwise indeterminate results may occur).</p>
<p>Also see Section <a href="ManagingSimulations-1.html#Events-3">12.3.2</a> and <a href="#tcfModelEvents">Model Events</a>.</p>
Examples:<br />
–e Q100 Run the Q100 event.<br />
–e1 Q100 –e2 02h Run the Q100, 2 hour storm event.<br />
–e Q100 –e2 02h Same as above.<br />
–e “100 yr” Run the event name “100 yr” noting quotes required as there is a space in the name. </name></name>
</td>
</tr>
<tr>
<td style="text-align:left;">
-et
</td>
<td style="text-align:left;">
The end time for a simulation can be specified using the run option -et&lt;time_in_hours&gt;. Any end time specified via this run option argument is given the highest priority and overrides the <a href="#tcfEndTime">End Time</a> settings in the .tcf, event files (.tef) and override files. </time_in_hours>
</td>
</tr>
<tr>
<td style="text-align:left;">
-nc
</td>
<td style="text-align:left;">
<p>The use of the -nc (no console) switch suppresses the appearance (hides) the console window (Section <a href="#ConsoleDisplay-2"><strong>??</strong></a>). You won’t be able to see the simulation running, however there will be a TUFLOW process visible in Windows Task Manager. The -nc switch automatically invokes the -nmb and -b switches.</p>
<p>The “start” command included in the Advanced Batch File examples in Section <a href="ManagingSimulations-1.html#AdvancedBatchFiles-4">12.5.2.3</a> should not be used with the -nc command.</p>
<p>It is strongly recommended to redirect standard console window output to a text file. It’s recommended that this file be given a unique name for each run, matching your simulation. “…TUFLOW.exe” –nc my_run.tcf &gt; my_run.txt</p>
<p>Build 2018-03-AB included some enhancements when running with the -nc (no console option). These were designed to remove any need for user input to TUFLOW as follows:</p>
<ul>
<li>If no .tcf is specified, no licence check is performed and the simulation is halted. Previously a licence check was performed and the user was prompted to hit a key to release licences and close the simulation.<br />
</li>
<li>If an invalid .tcf file is specified, the simulation stops and returns an error level of 1 to the operating system. Previously the user was prompted to enter a valid .tcf filename.<br />
</li>
<li>If the set log path (-slp) is specified in conjunction with the no console option (-nc) the simulation stops and returns an error level of 1 to the operating system. Previously the user was prompted to confirm the set log path.<br />
</li>
<li>Removed a number of locations where a simulation could pause and wait for a user input before closing.
</td>
</tr>
<tr>
<td style="text-align:left;">
-nlc
</td>
<td style="text-align:left;">
For Build 2018-03-AA or later it is possible to use the copy model (-c option) or test model (-t option) without using a licence. To utiltise this licence free copy / test, the -nlc (No Licence Check) input argument must be specified.</li>
</ul>
If running without a TUFLOW licence no diagnostic output is generated (e.g. messages layer). If these are required, the -nlc option must be removed.
</td>
</tr>
<tr>
<td style="text-align:left;">
-nmb
</td>
<td style="text-align:left;">
No Message Boxes. Suppress use of windows message boxes to prompt the user. All prompts will be via the console window.
</td>
</tr>
<tr>
<td style="text-align:left;">
-nq
</td>
<td style="text-align:left;">
The use of the -nq (no queries) switch prevents the termination query dialog from displaying when Ctrl+C is pressed to terminate a simulation cleanly. If –nq is specified and Ctrl-C is pressed, the simulation terminates cleanly without a query dialog to check you are certain, so be careful!
</td>
</tr>
<tr>
<td style="text-align:left;">
-nt
</td>
<td style="text-align:left;">
Sets the number of CPU threads (cores) to use for a TUFLOW HPC simulation. Noting that the number of threads requested is limited to the maximum number of CPU cores available on the machine, and the available TUFLOW Thread licences.
</td>
</tr>
<tr>
<td style="text-align:left;">
-nwk
</td>
<td style="text-align:left;">
Force TUFLOW to search for a network licence (i.e. skip the search for a local licence).
</td>
</tr>
<tr>
<td style="text-align:left;">
-od&lt;drive&gt; </drive>
</td>
<td style="text-align:left;">
The Output Drive for a simulation can be specified with the –od command line option.  For example –odC will redirect all outputs to the C:\ drive.
</td>
</tr>
<tr>
<td style="text-align:left;">
-oz &lt;name&gt; </name>
</td>
<td style="text-align:left;">
Map output includes Output Zone &lt;name&gt;. For more information on Output Zones, please refer to Section<a href="#OutputZones-3"><strong>??</strong></a>. For example “-oz ZoneA” would include output for Zone A, similar to the .tcf command: <a href="#tcfModelOutputZones">Model Output Zones</a> <teq>==</teq><tblk> Zone A</tblk>. </name>
</td>
</tr>
<tr>
<td style="text-align:left;">
-pm
</td>
<td style="text-align:left;">
<p>The package model (-pm) function copies all input files for all events and scenarios defined in the model. Unlike the -c option, -pm does not read and process the data during the file copy. As such it is substantially faster than -c. </p>
<p>The package model function does not require access to a TUFLOW licence.</p>
<p>Optional switches are:</p>
<ul>
<li>“All” (e.g. -pmAll) copies all file extensions (e.g. 1d_nwk_culv_L.mif, will become 1d_nwk_culv_L.*).<br />
</li>
<li>“L” (e.g. -pmL) list the files to be copied into an output file, but doesn’t copy the files.<br />
</li>
<li>“ini” (-pmini &lt;file.ini&gt;) provides a .ini file with user defined options as described below.</li>
</ul>
<p>Combinations of the above are also valid, with the order of the optional switches not being important (-pmAllL would be treated the same as -pmLAll).</p>
<p>Three options are also available for handling of the binary processed files created by TUFLOW to speed up the simulation start. These options are:</p>
<ul>
<li>-xf0: Do not copy .xf files, only the original inputs are copied.<br />
</li>
<li>-xf1: Copy both raw input files and .xf files.<br />
</li>
<li>-xf2: Copy only .xf files, if xf files exist for an input only the xf file will be copied.</li>
</ul>
<p>For example, the command line below will package the model but not include any .xf files.</p>
<p>TUFLOW_iSP_w64.exe -pm -xf0 PR_~s1~_~e1~_~e2~_001.tcf</p>
<p>When using package model the default destination folder is created in the same directory as the .tcf file, with the prefix “pm_”. For example, C:\Projects\Modelling\TUFLOW\runs\Run_001.tcf will create a package in the folder “C:\Projects\Modelling\TUFLOW\runs\pm_Run_001”.</p>
<p>A .ini file can be used to overwrite the default base and destination folders. A .ini file is specified by including the optional ini argument after -pm followed by the ini file name. For example:</p>
<p>TUFLOW_iSP_w64.exe -pmini package.ini PR_~s1~_~e1~_~e2~_001.tcf</p>
<p>Valid commands in the .ini file are:</p>
<ul>
<li>Base Folder == &lt;folder&gt;<br />
</li>
<li>Copy Destination == &lt;folder&gt;<br />
</li>
<li>Model Scenario ~s&lt;number&gt; == &lt;scenario a&gt; | &lt;scenario b&gt; | …<br />
</li>
<li>Model Event ~e&lt;number&gt; == &lt;event a&gt; | &lt;event b&gt; | …</li>
<li>Max Event Name == &lt;number&gt; </number></event></event></number></scenario></scenario></number></folder></folder>&lt;/file.ini&gt;</li>
</ul>
</td>
</tr>
<tr>
<td style="text-align:left;">
-pu &lt;id&gt; </id>
</td>
<td style="text-align:left;">
<p>Used to select which processing units to direct the simulation towards. At present this only applies to the HPC GPU solver where a simulation is to be directed to a particular GPU card or cards. –pu must be specified once for each device. For example, to direct the simulation to GPU devices 0 and 2, specify –pu0 –pu2. Can be used in place of the .tcf command <a href="#tcfGPUDeviceIDs">GPU Device IDs</a>. Note that the numbering starts at 0 for GPU devices.</p>
Override files (see Section <a href="#Override-3"><strong>??</strong></a>) can be used to control the device ID’s used by a range of computers accessing the same control file.
</td>
</tr>
<tr>
<td style="text-align:left;">
-qcf
</td>
<td style="text-align:left;">
Query the creation of a folder. If you would prefer to have the create folder query dialog to appear (rather than TUFLOW automatically creating folders - see -acf), you can specify the –qcf run time option.
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>-s &lt;name&gt;</p>
-s{1-9} &lt;name&gt; </name></name>
</td>
<td style="text-align:left;">
<p>Specifies a scenario name to be used by <a href="#tcfIfScenario">If Scenario</a> blocks to include/exclude commands. There must be a space between –s and &lt;name&gt;. &lt;name&gt; may itself contain spaces, but if it does the scenario name must be enclosed in quotes. More than one (maximum of nine) scenarios per simulation maybe specified by placing a number after –s. –s and –s1 are treated the same, so don’t specify both of them otherwise indeterminate results may occur.</p>
<p>Also see Section <a href="ManagingSimulations-1.html#Scenarios-3">12.3.3</a> and <a href="#tcfModelScenarios">Model Scenarios</a>.</p>
Examples:<br />
–s exg Process all exg scenario commands.<br />
–s1 opA –s2 opB Process all opA and opB scenarios.<br />
–s opA –s2opB Same as above.<br />
–s “Option A” Quotes required as there is a space in the scenario name. </name></name>
</td>
</tr>
<tr>
<td style="text-align:left;">
-slp
</td>
<td style="text-align:left;">
Simulation Log Path is a legacy option for Softlok (blue) dongles to set the path to a folder on the intranet to log all simulations initiated from the lock. Refer to the 2018 manual or earlier for details.
(See Section <a href="ManagingSimulations-1.html#DongleSettingsFile-4">12.5.1.2</a> for equivalent option for WIBU Codemeter licences, and also <a href="#tcfSimulationsLogFolder">Simulations Log Folder</a>.)
</td>
</tr>
<tr>
<td style="text-align:left;">
-st
</td>
<td style="text-align:left;">
The start time for a simulation can be specified using the run option -st&lt;time_in_hours&gt;. Any start time specified via this run option argument is given the highest priority and overrides the <a href="#tcfStartTime">Start Time</a> settings in the .tcf, event files (.tef) and override files. </time_in_hours>
</td>
</tr>
<tr>
<td style="text-align:left;">
-t
</td>
<td style="text-align:left;">
Test input only. Processes all input data including writing of check files, but does not start the simulation. Useful for checking that simulations in a .bat file all initialise without error, prior to carrying out the simulations (especially when the runs will take all night or all weekend and you made a change you forgot to test!).
</td>
</tr>
<tr>
<td style="text-align:left;">
-wibu
</td>
<td style="text-align:left;">
Search for a WIBU Codemeter licence only.
</td>
</tr>
<tr>
<td style="text-align:left;">
-x
</td>
<td style="text-align:left;">
eXecute the simulation (the default).
</td>
</tr>
</tbody>
</table>
</div>
<div id="CopyModelBatchFiles-4" class="section level4 hasAnchor" number="12.5.2.2">
<h4><span class="header-section-number">12.5.2.2</span> Copy/Package Model from Batch Files<a href="ManagingSimulations-1.html#CopyModelBatchFiles-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>TUFLOW can be run
in copy mode, which can be useful for transferring a model to another site or for making an archive of the input data. To copy a TUFLOW model, the -c switch must be included on the TUFLOW command line. The -nlc (no licence check) flag can be used to copy a model without the need for a TUFLOW licence. Further details can be found <a href="https://wiki.tuflow.com/Run_TUFLOW_From_a_Batch-file#Copy_a_TUFLOW_model">here</a>.</p>
<p>A licence free package model function that copies all input files for all events and scenarios defined in the model is also available using the -pm switch. If only a single set of events and scenarios is required, -c is preferable. Unlike the -c option, -pm does not read and process the data during the file copy, as such it is substantially faster than -c. The package model function does not require access to a TUFLOW licence. More information on the Package model function can be found <a href="https://wiki.tuflow.com/Run_TUFLOW_From_a_Batch-file#Package_a_TUFLOW_model">here</a>.</p>
</div>
<div id="AdvancedBatchFiles-4" class="section level4 hasAnchor" number="12.5.2.3">
<h4><span class="header-section-number">12.5.2.3</span> Advanced Batch Files<a href="ManagingSimulations-1.html#AdvancedBatchFiles-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Batch files can be set up so that they are more generic and easily
customised when moving from one project to another. Within the example
below, a variable, TUFLOWEXE, is used to define the path to the TUFLOW
executable, and a variable RUN is used to incorporate options such as
starting the simulation on a low priority and to minimise the console window when the process starts (/min option).</p>
<p><strong>set</strong> TUFLOWEXE=C:
Files\TUFLOW\2023-03\TUFLOW_iSP_w64.exe</p>
<p><strong>set</strong> RUN=start “TUFLOW” /low /wait /min “<strong>%TUFLOWEXE%</strong>” -b</p>
<p><strong>%RUN%</strong> MR_H99_C25_Q100.tcf</p>
<p><strong>%RUN%</strong> MR_H99_C25_Q050.tcf</p>
<p><strong>%RUN%</strong> MR_H99_C25_Q020.tcf</p>
<p>The advantage of using variables in batch files is if the path to the TUFLOW executable
changes, or to run a different version of TUFLOW, it is just a simple
single line change in the batch file. In the above, note the use of
quotes around %TUFLOWEXE% in the definition for the RUN variable –
quotes are needed around file path names whenever they contain a space.
Also note there is no space between the variable name and the equals
sign.</p>
<p>For examples of batch files used for running multiple events and
different scenarios from the same .tcf file, see Sections <a href="ManagingSimulations-1.html#Events-3">12.3.2</a>
and <a href="ManagingSimulations-1.html#Scenarios-3">12.3.3</a>.</p>
<p>It is also possible to create control logic such as loops in a batch
file. For example, this could be used to loop through a large number of
events and scenarios such as the example <a href="https://www.tuflow.com/insights/2021_12-scenarios-events-and-variables/">here</a>.</p>
<p>:: This sets the variables as local, another batch file can use the same
variables</p>
<p>SetLocal</p>
<p>:: Set up variables</p>
<p><strong>set</strong> TUFLOWEXE=C:\Program Files\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe</p>
<p><strong>set</strong> RUN=start “TUFLOW” /low /wait /min “<strong>%TUFLOWEXE%</strong>” -b</p>
<p><strong>set</strong> A=Q010 Q020 Q050 Q100 Q200</p>
<p><strong>set</strong> B=10min 30min 60min 120min 270min</p>
<p>:: Loop through each simulation</p>
<p>FOR %%a in (%A%) do (</p>
<div class="line-block">      FOR %%b in (%B%) DO (</div>
<div class="line-block">              %RUN% -e1 %%a -e2 %%b filename_~e1~_~e2~.tcf</div>
<div class="line-block">                          )</div>
<div class="line-block">                  )</div>
<p><strong>pause</strong></p>
<p>Further guidance on advanced batch files, including looping examples can
be found on this page of the <a href="https://wiki.tuflow.com/Run_TUFLOW_From_a_Batch-file">TUFLOW
Wiki</a>.</p>
</div>
</div>
<div id="SMSSimulations-3" class="section level3 hasAnchor" number="12.5.3">
<h3><span class="header-section-number">12.5.3</span> Using TUFLOW FV with SMS<a href="ManagingSimulations-1.html#SMSSimulations-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When running TUFLOW from SMS, SMS by default looks for a TUFLOW.exe in
the installation folder. To change this to the location where you have
placed the TUFLOW.exe and .dll/.ptx files, go to the Edit, Preferences, File
Locations tab as shown in Figure <a href="ManagingSimulations-1.html#fig:fig-SMSSettings">12.2</a>.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-SMSSettings"></span>
<img src="images/image177.png" alt="**SMS Settings**" width="50%" />
<p class="caption">
Figure 12.2: <strong>SMS Settings</strong>
</p>
</div>
</center>
</div>
<div id="OptimisingSims-3" class="section level3 hasAnchor" number="12.5.4">
<h3><span class="header-section-number">12.5.4</span> Optimising Startup and Run Times<a href="ManagingSimulations-1.html#OptimisingSims-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>MJS can add info about cell elevation file here and other items to help with model startup…</p>
<p>Regardless of the method for initiating a TUFLOW simulation, a simulation start stats file (<simulation_name>_start_stats.txt) is output to the same location as the .tlf file. This file contains information on the total time and the time elapsed for each stage of model initialisation. This can be used to identify the stages causing slow simulation start-up. If you have a problematic (slow starting) model, please email this file and corresponding .tlf file through to <a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a>.</p>
<p>From the 2018-03-AA release, a new output file is created named “<simulation_name>_run_stats.txt”. This file contains the amount of time that TUFLOW spends in the 1D and 2D computations. At each mass balance output interval, the percentage of the total computational effort that TUFLOW has spent in 1D calculations, 2D calculations and other is output to the run_stats file. The “other” column includes a variety of tasks that are neither 1D or 2D computations, such as writing of outputs, and transfer of data to GPU (if running on GPU devices). “Other” also includes time spent within an external 1D solver.</p>
<div id="Improved1DInputs-4" class="section level4 hasAnchor" number="12.5.4.1">
<h4><span class="header-section-number">12.5.4.1</span> Improved pre-processing of 1D Model Inputs<a href="ManagingSimulations-1.html#Improved1DInputs-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For the 2020-01 release, reading and processing of 1D inputs has been
significantly improved, particularly for large urban drainage models
(&gt;1,000 1D pipe network elements). For a tested model with 25,000 1D
channels, the start-up was approximately 40 times faster with the
2020-01 release compared to the previous 2018-03 release changing the start-up
time from nearly two hours to less than 3 minutes. No changes in model
files is required to implement this improved pre-processing time.</p>
</div>
<div id="SGSParallelProcessing-4" class="section level4 hasAnchor" number="12.5.4.2">
<h4><span class="header-section-number">12.5.4.2</span> Parallel Processing for SGS initialisation<a href="ManagingSimulations-1.html#SGSParallelProcessing-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>With the default SGS Method C (the default if <a href="#tcfSGS">SGS</a> <teq>==</teq><tblk> ON</tblk>”), the SGS elevations are retained in memory throughout the pre-processing stage, with the generation of the storage and face hydraulic data curves occurring only once at the end of the pre-processing. This is a computationally intense exercise, particularly for large models with small SGS sample distances. To speed up model initialisation, this has been parallelised to utilise multiple CPU cores.</p>
<p>By default, all CPU threads will be used for final SGS elevation pre-processing unless the number of threads (-nt[thread count]) command line argument has been specified. For example, to run on 8 threads the command line argument “-nt8” would be used. There is no check for thread licensing used for pre-processing. If the number of threads specified in the command line argument exceeds the number of threads available, all threads are used.</p>
<p>At the end of the .tgc file, after all elevation datasets have been processed, an XF file is written if the <a href="#tcfXFFiles">XF Files</a> command is set to on (default). The XF file is written to an “xf” folder, which sits in the same location as the .tgc. The XF file is then used for any subsequent simulations for optimised pre-processing performance. To avoid re-processing when changes are made to .tgc data other than elevation (e.g. active cells, materials, soils, etc.), the XF file is not written with the same filename as the .tgc. Instead, the .xf will be prefixed by “hpc” or “qdt” for HPC single grid and Quadtree simulations respectively and includes the nesting level and cell size. Any text set with the .tcf command <a href="#tcfXFFilesIncludeinFilename">XF Files Include in Filename</a> is included.</p>
<p>When reading the pre-processed SGS XF file, a check is done on the final SGS elevations, if these are consistent then the XF file is used.</p>
</div>
<div id="OptimisingMultiGPUPerformance-4" class="section level4 hasAnchor" number="12.5.4.3">
<h4><span class="header-section-number">12.5.4.3</span> Optimising Multi-GPU Performance (HPC Only)<a href="ManagingSimulations-1.html#OptimisingMultiGPUPerformance-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If a model is simulated across multiple GPU devices, one of the devices (usually the one with the
most wet cells) will be controlling the speed of the simulation and the other devices will be underutilised. By default, TUFLOW HPC divides a model equally over multiple GPU devices. However,
for real-world models, it is usual for the GPUs to have an inequitable amount of workload due to the number of active cells and number of wet cells, and this can change throughout the simulation as the model wets and dries.</p>
<p>From the TUFLOW 2020-01 release it is possible to distribute the workload unequally to the GPU
devices. During a simulation the workload efficiency of each GPU is output to the console and to
the .tlf file with a suggested distribution provided at the end of the simulation. A number of iterations may be required to fully optimise the distribution.</p>
<p>For example, a model simulated across four GPU devices reported at the end of the simulation in the .tlf file:
- Relative device loads: 60.3% 100.0% 83.7% 53.2%
- HPC Suggested workload balance <a href="#tcfHPCDeviceSplit">HPC Device Split</a> <teq> ==</teq><tblk> 1.23, 0.74, 0.89, 1.40</tblk>.</p>
<p>The command <a href="#tcfHPCDeviceSplit">HPC Device Split</a> <teq>==</teq><tblk> 1.23, 0.74, 0.89, 1.40</tblk> was added to the .tcf file for the next simulation producing the improved device workload efficiencies below and a 20% faster run time.</p>
<ul>
<li>Relative device loads: 100.0% 96.1% 96.8% 94.6%</li>
</ul>
<p><strong>Note: The benefit depends on the model, but if you have a significant variation in workload efficiencies between GPU devices this feature should provide a noticeable decrease in run times.</strong></p>
</div>
</div>
<div id="AutoTerminateOptions-3" class="section level3 hasAnchor" number="12.5.5">
<h3><span class="header-section-number">12.5.5</span> Auto Terminate (Simulation End) Options<a href="ManagingSimulations-1.html#AutoTerminateOptions-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>TUFLOW Classic and HPC include an Auto-Terminate feature for stopping
simulations after the flood peak has been experienced within the simulation. This can help project efficiencies by avoiding unnecessary model simulation time once the peak flood extent has been achieved.</p>
<p>The 2D cells that are monitored to trigger the auto-termination are
controlled by specifying a value of 0 (exclude) or 1 (include) using the
.tcf commands: <a href="#tcfSetAutoTerminate">Set Auto Terminate</a> and <a href="#tcfReadGISAutoTerminate">Read GIS
Auto Terminate</a>.</p>
<p>For example, in the below, all cells are first set to be excluded for
monitoring followed by the reading of a GIS layer to set cells
individually.</p>
<p><a href="#tcfSetAutoTerminate">Set Auto Terminate</a> <teq>==</teq><tblk> 0</tblk></p>
<p><a href="#tcfReadGISAutoTerminate">Read GIS Auto Terminate</a> <teq>==</teq><tblk>
..\2d_AT_001_R.shp</tblk></p>
<p>At each <a href="#tcfMapOutputInterval">Map Output Interval</a> the monitored cells
are compared against two criteria:</p>
<ol style="list-style-type: decimal">
<li><p>The percentage of the wet cells that have become wet since the last
map output interval.</p></li>
<li><p>The velocity-depth product at the current timestep compared to the
tracked maximum.</p></li>
</ol>
<p>For the percentage of cells that have become wet since the last
interval, the maximum allowable value is controlled with the .tcf
command:</p>
<p><a href="#tcfAutoTerminateWetCellTolerance">Auto Terminate Wet Cell Tolerance</a>
<teq>== </teq><tblk>&lt;maximum_allowable_%_of_newly_wet_cells&gt;</tblk></p>
<p>If set to 0, then if any monitored cells have become wet since the last
map output the simulation continues. If set to a value of 5, then up to
5% of monitored cells can become wet since the last map output without
triggering an auto-termination of the simulation.</p>
<p>For the velocity-depth tolerance, at each output interval the velocity-depth product is compared to the tracked maximum value. If the current
dV product is within the specified tolerance <a href="#tcfAutoTerminatedVValueTolerance">Auto Terminate dV Value
Tolerance</a> the simulation is not
terminated.</p>
<p>The total number of cells that are allowable within the specified range
is controlled with <a href="#tcfAutoTerminatedVCellTolerance">Auto Terminate dV Cell Tolerance</a>. If set to a value of 1, then up to 1% of monitored cells can be within the tolerance value
without triggering an auto-termination of the simulation. The larger the <a href="#tcfAutoTerminatedVValueTolerance">Auto Terminate dV
Value Tolerance</a> the further the dV
product needs to have dropped from the peak value.</p>
<p>The time that the auto-terminate feature commences can be controlled
using the .tcf command <a href="#tcfAutoTerminateStartTime">Auto Terminate Start Time</a> otherwise the <a href="#tcfStartTime">Start Time</a> is used.</p>
<p><strong>Note, this option is only assessed at every <a href="#tcfMapOutputInterval">Map Output
Interval</a>.</strong></p>
</div>
</div>
<div id="ResultsReplication-3" class="section level2 hasAnchor" number="12.6">
<h2><span class="header-section-number">12.6</span> Reproducibility of Results<a href="ManagingSimulations-1.html#ResultsReplication-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A key concern with hydraulic modelling is the replication of results across a range of hardware. The following sections provide some information to be aware of when looking at the replication of results.</p>
<div id="ResultsReplicationClassic-3" class="section level3 hasAnchor" number="12.6.1">
<h3><span class="header-section-number">12.6.1</span> TUFLOW Classic (CPU only)<a href="ManagingSimulations-1.html#ResultsReplicationClassic-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The TUFLOW Classic engine is written in Fortran and compiled for
Windows™ with Intel™’s Fortran compiler, leading to well optimised CPU
code. The computational algorithm is implicit in nature and difficult
to parallelise for multi-thread execution. As a
result race conditions do not exist and a repeat run of a model with the
same inputs, with the same executable on the same type of CPU, should
yield bit-wise identical results (i.e. a subtraction of results should
be exactly zero). If a user finds that repeat model runs (same
executable, same CPU) do not yield identical results then please contact
<a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a> as this may indicate a memory access error or an
un-initialised variable in the code.</p>
<p>A repeat model run with the same executable but on a different type of
CPU (e.g. Intel Xeon vs i9, or AMD Epyc vs Ryzen, or Intel vs AMD) may
produce very slight differences in results due to the CPUs having
different instruction set extensions that may or may not be utilised.
Such differences are typically less than 1 mm water surface elevation
but, in some locations, the differences can become accentuated due to
changes in overtopping or an operational structure threshold.</p>
<p>Even though the source code for TUFLOW Classic is currently seeing
little development, as we update Intel Fortran compilers, different
releases of TUFLOW can be expected to show minor differences even on the
same CPU.</p>
</div>
<div id="ResultsReplicationHPCCPU-3" class="section level3 hasAnchor" number="12.6.2">
<h3><span class="header-section-number">12.6.2</span> TUFLOW HPC (incl. Quadtree) on CPU<a href="ManagingSimulations-1.html#ResultsReplicationHPCCPU-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The TUFLOW HPC engine (incl Quadtree) is written in C++ with Nvidia™
CUDA GPU kernels. The kernels have been carefully written so that they
can be compiled for both GPU and CPU execution. When compiled for CPU
execution, the Microsoft Visual Studio compiler is used and the code is
built into the dynamic link libraries (DLLs) in the executable bundle.
Similar to TUFLOW Classic, repeat model runs of the same model (same
TUFLOW executable, same CPU type) should produce bit-wise identical
results. Again, if differences are observed please contact
<a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a> as this may indicate an issue that needs to be
addressed.</p>
<p>As the TUFLOW HPC and Quadtree solvers are fundamentally different to TUFLOW
Classic, there will always be minor differences between solutions from
the different schemes even when using the same turbulence model and
without sub-grid sampling (SGS). As TUFLOW HPC and Quadtree both default to using the
Wu turbulence model while Classic can only use the Smagorinksy model,
the differences will be more significant when run with the default
settings.</p>
</div>
<div id="ResultsReplicationHPCGPU-3" class="section level3 hasAnchor" number="12.6.3">
<h3><span class="header-section-number">12.6.3</span> TUFLOW HPC (incl. Quadtree) on GPU<a href="ManagingSimulations-1.html#ResultsReplicationHPCGPU-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When the CUDA kernels are compiled for GPU execution, a GPU agnostic
intermediate code file (ptx) is produced with the final compilation of
that being done on a just-in-time basis by the GPU driver on the machine
that the executable is running on. The results may now depend not just
on the version of TUFLOW executable used and type of CPU (since the
pre-processing of the model input is still performed on CPU), but also
on the type of GPU <em>and</em> the version of the GPU driver installed. GPUs
have thousands of cores that work in parallel. However, the kernels have
been carefully written to avoid race conditions, and the adaptive
timestep control avoids relying on variables summed with atomic
additions of floating point data. Therefore, provided these factors
(version of TUFLOW, CPU type, GPU type, GPU driver version) are kept
constant, a repeat model run will yield bit-wise reproducible results.</p>
<p>Also note that the GPU cores use different hardware for the floating
point operations and the GPU compiler may re-optimise the sequence of
instructions for complex lines of code compared to the CPU compiler.
Therefore, even when using the same version of TUFLOW HPC, very small
differences in the solution can be seen when the model is run on GPU
compared to running on CPU. These differences are typically less than
1 mm water surface elevation but again, in some locations, the differences can become accentuated due to
changes in overtopping or an operational structure threshold.</p>
</div>
<div id="ResultsReplicationHPCMultiThread-3" class="section level3 hasAnchor" number="12.6.4">
<h3><span class="header-section-number">12.6.4</span> TUFLOW HPC (incl. Quadtree) on multiple GPUs / CPU threads<a href="ManagingSimulations-1.html#ResultsReplicationHPCMultiThread-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>TUFLOW HPC (incl. Quadtree) support running a model across multiple GPU
devices in one computer. In this case the model is decomposed into
subdomains, and model data are exchanged and sychronised at the domain
boundaries as required. Care has been taken to ensure that results when
run on multiple GPUs (of all the same GPU type) are bit-wise identical
to when run on a single GPU. If differences are observed between results
from a run on multiple devices vs a single device please contact
<a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a>.</p>
<p>Likewise when running on multiple CPU threads (default is four unless
specified), the model results should be bit-wise identical to when
running on a single thread (<a href="#tcfCPUthreads">CPU Threads</a> <teq>==</teq><tblk> 1</tblk>). Please contact us at <a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a> if found
otherwise.</p>
<p><img src="images/WQFooter.jpg" width="100%" /></p>
<p><img src="images/WQFooter.jpg" width="100%" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Hardware-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="CAL-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": false,
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
