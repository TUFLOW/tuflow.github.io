<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 8 3D Modelling | TUFLOW FV User Manual</title>
  <meta name="description" content="Section 8 3D Modelling | TUFLOW FV User Manual" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 8 3D Modelling | TUFLOW FV User Manual" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/1024in300px_Blue-01.svg" />
  <meta property="og:description" content="Section 8 3D Modelling | TUFLOW FV User Manual" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 8 3D Modelling | TUFLOW FV User Manual" />
  
  <meta name="twitter:description" content="Section 8 3D Modelling | TUFLOW FV User Manual" />
  <meta name="twitter:image" content="/images/1024in300px_Blue-01.svg" />

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/TUFLOW.ico" type="image/x-icon" />
<link rel="prev" href="Domain-1.html"/>
<link rel="next" href="AdvectionDispersion-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>



<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://www.tuflow.com"><img src="images/1024in300px_Blue-01.svg" style="width:246px;height:68px;"></a></li>

<li class="divider"></li>
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#about-this-manual"><i class="fa fa-check"></i>About this manual</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#how-to-use-this-manual"><i class="fa fa-check"></i>How to use this manual</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#navigation"><i class="fa fa-check"></i>Navigation</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#searching"><i class="fa fa-check"></i>Searching</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#tables"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#commands"><i class="fa fa-check"></i>Commands</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#parameter-notation"><i class="fa fa-check"></i>Parameter notation</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#feedback"><i class="fa fa-check"></i>Feedback</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Intro-1.html"><a href="Intro-1.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="Intro-1.html"><a href="Intro-1.html#TUFLOWProducts-2"><i class="fa fa-check"></i><b>1.1</b> TUFLOW Products</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="Intro-1.html"><a href="Intro-1.html#TUFLOW-CLA-3"><i class="fa fa-check"></i><b>1.1.1</b> TUFLOW Classic – 2D Semi-Implicit Solver</a></li>
<li class="chapter" data-level="1.1.2" data-path="Intro-1.html"><a href="Intro-1.html#TUFLOW-HPC-3"><i class="fa fa-check"></i><b>1.1.2</b> TUFLOW HPC – 2D GPU Accelerated Solver</a></li>
<li class="chapter" data-level="1.1.3" data-path="Intro-1.html"><a href="Intro-1.html#TUFLOW1D-3"><i class="fa fa-check"></i><b>1.1.3</b> TUFLOW 1D (ESTRY) – 1D Explicit Solver</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="Intro-1.html"><a href="Intro-1.html#TUFLOWWebinars-2"><i class="fa fa-check"></i><b>1.2</b> TUFLOW Webinars</a></li>
<li class="chapter" data-level="1.3" data-path="Intro-1.html"><a href="Intro-1.html#ModellingEnvironment-2"><i class="fa fa-check"></i><b>1.3</b> Modelling Environment</a></li>
<li class="chapter" data-level="1.4" data-path="Intro-1.html"><a href="Intro-1.html#LimitationsandRecommendations-2"><i class="fa fa-check"></i><b>1.4</b> Limitations and Recommendations</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a>
<ul>
<li class="chapter" data-level="2.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#HowtoBuildYourFirstModel-2"><i class="fa fa-check"></i><b>2.1</b> How to Build Your First Model</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#TutorialModels-3"><i class="fa fa-check"></i><b>2.1.1</b> Tutorial Models</a></li>
<li class="chapter" data-level="2.1.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#ExampleModels-3"><i class="fa fa-check"></i><b>2.1.2</b> Example Models</a></li>
<li class="chapter" data-level="2.1.3" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#DemonstrationModels-3"><i class="fa fa-check"></i><b>2.1.3</b> Demonstration Models</a></li>
<li class="chapter" data-level="2.1.4" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#LicenceFreeDemoMode-3"><i class="fa fa-check"></i><b>2.1.4</b> Licence Free Demo Mode</a></li>
<li class="chapter" data-level="2.1.5" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#InstructorLedTUFLOWTrainingCourses-3"><i class="fa fa-check"></i><b>2.1.5</b> Instructor Led TUFLOW Training Courses</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#TheTUFLOWModellingConcept-2"><i class="fa fa-check"></i><b>2.2</b> The TUFLOW Modelling Concept</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#Notepad-3"><i class="fa fa-check"></i><b>2.2.1</b> Notepad++</a></li>
<li class="chapter" data-level="2.2.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#QGISTUFLOWViewer-3"><i class="fa fa-check"></i><b>2.2.2</b> QGIS / TUFLOW Viewer</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#InstallingandRunningTUFLOW-2"><i class="fa fa-check"></i><b>2.3</b> Installing and Running TUFLOW</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#TUFLOWDownloadsandInstallation-3"><i class="fa fa-check"></i><b>2.3.1</b> TUFLOW Downloads and Installation</a></li>
<li class="chapter" data-level="2.3.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#Licencing-3"><i class="fa fa-check"></i><b>2.3.2</b> Licencing</a></li>
<li class="chapter" data-level="2.3.3" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#PerformingSimulations-3"><i class="fa fa-check"></i><b>2.3.3</b> Performing Simulations</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#FoldersFileTypesandFileNaming-2"><i class="fa fa-check"></i><b>2.4</b> Folders, File Types and File Naming</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#FolderStructure-3"><i class="fa fa-check"></i><b>2.4.1</b> Folder Structure</a></li>
<li class="chapter" data-level="2.4.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#FileTypes-3"><i class="fa fa-check"></i><b>2.4.2</b> File Types</a></li>
<li class="chapter" data-level="2.4.3" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#NamingConventions-3"><i class="fa fa-check"></i><b>2.4.3</b> Naming Conventions</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#TipsandTricks-2"><i class="fa fa-check"></i><b>2.5</b> Tips and Tricks</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html"><i class="fa fa-check"></i><b>3</b> Hydraulic Modelling Fundamentals</a>
<ul>
<li class="chapter" data-level="3.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FundamentalsContext-2"><i class="fa fa-check"></i><b>3.1</b> Context</a></li>
<li class="chapter" data-level="3.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FundamentalsSchematisation-2"><i class="fa fa-check"></i><b>3.2</b> Model Schematisation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FundamentalsProblemDefinition-3"><i class="fa fa-check"></i><b>3.2.1</b> Problem Definition</a></li>
<li class="chapter" data-level="3.2.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FundamentalsModelLimits-3"><i class="fa fa-check"></i><b>3.2.2</b> Model Limits</a></li>
<li class="chapter" data-level="3.2.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FundamentalsBaseDataPrep-3"><i class="fa fa-check"></i><b>3.2.3</b> Base Data Preparation</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FundamentalsMeshConstruction-2"><i class="fa fa-check"></i><b>3.3</b> Mesh Construction</a></li>
<li class="chapter" data-level="3.4" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FundamentalsBCs-2"><i class="fa fa-check"></i><b>3.4</b> Assignment Of Boundary Conditions</a></li>
<li class="chapter" data-level="3.5" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FundamentalsICs-2"><i class="fa fa-check"></i><b>3.5</b> Assignment Of Initial Conditions</a></li>
<li class="chapter" data-level="3.6" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FundamentalsTimestep-2"><i class="fa fa-check"></i><b>3.6</b> Simulation Times And Model Timestep</a></li>
<li class="chapter" data-level="3.7" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FundamentalsModelCalAndVal-2"><i class="fa fa-check"></i><b>3.7</b> Model Calibration And Validation</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html"><i class="fa fa-check"></i><b>4</b> Control Files and Input Layers</a>
<ul>
<li class="chapter" data-level="4.1" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#introduction-1"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#control-files"><i class="fa fa-check"></i><b>4.2</b> Control Files</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Notation-3"><i class="fa fa-check"></i><b>4.2.1</b> Rules and Notation</a></li>
<li class="chapter" data-level="4.2.2" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#FilePath-3"><i class="fa fa-check"></i><b>4.2.2</b> File Paths</a></li>
<li class="chapter" data-level="4.2.3" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Units-3"><i class="fa fa-check"></i><b>4.2.3</b> Units</a></li>
<li class="chapter" data-level="4.2.4" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TCF-3"><i class="fa fa-check"></i><b>4.2.4</b> TCF</a></li>
<li class="chapter" data-level="4.2.5" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#ECF-3"><i class="fa fa-check"></i><b>4.2.5</b> ECF</a></li>
<li class="chapter" data-level="4.2.6" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TBC-3"><i class="fa fa-check"></i><b>4.2.6</b> TBC</a></li>
<li class="chapter" data-level="4.2.7" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TGC-3"><i class="fa fa-check"></i><b>4.2.7</b> TGC</a></li>
<li class="chapter" data-level="4.2.8" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#QCF-3"><i class="fa fa-check"></i><b>4.2.8</b> QCF</a></li>
<li class="chapter" data-level="4.2.9" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TEF-3"><i class="fa fa-check"></i><b>4.2.9</b> TEF</a></li>
<li class="chapter" data-level="4.2.10" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TOC-3"><i class="fa fa-check"></i><b>4.2.10</b> TOC</a></li>
<li class="chapter" data-level="4.2.11" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TRFC-3"><i class="fa fa-check"></i><b>4.2.11</b> TRFC</a></li>
<li class="chapter" data-level="4.2.12" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TESF-3"><i class="fa fa-check"></i><b>4.2.12</b> TESF</a></li>
<li class="chapter" data-level="4.2.13" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#ADCF-3"><i class="fa fa-check"></i><b>4.2.13</b> ADCF</a></li>
<li class="chapter" data-level="4.2.14" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TSCF-3"><i class="fa fa-check"></i><b>4.2.14</b> TSCF</a></li>
<li class="chapter" data-level="4.2.15" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#ReadFile-3"><i class="fa fa-check"></i><b>4.2.15</b> Read File</a></li>
<li class="chapter" data-level="4.2.16" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Override-3"><i class="fa fa-check"></i><b>4.2.16</b> Override Files</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GISLayers-2"><i class="fa fa-check"></i><b>4.3</b> Input Layers</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GISFormats-3"><i class="fa fa-check"></i><b>4.3.1</b> Input Formats</a></li>
<li class="chapter" data-level="4.3.2" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GISCommands-3"><i class="fa fa-check"></i><b>4.3.2</b> GIS Commands</a></li>
<li class="chapter" data-level="4.3.3" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GRID-3"><i class="fa fa-check"></i><b>4.3.3</b> GRID Commands</a></li>
<li class="chapter" data-level="4.3.4" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TIN-3"><i class="fa fa-check"></i><b>4.3.4</b> TIN Commands</a></li>
<li class="chapter" data-level="4.3.5" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#RowCol-3"><i class="fa fa-check"></i><b>4.3.5</b> RowCol Commands (Legacy)</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#LayeringData-2"><i class="fa fa-check"></i><b>4.4</b> Layering Data</a></li>
<li class="chapter" data-level="4.5" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#XF-Files-2"><i class="fa fa-check"></i><b>4.5</b> XF Files</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html"><i class="fa fa-check"></i><b>5</b> Simulation Configuration</a>
<ul>
<li class="chapter" data-level="5.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCIntro-2"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCConfig-2"><i class="fa fa-check"></i><b>5.2</b> Simulation Configuration</a></li>
<li class="chapter" data-level="5.3" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCSpatialOrder-2"><i class="fa fa-check"></i><b>5.3</b> Spatial Order</a></li>
<li class="chapter" data-level="5.4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCCoordinateSystem-2"><i class="fa fa-check"></i><b>5.4</b> Coordinate Reference Frame</a></li>
<li class="chapter" data-level="5.5" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCUnits-2"><i class="fa fa-check"></i><b>5.5</b> Units</a></li>
<li class="chapter" data-level="5.6" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCBottomDragModel-2"><i class="fa fa-check"></i><b>5.6</b> Bottom Drag Model</a></li>
<li class="chapter" data-level="5.7" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCWindStressModel-2"><i class="fa fa-check"></i><b>5.7</b> Wind Stress Model</a></li>
<li class="chapter" data-level="5.8" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTimeCommands-2"><i class="fa fa-check"></i><b>5.8</b> Time Commands</a></li>
<li class="chapter" data-level="5.9" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCModelTimestep-2"><i class="fa fa-check"></i><b>5.9</b> Model Timestep</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCTimestepModeSplit-3"><i class="fa fa-check"></i><b>5.9.1</b> Model Timestep Mode Splitting</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SCGPU-2"><i class="fa fa-check"></i><b>5.10</b> Running TUFLOW FV On GPU</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="HDParameters-1.html"><a href="HDParameters-1.html"><i class="fa fa-check"></i><b>6</b> Essential Hydrodynamic Parameters</a>
<ul>
<li class="chapter" data-level="6.1" data-path="HDParameters-1.html"><a href="HDParameters-1.html#HDParametersIntro-2"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="HDParameters-1.html"><a href="HDParameters-1.html#HDParametersTurbulenceAndMixing-2"><i class="fa fa-check"></i><b>6.2</b> Turbulence And Mixing</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="HDParameters-1.html"><a href="HDParameters-1.html#HDParametersMomentumMixing-3"><i class="fa fa-check"></i><b>6.2.1</b> Momentum Mixing</a></li>
<li class="chapter" data-level="6.2.2" data-path="HDParameters-1.html"><a href="HDParameters-1.html#HDParametersScalarMixing-3"><i class="fa fa-check"></i><b>6.2.2</b> Scalar Mixing</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="HDParameters-1.html"><a href="HDParameters-1.html#HDParametersWettingAndDrying-2"><i class="fa fa-check"></i><b>6.3</b> Wetting And Drying Thresholds</a></li>
<li class="chapter" data-level="6.4" data-path="HDParameters-1.html"><a href="HDParameters-1.html#HDParametersStabilityLimits-2"><i class="fa fa-check"></i><b>6.4</b> Stability Limits</a></li>
<li class="chapter" data-level="6.5" data-path="HDParameters-1.html"><a href="HDParameters-1.html#HDParametersReferenceValues-2"><i class="fa fa-check"></i><b>6.5</b> Reference Values And Constants</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Domain-1.html"><a href="Domain-1.html"><i class="fa fa-check"></i><b>7</b> Model Domain Construction</a>
<ul>
<li class="chapter" data-level="7.1" data-path="Domain-1.html"><a href="Domain-1.html#DomainIntro-2"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="Domain-1.html"><a href="Domain-1.html#DomainGISIntegration-2"><i class="fa fa-check"></i><b>7.2</b> GIS Integration</a></li>
<li class="chapter" data-level="7.3" data-path="Domain-1.html"><a href="Domain-1.html#DomainMesh-2"><i class="fa fa-check"></i><b>7.3</b> Computational Mesh</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="Domain-1.html"><a href="Domain-1.html#DomainMeshUnstructured-3"><i class="fa fa-check"></i><b>7.3.1</b> Unstructured</a></li>
<li class="chapter" data-level="7.3.2" data-path="Domain-1.html"><a href="Domain-1.html#DomainMeshStructured-3"><i class="fa fa-check"></i><b>7.3.2</b> Structured</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="Domain-1.html"><a href="Domain-1.html#DomainBathyAndTopo-2"><i class="fa fa-check"></i><b>7.4</b> Model Bathymetry And Topography</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="Domain-1.html"><a href="Domain-1.html#DomainBathyAndTopo2dm-3"><i class="fa fa-check"></i><b>7.4.1</b> Direct Mesh Read (.2dm File)</a></li>
<li class="chapter" data-level="7.4.2" data-path="Domain-1.html"><a href="Domain-1.html#DomainBathyAndTopoZBUpdates-3"><i class="fa fa-check"></i><b>7.4.2</b> Cell ZB Update Commands</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="Domain-1.html"><a href="Domain-1.html#DomainBoundaryLocations-2"><i class="fa fa-check"></i><b>7.5</b> Model Boundary Locations</a></li>
<li class="chapter" data-level="7.6" data-path="Domain-1.html"><a href="Domain-1.html#DomainMat-2"><i class="fa fa-check"></i><b>7.6</b> Model Materials</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="Domain-1.html"><a href="Domain-1.html#DomainMatBedResistance-3"><i class="fa fa-check"></i><b>7.6.1</b> Bed Resistance</a></li>
<li class="chapter" data-level="7.6.2" data-path="Domain-1.html"><a href="Domain-1.html#DomainMatBedElevationLimits-3"><i class="fa fa-check"></i><b>7.6.2</b> Bed Elevation Limits</a></li>
<li class="chapter" data-level="7.6.3" data-path="Domain-1.html"><a href="Domain-1.html#DomainMatActiveInactive-3"><i class="fa fa-check"></i><b>7.6.3</b> Active/Inactive Areas</a></li>
<li class="chapter" data-level="7.6.4" data-path="Domain-1.html"><a href="Domain-1.html#DomainMatMomentumMixing-3"><i class="fa fa-check"></i><b>7.6.4</b> Local Horizontal Momentum Mixing</a></li>
<li class="chapter" data-level="7.6.5" data-path="Domain-1.html"><a href="Domain-1.html#DomainMatMomentumMixing-3"><i class="fa fa-check"></i><b>7.6.5</b> Local Horizontal Scalar Mixing</a></li>
<li class="chapter" data-level="7.6.6" data-path="Domain-1.html"><a href="Domain-1.html#DomainMatSpatialReconstruction-3"><i class="fa fa-check"></i><b>7.6.6</b> Local Spatial Reconstruction</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="id_3DModelling-1.html"><a href="id_3DModelling-1.html"><i class="fa fa-check"></i><b>8</b> 3D Modelling</a>
<ul>
<li class="chapter" data-level="8.1" data-path="id_3DModelling-1.html"><a href="id_3DModelling-1.html#id_3DModellingIntro-2"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="id_3DModelling-1.html"><a href="id_3DModelling-1.html#id_3DModellingVerticalMesh-2"><i class="fa fa-check"></i><b>8.2</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="AdvectionDispersion-1.html"><a href="AdvectionDispersion-1.html"><i class="fa fa-check"></i><b>9</b> Advection Dispersion</a>
<ul>
<li class="chapter" data-level="9.1" data-path="AdvectionDispersion-1.html"><a href="AdvectionDispersion-1.html#AdvectionDispersionIntro-2"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="SedimentTransport-1.html"><a href="SedimentTransport-1.html"><i class="fa fa-check"></i><b>10</b> Sediment Transport</a>
<ul>
<li class="chapter" data-level="10.1" data-path="SedimentTransport-1.html"><a href="SedimentTransport-1.html#SedimentTransportIntro-2"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="WaterQuality-1.html"><a href="WaterQuality-1.html"><i class="fa fa-check"></i><b>11</b> Water Quality</a>
<ul>
<li class="chapter" data-level="11.1" data-path="WaterQuality-1.html"><a href="WaterQuality-1.html#WaterQualityIntro-2"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ParticleTracking-1.html"><a href="ParticleTracking-1.html"><i class="fa fa-check"></i><b>12</b> Particle Tracking</a>
<ul>
<li class="chapter" data-level="12.1" data-path="ParticleTracking-1.html"><a href="ParticleTracking-1.html#ParticleTrackingIntro-2"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="BCsAndICs-1.html"><a href="BCsAndICs-1.html"><i class="fa fa-check"></i><b>13</b> Boundary And Initial Conditions</a>
<ul>
<li class="chapter" data-level="13.1" data-path="BCsAndICs-1.html"><a href="BCsAndICs-1.html#BCsAndICs-2"><i class="fa fa-check"></i><b>13.1</b> Context</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="HydraulicStructures-1.html"><a href="HydraulicStructures-1.html"><i class="fa fa-check"></i><b>14</b> Hydraulic Structures</a>
<ul>
<li class="chapter" data-level="14.1" data-path="HydraulicStructures-1.html"><a href="HydraulicStructures-1.html#HydraulicStructures-2"><i class="fa fa-check"></i><b>14.1</b> Context</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="Outputs-1.html"><a href="Outputs-1.html"><i class="fa fa-check"></i><b>15</b> Outputs</a>
<ul>
<li class="chapter" data-level="15.1" data-path="Outputs-1.html"><a href="Outputs-1.html#OutputsContext-2"><i class="fa fa-check"></i><b>15.1</b> Context</a></li>
<li class="chapter" data-level="15.2" data-path="Outputs-1.html"><a href="Outputs-1.html#OutputsConfigs-2"><i class="fa fa-check"></i><b>15.2</b> Supported configurations</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="Outputs-1.html"><a href="Outputs-1.html#OutputsHyd-3"><i class="fa fa-check"></i><b>15.2.1</b> Hydrology</a></li>
<li class="chapter" data-level="15.2.2" data-path="Outputs-1.html"><a href="Outputs-1.html#OutputsPEx-3"><i class="fa fa-check"></i><b>15.2.2</b> Pollutant export</a></li>
<li class="chapter" data-level="15.2.3" data-path="Outputs-1.html"><a href="Outputs-1.html#OutpitsInt-3"><i class="fa fa-check"></i><b>15.2.3</b> Integrated</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="Hardware-1.html"><a href="Hardware-1.html"><i class="fa fa-check"></i><b>16</b> Hardware</a>
<ul>
<li class="chapter" data-level="16.1" data-path="Hardware-1.html"><a href="Hardware-1.html#Hardware-2"><i class="fa fa-check"></i><b>16.1</b> Context</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html"><i class="fa fa-check"></i><b>17</b> Managing Simulations</a>
<ul>
<li class="chapter" data-level="17.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ManagingSimulations-2"><i class="fa fa-check"></i><b>17.1</b> Context</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="ChecksAndLogs-1.html"><a href="ChecksAndLogs-1.html"><i class="fa fa-check"></i><b>18</b> Checks And Logs</a>
<ul>
<li class="chapter" data-level="18.1" data-path="ChecksAndLogs-1.html"><a href="ChecksAndLogs-1.html#ChecksAndLogs-2"><i class="fa fa-check"></i><b>18.1</b> Context</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="ViewingOutputs-1.html"><a href="ViewingOutputs-1.html"><i class="fa fa-check"></i><b>19</b> Viewing Outputs</a>
<ul>
<li class="chapter" data-level="19.1" data-path="ViewingOutputs-1.html"><a href="ViewingOutputs-1.html#ViewingOutputs-2"><i class="fa fa-check"></i><b>19.1</b> Context</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="QAAndTroubleshooting-1.html"><a href="QAAndTroubleshooting-1.html"><i class="fa fa-check"></i><b>20</b> QA And Troubleshooting</a>
<ul>
<li class="chapter" data-level="20.1" data-path="QAAndTroubleshooting-1.html"><a href="QAAndTroubleshooting-1.html#QAAndTroubleshooting-2"><i class="fa fa-check"></i><b>20.1</b> Context</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="AppCommands.html"><a href="AppCommands.html"><i class="fa fa-check"></i><b>A</b> Commands</a>
<ul>
<li class="chapter" data-level="A.1" data-path="AppCommands.html"><a href="AppCommands.html#Appcmdsyn"><i class="fa fa-check"></i><b>A.1</b> Command syntax</a></li>
<li class="chapter" data-level="A.2" data-path="AppCommands.html"><a href="AppCommands.html#Appargmtsyn"><i class="fa fa-check"></i><b>A.2</b> Argument syntax</a></li>
<li class="chapter" data-level="A.3" data-path="AppCommands.html"><a href="AppCommands.html#Appcmds"><i class="fa fa-check"></i><b>A.3</b> Commands</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="AppParams.html"><a href="AppParams.html"><i class="fa fa-check"></i><b>B</b> Parameters</a></li>
<li class="chapter" data-level="C" data-path="AppOutputs.html"><a href="AppOutputs.html"><i class="fa fa-check"></i><b>C</b> Files and Data Fields</a>
<ul>
<li class="chapter" data-level="C.1" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsSurfConc"><i class="fa fa-check"></i><b>C.1</b> Surface water concentrations</a></li>
<li class="chapter" data-level="C.2" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsGWConc"><i class="fa fa-check"></i><b>C.2</b> Groundwater concentrations</a></li>
<li class="chapter" data-level="C.3" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsDryMass"><i class="fa fa-check"></i><b>C.3</b> Dry mass</a></li>
<li class="chapter" data-level="C.4" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsNetMass"><i class="fa fa-check"></i><b>C.4</b> Net mass</a></li>
<li class="chapter" data-level="C.5" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsOther"><i class="fa fa-check"></i><b>C.5</b> Other outputs</a>
<ul>
<li class="chapter" data-level="C.5.1" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsOtherMB"><i class="fa fa-check"></i><b>C.5.1</b> Mass balance</a></li>
<li class="chapter" data-level="C.5.2" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsOtherRP"><i class="fa fa-check"></i><b>C.5.2</b> Receiving polygon</a></li>
<li class="chapter" data-level="C.5.3" data-path="AppOutputs.html"><a href="AppOutputs.html#AppOutputsOtherFV"><i class="fa fa-check"></i><b>C.5.3</b> TUFLOW FV boundaries</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="D" data-path="AppDemoModel.html"><a href="AppDemoModel.html"><i class="fa fa-check"></i><b>D</b> Demonstration Model</a>
<ul>
<li class="chapter" data-level="D.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelContext-2"><i class="fa fa-check"></i><b>D.1</b> Context</a></li>
<li class="chapter" data-level="D.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelDomain-2"><i class="fa fa-check"></i><b>D.2</b> Domain</a></li>
<li class="chapter" data-level="D.3" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelModels-2"><i class="fa fa-check"></i><b>D.3</b> Numerical models</a>
<ul>
<li class="chapter" data-level="D.3.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelModelsHPC-3"><i class="fa fa-check"></i><b>D.3.1</b> TUFLOW HPC</a></li>
<li class="chapter" data-level="D.3.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelModelsPE-3"><i class="fa fa-check"></i><b>D.3.2</b> Pollutant export</a></li>
<li class="chapter" data-level="D.3.3" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelModelsFV-3"><i class="fa fa-check"></i><b>D.3.3</b> TUFLOW FV</a></li>
</ul></li>
<li class="chapter" data-level="D.4" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelSuite-2"><i class="fa fa-check"></i><b>D.4</b> Simulation suite</a></li>
<li class="chapter" data-level="D.5" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelDLoad-2"><i class="fa fa-check"></i><b>D.5</b> Downloads</a>
<ul>
<li class="chapter" data-level="D.5.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelBins-3"><i class="fa fa-check"></i><b>D.5.1</b> Binaries</a></li>
<li class="chapter" data-level="D.5.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelFils-3"><i class="fa fa-check"></i><b>D.5.2</b> Simulation files</a></li>
</ul></li>
<li class="chapter" data-level="D.6" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelExe-2"><i class="fa fa-check"></i><b>D.6</b> Execution</a></li>
<li class="chapter" data-level="D.7" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelResInt-2"><i class="fa fa-check"></i><b>D.7</b> Results interrogation</a>
<ul>
<li class="chapter" data-level="D.7.1" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelJSON-2"><i class="fa fa-check"></i><b>D.7.1</b> Example json file creation</a></li>
<li class="chapter" data-level="D.7.2" data-path="AppDemoModel.html"><a href="AppDemoModel.html#AppDemoModelres-2"><i class="fa fa-check"></i><b>D.7.2</b> Example results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="E" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html"><i class="fa fa-check"></i><b>E</b> Application under version control</a>
<ul>
<li class="chapter" data-level="E.1" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContCtxt-3"><i class="fa fa-check"></i><b>E.1</b> Context</a></li>
<li class="chapter" data-level="E.2" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContUC-3"><i class="fa fa-check"></i><b>E.2</b> Use case</a></li>
<li class="chapter" data-level="E.3" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContWF-3"><i class="fa fa-check"></i><b>E.3</b> Possible workflow #1</a></li>
<li class="chapter" data-level="E.4" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContWF2-3"><i class="fa fa-check"></i><b>E.4</b> Possible workflow #2</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.tuflow.com"><img src="images/1024in300px_Blue-01.svg" style="width:246px;height:68px;"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><h0 style="color:rgb(0,85,129);">TUFLOW FV User Manual</h0></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="id_3DModelling-1" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Section 8</span> 3D Modelling<a href="id_3DModelling-1.html#id_3DModelling-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="id_3DModellingIntro-2" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Introduction<a href="id_3DModelling-1.html#id_3DModellingIntro-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>2D depth-averaged simulations can be an excellent approximation for many applications and are often used for the simulation of flooding, tsunamis and storm surge amongst others. However, there are cases where 3D modelling is required to sufficiently describe the observed flow characteristics, for example. in areas where there is significant variation in magnitude and direction of velocity with depth (counter currents, helicoidal flows) or where the effects of density become important (stratified environments or dense plume outfalls for instance).
When modelling in 3D it is recommended to commence the modelling in 2D to optimise and validate the model setup prior to moving to a 3D schematisation. Whilst the commands to enable 3D modelling in TUFLOW FV are relatively straightforward (refer to Section 9.3), when moving from 2D to 3D the modeller must carefully consider the additional data requirements, problem conceptualisation and visualisation challenges that an extra dimension often demands.
For example, to represent a thermally stratified system well, we need to choose a suitable vertical discretisation of the water column to adequately capture thermal gradients and the location of the thermocline using the Vertical Mesh Type and a suitable vertical layering (refer to Section 9.3). To reproduce these gradients, the modelled vertical mixing needs to be realistic, (i.e. not too much or too little) and model performance can be sensitive to the selection of the vertical mixing model and vertical spatial order. To allow model calibration, we need accurate information on inflows and the temperature profile of the system as a function of depth, thus additional monitoring project costs may be required. To ensure surface temperatures are well represented energy flux between the water surface and atmosphere, TUFLOW FV’s atmospheric heat flux module may be required (using the include heat command) driven by site specific meteorological data including: incoming shortwave energy, longwave energy, surface wind speeds and relative humidity. Similar modelling considerations are required if modelling an estuarine or offshore environment where both temperature and salinity play a role.
Assignment of 3D initial and boundary conditions are also required to allow the specification of currents, salinities, temperatures and other scalar variables as both a function of time, space and depth. Section 15.5.5 provides specific guidance on the development and application of these boundary condition inputs.
To become familiar with the setup, simulation, analyses and visualisation of an example 3D model we encourage you to try out our free 3D estuary tutorial, Tutorial Module 5 on the TUFLOW FV Wiki.</p>
</div>
<div id="id_3DModellingVerticalMesh-2" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Introduction<a href="id_3DModelling-1.html#id_3DModellingVerticalMesh-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
Designing your vertical layer discretisation and the coordinate scheme for your problem can often be one of the most important factors when undertaking 3D modelling. 3D simulations can be performed within TUFLOW FV using either sigma-coordinate or z-coordinate via the Vertical Mesh Type command. A third hybrid option, using a combination of sigma and z-coordinates is also available using a combination of the Vertical Mesh Type and Surface Sigma Layers commands. Figure 9 1 provides an example of each discretisation type and Table 9 1 provides an overview of the compatible commands for each coordinate type. Notably, each coordinate scheme has its strengths and weaknesses depending on the problem you are trying to solve. The sections below provide a brief overview and guidance on the use of each scheme.
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Vertical-Mesh-Topology"></span>
<img src="images/Vertical_Mesh_Topology.svg" alt="3D Model Vertical Discretisation Options" width="80%" />
<p class="caption">
Figure 8.1: 3D Model Vertical Discretisation Options
</p>
</div>
</center>
<table>
<caption>
<span id="tab:tab-GeometryLayerOptions3D">Table 8.1: </span><strong>3D Geometry Layer Options</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Z Coordinate Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Relevant Commands
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Sigma
</td>
<td style="text-align:left;">
<p>Vertical Mesh Type == Sigma</p>
<p>Layer Face File == <layer interface levels></p>
Cell 3D Depth == <threshold depth> </threshold></layer>
</td>
</tr>
<tr>
<td style="text-align:left;">
Z
</td>
<td style="text-align:left;">
<p>Vertical Mesh Type == Z</p>
<p>Layer Face File == <layer interface levels></p>
<p>Cell 3D Depth == <threshold depth></p>
Min Bottom Layer Thickness == <dzmin> </dzmin></threshold></layer>
</td>
</tr>
<tr>
<td style="text-align:left;">
Hybrid Z-Sigma
</td>
<td style="text-align:left;">
<p>Vertical Mesh Type == Z</p>
<p>Layer Face File == &lt; layer interface levels (.CSV)&gt;</p>
<p>Surface Sigma Layers == &lt; Nsigma&gt;</p>
<p>Cell 3D Depth == &lt; threshold depth (m)&gt;</p>
Min Bottom Layer Thickness == &lt; dzmin (m)&gt;
</td>
</tr>
</tbody>
</table>
<p>Note: The assignment of z coordinates can be checked via the IDX3 attribute of the _mesh_check_R file (refer Table 17 5).
Sigma Coordinates
Using sigma coordinates, layers follow the bed profile with the spacing specified as a percentage of the water depth via the Layer Face File. This layering is completed consistently for each cell throughout the model domain, regardless of the water depth. For example, a model with five equal sigma layers in 100m of depth will have 5 layers, each 20m thick. The same model in 1m of depth will have 5 layers, 0.2 m thick. Although this example assumes an even distribution of sigma layers, the user is free to distribute layers as they see fit. Optionally, to improve stability in areas of shallow flow or wetting and drying that are likely to be well mixed, a Cell 3D Depth threshold value can be applied, such that vertical fluxes between layers are switched off below these depths and the solution scheme effectively becomes 2D (depth-averaged). Compatible commands when using a sigma coordinate approach are provided in Table 9 1.
Sigma layering is useful at providing high resolution layering typically near surface or near bed to capture boundary layer problems with a low computational overhead. i.e. bed following layers can be stacked tightly near the bed and water surface but left relatively sparse through mid-depths to avoid unnecessary 3D cells. If using bed morphology coupling in 3D, then it is a software requirement to use sigma layering.
Limitations associated with the sigma coordinate scheme can occur in regions of highly sloping bathymetry. In these regions, sigma schemes can be prone to horizontal pressure gradient errors if horizontal grid cell resolutions are not well resolved. Additionally, in regions where thermal stratification is prevalent near the surface, i.e. lakes, a z coordinate or z-sigma hybrid may be more accurate at resolving a stratified water column.
Z Coordinates
Z coordinate layers are set at a series of fixed elevations using the Layer Face File in combination with the Vertical Mesh Type command. TUFLOW FV does not allow a z-layer to be switched off due to the water level dropping below its lower limit. Therefore, when using a Z coordinates scheme, it is important that the highest elevation within the Layer Face File remains wet, i.e it’s not at an elevation subject to wetting and drying.
The z coordinate approach can provide fine consistent resolution throughout the domain independent of water depth, which can be particularly useful if trying to model strong stratification in the upper layers of the water column. On the flipside, if the study area contains sloping bathymetry it can be challenging to efficiently provide high resolution near the bed (for example if near bed sediment processes are important) without including redundant high resolution in other parts of the model.
In areas of sloping bathymetry, z coordinates can result in thin layers close to the bed, that in turn can potentially lead to numerical instabilities. To avoid these issues TUFLOW FV offers the option to set a Min Bottom Layer Thickness that prevents a thin bottom layer from being generated when using the for z coordinate or z-sigma hybrid schemes.
Compatible commands when using a z coordinate approach are provided in Table 9 1
Hybrid Z-Sigma Coordinates
The hybrid z-sigma layering method defines a series of Surface Sigma Layers overlayed on a z scheme at depth. Surface Sigma Layers are evenly distributed sigma layers that reside between the water level surface and the topmost Z elevation specified in the Layer Face File. The z-coordinate component of the hybrid scheme is discussed in the Z coordinates section above.
This method provides flexibility and stability in areas of wetting and drying not available via a z only coordinate system whilst providing the potential for high resolution near-surface exchange and gradient capturing. Compatible commands when using a z-sigma coordinate approach are provided in Table 9 1
 
An example excerpt using the hybrid z-sigma coordinate approach is provided in Figure 9 2. Using this example, a z-coordinate system is used below -3m (m in the project vertical datum). To avoid instabilities here the user has assumed that at all times, and at all cells, the model does not dry out below -3m. Below -3m there are 9 vertical layers between -3m and -16m and a single vertical layer below -16m terminating at the bed. At each cell location, if any layer faces are below the bathymetry they are ignored during the simulation. To avoid ‘skinny’ vertical layers truncated by the bathymetry (if the ZB at a cell is between two layer faces) then the user has used a Min Bottom Layer Thickness cell threshold 0.5 m. This means that we should not have any bottom layers in our 3D solution at the bed less than 0.5m.
Four equally distributed sigma layers are specified between -3m and the water surface, noting that these layers may stretch and contract in response to changes in water level as the simulation progresses. In regions of wetting and drying a Cell 3D Depth threshold is applied to disable 3D calculation in well mixed regions of the coastal zone, in our model case tidal mudflats adjacent to the main estuary channel.</p>
<p>!____________________________________________________
! 3D Geometry Commands
Vertical Mesh Type == z
Layer Faces == ..\3D_Z_Layers_003.csv
Surface Sigma Layers == 4
Min Bottom Layer Thickness == 0.5
Cell 3D Depth == 1.0</p>
<p><span class="math inline">\(\newcommand{\blockindent}{\hspace{0.5cm}}\)</span></p>
<p><img src="images/WQFooter.jpg" width="100%" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Domain-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="AdvectionDispersion-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": false,
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
