<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 5 Model Construction: 2D HD Simulation Class | TUFLOW FV User Manual</title>
  <meta name="description" content="Section 5 Model Construction: 2D HD Simulation Class | TUFLOW FV User Manual" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 5 Model Construction: 2D HD Simulation Class | TUFLOW FV User Manual" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/1024in300px_Blue-01.svg" />
  <meta property="og:description" content="Section 5 Model Construction: 2D HD Simulation Class | TUFLOW FV User Manual" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 5 Model Construction: 2D HD Simulation Class | TUFLOW FV User Manual" />
  
  <meta name="twitter:description" content="Section 5 Model Construction: 2D HD Simulation Class | TUFLOW FV User Manual" />
  <meta name="twitter:image" content="/images/1024in300px_Blue-01.svg" />

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/TUFLOW.ico" type="image/x-icon" />
<link rel="prev" href="CF-1.html"/>
<link rel="next" href="HD3D-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.2/visNetwork.js"></script>



<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 1em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://www.tuflow.com"><img src="images/1024in300px_Blue-01.svg" style="width:246px;height:68px;"></a></li>

<li class="divider"></li>
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i>Overview</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#about-this-manual"><i class="fa fa-check"></i>About this manual</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#how-to-use-this-manual"><i class="fa fa-check"></i>How to use this manual</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#navigation"><i class="fa fa-check"></i>Navigation</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#searching"><i class="fa fa-check"></i>Searching</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#tables"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#commands"><i class="fa fa-check"></i>Commands</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#parameter-notation"><i class="fa fa-check"></i>Parameter notation</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#feedback"><i class="fa fa-check"></i>Feedback</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Intro-1.html"><a href="Intro-1.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TP-2"><i class="fa fa-check"></i><b>1.1</b> TUFLOW Products</a></li>
<li class="chapter" data-level="1.2" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TFV-2"><i class="fa fa-check"></i><b>1.2</b> TUFLOW FV</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TFV-FMFVS-3"><i class="fa fa-check"></i><b>1.2.1</b> Flexible Mesh Finite Volume Solver</a></li>
<li class="chapter" data-level="1.2.2" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TFV-AOM-3"><i class="fa fa-check"></i><b>1.2.2</b> Add-on Modules</a></li>
<li class="chapter" data-level="1.2.3" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TFV-BS-3"><i class="fa fa-check"></i><b>1.2.3</b> Benchmarking Studies</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TW-2"><i class="fa fa-check"></i><b>1.3</b> TUFLOW Webinars</a></li>
<li class="chapter" data-level="1.4" data-path="Intro-1.html"><a href="Intro-1.html#Intro-ME-2"><i class="fa fa-check"></i><b>1.4</b> Modelling Environment</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Arch-1.html"><a href="Arch-1.html"><i class="fa fa-check"></i><b>2</b> Architecture</a>
<ul>
<li class="chapter" data-level="2.1" data-path="Arch-1.html"><a href="Arch-1.html#Arch-Cont-2"><i class="fa fa-check"></i><b>2.1</b> Context</a></li>
<li class="chapter" data-level="2.2" data-path="Arch-1.html"><a href="Arch-1.html#Arch-ST-2"><i class="fa fa-check"></i><b>2.2</b> Simulation Tiers</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="Arch-1.html"><a href="Arch-1.html#Arch-ST-SC-3"><i class="fa fa-check"></i><b>2.2.1</b> Tier 1: Simulation Class</a></li>
<li class="chapter" data-level="2.2.2" data-path="Arch-1.html"><a href="Arch-1.html#Arch-ST-MC-3"><i class="fa fa-check"></i><b>2.2.2</b> Tier 2: Model Class</a></li>
<li class="chapter" data-level="2.2.3" data-path="Arch-1.html"><a href="Arch-1.html#Arch-ST-Mode-3"><i class="fa fa-check"></i><b>2.2.3</b> Tier 3: Model Implementations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="GS-1.html"><a href="GS-1.html"><i class="fa fa-check"></i><b>3</b> Getting Started</a>
<ul>
<li class="chapter" data-level="3.1" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-2"><i class="fa fa-check"></i><b>3.1</b> How to Build Your First Model</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-TM-3"><i class="fa fa-check"></i><b>3.1.1</b> Tutorial Models</a></li>
<li class="chapter" data-level="3.1.2" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-EM-3"><i class="fa fa-check"></i><b>3.1.2</b> Example Models</a></li>
<li class="chapter" data-level="3.1.3" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-LFDM-3"><i class="fa fa-check"></i><b>3.1.3</b> Licence Free Demo Mode</a></li>
<li class="chapter" data-level="3.1.4" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-ILTTC-3"><i class="fa fa-check"></i><b>3.1.4</b> Instructor Led TUFLOW Training Courses</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="GS-1.html"><a href="GS-1.html#GS-TTMC-2"><i class="fa fa-check"></i><b>3.2</b> The TUFLOW Modelling Concept</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="GS-1.html"><a href="GS-1.html#GS-TTMC-NPP-3"><i class="fa fa-check"></i><b>3.2.1</b> Notepad++</a></li>
<li class="chapter" data-level="3.2.2" data-path="GS-1.html"><a href="GS-1.html#GS-TTMC-QGIS-3"><i class="fa fa-check"></i><b>3.2.2</b> QGIS / TUFLOW Viewer</a></li>
<li class="chapter" data-level="3.2.3" data-path="GS-1.html"><a href="GS-1.html#GS-TTMC-SMS-3"><i class="fa fa-check"></i><b>3.2.3</b> Aquaveo SMS Mesh Generator / TUFLOW FV Graphical User Interface</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="GS-1.html"><a href="GS-1.html#GS-IART-2"><i class="fa fa-check"></i><b>3.3</b> Installing and Running TUFLOW</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="GS-1.html"><a href="GS-1.html#GS-IART-TFVDAI-3"><i class="fa fa-check"></i><b>3.3.1</b> TUFLOW FV Downloads and Installation</a></li>
<li class="chapter" data-level="3.3.2" data-path="GS-1.html"><a href="GS-1.html#GS-IART-Lice-3"><i class="fa fa-check"></i><b>3.3.2</b> Licencing</a></li>
<li class="chapter" data-level="3.3.3" data-path="GS-1.html"><a href="GS-1.html#GS-IART-PS-3"><i class="fa fa-check"></i><b>3.3.3</b> Performing Simulations</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="GS-1.html"><a href="GS-1.html#GS-FFTAFN-TAT-3"><i class="fa fa-check"></i><b>3.4</b> Tips and Tricks</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="CF-1.html"><a href="CF-1.html"><i class="fa fa-check"></i><b>4</b> Folders, Control Files and Data Layers</a>
<ul>
<li class="chapter" data-level="4.1" data-path="CF-1.html"><a href="CF-1.html#CF-Intr-2"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="CF-1.html"><a href="CF-1.html#CF-FS-2"><i class="fa fa-check"></i><b>4.2</b> Folder Structure</a></li>
<li class="chapter" data-level="4.3" data-path="CF-1.html"><a href="CF-1.html#CF-CF-2"><i class="fa fa-check"></i><b>4.3</b> Control Files</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FVC-3"><i class="fa fa-check"></i><b>4.3.1</b> FVC</a></li>
<li class="chapter" data-level="4.3.2" data-path="CF-1.html"><a href="CF-1.html#CF-CF-TEF-3"><i class="fa fa-check"></i><b>4.3.2</b> TEF</a></li>
<li class="chapter" data-level="4.3.3" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FVSED-3"><i class="fa fa-check"></i><b>4.3.3</b> FVSED</a></li>
<li class="chapter" data-level="4.3.4" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FVWQ-3"><i class="fa fa-check"></i><b>4.3.4</b> FVWQ</a></li>
<li class="chapter" data-level="4.3.5" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FVPTM-3"><i class="fa fa-check"></i><b>4.3.5</b> FVPTM</a></li>
<li class="chapter" data-level="4.3.6" data-path="CF-1.html"><a href="CF-1.html#CF-CF-IF-3"><i class="fa fa-check"></i><b>4.3.6</b> Include File</a></li>
<li class="chapter" data-level="4.3.7" data-path="CF-1.html"><a href="CF-1.html#CF-CF-RAN-3"><i class="fa fa-check"></i><b>4.3.7</b> Rules and Notation</a></li>
<li class="chapter" data-level="4.3.8" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FP-3"><i class="fa fa-check"></i><b>4.3.8</b> File Paths</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="CF-1.html"><a href="CF-1.html#CF-IF-2"><i class="fa fa-check"></i><b>4.4</b> Input Files</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="CF-1.html"><a href="CF-1.html#CF-IF-Over-3"><i class="fa fa-check"></i><b>4.4.1</b> Overview</a></li>
<li class="chapter" data-level="4.4.2" data-path="CF-1.html"><a href="CF-1.html#CF-IF-ICSVF-3"><i class="fa fa-check"></i><b>4.4.2</b> Input CSV Files</a></li>
<li class="chapter" data-level="4.4.3" data-path="CF-1.html"><a href="CF-1.html#CF-IF-IGISL-3"><i class="fa fa-check"></i><b>4.4.3</b> Input GIS Layers</a></li>
<li class="chapter" data-level="4.4.4" data-path="CF-1.html"><a href="CF-1.html#CF-IF-INCF-3"><i class="fa fa-check"></i><b>4.4.4</b> Input NetCDF Files</a></li>
<li class="chapter" data-level="4.4.5" data-path="CF-1.html"><a href="CF-1.html#CF-IF-IMF-3"><i class="fa fa-check"></i><b>4.4.5</b> Input Mesh Files</a></li>
<li class="chapter" data-level="4.4.6" data-path="CF-1.html"><a href="CF-1.html#CF-IF-IRS-3"><i class="fa fa-check"></i><b>4.4.6</b> Input Restart Files</a></li>
<li class="chapter" data-level="4.4.7" data-path="CF-1.html"><a href="CF-1.html#CF-IF-ITF-3"><i class="fa fa-check"></i><b>4.4.7</b> Input Transport File</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="CF-1.html"><a href="CF-1.html#CF-LID-2"><i class="fa fa-check"></i><b>4.5</b> Layering Input Data</a></li>
<li class="chapter" data-level="4.6" data-path="CF-1.html"><a href="CF-1.html#CF-OF-2"><i class="fa fa-check"></i><b>4.6</b> Output Files</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OCSVF-3"><i class="fa fa-check"></i><b>4.6.1</b> Output CSV Files</a></li>
<li class="chapter" data-level="4.6.2" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OGISF-3"><i class="fa fa-check"></i><b>4.6.2</b> Output GIS Files</a></li>
<li class="chapter" data-level="4.6.3" data-path="CF-1.html"><a href="CF-1.html#CF-OF-ONCF-3"><i class="fa fa-check"></i><b>4.6.3</b> Output NetCDF Files</a></li>
<li class="chapter" data-level="4.6.4" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OTPC-3"><i class="fa fa-check"></i><b>4.6.4</b> Output TUFLOW Plot Control</a></li>
<li class="chapter" data-level="4.6.5" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OSL-3"><i class="fa fa-check"></i><b>4.6.5</b> Output Structure Logging</a></li>
<li class="chapter" data-level="4.6.6" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OSMSDF-3"><i class="fa fa-check"></i><b>4.6.6</b> Output SMS Data Files</a></li>
<li class="chapter" data-level="4.6.7" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OLF-3"><i class="fa fa-check"></i><b>4.6.7</b> Output Log File</a></li>
<li class="chapter" data-level="4.6.8" data-path="CF-1.html"><a href="CF-1.html#CF-OF-ORS-3"><i class="fa fa-check"></i><b>4.6.8</b> Output Restart Files</a></li>
<li class="chapter" data-level="4.6.9" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OTF-3"><i class="fa fa-check"></i><b>4.6.9</b> Output Transport File</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="HD2D-1.html"><a href="HD2D-1.html"><i class="fa fa-check"></i><b>5</b> Model Construction: 2D HD Simulation Class</a>
<ul>
<li class="chapter" data-level="5.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Over-2"><i class="fa fa-check"></i><b>5.1</b> Overview</a></li>
<li class="chapter" data-level="5.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MI-2"><i class="fa fa-check"></i><b>5.2</b> Model Initialisation</a></li>
<li class="chapter" data-level="5.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CRF-2"><i class="fa fa-check"></i><b>5.3</b> Coordinate Reference Frame</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CRF-CS-3"><i class="fa fa-check"></i><b>5.3.1</b> Command Status</a></li>
<li class="chapter" data-level="5.3.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CRF-Desc-3"><i class="fa fa-check"></i><b>5.3.2</b> Description</a></li>
<li class="chapter" data-level="5.3.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CRF-Exam-3"><i class="fa fa-check"></i><b>5.3.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-SO-2"><i class="fa fa-check"></i><b>5.4</b> Spatial Order</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-SO-CS-3"><i class="fa fa-check"></i><b>5.4.1</b> Command Status</a></li>
<li class="chapter" data-level="5.4.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-SO-Desc-3"><i class="fa fa-check"></i><b>5.4.2</b> Description</a></li>
<li class="chapter" data-level="5.4.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-SO-Exam-3"><i class="fa fa-check"></i><b>5.4.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Hard-2"><i class="fa fa-check"></i><b>5.5</b> Hardware</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Hard-CS-3"><i class="fa fa-check"></i><b>5.5.1</b> Command Status</a></li>
<li class="chapter" data-level="5.5.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Hard-Desc-3"><i class="fa fa-check"></i><b>5.5.2</b> Description</a></li>
<li class="chapter" data-level="5.5.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Hard-Exam-3"><i class="fa fa-check"></i><b>5.5.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-STS-2"><i class="fa fa-check"></i><b>5.6</b> Simulation Time Settings</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-STS-CS-3"><i class="fa fa-check"></i><b>5.6.1</b> Command Status</a></li>
<li class="chapter" data-level="5.6.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-STT-Desc-3"><i class="fa fa-check"></i><b>5.6.2</b> Description</a></li>
<li class="chapter" data-level="5.6.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-STS-Exam-3"><i class="fa fa-check"></i><b>5.6.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CT-2"><i class="fa fa-check"></i><b>5.7</b> Computational Timestep</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CT-CS-3"><i class="fa fa-check"></i><b>5.7.1</b> Command Status</a></li>
<li class="chapter" data-level="5.7.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CT-Desc-3"><i class="fa fa-check"></i><b>5.7.2</b> Description</a></li>
<li class="chapter" data-level="5.7.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CT-Exam-3"><i class="fa fa-check"></i><b>5.7.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-WAD-2"><i class="fa fa-check"></i><b>5.8</b> Wetting And Drying</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-WAD-CS-3"><i class="fa fa-check"></i><b>5.8.1</b> Command Status</a></li>
<li class="chapter" data-level="5.8.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-WAD-Desc-3"><i class="fa fa-check"></i><b>5.8.2</b> Description</a></li>
<li class="chapter" data-level="5.8.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-WAD-Exam-3"><i class="fa fa-check"></i><b>5.8.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BDM-2"><i class="fa fa-check"></i><b>5.9</b> Bottom Drag Model</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BDM-CS-3"><i class="fa fa-check"></i><b>5.9.1</b> Command Status</a></li>
<li class="chapter" data-level="5.9.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BDM-Desc-3"><i class="fa fa-check"></i><b>5.9.2</b> Description</a></li>
<li class="chapter" data-level="5.9.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BDM-Exam-3"><i class="fa fa-check"></i><b>5.9.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HMM-2"><i class="fa fa-check"></i><b>5.10</b> Horizontal Momentum Mixing</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HMM-CS-3"><i class="fa fa-check"></i><b>5.10.1</b> Command Status</a></li>
<li class="chapter" data-level="5.10.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HMM-Desc-3"><i class="fa fa-check"></i><b>5.10.2</b> Description</a></li>
<li class="chapter" data-level="5.10.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HMM-Exam-3"><i class="fa fa-check"></i><b>5.10.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-2"><i class="fa fa-check"></i><b>5.11</b> Computational Mesh</a>
<ul>
<li class="chapter" data-level="5.11.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-CS-3"><i class="fa fa-check"></i><b>5.11.1</b> Command Status</a></li>
<li class="chapter" data-level="5.11.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-Desc-3"><i class="fa fa-check"></i><b>5.11.2</b> Description</a></li>
<li class="chapter" data-level="5.11.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-UM-3"><i class="fa fa-check"></i><b>5.11.3</b> Unstructured Mesh</a></li>
<li class="chapter" data-level="5.11.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-UME-3"><i class="fa fa-check"></i><b>5.11.4</b> Unstructured Mesh Examples</a></li>
<li class="chapter" data-level="5.11.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-SM-3"><i class="fa fa-check"></i><b>5.11.5</b> Structured Mesh</a></li>
<li class="chapter" data-level="5.11.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-SME-3"><i class="fa fa-check"></i><b>5.11.6</b> Structured Mesh Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.12" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-2"><i class="fa fa-check"></i><b>5.12</b> Bathymetry</a>
<ul>
<li class="chapter" data-level="5.12.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-CS-3"><i class="fa fa-check"></i><b>5.12.1</b> Command Status</a></li>
<li class="chapter" data-level="5.12.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-Desc-3"><i class="fa fa-check"></i><b>5.12.2</b> Description</a></li>
<li class="chapter" data-level="5.12.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-SB-3"><i class="fa fa-check"></i><b>5.12.3</b> Static Bathymetry</a></li>
<li class="chapter" data-level="5.12.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-SBE-3"><i class="fa fa-check"></i><b>5.12.4</b> Static Bathymetry Examples</a></li>
<li class="chapter" data-level="5.12.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-TVB-3"><i class="fa fa-check"></i><b>5.12.5</b> Time Varying Bathymetry</a></li>
</ul></li>
<li class="chapter" data-level="5.13" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-2"><i class="fa fa-check"></i><b>5.13</b> Materials</a>
<ul>
<li class="chapter" data-level="5.13.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-CS-3"><i class="fa fa-check"></i><b>5.13.1</b> Command Status</a></li>
<li class="chapter" data-level="5.13.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-Desc-3"><i class="fa fa-check"></i><b>5.13.2</b> Description</a></li>
<li class="chapter" data-level="5.13.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-MSD-3"><i class="fa fa-check"></i><b>5.13.3</b> Material Spatial Definition</a></li>
<li class="chapter" data-level="5.13.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-MSDE-3"><i class="fa fa-check"></i><b>5.13.4</b> Material Spatial Definition Examples</a></li>
<li class="chapter" data-level="5.13.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-Prop-3"><i class="fa fa-check"></i><b>5.13.5</b> Material Properties</a></li>
<li class="chapter" data-level="5.13.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-MPE-3"><i class="fa fa-check"></i><b>5.13.6</b> Material Properties Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.14" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-2"><i class="fa fa-check"></i><b>5.14</b> Initial Conditions</a>
<ul>
<li class="chapter" data-level="5.14.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-CS-3"><i class="fa fa-check"></i><b>5.14.1</b> Command Status</a></li>
<li class="chapter" data-level="5.14.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-Desc-3"><i class="fa fa-check"></i><b>5.14.2</b> Description</a></li>
<li class="chapter" data-level="5.14.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-SC-3"><i class="fa fa-check"></i><b>5.14.3</b> Spatially Constant</a></li>
<li class="chapter" data-level="5.14.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-SV-3"><i class="fa fa-check"></i><b>5.14.4</b> Spatially Varying</a></li>
<li class="chapter" data-level="5.14.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-RF-3"><i class="fa fa-check"></i><b>5.14.5</b> Restart File</a></li>
<li class="chapter" data-level="5.14.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-Exam-3"><i class="fa fa-check"></i><b>5.14.6</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.15" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-2"><i class="fa fa-check"></i><b>5.15</b> Boundary Conditions</a>
<ul>
<li class="chapter" data-level="5.15.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-CS-3"><i class="fa fa-check"></i><b>5.15.1</b> Command Status</a></li>
<li class="chapter" data-level="5.15.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-Desc-3"><i class="fa fa-check"></i><b>5.15.2</b> Description</a></li>
<li class="chapter" data-level="5.15.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-BT-3"><i class="fa fa-check"></i><b>5.15.3</b> Boundary Types</a></li>
<li class="chapter" data-level="5.15.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-BLD-3"><i class="fa fa-check"></i><b>5.15.4</b> Boundary Location Definition</a></li>
<li class="chapter" data-level="5.15.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-BCB-3"><i class="fa fa-check"></i><b>5.15.5</b> Boundary Condition Block</a></li>
<li class="chapter" data-level="5.15.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-BCSWE-4"><i class="fa fa-check"></i><b>5.15.6</b> Boundary Condition Specification - Worked Example</a></li>
<li class="chapter" data-level="5.15.7" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-WL-3"><i class="fa fa-check"></i><b>5.15.7</b> Water Level</a></li>
<li class="chapter" data-level="5.15.8" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-IO-3"><i class="fa fa-check"></i><b>5.15.8</b> Inflow/Outflow</a></li>
<li class="chapter" data-level="5.15.9" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-DS-3"><i class="fa fa-check"></i><b>5.15.9</b> Stage-Discharge</a></li>
<li class="chapter" data-level="5.15.10" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-Atmo-3"><i class="fa fa-check"></i><b>5.15.10</b> Atmospheric</a></li>
<li class="chapter" data-level="5.15.11" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-SW-3"><i class="fa fa-check"></i><b>5.15.11</b> Spectral Wave</a></li>
<li class="chapter" data-level="5.15.12" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-Forc-3"><i class="fa fa-check"></i><b>5.15.12</b> Force</a></li>
<li class="chapter" data-level="5.15.13" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-ZGAR-3"><i class="fa fa-check"></i><b>5.15.13</b> Zero Gradient And Reflective</a></li>
<li class="chapter" data-level="5.15.14" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-Tran-3"><i class="fa fa-check"></i><b>5.15.14</b> Transport</a></li>
</ul></li>
<li class="chapter" data-level="5.16" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-2"><i class="fa fa-check"></i><b>5.16</b> Hydraulic Structures</a>
<ul>
<li class="chapter" data-level="5.16.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-CS-3"><i class="fa fa-check"></i><b>5.16.1</b> Command Status</a></li>
<li class="chapter" data-level="5.16.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Desc-3"><i class="fa fa-check"></i><b>5.16.2</b> Description</a></li>
<li class="chapter" data-level="5.16.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-ST-3"><i class="fa fa-check"></i><b>5.16.3</b> Structure Types</a></li>
<li class="chapter" data-level="5.16.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-SCT-3"><i class="fa fa-check"></i><b>5.16.4</b> Structure Connection Types</a></li>
<li class="chapter" data-level="5.16.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-SB-3"><i class="fa fa-check"></i><b>5.16.5</b> Structure Block</a></li>
<li class="chapter" data-level="5.16.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Weir-3"><i class="fa fa-check"></i><b>5.16.6</b> Weirs</a></li>
<li class="chapter" data-level="5.16.7" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Culv-3"><i class="fa fa-check"></i><b>5.16.7</b> Culverts</a></li>
<li class="chapter" data-level="5.16.8" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Brid-3"><i class="fa fa-check"></i><b>5.16.8</b> Bridges</a></li>
<li class="chapter" data-level="5.16.9" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-PS-3"><i class="fa fa-check"></i><b>5.16.9</b> Porous Structures</a></li>
<li class="chapter" data-level="5.16.10" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-UDM-3"><i class="fa fa-check"></i><b>5.16.10</b> User-Defined Matrix</a></li>
<li class="chapter" data-level="5.16.11" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-UDT-3"><i class="fa fa-check"></i><b>5.16.11</b> User-Defined Timeseries</a></li>
<li class="chapter" data-level="5.16.12" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Pump-3"><i class="fa fa-check"></i><b>5.16.12</b> Pumps</a></li>
<li class="chapter" data-level="5.16.13" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Wall-3"><i class="fa fa-check"></i><b>5.16.13</b> Walls</a></li>
<li class="chapter" data-level="5.16.14" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-VB-3"><i class="fa fa-check"></i><b>5.16.14</b> Variable Bathymetry</a></li>
<li class="chapter" data-level="5.16.15" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-OSAVB-3"><i class="fa fa-check"></i><b>5.16.15</b> Operational Structures And Variable Bathymetry</a></li>
<li class="chapter" data-level="5.16.16" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-TS-3"><i class="fa fa-check"></i><b>5.16.16</b> Treatment Structure</a></li>
</ul></li>
<li class="chapter" data-level="5.17" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-2"><i class="fa fa-check"></i><b>5.17</b> Model Outputs</a>
<ul>
<li class="chapter" data-level="5.17.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-CS-3"><i class="fa fa-check"></i><b>5.17.1</b> Command Status</a></li>
<li class="chapter" data-level="5.17.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-Desc-3"><i class="fa fa-check"></i><b>5.17.2</b> Description</a></li>
<li class="chapter" data-level="5.17.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-OT-3"><i class="fa fa-check"></i><b>5.17.3</b> Output Types</a></li>
<li class="chapter" data-level="5.17.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-OD-3"><i class="fa fa-check"></i><b>5.17.4</b> Output Directories</a></li>
<li class="chapter" data-level="5.17.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-OB-3"><i class="fa fa-check"></i><b>5.17.5</b> Output Block</a></li>
<li class="chapter" data-level="5.17.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-Poin-3"><i class="fa fa-check"></i><b>5.17.6</b> Point</a></li>
<li class="chapter" data-level="5.17.7" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-Poly-3"><i class="fa fa-check"></i><b>5.17.7</b> Polyline</a></li>
<li class="chapter" data-level="5.17.8" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-Mesh-3"><i class="fa fa-check"></i><b>5.17.8</b> Mesh</a></li>
<li class="chapter" data-level="5.17.9" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-Stru-3"><i class="fa fa-check"></i><b>5.17.9</b> Structure</a></li>
<li class="chapter" data-level="5.17.10" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-MB-3"><i class="fa fa-check"></i><b>5.17.10</b> Mass Balance</a></li>
<li class="chapter" data-level="5.17.11" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-Tran-3"><i class="fa fa-check"></i><b>5.17.11</b> Transport</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="HD3D-1.html"><a href="HD3D-1.html"><i class="fa fa-check"></i><b>6</b> Model Construction: 3D HD Simulation Class</a>
<ul>
<li class="chapter" data-level="6.1" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-Over-2"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-SO-2"><i class="fa fa-check"></i><b>6.2</b> Spatial Order</a></li>
<li class="chapter" data-level="6.3" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-VMM-2"><i class="fa fa-check"></i><b>6.3</b> Vertical Momentum Mixing</a></li>
<li class="chapter" data-level="6.4" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-CM-2"><i class="fa fa-check"></i><b>6.4</b> Computational Mesh</a></li>
<li class="chapter" data-level="6.5" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-Mate-2"><i class="fa fa-check"></i><b>6.5</b> Materials</a></li>
<li class="chapter" data-level="6.6" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-IC-2"><i class="fa fa-check"></i><b>6.6</b> Initial Conditions</a></li>
<li class="chapter" data-level="6.7" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-BC-2"><i class="fa fa-check"></i><b>6.7</b> Boundary Conditions</a></li>
<li class="chapter" data-level="6.8" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-HS-2"><i class="fa fa-check"></i><b>6.8</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="6.9" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-MO-2"><i class="fa fa-check"></i><b>6.9</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="AD-1.html"><a href="AD-1.html"><i class="fa fa-check"></i><b>7</b> Model Construction: AD Simulation Class</a>
<ul>
<li class="chapter" data-level="7.1" data-path="AD-1.html"><a href="AD-1.html#AD-Over-2"><i class="fa fa-check"></i><b>7.1</b> Overview</a></li>
<li class="chapter" data-level="7.2" data-path="AD-1.html"><a href="AD-1.html#AD-TempM-2"><i class="fa fa-check"></i><b>7.2</b> Temperature Model</a></li>
<li class="chapter" data-level="7.3" data-path="AD-1.html"><a href="AD-1.html#AD-TraceM-2"><i class="fa fa-check"></i><b>7.3</b> Tracer Model</a></li>
<li class="chapter" data-level="7.4" data-path="AD-1.html"><a href="AD-1.html#AD-SMM-2"><i class="fa fa-check"></i><b>7.4</b> Scalar Mixing Model</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="AD-1.html"><a href="AD-1.html#AD-SMM-Hori-3"><i class="fa fa-check"></i><b>7.4.1</b> Horizontal</a></li>
<li class="chapter" data-level="7.4.2" data-path="AD-1.html"><a href="AD-1.html#AD-SMM-Vert-3"><i class="fa fa-check"></i><b>7.4.2</b> Vertical</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="AD-1.html"><a href="AD-1.html#AD-AHE-2"><i class="fa fa-check"></i><b>7.5</b> Atmospheric Heat Exchange</a></li>
<li class="chapter" data-level="7.6" data-path="AD-1.html"><a href="AD-1.html#AD-SRM-2"><i class="fa fa-check"></i><b>7.6</b> Shortwave Radiation Model</a></li>
<li class="chapter" data-level="7.7" data-path="AD-1.html"><a href="AD-1.html#AD-LRM-2"><i class="fa fa-check"></i><b>7.7</b> Longwave Radiation Model</a></li>
<li class="chapter" data-level="7.8" data-path="AD-1.html"><a href="AD-1.html#AD-LHM-2"><i class="fa fa-check"></i><b>7.8</b> Latent Heat Model</a></li>
<li class="chapter" data-level="7.9" data-path="AD-1.html"><a href="AD-1.html#AD-Mate-2"><i class="fa fa-check"></i><b>7.9</b> Materials</a></li>
<li class="chapter" data-level="7.10" data-path="AD-1.html"><a href="AD-1.html#AD-IC-2"><i class="fa fa-check"></i><b>7.10</b> Initial Conditions</a></li>
<li class="chapter" data-level="7.11" data-path="AD-1.html"><a href="AD-1.html#AD-BC-2"><i class="fa fa-check"></i><b>7.11</b> Boundary Conditions</a>
<ul>
<li class="chapter" data-level="7.11.1" data-path="AD-1.html"><a href="AD-1.html#AD-BC-BT-3"><i class="fa fa-check"></i><b>7.11.1</b> Boundary Types</a></li>
<li class="chapter" data-level="7.11.2" data-path="AD-1.html"><a href="AD-1.html#AD-BC-BLD-3"><i class="fa fa-check"></i><b>7.11.2</b> Boundary Location Definition</a></li>
<li class="chapter" data-level="7.11.3" data-path="AD-1.html"><a href="AD-1.html#AD-BC-OCM-3"><i class="fa fa-check"></i><b>7.11.3</b> Ocean Circulation Model</a></li>
<li class="chapter" data-level="7.11.4" data-path="AD-1.html"><a href="AD-1.html#AD-BC-Mass-3"><i class="fa fa-check"></i><b>7.11.4</b> Mass</a></li>
<li class="chapter" data-level="7.11.5" data-path="AD-1.html"><a href="AD-1.html#AD-BC-SC-3"><i class="fa fa-check"></i><b>7.11.5</b> Scalar Concentration</a></li>
<li class="chapter" data-level="7.11.6" data-path="AD-1.html"><a href="AD-1.html#AD-BC-TF-3"><i class="fa fa-check"></i><b>7.11.6</b> Transport File</a></li>
</ul></li>
<li class="chapter" data-level="7.12" data-path="AD-1.html"><a href="AD-1.html#AD-HS-2"><i class="fa fa-check"></i><b>7.12</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="7.13" data-path="AD-1.html"><a href="AD-1.html#AD-MO-2"><i class="fa fa-check"></i><b>7.13</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ST-1.html"><a href="ST-1.html"><i class="fa fa-check"></i><b>8</b> Model Construction: ST Simulation Class</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ST-1.html"><a href="ST-1.html#ST-Over-2"><i class="fa fa-check"></i><b>8.1</b> Overview</a></li>
<li class="chapter" data-level="8.2" data-path="ST-1.html"><a href="ST-1.html#ST-SM-2"><i class="fa fa-check"></i><b>8.2</b> Sediment Model</a></li>
<li class="chapter" data-level="8.3" data-path="ST-1.html"><a href="ST-1.html#ST-SC-2"><i class="fa fa-check"></i><b>8.3</b> Sediment Configuration</a></li>
<li class="chapter" data-level="8.4" data-path="ST-1.html"><a href="ST-1.html#ST-IC-2"><i class="fa fa-check"></i><b>8.4</b> Initial Conditions</a></li>
<li class="chapter" data-level="8.5" data-path="ST-1.html"><a href="ST-1.html#ST-BC-2"><i class="fa fa-check"></i><b>8.5</b> Boundary Conditions</a></li>
<li class="chapter" data-level="8.6" data-path="ST-1.html"><a href="ST-1.html#ST-HS-2"><i class="fa fa-check"></i><b>8.6</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="8.7" data-path="ST-1.html"><a href="ST-1.html#ST-MO-2"><i class="fa fa-check"></i><b>8.7</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="WQ-1.html"><a href="WQ-1.html"><i class="fa fa-check"></i><b>9</b> Model Construction: WQ Simulation Class</a>
<ul>
<li class="chapter" data-level="9.1" data-path="WQ-1.html"><a href="WQ-1.html#WQ-Over-2"><i class="fa fa-check"></i><b>9.1</b> Overview</a></li>
<li class="chapter" data-level="9.2" data-path="WQ-1.html"><a href="WQ-1.html#WQ-WQM-2"><i class="fa fa-check"></i><b>9.2</b> Water Quality Model</a></li>
<li class="chapter" data-level="9.3" data-path="WQ-1.html"><a href="WQ-1.html#WQ-WQC-2"><i class="fa fa-check"></i><b>9.3</b> Water Quality Configuration</a></li>
<li class="chapter" data-level="9.4" data-path="WQ-1.html"><a href="WQ-1.html#WQ-IC-2"><i class="fa fa-check"></i><b>9.4</b> Initial Conditions</a></li>
<li class="chapter" data-level="9.5" data-path="WQ-1.html"><a href="WQ-1.html#WQ-BC-2"><i class="fa fa-check"></i><b>9.5</b> Boundary Conditions</a></li>
<li class="chapter" data-level="9.6" data-path="WQ-1.html"><a href="WQ-1.html#WQ-HS-2"><i class="fa fa-check"></i><b>9.6</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="9.7" data-path="WQ-1.html"><a href="WQ-1.html#WQ-MO-2"><i class="fa fa-check"></i><b>9.7</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="PT-1.html"><a href="PT-1.html"><i class="fa fa-check"></i><b>10</b> Model Construction: PT Simulation Class</a>
<ul>
<li class="chapter" data-level="10.1" data-path="PT-1.html"><a href="PT-1.html#PT-Over-2"><i class="fa fa-check"></i><b>10.1</b> Overview</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="Hardware-1.html"><a href="Hardware-1.html"><i class="fa fa-check"></i><b>11</b> Hardware And Operating System</a>
<ul>
<li class="chapter" data-level="11.1" data-path="Hardware-1.html"><a href="Hardware-1.html#Hardware-2"><i class="fa fa-check"></i><b>11.1</b> Context</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html"><i class="fa fa-check"></i><b>12</b> Managing And Starting Simulations</a>
<ul>
<li class="chapter" data-level="12.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#RunningSimulationsIntro-2"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#FileNaming-2"><i class="fa fa-check"></i><b>12.2</b> File Naming</a></li>
<li class="chapter" data-level="12.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#SimulationManagement-2"><i class="fa fa-check"></i><b>12.3</b> Simulation Management</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#TimeOutputControls-3"><i class="fa fa-check"></i><b>12.3.1</b> Time and Output Controls</a></li>
<li class="chapter" data-level="12.3.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#Events-3"><i class="fa fa-check"></i><b>12.3.2</b> Events</a></li>
<li class="chapter" data-level="12.3.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#Scenarios-3"><i class="fa fa-check"></i><b>12.3.3</b> Scenarios</a></li>
<li class="chapter" data-level="12.3.4" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#Variables-3"><i class="fa fa-check"></i><b>12.3.4</b> Variables</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#TUFLOWExecDownload-2"><i class="fa fa-check"></i><b>12.4</b> TUFLOW Executable Download</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#InstallOverview-3"><i class="fa fa-check"></i><b>12.4.1</b> Overview and Where to Install</a></li>
<li class="chapter" data-level="12.4.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#iSPdSP-3"><i class="fa fa-check"></i><b>12.4.2</b> Single and Double Precision</a></li>
<li class="chapter" data-level="12.4.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#CustomingTUFLOW-3"><i class="fa fa-check"></i><b>12.4.3</b> Customising TUFLOW using TUFLOW_USER_DEFINED.dll</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#RunningSims-2"><i class="fa fa-check"></i><b>12.5</b> Running Simulations</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#DongleTypesandSetup-3"><i class="fa fa-check"></i><b>12.5.1</b> Dongle Types and Setup</a></li>
<li class="chapter" data-level="12.5.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#StartingaSim-3"><i class="fa fa-check"></i><b>12.5.2</b> Starting a Simulation</a></li>
<li class="chapter" data-level="12.5.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#SMSSimulations-3"><i class="fa fa-check"></i><b>12.5.3</b> Using TUFLOW FV with SMS</a></li>
<li class="chapter" data-level="12.5.4" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#OptimisingSims-3"><i class="fa fa-check"></i><b>12.5.4</b> Optimising Startup and Run Times</a></li>
<li class="chapter" data-level="12.5.5" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#AutoTerminateOptions-3"><i class="fa fa-check"></i><b>12.5.5</b> Auto Terminate (Simulation End) Options</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplication-3"><i class="fa fa-check"></i><b>12.6</b> Reproducibility of Results</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplicationClassic-3"><i class="fa fa-check"></i><b>12.6.1</b> TUFLOW Classic (CPU only)</a></li>
<li class="chapter" data-level="12.6.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplicationHPCCPU-3"><i class="fa fa-check"></i><b>12.6.2</b> TUFLOW HPC (incl. Quadtree) on CPU</a></li>
<li class="chapter" data-level="12.6.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplicationHPCGPU-3"><i class="fa fa-check"></i><b>12.6.3</b> TUFLOW HPC (incl. Quadtree) on GPU</a></li>
<li class="chapter" data-level="12.6.4" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplicationHPCMultiThread-3"><i class="fa fa-check"></i><b>12.6.4</b> TUFLOW HPC (incl. Quadtree) on multiple GPUs / CPU threads</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="CAL-1.html"><a href="CAL-1.html"><i class="fa fa-check"></i><b>13</b> Checks And Logs</a>
<ul>
<li class="chapter" data-level="13.1" data-path="CAL-1.html"><a href="CAL-1.html#CAL-Cont-2"><i class="fa fa-check"></i><b>13.1</b> Context</a></li>
<li class="chapter" data-level="13.2" data-path="CAL-1.html"><a href="CAL-1.html#CAL-TLF-2"><i class="fa fa-check"></i><b>13.2</b> TUFLOW FV Log File</a></li>
<li class="chapter" data-level="13.3" data-path="CAL-1.html"><a href="CAL-1.html#CAL-MD-2"><i class="fa fa-check"></i><b>13.3</b> Mesh Diagnostics</a></li>
<li class="chapter" data-level="13.4" data-path="CAL-1.html"><a href="CAL-1.html#CAL-GCF-2"><i class="fa fa-check"></i><b>13.4</b> GIS Check Files</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="ViewingOutputs-1.html"><a href="ViewingOutputs-1.html"><i class="fa fa-check"></i><b>14</b> Viewing Outputs</a>
<ul>
<li class="chapter" data-level="14.1" data-path="ViewingOutputs-1.html"><a href="ViewingOutputs-1.html#ViewingOutputs-2"><i class="fa fa-check"></i><b>14.1</b> Context</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="QAAndTroubleshooting-1.html"><a href="QAAndTroubleshooting-1.html"><i class="fa fa-check"></i><b>15</b> QA And Troubleshooting</a>
<ul>
<li class="chapter" data-level="15.1" data-path="QAAndTroubleshooting-1.html"><a href="QAAndTroubleshooting-1.html#QAAndTroubleshooting-2"><i class="fa fa-check"></i><b>15.1</b> Context</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="AppCommands.html"><a href="AppCommands.html"><i class="fa fa-check"></i><b>A</b> Commands</a>
<ul>
<li class="chapter" data-level="A.1" data-path="AppCommands.html"><a href="AppCommands.html#Appcmdsyn"><i class="fa fa-check"></i><b>A.1</b> Command syntax</a></li>
<li class="chapter" data-level="A.2" data-path="AppCommands.html"><a href="AppCommands.html#Appargmtsyn"><i class="fa fa-check"></i><b>A.2</b> Argument syntax</a></li>
<li class="chapter" data-level="A.3" data-path="AppCommands.html"><a href="AppCommands.html#Appcmds"><i class="fa fa-check"></i><b>A.3</b> Commands</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="AppParams.html"><a href="AppParams.html"><i class="fa fa-check"></i><b>B</b> Parameters</a></li>
<li class="chapter" data-level="C" data-path="AppFiles.html"><a href="AppFiles.html"><i class="fa fa-check"></i><b>C</b> Files and Data Fields</a>
<ul>
<li class="chapter" data-level="C.1" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsSurfConc"><i class="fa fa-check"></i><b>C.1</b> Surface water concentrations</a></li>
<li class="chapter" data-level="C.2" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsGWConc"><i class="fa fa-check"></i><b>C.2</b> Groundwater concentrations</a></li>
<li class="chapter" data-level="C.3" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsDryMass"><i class="fa fa-check"></i><b>C.3</b> Dry mass</a></li>
<li class="chapter" data-level="C.4" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsNetMass"><i class="fa fa-check"></i><b>C.4</b> Net mass</a></li>
<li class="chapter" data-level="C.5" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsOther"><i class="fa fa-check"></i><b>C.5</b> Other outputs</a>
<ul>
<li class="chapter" data-level="C.5.1" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsOtherMB"><i class="fa fa-check"></i><b>C.5.1</b> Mass balance</a></li>
<li class="chapter" data-level="C.5.2" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsOtherRP"><i class="fa fa-check"></i><b>C.5.2</b> Receiving polygon</a></li>
<li class="chapter" data-level="C.5.3" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsOtherFV"><i class="fa fa-check"></i><b>C.5.3</b> TUFLOW FV boundaries</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="D" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html"><i class="fa fa-check"></i><b>D</b> Processes: Governing Equations And Numerical Scheme</a>
<ul>
<li class="chapter" data-level="D.1" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#AppProc-GE-Cont-2"><i class="fa fa-check"></i><b>D.1</b> Context</a></li>
<li class="chapter" data-level="D.2" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#AppProc-GE-GE-2"><i class="fa fa-check"></i><b>D.2</b> Governing Equations</a></li>
<li class="chapter" data-level="D.3" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#scalar-conservation-equations"><i class="fa fa-check"></i><b>D.3</b> Scalar Conservation Equations</a></li>
<li class="chapter" data-level="D.4" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#units"><i class="fa fa-check"></i><b>D.4</b> Units</a>
<ul>
<li class="chapter" data-level="D.4.1" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#master-variables-table-cell-centre-state-variables-2d"><i class="fa fa-check"></i><b>D.4.1</b> Master Variables Table — Cell-centre State Variables (2D)</a></li>
<li class="chapter" data-level="D.4.2" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#face-flux-densities-per-unit-face-length-2d"><i class="fa fa-check"></i><b>D.4.2</b> Face Flux Densities — Per Unit Face Length (2D)</a></li>
<li class="chapter" data-level="D.4.3" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#cell-centre-sources-per-unit-area-x-equation-2d"><i class="fa fa-check"></i><b>D.4.3</b> Cell-centre Sources — Per Unit Area (x-equation) (2D)</a></li>
<li class="chapter" data-level="D.4.4" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#how-it-all-links-in-fv-updates"><i class="fa fa-check"></i><b>D.4.4</b> 4. How it all links in FV updates</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#AppProc-GE-CT-2"><i class="fa fa-check"></i><b>D.5</b> Cell Topology</a></li>
<li class="chapter" data-level="D.6" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#AppProc-GE-SN-2"><i class="fa fa-check"></i><b>D.6</b> Numerical Scheme</a>
<ul>
<li class="chapter" data-level="D.6.1" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#discrete-system"><i class="fa fa-check"></i><b>D.6.1</b> Discrete System</a></li>
<li class="chapter" data-level="D.6.2" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#mode-splitting"><i class="fa fa-check"></i><b>D.6.2</b> Mode Splitting</a></li>
<li class="chapter" data-level="D.6.3" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#flux-terms"><i class="fa fa-check"></i><b>D.6.3</b> Flux Terms</a></li>
<li class="chapter" data-level="D.6.4" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#time-integration"><i class="fa fa-check"></i><b>D.6.4</b> Time Integration</a></li>
<li class="chapter" data-level="D.6.5" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#wetting-and-drying"><i class="fa fa-check"></i><b>D.6.5</b> Wetting and Drying</a></li>
<li class="chapter" data-level="D.6.6" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#source-terms"><i class="fa fa-check"></i><b>D.6.6</b> Source Terms</a></li>
</ul></li>
<li class="chapter" data-level="D.7" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#atmospheric-heat-exchange"><i class="fa fa-check"></i><b>D.7</b> Atmospheric Heat Exchange</a></li>
<li class="chapter" data-level="D.8" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#references"><i class="fa fa-check"></i><b>D.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="App2DHD-1.html"><a href="App2DHD-1.html"><i class="fa fa-check"></i><b>E</b> Processes: 2D HD Simulation Class</a>
<ul>
<li class="chapter" data-level="E.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Cont-2"><i class="fa fa-check"></i><b>E.1</b> Context</a></li>
<li class="chapter" data-level="E.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MI-2"><i class="fa fa-check"></i><b>E.2</b> Model Initialisation</a></li>
<li class="chapter" data-level="E.3" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CRF-2"><i class="fa fa-check"></i><b>E.3</b> Coordinate Reference Frame</a>
<ul>
<li class="chapter" data-level="E.3.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CRF-Scie-3"><i class="fa fa-check"></i><b>E.3.1</b> Science</a></li>
<li class="chapter" data-level="E.3.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CRF-GUG-3"><i class="fa fa-check"></i><b>E.3.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.4" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-SO-2"><i class="fa fa-check"></i><b>E.4</b> Spatial Order</a>
<ul>
<li class="chapter" data-level="E.4.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-SO-Scie-3"><i class="fa fa-check"></i><b>E.4.1</b> Science</a></li>
<li class="chapter" data-level="E.4.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-SO-GUG-3"><i class="fa fa-check"></i><b>E.4.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.5" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Hard-2"><i class="fa fa-check"></i><b>E.5</b> Hardware</a>
<ul>
<li class="chapter" data-level="E.5.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Hard-Scie-3"><i class="fa fa-check"></i><b>E.5.1</b> Science</a></li>
<li class="chapter" data-level="E.5.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Hard-GUG-3"><i class="fa fa-check"></i><b>E.5.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.6" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-STS-2"><i class="fa fa-check"></i><b>E.6</b> Simulation Time Settings</a>
<ul>
<li class="chapter" data-level="E.6.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-STS-Scie-3"><i class="fa fa-check"></i><b>E.6.1</b> Science</a></li>
<li class="chapter" data-level="E.6.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-STS-GUG-3"><i class="fa fa-check"></i><b>E.6.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.7" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CT-2"><i class="fa fa-check"></i><b>E.7</b> Computational Timestep</a>
<ul>
<li class="chapter" data-level="E.7.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CT-Scie-3"><i class="fa fa-check"></i><b>E.7.1</b> Science</a></li>
<li class="chapter" data-level="E.7.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CT-GUG-3"><i class="fa fa-check"></i><b>E.7.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.8" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-WAD-2"><i class="fa fa-check"></i><b>E.8</b> Wetting And Drying</a>
<ul>
<li class="chapter" data-level="E.8.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-WAD-Scie-3"><i class="fa fa-check"></i><b>E.8.1</b> Science</a></li>
<li class="chapter" data-level="E.8.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-WAD-GUG-3"><i class="fa fa-check"></i><b>E.8.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.9" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BDM-2"><i class="fa fa-check"></i><b>E.9</b> Bottom Drag Model</a>
<ul>
<li class="chapter" data-level="E.9.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BDM-Scie-3"><i class="fa fa-check"></i><b>E.9.1</b> Science</a></li>
<li class="chapter" data-level="E.9.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BDM-GUG-3"><i class="fa fa-check"></i><b>E.9.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.10" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MMM-2"><i class="fa fa-check"></i><b>E.10</b> Momentum Mixing Model</a>
<ul>
<li class="chapter" data-level="E.10.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MMM-Scie-3"><i class="fa fa-check"></i><b>E.10.1</b> Science</a></li>
<li class="chapter" data-level="E.10.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MMM-GUG-3"><i class="fa fa-check"></i><b>E.10.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.11" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CM-2"><i class="fa fa-check"></i><b>E.11</b> Computational Mesh</a>
<ul>
<li class="chapter" data-level="E.11.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CM-Scie-3"><i class="fa fa-check"></i><b>E.11.1</b> Science</a></li>
<li class="chapter" data-level="E.11.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CM-GUG-3"><i class="fa fa-check"></i><b>E.11.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.12" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Bath-2"><i class="fa fa-check"></i><b>E.12</b> Bathymetry</a>
<ul>
<li class="chapter" data-level="E.12.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Bath-Scie-3"><i class="fa fa-check"></i><b>E.12.1</b> Science</a></li>
<li class="chapter" data-level="E.12.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Bath-GUG-3"><i class="fa fa-check"></i><b>E.12.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.13" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Mate-2"><i class="fa fa-check"></i><b>E.13</b> Materials</a>
<ul>
<li class="chapter" data-level="E.13.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Mate-Scie-3"><i class="fa fa-check"></i><b>E.13.1</b> Science</a></li>
</ul></li>
<li class="chapter" data-level="E.14" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-IC-2"><i class="fa fa-check"></i><b>E.14</b> Initial Conditions</a>
<ul>
<li class="chapter" data-level="E.14.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-IC-Scie-3"><i class="fa fa-check"></i><b>E.14.1</b> Science</a></li>
<li class="chapter" data-level="E.14.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-IC-GUG-3"><i class="fa fa-check"></i><b>E.14.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.15" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BC-2"><i class="fa fa-check"></i><b>E.15</b> Boundary Conditions</a>
<ul>
<li class="chapter" data-level="E.15.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BC-Scie-3"><i class="fa fa-check"></i><b>E.15.1</b> Science</a></li>
<li class="chapter" data-level="E.15.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BC-GUG-3"><i class="fa fa-check"></i><b>E.15.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.16" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-HS-2"><i class="fa fa-check"></i><b>E.16</b> Hydraulic Structures</a>
<ul>
<li class="chapter" data-level="E.16.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-HS-Scie-3"><i class="fa fa-check"></i><b>E.16.1</b> Science</a></li>
<li class="chapter" data-level="E.16.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-HS-OSAVB-3"><i class="fa fa-check"></i><b>E.16.2</b> Operational Structures And Variable Bathymetry</a></li>
<li class="chapter" data-level="E.16.3" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-HS-GUG-3"><i class="fa fa-check"></i><b>E.16.3</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.17" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MO-2"><i class="fa fa-check"></i><b>E.17</b> Model Outputs</a>
<ul>
<li class="chapter" data-level="E.17.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MO-TPC-3"><i class="fa fa-check"></i><b>E.17.1</b> TUFLOW Plot Control</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="F" data-path="App3DHD-1.html"><a href="App3DHD-1.html"><i class="fa fa-check"></i><b>F</b> Processes: 3D HD Simulation Class</a>
<ul>
<li class="chapter" data-level="F.1" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-Cont-2"><i class="fa fa-check"></i><b>F.1</b> Context</a></li>
<li class="chapter" data-level="F.2" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-SO-2"><i class="fa fa-check"></i><b>F.2</b> Spatial Order</a></li>
<li class="chapter" data-level="F.3" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-CT-2"><i class="fa fa-check"></i><b>F.3</b> Computational Timestep</a>
<ul>
<li class="chapter" data-level="F.3.1" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-CT-Cont-3"><i class="fa fa-check"></i><b>F.3.1</b> Context</a></li>
<li class="chapter" data-level="F.3.2" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-CT-Scie-3"><i class="fa fa-check"></i><b>F.3.2</b> Science</a></li>
</ul></li>
<li class="chapter" data-level="F.4" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-VMM-2"><i class="fa fa-check"></i><b>F.4</b> Vertical Mixing Model</a></li>
<li class="chapter" data-level="F.5" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-CM-2"><i class="fa fa-check"></i><b>F.5</b> Computational Mesh</a></li>
<li class="chapter" data-level="F.6" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-IC-2"><i class="fa fa-check"></i><b>F.6</b> Initial Conditions</a></li>
<li class="chapter" data-level="F.7" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-BC-2"><i class="fa fa-check"></i><b>F.7</b> Boundary Conditions</a></li>
<li class="chapter" data-level="F.8" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-HS-2"><i class="fa fa-check"></i><b>F.8</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="F.9" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-MO-2"><i class="fa fa-check"></i><b>F.9</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="G" data-path="AppAD-1.html"><a href="AppAD-1.html"><i class="fa fa-check"></i><b>G</b> Processes: AD Simulation Class</a>
<ul>
<li class="chapter" data-level="G.1" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-Cont-2"><i class="fa fa-check"></i><b>G.1</b> Context</a></li>
<li class="chapter" data-level="G.2" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-SM-2"><i class="fa fa-check"></i><b>G.2</b> Salinity Model</a></li>
<li class="chapter" data-level="G.3" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-TempM-2"><i class="fa fa-check"></i><b>G.3</b> Temperature Model</a></li>
<li class="chapter" data-level="G.4" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-TraceM-2"><i class="fa fa-check"></i><b>G.4</b> Tracer Model</a></li>
<li class="chapter" data-level="G.5" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-CT-2"><i class="fa fa-check"></i><b>G.5</b> Computational Timestep</a>
<ul>
<li class="chapter" data-level="G.5.1" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-CT-Cont-3"><i class="fa fa-check"></i><b>G.5.1</b> Context</a></li>
<li class="chapter" data-level="G.5.2" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-CT-Scie-3"><i class="fa fa-check"></i><b>G.5.2</b> Science</a></li>
</ul></li>
<li class="chapter" data-level="G.6" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-SMM-2"><i class="fa fa-check"></i><b>G.6</b> Scalar Mixing Model</a></li>
<li class="chapter" data-level="G.7" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-2"><i class="fa fa-check"></i><b>G.7</b> Atmospheric Heat Exchange</a>
<ul>
<li class="chapter" data-level="G.7.1" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-Cont-3"><i class="fa fa-check"></i><b>G.7.1</b> Context</a></li>
<li class="chapter" data-level="G.7.2" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-SRM-3"><i class="fa fa-check"></i><b>G.7.2</b> Shortwave Radiation Model</a></li>
<li class="chapter" data-level="G.7.3" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-LRM-3"><i class="fa fa-check"></i><b>G.7.3</b> Longwave Radiation Model</a></li>
<li class="chapter" data-level="G.7.4" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-LHM-3"><i class="fa fa-check"></i><b>G.7.4</b> Latent Heat Model</a></li>
</ul></li>
<li class="chapter" data-level="G.8" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-IC-2"><i class="fa fa-check"></i><b>G.8</b> Initial Conditions</a></li>
<li class="chapter" data-level="G.9" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-BC-2"><i class="fa fa-check"></i><b>G.9</b> Boundary Conditions</a></li>
<li class="chapter" data-level="G.10" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-HS"><i class="fa fa-check"></i><b>G.10</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="G.11" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-MO-2"><i class="fa fa-check"></i><b>G.11</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="H" data-path="AppST-1.html"><a href="AppST-1.html"><i class="fa fa-check"></i><b>H</b> Processes: ST Simulation Class</a>
<ul>
<li class="chapter" data-level="H.1" data-path="AppST-1.html"><a href="AppST-1.html#AppST-Cont-2"><i class="fa fa-check"></i><b>H.1</b> Context</a></li>
<li class="chapter" data-level="H.2" data-path="AppST-1.html"><a href="AppST-1.html#AppST-SM-2"><i class="fa fa-check"></i><b>H.2</b> Sediment Model</a></li>
<li class="chapter" data-level="H.3" data-path="AppST-1.html"><a href="AppST-1.html#AppST-BRM-2"><i class="fa fa-check"></i><b>H.3</b> Bottom Drag Model</a></li>
<li class="chapter" data-level="H.4" data-path="AppST-1.html"><a href="AppST-1.html#AppST-Bath-2"><i class="fa fa-check"></i><b>H.4</b> Bathymetry</a></li>
<li class="chapter" data-level="H.5" data-path="AppST-1.html"><a href="AppST-1.html#AppST-SC-2"><i class="fa fa-check"></i><b>H.5</b> Sediment Configuration</a></li>
<li class="chapter" data-level="H.6" data-path="AppST-1.html"><a href="AppST-1.html#AppST-IC-2"><i class="fa fa-check"></i><b>H.6</b> Initial Conditions</a></li>
<li class="chapter" data-level="H.7" data-path="AppST-1.html"><a href="AppST-1.html#AppST-BC-2"><i class="fa fa-check"></i><b>H.7</b> Boundary Conditions</a></li>
<li class="chapter" data-level="H.8" data-path="AppST-1.html"><a href="AppST-1.html#AppST-HS-2"><i class="fa fa-check"></i><b>H.8</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="H.9" data-path="AppST-1.html"><a href="AppST-1.html#AppST-MO-2"><i class="fa fa-check"></i><b>H.9</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="I" data-path="AppWQ-1.html"><a href="AppWQ-1.html"><i class="fa fa-check"></i><b>I</b> Processes: WQ Simulation Class</a>
<ul>
<li class="chapter" data-level="I.1" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-Cont-2"><i class="fa fa-check"></i><b>I.1</b> Context</a></li>
<li class="chapter" data-level="I.2" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-WQM-2"><i class="fa fa-check"></i><b>I.2</b> Water Quality Model</a></li>
<li class="chapter" data-level="I.3" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-WQC-2"><i class="fa fa-check"></i><b>I.3</b> Water Quality Configuration</a></li>
<li class="chapter" data-level="I.4" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-IC-2"><i class="fa fa-check"></i><b>I.4</b> Initial Conditions</a></li>
<li class="chapter" data-level="I.5" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-BC-2"><i class="fa fa-check"></i><b>I.5</b> Boundary Conditions</a></li>
<li class="chapter" data-level="I.6" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-HS-2"><i class="fa fa-check"></i><b>I.6</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="I.7" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-MO-2"><i class="fa fa-check"></i><b>I.7</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="J" data-path="AppPT-1.html"><a href="AppPT-1.html"><i class="fa fa-check"></i><b>J</b> Processes: PT Simulation Class</a>
<ul>
<li class="chapter" data-level="J.1" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-Cont-2"><i class="fa fa-check"></i><b>J.1</b> Context</a></li>
<li class="chapter" data-level="J.2" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-PTC-2"><i class="fa fa-check"></i><b>J.2</b> Particle Tracking Configuration</a></li>
<li class="chapter" data-level="J.3" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-IC-2"><i class="fa fa-check"></i><b>J.3</b> Initial Conditions</a></li>
<li class="chapter" data-level="J.4" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-BC-2"><i class="fa fa-check"></i><b>J.4</b> Boundary Conditions</a></li>
<li class="chapter" data-level="J.5" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-HS-2"><i class="fa fa-check"></i><b>J.5</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="J.6" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-MO-2"><i class="fa fa-check"></i><b>J.6</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="K" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html"><i class="fa fa-check"></i><b>K</b> Application under version control</a>
<ul>
<li class="chapter" data-level="K.1" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContCtxt-3"><i class="fa fa-check"></i><b>K.1</b> Context</a></li>
<li class="chapter" data-level="K.2" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContUC-3"><i class="fa fa-check"></i><b>K.2</b> Use case</a></li>
<li class="chapter" data-level="K.3" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContWF-3"><i class="fa fa-check"></i><b>K.3</b> Possible workflow #1</a></li>
<li class="chapter" data-level="K.4" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContWF2-3"><i class="fa fa-check"></i><b>K.4</b> Possible workflow #2</a></li>
</ul></li>
<li class="chapter" data-level="L" data-path="App-FFE-1.html"><a href="App-FFE-1.html"><i class="fa fa-check"></i><b>L</b> File Format Examples</a>
<ul>
<li class="chapter" data-level="L.1" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-Cont-2"><i class="fa fa-check"></i><b>L.1</b> Context</a></li>
<li class="chapter" data-level="L.2" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-2"><i class="fa fa-check"></i><b>L.2</b> Input File Format Examples</a>
<ul>
<li class="chapter" data-level="L.2.1" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-2DHD-3"><i class="fa fa-check"></i><b>L.2.1</b> 2D HD Simulation Class</a></li>
<li class="chapter" data-level="L.2.2" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-3DHD-3"><i class="fa fa-check"></i><b>L.2.2</b> 3D HD Simulation Class</a></li>
<li class="chapter" data-level="L.2.3" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-AD-3"><i class="fa fa-check"></i><b>L.2.3</b> AD Simulation Class</a></li>
<li class="chapter" data-level="L.2.4" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-ST-3"><i class="fa fa-check"></i><b>L.2.4</b> ST Simulation Class</a></li>
<li class="chapter" data-level="L.2.5" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-WQ-3"><i class="fa fa-check"></i><b>L.2.5</b> WQ Simulation Class</a></li>
<li class="chapter" data-level="L.2.6" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-PT-3"><i class="fa fa-check"></i><b>L.2.6</b> PT Simulation Class</a></li>
</ul></li>
<li class="chapter" data-level="L.3" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-OFFE-2"><i class="fa fa-check"></i><b>L.3</b> Output File Format Examples</a></li>
<li class="chapter" data-level="L.4" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-LFF-2"><i class="fa fa-check"></i><b>L.4</b> Legacy File Formats</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://www.tuflow.com"><img src="images/1024in300px_Blue-01.svg" style="width:246px;height:68px;"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><h0 style="color:rgb(0,85,129);">TUFLOW FV User Manual</h0></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="HD2D-1" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Section 5</span> Model Construction: 2D HD Simulation Class<a href="HD2D-1.html#HD2D-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="HD2D-Over-2" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Overview<a href="HD2D-1.html#HD2D-Over-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This chapter describes the components required to construct a 2D HD
Simulation Class TUFLOW FV model.</p>
</div>
<div id="HD2D-MI-2" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Model Initialisation<a href="HD2D-1.html#HD2D-MI-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Model initialisation requires the following three primary components
that should be undertaken at the start of a new modelling project.</p>
<ol style="list-style-type: decimal">
<li>Create the standard TUFLOW FV folder structure (further described in
Section <a href="CF-1.html#CF-FS-2">4.2</a>)</li>
<li>Define the Coordinate Reference Frame (Section <a href="HD2D-1.html#HD2D-CRF-2">5.3</a>),
which includes selection of the GIS format, coordinate reference
system and model units</li>
<li>Create empty template GIS and control files</li>
</ol>
<p>To assist with this set up, and indeed more broadly with the
initialisation, execution and results interrogation of a TUFLOW FV
simulation, a freely available TUFLOW QGIS plugin has been developed.
TUFLOW eLearning resources (also free of charge) have been prepared to
support deployment and use of this TUFLOW plugin, and as such the
content of that resource is not repeated here. Users are however
encouraged to access this resource before initialising their first
TUFLOW FV simulation: using this plugin is seen as a core component of
the set up of a TUFLOW FV simulation. Doing so manually is discouraged.
The eLearning materials can be accessed by:</p>
<ol style="list-style-type: decimal">
<li>Registering for TUFLOW FV eLearning
<a href = "https://elearning.tuflow.com/login/index.php">here</a> if
not already registered</li>
<li>Emailing <a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a>
noting the registered username and with a request access to the
TUFLOW plugin eLearning course</li>
<li>Following instructions subsequently provided to access the course</li>
<li>Completing the course</li>
</ol>
<p>On completion of the course, users will be able to initialise a TUFLOW
FV simulation in the desired geographical projection system and units.
The sections presented below assume that this QGIS initialisation
process has occurred and describe the resulting general arrangements and
subsequent construction of a TUFLOW FV simulation.</p>
</div>
<div id="HD2D-CRF-2" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Coordinate Reference Frame<a href="HD2D-1.html#HD2D-CRF-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="HD2D-CRF-CS-3" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Command Status<a href="HD2D-1.html#HD2D-CRF-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Required</em> - <em>If using the recommended TUFLOW QGIS Plugin model
initialisation process (Section</em> <a href="HD2D-1.html#HD2D-MI-2">5.2</a><em>) the coordinate
reference frame commands are automatically populated and this section is
provided for reference</em>.</p>
</div>
<div id="HD2D-CRF-Desc-3" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Description<a href="HD2D-1.html#HD2D-CRF-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The coordinate reference frame defines how spatial locations and units
are interpreted within the TUFLOW FV model domain. It determines the
projection system, horizontal geometry (Cartesian or spherical), and the
unit system used for all spatial inputs and calculations. TUFLOW FV
offers the following coordinate reference frame options.</p>
<ul>
<li>Cartesian (Easting and Northing) in metric units</li>
<li>Spherical (Longitude and Latitude) in metric units</li>
<li>Cartesian (Easting and Northing) in US customary units</li>
</ul>
<p>The coordinate reference frame is defined by executing five steps:</p>
<ol style="list-style-type: decimal">
<li>Set the model projection. If developing the model using QGIS,
ArcGIS, or the SMS TUFLOW FV Interface, use the
<a href="AppCommands.html#FVCSHPProjection"><tcmd>SHP Projection</tcmd></a> command.
If developing the model in Mapinfo use the
<a href="AppCommands.html#FVCSHPProjection"><tcmd>MI Projection</tcmd></a>
command<br></li>
<li>Set the GIS output format. If developing the model using QGIS,
ArcGIS, or the SMS TUFLOW FV Interface, use
<a href="AppCommands.html#FVCGISFormat"><tcmd>GIS Format</tcmd></a> <teq>==</teq>
<tblk>SHP</tblk>. If developing the model in Mapinfo use
<a href="AppCommands.html#FVCGISFormat"><tcmd>GIS Format</tcmd></a> <teq>==</teq>
<tblk>MIF</tblk><br></li>
<li>Generate empty template GIS input layers in the model coordinate
system using the <a href="#FVCWriteEmptyGISLayers"><tcmd>Write Empty
GIS Layers</tcmd></a> command</li>
<li>Set the computational coordinate system to either Cartesian or
Spherical using the
<a href="AppCommands.html#FVCSpherical"><tcmd>Spherical</tcmd></a> command</li>
<li>Select the model units as either Metric or US Customary via the
<a href="AppCommands.html#FVCUnits"><tcmd>Units</tcmd></a> command</li>
</ol>
<p>The coordinate reference frame commands are summarised in Table
<a href="HD2D-1.html#tab:tab-CoordinateReferenceFrame">5.1</a>. Further guidance on science and
usage is provided in Appendix <a href="App2DHD-1.html#App2DHD-CRF-2">E.3</a>.</p>
<table>
<caption>
<span id="tab:tab-CoordinateReferenceFrame">Table 5.1: </span><strong>Coordinate Reference Frame Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCGISFormat">GIS Format</a>
</td>
<td style="text-align:left;">
Required - Sets the format of output GIS files.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCWriteEmptyGISFiles">Write Empty GIS Layers</a>
</td>
<td style="text-align:left;">
Required - Writes empty template GIS files used for TUFLOW FV model development in the choosen model projection.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCSHPProjection">SHP Projection</a>
</td>
<td style="text-align:left;">
Conditional - Only required if inputting or outputting ESRI .shp files. Defines an ESRI shape file projection string or .prj file that sets the geographical coordinate system for all input and output shape file GIS layers.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCMIProjection">MI Projection</a>
</td>
<td style="text-align:left;">
Conditional - Only required if inputting or outputting Mapinfo .mif files. Defines a Mapinfo projection string or .mif file that sets the geographical coordinate system for all input and output GIS .mif layers.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCSpherical">Spherical</a>
</td>
<td style="text-align:left;">
Optional - Defines the computational coordinate system used by TUFLOW FV’s solver to Spherical (Longitude and Latitude) or Cartesian (Eastings and Northings) coordinates.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCLatitude">Latitude</a>
</td>
<td style="text-align:left;">
Conditional - Sets the latitude for Coriolis calculations when a Cartesian coordinate system is used.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCUnits">Units</a>
</td>
<td style="text-align:left;">
Optional - Sets the model to Metric or US Customary Units.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCGISProjectionCheck">GIS Projection Check</a>
</td>
<td style="text-align:left;">
Optional - Sets the error level when comparing input GIS layer projections with the model projection.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-CRF-Exam-3" class="section level3 hasAnchor" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> Examples<a href="HD2D-1.html#HD2D-CRF-Exam-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Cartesian Model In Metric Units</strong></p>
<pre><code>
<tgrn>! Cartesian (Eastings and Northings) Model in Metric Units<tgrn>
<tcmd>SHP Projection</tcmd> <teq>==</teq> <tblk>..\model\gis\projection.prj</tblk>          <tgrn>! Projection string - No default</tgrn>
<tcmd>GIS Format</tcmd> <teq>==</teq> <tblk>SHP</tblk>                                      <tgrn>! {MIF} | SHP</tgrn>
<tgrn>! Write Empty GIS Layers == ..\model\shp\empty          ! Directory to write empty GIS vector layers. Only need to run this once during model setup       <tgrn>
<tcmd>Units</tcmd> <teq>==</teq> <tblk>Metric</tblk>                                        <tgrn>! {Metric} | US Customary | Imperial | English</tgrn>        
<tcmd>Spherical</tcmd> <teq>==</teq> <tblk>0</tblk>                                         <tgrn>! {0} Cartesian | 1 Spherical</tgrn>
<tcmd>Latitude</tcmd> <teq>==</teq> <tblk>-32.0</tblk>                                      <tgrn>! {0.0} Representative latitude for study area</tgrn>

</code></pre>
<p><strong>Spherical Model In Metric Units</strong></p>
<pre><code>
<tgrn>! Spherical (Longitude and Latitude) Model in Metric Units<tgrn>
<tcmd>SHP Projection</tcmd> <teq>==</teq> <tblk>..\model\gis\projection.prj</tblk>          <tgrn>! Projection string - No default</tgrn>
<tcmd>GIS Format</tcmd> <teq>==</teq> <tblk>SHP</tblk>                                      <tgrn>! {MIF} | SHP</tgrn>
<tgrn>! Write Empty GIS Layers == ..\model\shp\empty          ! Directory to write empty GIS vector layers. Only need to run this once during model setup       <tgrn>
<tcmd>Units</tcmd> <teq>==</teq> <tblk>Metric</tblk>                                        <tgrn>! {Metric} | US Customary | Imperial | English</tgrn>        
<tcmd>Spherical</tcmd> <teq>==</teq> <tblk>1</tblk>                                         <tgrn>! {0} Cartesian | 1 Spherical</tgrn>
</code></pre>
<p><strong>Spherical Model In US Customary Units</strong></p>
<pre><code>

<tcmd>SHP Projection</tcmd> <teq>==</teq> <tblk>..\model\gis\projection.prj</tblk>      <tgrn>! Projection string - No default</tgrn>
<tcmd>GIS Format</tcmd> <teq>==</teq> <tblk>SHP</tblk>                                   <tgrn>! {MIF} | SHP</tgrn>
<tgrn>! Write Empty GIS Layers == ..\model\shp\empty      ! Directory to write empty GIS vector layers. Only need to run this once during model setup       <tgrn>
<tcmd>Units</tcmd> <teq>==</teq> <tblk>US Customary</tblk>                              <tgrn>! {Metric} | US Customary | Imperial | English</tgrn>        
<tcmd>Spherical</tcmd> <teq>==</teq> <tblk>0</tblk>                                     <tgrn>! {0} Cartesian | 1 Spherical</tgrn>
<tcmd>Latitude</tcmd> <teq>==</teq> <tblk>27.5</tblk>                                   <tgrn>! {0.0} Representative latitude for study area</tgrn>
</code></pre>
<p><strong>Spherical Model In Metric Units - Mapinfo MIF</strong></p>
<pre><code>
<tgrn>! Spherical (Longitude and Latitude) Model in Metric Units for Mapinfo MIF<tgrn>
<tcmd>MI Projection</tcmd> <teq>==</teq> <tblk>..\model\mi\model_projection.mif</tblk>  <tgrn>! Projection string - No default</tgrn>
<tcmd>GIS Format</tcmd> <teq>==</teq> <tblk>MIF</tblk>                                  <tgrn>! {MIF} | SHP</tgrn>
<tgrn>! Write Empty GIS Layers == ..\model\mi\empty     ! Directory to write empty GIS vector layers. Only need to run this once during model setup     <tgrn>
<tcmd>Units</tcmd> <teq>==</teq> <tblk>Metric</tblk>                                    <tgrn>! {Metric} | US Customary | Imperial | English</tgrn>        
<tcmd>Spherical</tcmd> <teq>==</teq> <tblk>1</tblk>                                     <tgrn>! {0} Cartesian | 1 Spherical</tgrn>
</code></pre>
</div>
</div>
<div id="HD2D-SO-2" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Spatial Order<a href="HD2D-1.html#HD2D-SO-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="HD2D-SO-CS-3" class="section level3 hasAnchor" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> Command Status<a href="HD2D-1.html#HD2D-SO-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Optional: The commands in this section are only required if second
order horizontal spatial reconstruction is specified, otherwise defaults
will apply and the commands can be omitted from the .fvc file.</em></p>
</div>
<div id="HD2D-SO-Desc-3" class="section level3 hasAnchor" number="5.4.2">
<h3><span class="header-section-number">5.4.2</span> Description<a href="HD2D-1.html#HD2D-SO-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Spatial order defines how the values of model variables, such as depth
and velocity, are assigned at cell faces during the calculation of
TUFLOW FV’s equations. First and second order options are available.
Which option to use is dependant on the modelling problem being
investigated, and further guidance to assist users in this selection is
provided in Appendix <a href="App2DHD-1.html#App2DHD-SO-2">E.4</a>. Horizontal spatial order
commands relevant to the 2D HD simulation class are provided in Table
<a href="HD2D-1.html#tab:tab-SpatialOrder">5.2</a>.</p>
<table>
<caption>
<span id="tab:tab-SpatialOrder">Table 5.2: </span><strong>Horizontal Spatial Order</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCSpatialOrder">Spatial Order</a>
</td>
<td style="text-align:left;">
Optional - Sets the horizontal spatial reconstruction to first or second order.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCHorizontalGradientLimiter">Horizontal Gradient Limiter</a>
</td>
<td style="text-align:left;">
Conditional - Sets the horizontal gradient limiter model used with second order horizonal spatial reconstruction.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCHorizonalAlphaR">Horizontal AlphaR</a>
</td>
<td style="text-align:left;">
Conditional - Sets a reduction factor to scale between first and second order horizontal spatial reconstructions for depth, velocity and scalar model variable fields.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-SO-Exam-3" class="section level3 hasAnchor" number="5.4.3">
<h3><span class="header-section-number">5.4.3</span> Examples<a href="HD2D-1.html#HD2D-SO-Exam-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>First Order Horizontal Spatial Accuracy</strong></p>
<pre><code>
<tgrn>! First Order Horizontal Spatial Accuracy</tgrn>
<tcmd>Spatial Order</tcmd> <teq>==</teq> <tblk>1,1</tblk> <tgrn>! {1 1st Order Horizontal} | 2 2nd Order Horizontal, The second term is not used for the 2D HD simulation class</tgrn>
</code></pre>
<p><strong>Second Order Horizontal Spatial Accuracy</strong></p>
<pre><code>
<tgrn>! Second Order Horizontal Spatial Accuracy</tgrn>
<tcmd>Spatial Order</tcmd> <teq>==</teq> <tblk>2,1</tblk> <tgrn>! {1} 1st Order Horizontal | 2 2nd Order Horizontal, The second term is not used for the 2D HD simulation class</tgrn>
</code></pre>
<p><strong>Second Order Horizontal Spatial Accuracy With Gradient Limiters</strong></p>
<pre><code>
<tgrn>! Second Order Horizontal Spatial Accuracy With Gradient Limiters</tgrn>
<tcmd>Spatial Order</tcmd> <teq>==</teq> <tblk>2,1</tblk> <tgrn>! {1} 1st Order Horizontal | 2 2nd Order Horizontal, The second term is not used for the 2D HD simulation class</tgrn>
<tcmd>Horizontal Gradient Scheme</tcmd> <teq>==</teq> <tblk>LCD</tblk> <tgrn>! {LCD} | MLG</tgrn>
<tcmd>Horizontal AlphaR</tcmd> <teq>==</teq> <tblk>1.0, 1.0, 1.0</tblk> <tgrn>! {1.0} AlphaH (depth), {1.0} AlphaV (velocity), {1.0} AlphaS (scalars)</tgrn>
</code></pre>
</div>
</div>
<div id="HD2D-Hard-2" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Hardware<a href="HD2D-1.html#HD2D-Hard-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="HD2D-Hard-CS-3" class="section level3 hasAnchor" number="5.5.1">
<h3><span class="header-section-number">5.5.1</span> Command Status<a href="HD2D-1.html#HD2D-Hard-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Optional: The commands in this section are only required if running on
Graphical Processing Unit (GPU) hardware, otherwise defaults will apply
and the commands can be omitted from the .fvc file.</em></p>
</div>
<div id="HD2D-Hard-Desc-3" class="section level3 hasAnchor" number="5.5.2">
<h3><span class="header-section-number">5.5.2</span> Description<a href="HD2D-1.html#HD2D-Hard-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Hardware commands affect how a simulation will utilise computer
resources. Simulations can be run using the Central Processing Unit
(CPU), or a combination of CPU and Graphical Processing Unit (GPU). If
running on GPU, the simulation requires access to both a compatible
NVIDIA graphics card, and a TUFLOW FV GPU Module license instance.
Further information on compatible graphics cards is provided in Appendix
<a href="App2DHD-1.html#App2DHD-Hard-2">E.5</a>.</p>
<p>The default model hardware configuration is set via the commands in
Table <a href="HD2D-1.html#tab:tab-Hardware">5.3</a>. In practice, these defaults are typically
overridden at runtime through the use of Windows Batch or Linux Shell
Script switches. These switches along with hardware usage guidance is
described in Appendix <a href="App2DHD-1.html#App2DHD-Hard-GUG-3">E.5.2</a>.</p>
<table>
<caption>
<span id="tab:tab-Hardware">Table 5.3: </span><strong>Hardware</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCHardware">Hardware</a>
</td>
<td style="text-align:left;">
Optional - Run the simulation using Central Processing Unit (CPU) only or a combination of Central Processing Unit and Graphical Processing Unit (GPU).
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCDeviceID">Device ID</a>
</td>
<td style="text-align:left;">
Optional - Select the NVIDIA GPU Device ID to run a simulation on.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-Hard-Exam-3" class="section level3 hasAnchor" number="5.5.3">
<h3><span class="header-section-number">5.5.3</span> Examples<a href="HD2D-1.html#HD2D-Hard-Exam-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>CPU Compute</strong></p>
<pre><code>
<tgrn>! Run on CPU Hardware</tgrn>
<tcmd>Hardware</tcmd> <teq>==</teq> <tblk>CPU</tblk>                   <tgrn>! {CPU} | GPU</tgrn>
</code></pre>
<p><strong>GPU Compute</strong></p>
<pre><code>
<tgrn>! Run on GPU Hardware</tgrn>
<tcmd>Hardware</tcmd> <teq>==</teq> <tblk>GPU</tblk>                   <tgrn>! {CPU} | GPU</tgrn>
<tcmd>GPU Device ID</tcmd> <teq>==</teq> <tblk>0</tblk>                <tgrn>! {0} NVIDIA Device ID</tgrn>
</code></pre>
</div>
</div>
<div id="HD2D-STS-2" class="section level2 hasAnchor" number="5.6">
<h2><span class="header-section-number">5.6</span> Simulation Time Settings<a href="HD2D-1.html#HD2D-STS-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="HD2D-STS-CS-3" class="section level3 hasAnchor" number="5.6.1">
<h3><span class="header-section-number">5.6.1</span> Command Status<a href="HD2D-1.html#HD2D-STS-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Required</em></p>
</div>
<div id="HD2D-STT-Desc-3" class="section level3 hasAnchor" number="5.6.2">
<h3><span class="header-section-number">5.6.2</span> Description<a href="HD2D-1.html#HD2D-STT-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Simulation time settings define the temporal framework for a TUFLOW FV
model, including how time is formatted, interpreted, and applied across
inputs and outputs. These settings control the simulation start and end
times, establish the reference time datum, and ensure consistency when
reading time series data or writing results.</p>
<p>TUFLOW FV supports two time formats: ISODATE and HOURS (default),
set using the <a href="AppCommands.html#FVCTimeFormat"><tcmd>Time Format</tcmd></a>
command (Table <a href="HD2D-1.html#tab:tab-TimeFormat">5.4</a>). The selected format must be
applied consistently across all control files and time series inputs. In
ISODATE mode, time inputs are in the format <em>dd/mm/yyyy HH:MM:SS</em>. In
HOURS mode, time is expressed in decimal hours.</p>
<p>The default time datum is <em>01/01/1990 00:00:00</em> for ISODATE and 0.0
for HOURS. This datum is applied when interpreting NetCDF boundary
condition inputs and when writing model output.</p>
<p>Simulation start and end times are specified using the
<a href="AppCommands.html#FVCStartTime"><tcmd>Start Time</tcmd></a> and
<a href="AppCommands.html#FVCEndTime"><tcmd>End Time</tcmd></a> commands, using the
chosen time format.</p>
<table>
<caption>
<span id="tab:tab-TimeFormat">Table 5.4: </span><strong>Time Format</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCTimeFormat">Time Format</a>
</td>
<td style="text-align:left;">
Optional - Sets the format of time to either decimal HOURS or ISODATE (dd/mm/yyyy HH:MM:SS).
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCStartTime">Start Time</a>
</td>
<td style="text-align:left;">
Required - Specifies the start time for the simulation.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCEndTime">End Time</a>
</td>
<td style="text-align:left;">
Required - Specifies the end time for the simulation.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-STS-Exam-3" class="section level3 hasAnchor" number="5.6.3">
<h3><span class="header-section-number">5.6.3</span> Examples<a href="HD2D-1.html#HD2D-STS-Exam-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Model Time Format, Start Time And End Time in HOURS</strong></p>
<pre><code>
<tgrn>! Time settings using the HOURS time format</tgrn>
<tcmd>Time Format</tcmd> <teq>==</teq> <tblk>Hours</tblk>                 <tgrn>! {Hours} | ISODATE</tgrn>
<tcmd>Start Time</tcmd> <teq>==</teq> <tblk>0.0</tblk>                    <tgrn>! Simulation Start Time (Hours)</tgrn>
<tcmd>End Time</tcmd> <teq>==</teq> <tblk>3.0</tblk>                      <tgrn>! Simulation End Time (Hours)</tgrn>
</code></pre>
<p><strong>Model Time Format, Start Time And End Time in ISODATE</strong></p>
<pre><code>
<tgrn>! Time settings using the ISODATE time format</tgrn>
<tcmd>Time Format</tcmd> <teq>==</teq> <tblk>ISODATE</tblk>               <tgrn>! {Hours} | ISODATE</tgrn>
<tcmd>Start Time</tcmd> <teq>==</teq> <tblk>01/01/2015 00:00:00</tblk>    <tgrn>! Simulation Start Time (dd/mm/yyyy HH:MM:SS)</tgrn>
<tcmd>End Time</tcmd> <teq>==</teq> <tblk>01/02/2015 00:00:00</tblk>      <tgrn>! Simulation End Time (dd/mm/yyyy HH:MM:SS)</tgrn>
</code></pre>
</div>
</div>
<div id="HD2D-CT-2" class="section level2 hasAnchor" number="5.7">
<h2><span class="header-section-number">5.7</span> Computational Timestep<a href="HD2D-1.html#HD2D-CT-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="HD2D-CT-CS-3" class="section level3 hasAnchor" number="5.7.1">
<h3><span class="header-section-number">5.7.1</span> Command Status<a href="HD2D-1.html#HD2D-CT-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Required</em></p>
</div>
<div id="HD2D-CT-Desc-3" class="section level3 hasAnchor" number="5.7.2">
<h3><span class="header-section-number">5.7.2</span> Description<a href="HD2D-1.html#HD2D-CT-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The computational timestep defines how frequently TUFLOW FV updates the
model state during a simulation. It directly influences model stability,
accuracy, and model runtime speed.</p>
<p>TUFLOW FV uses an adaptive computational timestep that changes during a
simulation in response to flow and scalar concentration stability
constraints. Further guidance on timestep selection and timestep science
is provided in Appendix <a href="App2DHD-1.html#App2DHD-CT-2">E.7</a>. The commands affecting
TUFLOW FV’s computational timestep are provided in Table
<a href="HD2D-1.html#tab:tab-ComputationalTimestep">5.5</a>.</p>
<table>
<caption>
<span id="tab:tab-ComputationalTimestep">Table 5.5: </span><strong>Computational Timestep Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCTimestepLimits">Timestep Limits</a>
</td>
<td style="text-align:left;">
Required - Sets the limiting value for the lower and upper timestep for the simulation.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCCFL">CFL</a>
</td>
<td style="text-align:left;">
Optional - Assigns the global computational stability constraints.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCCFLInternal">CFL Internal</a>
</td>
<td style="text-align:left;">
Optional - Command to override the global CFL stability constraint for internal advective flux calculations.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCCFLExternal">CFL External</a>
</td>
<td style="text-align:left;">
Optional - Command to override the global CFL stability constraint for the free surface shallow water wave celerity calculations.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-CT-Exam-3" class="section level3 hasAnchor" number="5.7.3">
<h3><span class="header-section-number">5.7.3</span> Examples<a href="HD2D-1.html#HD2D-CT-Exam-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Global CFL With Timestep Limits</strong></p>
<pre><code>
<tgrn>GLobal CFL With Timestep Limits</tgrn>
<tcmd>CLF</tcmd> <teq>==</teq> <tblk>0.95</tblk>                  <tgrn>! {1.0} CFL Number</tgrn>
<tcmd>Timestep Limits</tcmd> <teq>==</teq> <tblk>0.5, 5.0</tblk>  <tgrn>! {No default} Minimum Timestep (s), {No default} Maximum Timestep (s)</tgrn>
</code></pre>
<p><strong>Internal and External CFL With Timestep Limits</strong></p>
<pre><code>
<tgrn>Internal and External CFL With Timestep Limits</tgrn>
<tcmd>CLF Internal</tcmd> <teq>==</teq> <tblk>0.6</tblk>          <tgrn>! {1.0} Internal CFL Number</tgrn>
<tcmd>CLF External</tcmd> <teq>==</teq> <tblk>0.95</tblk>         <tgrn>! {1.0} External CFL Number</tgrn>
<tcmd>Timestep Limits</tcmd> <teq>==</teq> <tblk>0.5, 5.0</tblk>  <tgrn>! {No default} Minimum Timestep (s), {No default} Maximum Timestep (s)</tgrn>
</code></pre>
</div>
</div>
<div id="HD2D-WAD-2" class="section level2 hasAnchor" number="5.8">
<h2><span class="header-section-number">5.8</span> Wetting And Drying<a href="HD2D-1.html#HD2D-WAD-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="HD2D-WAD-CS-3" class="section level3 hasAnchor" number="5.8.1">
<h3><span class="header-section-number">5.8.1</span> Command Status<a href="HD2D-1.html#HD2D-WAD-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Optional: Wetting and drying and stability limits commands are optional
and can be omitted from the .fvc file.</em></p>
</div>
<div id="HD2D-WAD-Desc-3" class="section level3 hasAnchor" number="5.8.2">
<h3><span class="header-section-number">5.8.2</span> Description<a href="HD2D-1.html#HD2D-WAD-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Wetting and drying refers to the process by which individual cells in
the computational mesh transition between wet (active) and dry
(inactive) states during a simulation. TUFLOW FV supports wetting and
drying by progressively switching on model computations as a function of
cell depth. Two depth thresholds, the drying depth, and the wetting
depth are set using the <a href="AppCommands.html#FVCCellWetDryDepths"><tcmd>Cell
Wet/Dry Depths</tcmd></a> command (Table
<a href="HD2D-1.html#tab:tab-WettingAndDrying">5.6</a>). A description of wetting and drying science is provided in Appendix <a href="App2DHD-1.html#App2DHD-WAD-2">E.8</a>.</p>
<table>
<caption>
<span id="tab:tab-WettingAndDrying">Table 5.6: </span><strong>Wetting and Drying</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCCellWetDryDepths">Cell Wet/Dry Depths</a>
</td>
<td style="text-align:left;">
Optional - Sets the cell dry and wetting depths used to switch off momentum and mass calculations in regions of shallow flow.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-WAD-Exam-3" class="section level3 hasAnchor" number="5.8.3">
<h3><span class="header-section-number">5.8.3</span> Examples<a href="HD2D-1.html#HD2D-WAD-Exam-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Wetting And Drying - Metric Units</strong></p>
<pre><code>
<tgrn>Wetting And Drying (Metric)</tgrn>
<tcmd>Cell Wet/Dry Depths</tcmd> <teq>==</teq> <tblk>0.0001, 0.05</tblk>                  <tgrn>! {1.e-5} Dry depth (m), {1.e-2} Wet depth (m)</tgrn>
</code></pre>
<p><strong>Wetting And Drying - US Customary Units</strong></p>
<pre><code>
<tgrn>Wetting And Drying (U.S. Customary)</tgrn>
<tcmd>Cell Wet/Dry Depths</tcmd> <teq>==</teq> <tblk>0.001, 0.1</tblk>                  <tgrn>! {3.28e-5} Dry depth (ft), {3.28e-2} Wet depth (ft)</tgrn>
</code></pre>
<!-- ### Stability Limits {#HD2D-NC-SL-3} -->
<!-- #### Description {#HD2D-NC-SL-Desc-4} -->
<!-- Stability limits provide a mechanism for users to define thresholds for maximum allowable water levels and velocities during a simulation (Table <a href="#tab:tab-StabilityLimits"><strong>??</strong></a>). If these user-defined limits are exceeded, the simulation will exit with an error. This feature offers additional control over model execution and can assist in identifying unstable behaviour or unintended model responses early in the run. -->
<!-- Use of stability limits is optional, but can be beneficial during model development and testing phases to prevent simulations from continuing with unrealistic or undesired values. -->
<!-- MJS TODO Add examples of errors here. Working with Saman to make these consistent.  -->
<!-- ```{r tab-StabilityLimits, results="asis", escape=FALSE, width="50%"} -->
<!-- StabilityLimits = read_excel("data/StabilityLimits.xlsx",sheet=1) -->
<!-- knitr::kable(StabilityLimits, caption = "**Stability Limits**",  -->
<!--                   escape = FALSE) %>% -->
<!-- row_spec(0, bold = TRUE, color = "WHITE", background = "#1ABDC9") -->
<!-- ``` -->
<!-- #### Examples {#HD2D-NC-SL-Exam-4} -->
<!-- ```{=html} -->
<!-- <pre><code> -->
<!-- <tgrn>Stability Limits (Metric)</tgrn> -->
<!-- <tcmd>Stability Limits</tcmd> <teq>==</teq> <tblk>5.0, 10.0</tblk>                  <tgrn>! {100.0} Maximum water level (m), {10.0} Maximum velocity (m/s)</tgrn> -->
<!-- </code></pre> -->
<!-- ``` -->
<!-- ```{=html} -->
<!-- <pre><code> -->
<!-- <tgrn>Stability Limits (U.S. Customary)</tgrn> -->
<!-- <tcmd>Stability Limits</tcmd> <teq>==</teq> <tblk>15.0, 30.0</tblk>                  <tgrn>! {328.1} Maximum water level (ft), {32.1} Maximum velocity (ft/s)</tgrn> -->
<!-- </code></pre> -->
<!-- ``` -->
</div>
</div>
<div id="HD2D-BDM-2" class="section level2 hasAnchor" number="5.9">
<h2><span class="header-section-number">5.9</span> Bottom Drag Model<a href="HD2D-1.html#HD2D-BDM-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="HD2D-BDM-CS-3" class="section level3 hasAnchor" number="5.9.1">
<h3><span class="header-section-number">5.9.1</span> Command Status<a href="HD2D-1.html#HD2D-BDM-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Required</em></p>
</div>
<div id="HD2D-BDM-Desc-3" class="section level3 hasAnchor" number="5.9.2">
<h3><span class="header-section-number">5.9.2</span> Description<a href="HD2D-1.html#HD2D-BDM-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Bed resistance is modelled by setting the <tcmd>Bottom Drag Model</tcmd>
command (Table <a href="HD2D-1.html#tab:tab-BottomDragModel">5.7</a>). The default model
‘Manning’ applies Manning’s formulation and requires the spatial
definition of Manning’s ‘n’ roughness coefficients. Alternatively, a
log-law velocity profile model ‘ks’ can be used, which requires the
spatial definition of Nikuradse roughness length scale (ks) values.
Further information on the science of each model is provided in Appendix
<a href="App2DHD-1.html#App2DHD-BDM-2">E.9</a>.</p>
<p>Roughness values are defined globally using the
<a href="#FVCGlobalBottomRoughness"><tcmd>Global Bottom
Roughness</tcmd></a> command. Global values can be overridden locally
through use of material-specific values (Section
<a href="HD2D-1.html#HD2D-Mate-Prop-3">5.13.5</a>).</p>
<table>
<caption>
<span id="tab:tab-BottomDragModel">Table 5.7: </span><strong>Bottom Drag Model Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCBottomDragModel">Bottom Drag Model</a>
</td>
<td style="text-align:left;">
Required - Sets the bottom drag model for bed friction calculations.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCGlobalBottomRoughnessManning">Global Bottom Roughness</a>
</td>
<td style="text-align:left;">
Required - Sets the default global Manning’s ‘n’ coefficient or Nikuradse roughness length.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-BDM-Exam-3" class="section level3 hasAnchor" number="5.9.3">
<h3><span class="header-section-number">5.9.3</span> Examples<a href="HD2D-1.html#HD2D-BDM-Exam-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Manning Bottom Drag Model</strong></p>
<pre><code>
<tgrn>Manning Bottom Drag Model</tgrn>
<tcmd>Bottom Drag Model</tcmd> <teq>==</teq> <tblk>Manning</tblk>                  <tgrn>! {Manning} | ks</tgrn>
<tcmd>Global Bottom Roughness</tcmd> <teq>==</teq> <tblk>0.03</tblk>                  <tgrn>! {1.0E-6} Manning's 'n'
</code></pre>
<p><strong>ks Bottom Drag Model - Metric Units</strong></p>
<pre><code>
<tgrn>ks Bottom Drag Model (Metric Units)</tgrn>
<tcmd>Bottom Drag Model</tcmd> <teq>==</teq> <tblk>ks</tblk>                        <tgrn>! {Manning} | ks</tgrn>
<tcmd>Global Bottom Roughness</tcmd> <teq>==</teq> <tblk>0.1</tblk>                  <tgrn>! {1.0E-6} Nikuradse roughness length (m)
</code></pre>
<p><strong>ks Bottom Drag Model - US Customary Units</strong></p>
<pre><code>
<tgrn>ks Bottom Drag Model (US Customary Units)</tgrn>
<tcmd>Bottom Drag Model</tcmd> <teq>==</teq> <tblk>ks</tblk>                        <tgrn>! {Manning} | ks</tgrn>
<tcmd>Global Bed Roughness</tcmd> <teq>==</teq> <tblk>0.3</tblk>                  <tgrn>! {1.0E-6} Nikuradse roughness length (ft)
</code></pre>
</div>
</div>
<div id="HD2D-HMM-2" class="section level2 hasAnchor" number="5.10">
<h2><span class="header-section-number">5.10</span> Horizontal Momentum Mixing<a href="HD2D-1.html#HD2D-HMM-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="HD2D-HMM-CS-3" class="section level3 hasAnchor" number="5.10.1">
<h3><span class="header-section-number">5.10.1</span> Command Status<a href="HD2D-1.html#HD2D-HMM-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Required</em></p>
</div>
<div id="HD2D-HMM-Desc-3" class="section level3 hasAnchor" number="5.10.2">
<h3><span class="header-section-number">5.10.2</span> Description<a href="HD2D-1.html#HD2D-HMM-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sub-grid-scale horizontal turbulent mixing is modelled using the
<a href="AppCommands.html#FVCMomentumMixingModel"><tcmd>Momentum Mixing Model</tcmd></a>
command. Four models are available: ‘None’, ‘Constant’, ‘Smagorinksy’,
and ‘Wu’. Further information on the science of each model is provided
in Appendix <a href="App2DHD-1.html#App2DHD-MMM-2">E.10</a>.</p>
<p>Horizontal turbulent mixing is specified for the entire model domain by
using the <a href="AppCommands.html#FVCMomentumMixingModel"><tcmd>Momentum Mixing
Model</tcmd></a> command and two ‘Global’ commands in combination (Table
<a href="HD2D-1.html#tab:tab-MomentumMixingModel">5.8</a>). Global values can be overridden
locally through use of material-specific values (Section
<a href="HD2D-1.html#HD2D-Mate-2">5.13</a>).</p>
<table>
<caption>
<span id="tab:tab-MomentumMixingModel">Table 5.8: </span><strong>Momentum Mixing Model Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCMomentumMixingModel">Momentum Mixing Model</a>
</td>
<td style="text-align:left;">
Required - Selects the momentum mixing model for horizontal sub-grid scale turbulent mixing.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCGlobalHorizontalEddyViscosityNone">Global Horizontal Eddy Viscosity</a>
</td>
<td style="text-align:left;">
Conditional - Assigns the eddy viscosity coefficient or constant value.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCGlobalHorizontalEddyViscosityLimits">Global Horizontal Eddy Viscosity Limits</a>
</td>
<td style="text-align:left;">
Conditional - Sets a minimum and maximum limit on computed eddy viscosity.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-HMM-Exam-3" class="section level3 hasAnchor" number="5.10.3">
<h3><span class="header-section-number">5.10.3</span> Examples<a href="HD2D-1.html#HD2D-HMM-Exam-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Momentum Mixing Disabled</strong></p>
<pre><code>
<tgrn>! Momentum Mixing Disabled</tgrn>
<tcmd>Momentum Mixing Model</tcmd> <teq>==</teq> <tblk>None</tblk> <tgrn>! {None} | Constant | Smagorinsky | Wu</tgrn> 
</code></pre>
<p><strong>Constant Model</strong></p>
<pre><code>
<tgrn>! Constant Model</tgrn>
<tcmd>Momentum Mixing Model</tcmd> <teq>==</teq> <tblk>Constant</tblk> <tgrn>! {None} | Constant | Smagorinsky | Wu</tgrn>
<tcmd>Global Horizontal Eddy Viscosity</tcmd> <teq>==</teq> <tblk>1.0</tblk> <tgrn>! {0.0} Eddy viscosity (m²/s)</tgrn>
</code></pre>
<p><strong>Smagorinsky Model</strong></p>
<pre><code>
<tgrn>! Smagorinsky Model</tgrn>
<tcmd>Momentum Mixing Model</tcmd> <teq>==</teq> <tblk>Smagorinsky</tblk> <tgrn>! {None} | Constant | Smagorinsky | Wu</tgrn>
<tcmd>Global Horizontal Eddy Viscosity</tcmd> <teq>==</teq> <tblk>0.5</tblk> <tgrn>! {0.0} Smagorinksy coefficient</tgrn>
<tcmd>Global Horizontal Eddy Viscosity Limits</tcmd> <teq>==</teq> <tblk>0.05, 99999.</tblk> <tgrn>! {0.0} Minimum eddy viscosity (m²/s), {99999.} Maximum eddy viscosity (m²/s)</tgrn>
</code></pre>
<p><strong>Wu Model</strong></p>
<pre><code>
<tgrn>! Wu Model</tgrn>
<tcmd>Momentum Mixing Model</tcmd> <teq>==</teq> <tblk>Wu</tblk> <tgrn>! {None} | Constant | Smagorinsky | Wu</tgrn>
<tcmd>Global Horizontal Eddy Viscosity</tcmd> <teq>==</teq> <tblk>4.0</tblk> <tgrn>! {0.0} Wu coefficient</tgrn>
<tcmd>Global Horizontal Eddy Viscosity Limits</tcmd> <teq>==</teq> <tblk>0.05, 99999.</tblk> <tgrn>! {0.0} Minimum eddy viscosity (m²/s), {99999.} Maximum eddy viscosity (m²/s)</tgrn>
</code></pre>
</div>
</div>
<div id="HD2D-CM-2" class="section level2 hasAnchor" number="5.11">
<h2><span class="header-section-number">5.11</span> Computational Mesh<a href="HD2D-1.html#HD2D-CM-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="HD2D-CM-CS-3" class="section level3 hasAnchor" number="5.11.1">
<h3><span class="header-section-number">5.11.1</span> Command Status<a href="HD2D-1.html#HD2D-CM-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Required: Either one unstructured, or one structured mesh (but not
both) is needed to define the computational mesh.</em></p>
</div>
<div id="HD2D-CM-Desc-3" class="section level3 hasAnchor" number="5.11.2">
<h3><span class="header-section-number">5.11.2</span> Description<a href="HD2D-1.html#HD2D-CM-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The computational mesh defines the horizontal spatial discretisation of
the model domain and forms the geometric basis for all calculations in
TUFLOW FV. Two mesh types are supported:</p>
<ul>
<li><p>Unstructured mesh: Comprised of irregular triangular and/or quadrilateral
elements (Section <a href="HD2D-1.html#HD2D-CM-UM-3">5.11.3</a>)</p></li>
<li><p>Structured mesh: Composed of regularly spaced rectangular elements (Section <a href="HD2D-1.html#HD2D-CM-SM-3">5.11.5</a>)</p></li>
</ul>
</div>
<div id="HD2D-CM-UM-3" class="section level3 hasAnchor" number="5.11.3">
<h3><span class="header-section-number">5.11.3</span> Unstructured Mesh<a href="HD2D-1.html#HD2D-CM-UM-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>TUFLOW FV supports unstructured meshes generated in the Aquaveo SMS .2dm
file format (Appendix <a href="App2DHD-1.html#App2DHD-CM-Scie-UMFF">E.11.1.1</a>). Unstructured meshes are typically used to represent complex geometries such as estuaries, rivers, and coastal systems such as the mesh shown in Figure <a href="HD2D-1.html#fig:fig-Unstructured-Mesh">5.1</a>.</p>
<p>Detailed instructions on how to generate unstructured meshes are
provided in TUFLOW FV’s <a href="https://fvwiki.tuflow.com/Tutorial_Introduction">Tutorial
Modules</a>. The tutorials range in complexity, and provide general guidance on meshing with links to further educational meshing resources.</p>
<p>Unstructured meshes are read using the <tcmd>Geometry 2D</tcmd> command
as described in Table <a href="HD2D-1.html#tab:tab-Geometry2D">5.9</a>.</p>
<table>
<caption>
<span id="tab:tab-Geometry2D">Table 5.9: </span><strong>Unstructured Mesh Read Command</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCGeometry2D">Geometry 2D</a>
</td>
<td style="text-align:left;">
Required - Reads the mesh topology from a .2dm unstructured mesh file. This mesh may contain triangles, quadrilaterals, or a combination of these geometries.
Only one Geometry 2d command and mesh should be used per simulation.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-CM-UME-3" class="section level3 hasAnchor" number="5.11.4">
<h3><span class="header-section-number">5.11.4</span> Unstructured Mesh Examples<a href="HD2D-1.html#HD2D-CM-UME-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code><tgrn>! Unstructured Mesh</tgrn>
<tcmd>Geometry 2D</tcmd> <teq>==</teq> <tblk>..\model\geo\MB_001.2dm</tblk></code></pre>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Unstructured-Mesh"></span>
<img src="images/Unstructured_Mesh.jpg" alt="Moreton Bay Unstructured Mesh (Constructed Using Aquaveo SMS)" width="100%" />
<p class="caption">
Figure 5.1: Moreton Bay Unstructured Mesh (Constructed Using Aquaveo SMS)
</p>
</div>
</center>
</div>
<div id="HD2D-CM-SM-3" class="section level3 hasAnchor" number="5.11.5">
<h3><span class="header-section-number">5.11.5</span> Structured Mesh<a href="HD2D-1.html#HD2D-CM-SM-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Structured rectangular meshes, with or without rotation, are defined
using the set of commands described in Table
<a href="HD2D-1.html#tab:tab-StructuredMesh">5.10</a>.</p>
<table>
<caption>
<span id="tab:tab-StructuredMesh">Table 5.10: </span><strong>Structured Mesh Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCGridOrigin">Grid Origin</a>
</td>
<td style="text-align:left;">
Required - X and Y coordinate of the grid origin
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCGridRotation">Grid Rotation</a>
</td>
<td style="text-align:left;">
Optional - Grid rotation specified in degrees positive from East as indicated in the left panel of Figure <a href="HD2D-1.html#fig:fig-Regular-Mesh-Rotation-Convention">5.2</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCCellSize">Cell Size</a>
</td>
<td style="text-align:left;">
Required - The model cell size which can be independent in the X and Y directions
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCGridSize">Grid Size</a>
</td>
<td style="text-align:left;">
Required - The length of the X and Y grid axis
</td>
</tr>
</tbody>
</table>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Regular-Mesh-Rotation-Convention"></span>
<img src="images/Regular_Mesh_Rotation_Convention.png" alt="Regular Mesh Rotation Convention" width="30%" />
<p class="caption">
Figure 5.2: Regular Mesh Rotation Convention
</p>
</div>
</center>
</div>
<div id="HD2D-CM-SME-3" class="section level3 hasAnchor" number="5.11.6">
<h3><span class="header-section-number">5.11.6</span> Structured Mesh Examples<a href="HD2D-1.html#HD2D-CM-SME-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>
<tgrn>! Regular grid definition 
</tgrn>
<tcmd>Grid Origin</tcmd> <teq>==</teq> <tblk>548225, 7015813</tblk>      <tgrn>! X origin, Y origin (m or decimal degrees)</tgrn>
<tcmd>Grid Rotation</tcmd> <teq>==</teq> <tblk>20.</tblk>                <tgrn>! Rotation of x axis (degrees anti-clockwise from east)</tgrn>
<tcmd>Cell Size</tcmd> <teq>==</teq> <tblk>100., 100.</tblk>            <tgrn>! Cell size x, Cell size y (m or decimal degrees)</tgrn>
<tcmd>Grid Size</tcmd> <teq>==</teq> <tblk>1000., 1000.</tblk>          <tgrn>! Grid size x, Grid size y (m or decimal degrees)</tgrn>
</code></pre>
<center>
<p>The mesh generated from the code block above is shown in Figure
<a href="HD2D-1.html#fig:fig-Regular-Mesh">5.3</a></p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Regular-Mesh"></span>
<img src="images/Regular_Mesh.png" alt="Example Regular Mesh - Cell IDs are presented at each cell centre" width="30%" />
<p class="caption">
Figure 5.3: Example Regular Mesh - Cell IDs are presented at each cell centre
</p>
</div>
</center>
</div>
</div>
<div id="HD2D-Bath-2" class="section level2 hasAnchor" number="5.12">
<h2><span class="header-section-number">5.12</span> Bathymetry<a href="HD2D-1.html#HD2D-Bath-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="HD2D-Bath-CS-3" class="section level3 hasAnchor" number="5.12.1">
<h3><span class="header-section-number">5.12.1</span> Command Status<a href="HD2D-1.html#HD2D-Bath-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Required: At least one static bathymetry command must be user-specified
in the .fvc file. Time-varying bathymetry commands are optional and can
be omitted from the .fvc file.</em></p>
</div>
<div id="HD2D-Bath-Desc-3" class="section level3 hasAnchor" number="5.12.2">
<h3><span class="header-section-number">5.12.2</span> Description<a href="HD2D-1.html#HD2D-Bath-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>TUFLOW FV includes the following bathymetry model classes.</p>
<ul>
<li><p>Static: Commands (potentially multiple) specifying bathymetry that
does not change with time during a simulation (Section
<a href="HD2D-1.html#HD2D-Bath-SB-3">5.12.3</a>)</p></li>
<li><p>Time-Varying: Commands specifying bathymetry
that can change with time during a simulation (Section
<a href="HD2D-1.html#HD2D-Bath-TVB-3">5.12.5</a>)</p></li>
</ul>
</div>
<div id="HD2D-Bath-SB-3" class="section level3 hasAnchor" number="5.12.3">
<h3><span class="header-section-number">5.12.3</span> Static Bathymetry<a href="HD2D-1.html#HD2D-Bath-SB-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>TUFLOW FV supports the assignment of static model bathymetry using a
range of input formats, including digital elevation models (DEMs),
triangulated irregular networks (TINs), and GIS vector layers. These
inputs can be used to define elevations across the model domain, enforce
breaklines, or apply values to specific areas.</p>
<p>TUFLOW FV’s static bathymetry commands are provided in Table
<a href="HD2D-1.html#tab:tab-BathymetrySpatial">5.11</a> and are further described in the
sub-sections that follow. Commands can be used individually or in
combination, with TUFLOW FV’s input layering approach determining the
final bathymetric surface (Appendix <a href="App2DHD-1.html#App2DHD-Bath-Scie-CL-4">E.12.1.1</a>). Example .fvc file inputs are provided in Section <a href="HD2D-1.html#HD2D-Bath-SBE-3">5.12.4</a>.</p>
<p>A typical workflow to assign static bathymetry is executed using the
steps below.</p>
<ol style="list-style-type: decimal">
<li>Read in an unstructured mesh using the
<a href="AppCommands.html#FVCGeometry2D"><tcmd>Geometry 2D</tcmd></a> command. If
bathymetry data is present it is read from the .2dm file</li>
<li>Set a global default bathymetric value using the
<a href="AppCommands.html#FVCSetZpts"><tcmd>Set Zpts</tcmd></a> command</li>
<li>Read in spatially varying bathymetry directly from a TIN using
<a href="AppCommands.html#FVCReadTINZpts"><tcmd>Read TIN Zpts</tcmd></a>, or a DEM
using <a href="AppCommands.html#FVCReadGRIDZpts"><tcmd>Read GRID Zpts</tcmd></a>.
Multiple repeated instances of the command may be used if, for
example, the dataset is tiled and multiple files require input</li>
<li>The base elevations set up in the previous step(s) can be modified
to represent hydraulic controls, proposed works, a design channel
etc. Examples include:
<ul>
<li>Defining the thalweg of estuaries or channels, or the crests of
embankments, levees, fences, and other solid obstructions using
<a href="AppCommands.html#FVCReadGISZLine"><tcmd>Read GIS Z Line</tcmd></a></li>
<li>Incorporating proposed cut and fill developments or other
earthworks using <a href="AppCommands.html#FVCReadGISZLine"><tcmd>Read GIS Z
Line</tcmd></a> or <a href="AppCommands.html#FVCReadTINZpts"><tcmd>Read TIN
Zpts</tcmd></a></li>
</ul></li>
</ol>
<table>
<caption>
<span id="tab:tab-BathymetrySpatial">Table 5.11: </span><strong>Static Bathymetry Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCSetZpts">Set Zpts</a>
</td>
<td style="text-align:left;">
Optional - Sets all elevations in the domain to a user specified value.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCReadGRIDZpts">Read GRID Zpts</a>
</td>
<td style="text-align:left;">
Optional - Updates cell centre elevations via a Digital Elevation Model (DEM) file.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCReadTINZpts">Read TIN Zpts</a>
</td>
<td style="text-align:left;">
Optional - Updates selected cell centre elevations via a Triangulated Irregular Network (TIN) file.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCReadGISZLine">Read GIS Z Line</a>
</td>
<td style="text-align:left;">
Optional - Reads GIS files that can contain polylines, points and/or polygons. Points and polylines are treated as breaklines in the model’s bathymetry. The breakline can vary in height along its length (i.e. a 3D breakline). Polygon features set a user-specified z elevation that updates any cell centroids located within the polygon extent.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCCellElevationFile">Cell Elevation File</a>
</td>
<td style="text-align:left;">
Optional - CSV file that updates cell centre elevations. Can be assigned using (Cell ID, Z) or (X,Y,Z) coordinates.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCBedElevationLimits">Bed Elevation Limits</a>
</td>
<td style="text-align:left;">
Optional - Sets a lower limit (zbmin) and upper limit (zbmax) to the model bathymetry. Model elevations below zbmin will be set to zbmin, and likewise model elevations will be set to zbmax. This command is executed after all other bathymetry commands, and will overwrite any preceeding bathymetry below or above the zbmin or zbmax values.
</td>
</tr>
</tbody>
</table>
<div id="HD2D-Bath-SB-UM2F-4" class="section level4 hasAnchor" number="5.12.3.1">
<h4><span class="header-section-number">5.12.3.1</span> Unstructured Mesh 2dm File<a href="HD2D-1.html#HD2D-Bath-SB-UM2F-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If an unstructured mesh is specified using the
<a href="AppCommands.html#FVCGeometry2D"><tcmd>Geometry 2D</tcmd></a> command (Section
<a href="HD2D-1.html#HD2D-CM-UM-3">5.11.3</a>), .2dm vertex bathymetry values for each cell are
averaged and assigned to the to cell centre. This averaging method is
further described in Appendix <a href="App2DHD-1.html#App2DHD-Bath-Scie-IM-4">E.12.1.2</a>.</p>
<p>When present, .2dm bathymetry data is always read and applied first,
before any other bathymetry commands are processed. This occurs
regardless of the position of the
<a href="AppCommands.html#FVCGeometry2D"><tcmd>Geometry 2D</tcmd></a> command within the
.fvc file.</p>
</div>
<div id="HD2D-Bath-SB-DRODG-4" class="section level4 hasAnchor" number="5.12.3.2">
<h4><span class="header-section-number">5.12.3.2</span> Direct Reading Of DEM Grids<a href="HD2D-1.html#HD2D-Bath-SB-DRODG-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <a href="AppCommands.html#FVCReadGRIDZpts"><tcmd>Read GRID Zpts</tcmd></a> command
interpolates elevation values from an ESRI ASCII (.asc) or binary (.flt)
grid to mesh cell centroids, using bilinear interpolation.</p>
<p>Only cells within the spatial extent of the grid are updated. If a cell
falls within the grid extent but corresponds to a null value (e.g. a
NoData cell in the DEM), its elevation is not modified.</p>
<p>Figure <a href="HD2D-1.html#fig:fig-Read-GRID-Zpts">5.4</a> illustrates an example in which the
grid DEM_5m.asc is applied via this command. The resulting bathymetry
interpolated to cell centres can be visualised using the _mesh_check
output file (Section <a href="CAL-1.html#CAL-GCF-2">13.4</a>.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Read-GRID-Zpts"></span>
<img src="images/Read_GRID_Zpts.png" alt="Cell Bathymetry Assigned Using Read GRID Zpts (Displayed in QGIS)" height="30%" /><img src="images/Read_GRID_Zpts_Check.png" alt="Cell Bathymetry Assigned Using Read GRID Zpts (Displayed in QGIS)" height="30%" />
<p class="caption">
Figure 5.4: Cell Bathymetry Assigned Using Read GRID Zpts (Displayed in QGIS)
</p>
</div>
</center>
</div>
<div id="HD2D-Bath-SB-DROT-4" class="section level4 hasAnchor" number="5.12.3.3">
<h4><span class="header-section-number">5.12.3.3</span> Direct Reading Of TINs<a href="HD2D-1.html#HD2D-Bath-SB-DROT-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Bathymetry can be assigned using a Triangulated Irregular Network (TIN)
through the <tcmd>Read TIN Zpts</tcmd> command. This command supports
TINs in the <a href="https://xmswiki.com/wiki/TIN_Files">Aquaveo SMS .tin file
format</a> (Figure
<a href="HD2D-1.html#fig:fig-SMS-TIN-Example-Plan">5.5</a>). Elevations are assigned to mesh
cell centres within the TIN’s spatial extent using bilinear
interpolation.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-SMS-TIN-Example-Plan"></span>
<img src="images/SMS_TIN_Example_Plan.PNG" alt="Design TIN Layout (Displayed In Aquaveo SMS)" width="40%" />
<p class="caption">
Figure 5.5: Design TIN Layout (Displayed In Aquaveo SMS)
</p>
</div>
</center>
</div>
<div id="HD2D-Bath-SB-BL-4" class="section level4 hasAnchor" number="5.12.3.4">
<h4><span class="header-section-number">5.12.3.4</span> Breakline Layers<a href="HD2D-1.html#HD2D-Bath-SB-BL-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <a href="AppCommands.html#FVCReadGISZLine"><tcmd>Read GIS Z Line</tcmd></a> command
updates cell elevations along a breakline using a combination of GIS
polyline and point layers. The breakline can vary in height along its
length (i.e. a 3D breakline). Linear interpolation is used to update
cell centroid values between user-specified elevation points.</p>
<p>Figure <a href="HD2D-1.html#fig:fig-Breakline-Layers">5.6</a> shows an example using breaklines
layers to enforce the bathymetry of a design bund. In the left a
breakline polyline (black dash) has been digitised with elevation points
(red circles) snapped to the start, middle and end polyline vertices
with elevations -0.2, 1.0 and 0.5 m respectively. During model start-up
cell elevations are linearly interpolated along the polyline resulting
in the cell centre elevation updates indicated by the pink triangles
with red labels in the right image.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Breakline-Layers"></span>
<img src="images/Breakline_Layers.png" alt="Breakline Definition Using Combination Of Polyline And Point GIS Layers" width="50%" height="50%" /><img src="images/Breakline_Check.png" alt="Breakline Definition Using Combination Of Polyline And Point GIS Layers" width="50%" height="50%" />
<p class="caption">
Figure 5.6: Breakline Definition Using Combination Of Polyline And Point GIS Layers
</p>
</div>
</center>
<p>The template GIS layers required to define breaklines, prefixed with
‘2d_zln_’ are generated during model initialisation (Section
<a href="HD2D-1.html#HD2D-MI-2">5.2</a>). Multiple geometry types are supported and are
indicated by the following suffixes:</p>
<ul>
<li><p>_P for point features (e.g., 2d_zln_M03_002_P.shp)</p></li>
<li><p>_L for line features (e.g., 2d_zln_M03_002_L.shp)</p></li>
</ul>
<p>‘2d_zln_’ layers require the assignment of a single ‘Z’ elevation
attribute as shown in Table <a href="HD2D-1.html#tab:tab-Empty2DZLine">5.12</a>.</p>
<table>
<caption>
<span id="tab:tab-Empty2DZLine">Table 5.12: </span><strong>2D Z (2d_z_) Attribute Description</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Attribute Name(s)
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ID
</td>
<td style="text-align:left;">
Elevation of the point, polyline or polygon.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
</tbody>
</table>
<p>When specifying <a href="AppCommands.html#FVCReadGISZLine"><tcmd>Read GIS Z
Line</tcmd></a> point and polyline layers are associated by using the
vertical bar syntax (|). Up to nine point layers can be specified per
command line. When using both polylines and points, the line file must
appear first in the command string. For example:</p>
<p>Correct:</p>
<pre><code>
<tcmd>Read GIS Z Line</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zln_M03_002_L.shp</tblk> <tsep>|</tsep> <tblk>..\model\gis\2d_zln_M03_002_P.shp</tblk>
</code></pre>
<p>Incorrect:</p>
<pre><code>
<tcmd>Read GIS Z Line</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zln_M03_002_P.shp</tblk> <tsep>|</tsep> <tblk>..\model\gis\2d_zln_M03_002_L.shp</tblk>
</code></pre>
<p>Multiple point files may be included but must not appear as the first
entry in the list. For example:</p>
<pre><code>
<tcmd>Read GIS Z Line</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zln_M03_002_L.shp</tblk> <tsep>|</tsep> <tblk>..\model\gis\2d_zln_M03_002_P.shp</tblk> <tsep>|</tsep> <tblk>..\model\gis\2d_zln_M03_003_P.shp</tblk>
</code></pre>
<p>If using Mapinfo .mif files, point and polyline geometries can be
contained in a single .mif file if preferred. For example:</p>
<pre><code>
<tcmd>Read GIS Z Line</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zln_M03_001.mif</tblk>
</code></pre>
<p>Modified cell centre elevations are output to the 2d_zln_zpt_check layer if <a href="AppCommands.html#FVCWriteCheckFiles"><tcmd>Write Check
Files</tcmd></a> has been set.</p>
</div>
<div id="HD2D-Bath-SB-PL-4" class="section level4 hasAnchor" number="5.12.3.5">
<h4><span class="header-section-number">5.12.3.5</span> Polygon Layers<a href="HD2D-1.html#HD2D-Bath-SB-PL-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>GIS polygon layers can be used to set a spatially constant elevation for
any cell centroids located within the polygon’s extent using the
<a href="AppCommands.html#FVCReadGISZLine"><tcmd>Read GIS Z Line</tcmd></a> command.</p>
<p>Figure <a href="HD2D-1.html#fig:fig-Polygon-Check">5.7</a> shows an example application where a
polygon is used to represent the reclamation associated with a proposed
development. The reclamation area is defined by the blue hatched
polygon. The updated cell centre values are shown via 2d_zln_zpt_check
layer as pink triangles with red labels, showing all values have been
set to 2 m.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Polygon-Check"></span>
<img src="images/Polygon_Check.png" alt="Filling Of Spoil Ground Modelled Using GIS Polygon" width="50%" height="50%" />
<p class="caption">
Figure 5.7: Filling Of Spoil Ground Modelled Using GIS Polygon
</p>
</div>
</center>
<p>During model initialisation (Section <a href="HD2D-1.html#HD2D-MI-2">5.2</a>), template layers
prefixed with ‘2d_zln_’ are created to support the digitisation of
breaklines. Geometry type is indicated by the ‘_R’ suffix for polygon
features (e.g., 2d_zln_SpoilGround_001_R.shp).</p>
<p>‘2d_zln_’ layers require the assignment of a single ‘Z’ elevation
attribute as shown in Table <a href="HD2D-1.html#tab:tab-Empty2DZLine">5.12</a>.</p>
<p>Modified cell centre elevations are output to the 2d_zln_zpt_check layer
(see Section <a href="CAL-1.html#CAL-GCF-2">13.4</a>) if <a href="AppCommands.html#FVCWriteCheckFiles"><tcmd>Write Check
Files</tcmd></a> has been set.</p>
</div>
<div id="HD2D-Bath-SB-PPCE-4" class="section level4 hasAnchor" number="5.12.3.6">
<h4><span class="header-section-number">5.12.3.6</span> Pre-Processed Cell Elevations<a href="HD2D-1.html#HD2D-Bath-SB-PPCE-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <a href="AppCommands.html#FVCCellElevationFile"><tcmd>Cell Elevation File</tcmd></a>
command assigns bathymetry values directly to mesh cells, either by
referencing cell IDs or by specifying x,y coordinates that fall within
individual cells. Cell elevation files are mesh-specific and must be
pre-generated prior to a simulation. A suggested workflow for creating
cell elevation files is provided in Appendix <a href="App2DHD-1.html#App2DHD-Bath-GUG-CEF-4">E.12.2.1</a>.</p>
<p>Unlike other bathymetric assignment methods, cell ID referencing does
not require interpolation, enabling near-instantaneous bathymetry
assignment during model start-up. However, this approach is
mesh-specific and requires pre-processing prior to running a TUFLOW FV
simulation. If the mesh is modified, a new cell elevation file must
typically be generated. Due to its dependence on the mesh structure,
this method is recommended primarily if minimising model initialisation
time is a priority.</p>
</div>
<div id="HD2D-Bath-SB-BEL-4" class="section level4 hasAnchor" number="5.12.3.7">
<h4><span class="header-section-number">5.12.3.7</span> Bed Elevation Limits<a href="HD2D-1.html#HD2D-Bath-SB-BEL-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <a href="AppCommands.html#FVCGlobalBedElevationLimits"><tcmd>Global Bed Elevation Limits</tcmd></a>
command sets a lower limit (zbmin) and upper limit (zbmax) to the model bathymetry. Model elevations below zbmin will be set to zbmin, and likewise model elevations will be set to zbmax. This command is executed after all other bathymetry commands, and will overwrite any preceeding bathymetry below or above the zbmin or zbmax values.</p>
</div>
</div>
<div id="HD2D-Bath-SBE-3" class="section level3 hasAnchor" number="5.12.4">
<h3><span class="header-section-number">5.12.4</span> Static Bathymetry Examples<a href="HD2D-1.html#HD2D-Bath-SBE-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Catchment/Floodplain Bathymetry</strong></p>
<p>This example is a representative sequence of commands and datasets used
for defining catchment/floodplain model bathymetry. For reference the
bathymetry range of the floodplain is between RL 25-65m.</p>
<ol style="list-style-type: decimal">
<li>The unstructured mesh is used to define the model topology only, any
bathymetry within the .2dm is overwritten by subsequent commands</li>
<li>A default bathymetric value of 90 m is set. This is well above the
25-65m physical bathymetry in the study area. In this instance the
default is set to ensure any missing data values in the GIS are
filled in and can be easily identified</li>
<li>Lidar-dervied survey is used to define the ‘base’ bathymetry</li>
<li>A manually surveyed breakline of the channel thalweg is enforced
using breaklines</li>
<li>Detailed survey of road crests is enforced using breaklines</li>
<li>To improve 1D/2D culvert structure linking, polygons are used to
enforce surveyed culvert invert levels that the Lidar data has
missed</li>
</ol>
<pre><code>
<tgrn>! GEOMETRY</tgrn>
<tcmd>Geometry 2D</tcmd> <teq>==</teq> <tblk>..\model\geo\Mesh_001.2dm</tblk> <tgrn>! Flexible mesh geometry</tgrn>

<tgrn>! Topography</tgrn>
<tcmd>Set Zpts</tcmd> <teq>==</teq> <tblk>90.</tblk> <tgrn>! Overwrite .2dm elevations and set all to 90 m</tgrn>
<tcmd>Read Grid Zpts</tcmd> <teq>==</teq> <tblk>..\model\geo\dem_m01.asc</tblk> <tgrn>! Assign Zb elevations with DEM</tgrn>
<tcmd>Read GIS Z Line</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zln_M03_Thalweg_001_L.shp</tblk> <tsep>|</tsep> <tblk>..\model\gis\2d_zln_M03_Thalweg_001_P.shp</tblk> <tgrn>! Enforce channel thalweg breakline</tgrn>
<tcmd>Read GIS Z Line</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zln_M03_Rd_Crest_001_L.shp</tblk> <tsep>|</tsep> <tblk>..\model\gis\2d_zln_M03_Rd_Crest_001_P.shp</tblk> <tgrn>! Enforce road crest breaklines</tgrn>
<tcmd>Read GIS Z Shape</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zsh_Invert_Correction_001_R.shp</tblk> <tgrn>! Enforce mesh Zb to surveyed culvert invert levels</tgrn>
</code></pre>
<p><strong>Coastal Bathymetry</strong></p>
<p>This example shows a sequence of bathymetry layers used to represent a
proposed port upgrade design.</p>
<ol style="list-style-type: decimal">
<li>The unstructured mesh is used to define the model topology only, any
bathymetry within the .2dm is overwritten by subsequent commands</li>
<li>A default bathymetric value of land value of 10 m is set. As this is
a coastal project, this value is well above the highest water level
expected during the analysis. This default is set to ensure any
missing data values in the GIS are filled in and can be easily
identified</li>
<li>A TIN of bathymetric sounding data is used to define the existing
ocean bathymetry, pre-development</li>
<li>Lidar-dervied survey is used to define the ‘base’ bathymetry for
overland areas</li>
<li>The design TIN earthworks of the proposed port development are
‘stamped’ onto the existing ‘base’ bathymetry</li>
</ol>
<pre><code>
<tgrn>! Unstructured Mesh Specification</tgrn>
<tcmd>Geometry 2D</tcmd> <teq>==</teq> <tblk>..\model\geo\MB_001.2dm</tblk>

<tgrn>! Overwrite .2dm Bathymetry with Updates</tgrn>
<tcmd>Set Zpts</tcmd> <teq>==</teq> <tblk>10.0</tblk>
<tcmd>Read TIN Zpts</tcmd> <teq>==</teq> <tblk>..\model\geo\Bathy_Survey_202011.tin</tblk>
<tcmd>Read GRID Zpts</tcmd> <teq>==</teq> <tblk>..\model\geo\Lidar_5m_202306.flt</tblk>
<tcmd>Read TIN Zpts</tcmd> <teq>==</teq> <tblk>..\model\geo\Design_OPT_001.tin</tblk>
</code></pre>
<p><strong>Bed Elevation Limits</strong></p>
<pre><code>
<tgrn>! Truncate Bathymetry Below -100 mRL and above 10 mRL</tgrn>
<tcmd>Global Bed Elevation Limits</tcmd> <teq>==</teq> <tblk>-100, 10</tblk>                         <tgrn>! {-9.99E+09} zbmin (mRL or ftRL), {9.99E+09} zbmax (mRL or ftRL)</tgrn>
</code></pre>
</div>
<div id="HD2D-Bath-TVB-3" class="section level3 hasAnchor" number="5.12.5">
<h3><span class="header-section-number">5.12.5</span> Time Varying Bathymetry<a href="HD2D-1.html#HD2D-Bath-TVB-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>TUFLOW FV supports the specification of bathymetry that changes during
the simulation using a set of time-varying structure commands. These
allow localised adjustments to bed elevation based on a prescribed time
series, model-sampled parameters (e.g. flow or level), or a combination
of digital elevation model (DEM) surfaces and control rules. Common applications include the representation of levee breaches, sandbar migration, or event-driven scouring and deposition.</p>
<p>Variable bathymetry is configured using TUFLOW FV’s hydraulic structure block functionality and thus is not repeated here (see Section <a href="HD2D-1.html#HD2D-HS-Desc-3">5.16.2</a>).</p>
</div>
</div>
<div id="HD2D-Mate-2" class="section level2 hasAnchor" number="5.13">
<h2><span class="header-section-number">5.13</span> Materials<a href="HD2D-1.html#HD2D-Mate-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="HD2D-Mate-CS-3" class="section level3 hasAnchor" number="5.13.1">
<h3><span class="header-section-number">5.13.1</span> Command Status<a href="HD2D-1.html#HD2D-Mate-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Required</em></p>
</div>
<div id="HD2D-Mate-Desc-3" class="section level3 hasAnchor" number="5.13.2">
<h3><span class="header-section-number">5.13.2</span> Description<a href="HD2D-1.html#HD2D-Mate-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Materials are integer identifiers assigned to each 2D cell. They are
used to define spatially varying hydraulic and bed-related properties
across the model domain. Material ID is then linked to one or more material properties, such as bottom roughness,
horizontal eddy viscosity, or elevation limits using material blocks.</p>
<p>The methods for assigning spatial material IDs, and specifying their associated
material properties are described in (Section <a href="HD2D-1.html#HD2D-Mate-MSD-3">5.13.3</a>) and (Section <a href="HD2D-1.html#HD2D-Mate-Prop-3">5.13.5</a>) respectively.</p>
</div>
<div id="HD2D-Mate-MSD-3" class="section level3 hasAnchor" number="5.13.3">
<h3><span class="header-section-number">5.13.3</span> Material Spatial Definition<a href="HD2D-1.html#HD2D-Mate-MSD-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Materials can be applied uniformly, read from the unstructured mesh
file, or defined via GIS layers. Material spatial definition commands
are provided in Table <a href="HD2D-1.html#tab:tab-MaterialSpatial">5.13</a>.</p>
<p>The recommended material spatial definition workflow is as follows.</p>
<ol style="list-style-type: decimal">
<li>Read in an unstructured mesh using the
<a href="AppCommands.html#FVCGeometry2D"><tcmd>Geometry 2D</tcmd></a> command. If no
material data is present in the .2dm file, all cells are set to 0</li>
<li>Set a global default material ID using the
<a href="AppCommands.html#FVCSetMat"><tcmd>Set Mat</tcmd></a> command</li>
<li>Read in spatially varying materials directly from a GIS polygon
layer using one or more <a href="AppCommands.html#FVCReadGISMat"><tcmd>Read GIS
Mat</tcmd></a> commands</li>
</ol>
<p>Commands can be used individually or in combination, with TUFLOW FV’s
input layering approach determining the final material spatial
converage. (Appendix <a href="App2DHD-1.html#App2DHD-Mate-Scie-CL-4">E.13.1.1</a>). Example .fvc file inputs are provided in
Section <a href="HD2D-1.html#HD2D-Mate-MSDE-3">5.13.4</a>.</p>
<p>During model development, the <a href="AppCommands.html#FVCWriteCheckFiles"><tcmd>Write
Check Files</tcmd></a> command (refer Section <a href="CAL-1.html#CAL-GCF-2">13.4</a>) should be used
to verify the material assignments and ensure proper model
configuration.</p>
<p>Figure <a href="HD2D-1.html#fig:fig-materials">5.8</a> shows the use of material polygons to
define the landcover and in-stream bed type for a coastal estuary
analysis. The polygons are coloured according the the material ID
assigned to each polygon, which is labelled for each polygon.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-materials"></span>
<img src="images/materials.png" alt="Material ID Spatial Definition" width="100%" />
<p class="caption">
Figure 5.8: Material ID Spatial Definition
</p>
</div>
</center>
<table>
<caption>
<span id="tab:tab-MaterialSpatial">Table 5.13: </span><strong>Material Update Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCSetMat">Set Mat</a>
</td>
<td style="text-align:left;">
Optional - Sets all material in the domain to a single user specified value.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCReadGISMat">Read GIS Mat</a>
</td>
<td style="text-align:left;">
Optional - Spatially vary cell materials using a GIS layer of polygons.
</td>
</tr>
</tbody>
</table>
<div id="HD2D-Mate-MSD-UM2F-4" class="section level4 hasAnchor" number="5.13.3.1">
<h4><span class="header-section-number">5.13.3.1</span> Unstructured Mesh 2dm File<a href="HD2D-1.html#HD2D-Mate-MSD-UM2F-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If an unstructured mesh is specified using the
<a href="AppCommands.html#FVCGeometry2D"><tcmd>Geometry 2D</tcmd></a> command (Section
<a href="HD2D-1.html#HD2D-CM-UM-3">5.11.3</a>), materials IDs are directly read from the .2dm
for each cell. When present, .2dm material data is always read and
applied first, before any other material commands are processed. This
occurs regardless of the position of the
<a href="AppCommands.html#FVCGeometry2D"><tcmd>Geometry 2D</tcmd></a> command within the
.fvc file.</p>
</div>
<div id="HD2D-Mate-MSD-GML-4" class="section level4 hasAnchor" number="5.13.3.2">
<h4><span class="header-section-number">5.13.3.2</span> GIS Material Layers<a href="HD2D-1.html#HD2D-Mate-MSD-GML-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>GIS polygon layers can be used to set a the material ID for any cell
centroids located within the polygon’s extent using the
<a href="AppCommands.html#FVCReadGISMat"><tcmd>Read GIS Z Mat</tcmd></a> command.</p>
<p>During model initialisation (Section <a href="HD2D-1.html#HD2D-MI-2">5.2</a>), template layers
prefixed with ‘2d_mat_’ are generated for use in defining materials.
‘2d_mat_’ layers require the assignment of a single ‘Mat’ elevation
attribute as shown in Table <a href="HD2D-1.html#tab:tab-EmptyGISMat">5.14</a>.</p>
<table>
<caption>
<span id="tab:tab-EmptyGISMat">Table 5.14: </span><strong>2D Mat (2d_mat_) Attribute Description
</strong>
</caption>
<thead>
<tr>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Number of Attributes
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Attribute Name
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
MATERIAL
</td>
<td style="text-align:left;">
Cell Material ID
</td>
<td style="text-align:left;">
Integer
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="HD2D-Mate-MSDE-3" class="section level3 hasAnchor" number="5.13.4">
<h3><span class="header-section-number">5.13.4</span> Material Spatial Definition Examples<a href="HD2D-1.html#HD2D-Mate-MSDE-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>
<tgrn>! Material Specification with Updates</tgrn>
<tcmd>Geometry 2D</tcmd><teq> == </teq><tblk>..\model\geo\South_Bay_001.2dm</tblk>         <tgrn>! Read 'base' materials from .2dm</tgrn>

<tgrn>! Overwrite .2dm Materials</tgrn>
<tcmd>Set Mat</tcmd><teq> == </teq><tblk>2</tblk>                                                  <tgrn>! Override .2dm materials and set all cells to 2</tgrn>
<tcmd>Read GIS Mat</tcmd><teq> == </teq><tblk>..\model\gis\2d_mat_BedMapping_001_R.shp</tblk>       <tgrn>! Materials for offshore</tgrn>                
<tcmd>Read GIS Mat</tcmd><teq> == </teq><tblk>..\model\gis\2d_mat_GovLanduse_001_R.shp</tblk>       <tgrn>! Overland landuse mapping</tgrn>    
<tcmd>Read GIS Mat</tcmd><teq> == </teq><tblk>..\model\gis\2d_mat_Design_OPT_001_R.shp</tblk>       <tgrn>! Design channel bed type</tgrn>
</code></pre>
</div>
<div id="HD2D-Mate-Prop-3" class="section level3 hasAnchor" number="5.13.5">
<h3><span class="header-section-number">5.13.5</span> Material Properties<a href="HD2D-1.html#HD2D-Mate-Prop-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Material properties are specified within a material block, which begins
with the <a href="AppCommands.html#FVCMaterial"><tcmd>Material</tcmd></a> command and ends with
<a href="#FVCEndMaterial"><tcmd>End Material</tcmd></a>. A separate
block must be provided for each material ID used in the model, and each
block contains the property values assigned to that material. Table
<a href="HD2D-1.html#tab:tab-MaterialProperties2DHD">5.15</a> lists the available material
property commands. Multiple material properties commands (e.g. bottom roughness, horizontal eddy viscosity, bed elevation limits etc.) can be used within a single material block.</p>
<table>
<caption>
<span id="tab:tab-MaterialProperties2DHD">Table 5.15: </span><strong>Material Properties Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCMaterial">Material</a>
</td>
<td style="text-align:left;">
Required - instantiates a material block for a given material ID.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCBottomRoughness">Bottom Roughness</a>
</td>
<td style="text-align:left;">
Optional - Assignes a material-specific bottom roughness. Overrides the <a href="#FVCGlobalBottomRoughness"><tcmd>Global Bottom
Roughness</tcmd></a>.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCHorizontalEddyViscosity">Horizontal Eddy Viscosity</a>
</td>
<td style="text-align:left;">
Optional - Assignes a material-specific horizontal eddy viscosity value or coefficient. Overrides the <a href="#FVCGlobalHorizontalEddyViscosity"><tcmd>Global Horizontal Eddy Viscosity</tcmd></a> command.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCHorizontalEddyViscosityLimts">Horizontal Eddy Viscosity Limits</a>
</td>
<td style="text-align:left;">
Optional - Assignes material-specific horizontal eddy viscosity limits. Overrides the <a href="AppCommands.html#FVCGlobalHorizontalEddyViscosityLimits"><tcmd>Global Horizontal Eddy Viscosity Limits</tcmd></a> command.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCBedElevationLimts">Bed Elevation Limits</a>
</td>
<td style="text-align:left;">
Optional - Assignes material-specific bed elevation limits. Overrides the <a href="AppCommands.html#FVCGlobalBedElevationLimits"><tcmd>Global Bed Elevation Limits</tcmd></a> command.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCSpatialReconstruction">Spatial Reconstruction</a>
</td>
<td style="text-align:left;">
Optional - Used to revert an area to first-order calculations where the model is otherwise a second-order odel. If a first-order model is being used, then this flag will have no effect.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCEndMaterial">End Material</a>
</td>
<td style="text-align:left;">
Required - Closes the material block.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-Mate-MPE-3" class="section level3 hasAnchor" number="5.13.6">
<h3><span class="header-section-number">5.13.6</span> Material Properties Examples<a href="HD2D-1.html#HD2D-Mate-MPE-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Bed Resistance</strong></p>
<p>The example below presents a global bottom roughness that is modified
for three of the materials.</p>
<pre><code>
<tgrn>Global Settings - ks Bottom Drag Model</tgrn>
<tcmd>Bottom Drag Model</tcmd> <teq>==</teq> <tblk>ks</tblk>                            <tgrn>! {Manning} | ks</tgrn>
<tcmd>Global Bottom Roughness</tcmd> <teq>==</teq> <tblk>0.10</tblk>                  <tgrn>! {1.0E-6} Nikuradse roughness length (m)        

! Local Materials
<tgrn>! Sandy Bed</tgrn>
<tcmd>Material</tcmd> <teq>==</teq> <tblk>10</tblk>                                 <tgrn>! {0} Material ID
&nbsp;&nbsp;<tcmd>Bottom Roughness</tcmd> <teq>==</teq> <tblk>0.05</tblk>                  <tgrn>! {Global value} Nikuradse roughness length (m)
<tcmd>End Material</tcmd>

<tgrn>! Grassland</tgrn>
<tcmd>Material</tcmd> <teq>==</teq> <tblk>2</tblk>                                   <tgrn>! {0} Material ID
&nbsp;&nbsp;<tcmd>Bottom Roughness</tcmd> <teq>==</teq> <tblk>0.15</tblk>                  <tgrn>! {Global value} Nikuradse roughness length (m)
<tcmd>End Material</tcmd>

<tgrn>! Reeds</tgrn>
<tcmd>Material</tcmd> <teq>==</teq> <tblk>8</tblk>                                  <tgrn>! {0} Material ID
&nbsp;&nbsp;<tcmd>Bottom Roughness</tcmd> <teq>==</teq> <tblk>0.25</tblk>                  <tgrn>! {Global value} Nikuradse roughness length (m)
<tcmd>End Material</tcmd>
</code></pre>
<p><strong>Horizontal Eddy Viscosity</strong></p>
<pre><code>
<tgrn>Global Settings - Momentum Mixing Model</tgrn>
<tcmd>Momentum Mixing Model</tcmd> <teq>==</teq> <tblk>Smagorinsky</tblk> <tgrn>! {None} | Constant | Smagorinsky | Wu</tgrn> 
<tcmd>Global Horizontal Eddy Viscosity</tcmd> <teq>==</teq> <tblk>0.5</tblk> <tgrn>! {0.0} Smagorinksy coefficient</tgrn>
<tcmd>Global Horizontal Eddy Viscosity Limits</tcmd> <teq>==</teq> <tblk>0.05, 99999.</tblk> <tgrn>! {0.0} Minimum eddy viscosity (m²/s), {99999.} Maximum eddy viscosity (m²/s)</tgrn>

<tgrn>! Locally Increase Horizontal Eddy Viscosity</tgrn>
<tcmd>Material</tcmd> <teq>==</teq> <tblk>11</tblk>                                 <tgrn>! {0} Material ID
&nbsp;&nbsp;<tcmd>Horizontal Eddy Viscosity</tcmd> <teq>==</teq> <tblk>1.0</tblk> <tgrn>! {Global value} Smagorinksy coefficient</tgrn>
&nbsp;&nbsp;<tcmd>Horizontal Eddy Viscosity Limits</tcmd> <teq>==</teq> <tblk>100., 99999.</tblk> <tgrn>! {Global value} Minimum eddy viscosity (m²/s), {Global value} Maximum eddy viscosity (m²/s)</tgrn>
<tcmd>End Material</tcmd>
</code></pre>
<p><strong>Bed Elevation Limits</strong></p>
<p>This example shows three materials set to different limits. Material 1
is trimmed so that any elevations below datum level -10m are set to
-10m, without limiting higher levels. Material 2 is entirely set to +5m.
Material 3 is trimmed to the same minimum level as material 1, but with
an upper limit of -2m which might be below the tidal minimum, ensuring
wet cells.</p>
<pre><code>

<tgrn>! Global Settings</tgrn>
<tcmd>Global Bed Elevation Limits</tcmd> <teq>==</teq> <tblk>-1000, 100</tblk>              <tgrn>! {-9.99E+09} zbmin (mRL or ftRL), {9.99E+09} zbmax (mRL or ftRL)</tgrn>

<tgrn>! Local Overrides</tgrn>
<tgrn>! Truncate below -10 mRL</tgrn>
<tcmd>Material</tcmd> <teq>==</teq> <tblk>1</tblk>              <tgrn>! {0} Material ID
&nbsp;&nbsp;<tcmd>Bed Elevation Limits</tcmd> <teq>==</teq> <tblk>-10, 9999</tblk>              <tgrn>! {Global value} zbmin (mRL or ftRL), {Global value} zbmax (mRL or ftRL)</tgrn>
<tcmd>End Material</tcmd>

<tgrn>! Set to 5m</tgrn>
<tcmd>Material</tcmd> <teq>==</teq> <tblk>2</tblk>              <tgrn>! {0} Material ID
&nbsp;&nbsp;<tcmd>Bed Elevation Limits</tcmd> <teq>==</teq> <tblk>5, 5</tblk>               <tgrn>! {Global value} zbmin (mRL or ftRL), {Global value} zbmax (mRL or ftRL)</tgrn>
<tcmd>End Material</tcmd>

<tgrn>! Truncate below -10 mRL and above -2 mRL</tgrn>
<tcmd>Material</tcmd> <teq>==</teq> <tblk>3</tblk>              <tgrn>! {0} Material ID
&nbsp;&nbsp;<tcmd>Bed Elevation Limits</tcmd> <teq>==</teq> <tblk>-10, -2</tblk>                <tgrn>! {Global value} zbmin (mRL or ftRL), {Global value} zbmax (mRL or ftRL)</tgrn>
<tcmd>End Material</tcmd>
</code></pre>
<p><strong>Material Block With Multiple Properties</strong></p>
<pre><code>
<tgrn>Multiple Material Properties

! Local Materials
<tgrn>! Sandy Bed</tgrn>
<tcmd>Material</tcmd> <teq>==</teq> <tblk>10</tblk>                                 <tgrn>! {0} Material ID
&nbsp;&nbsp;<tcmd>Bottom Roughness</tcmd> <teq>==</teq> <tblk>0.05</tblk>                  <tgrn>! {Global value} Nikuradse roughness length (m)
&nbsp;&nbsp;<tcmd>Bed Elevation Limits</tcmd> <teq>==</teq> <tblk>-10, 9999</tblk>              <tgrn>! {Global value} zbmin (mRL or ftRL), {Global value} zbmax (mRL or ftRL)</tgrn>
<tcmd>End Material</tcmd>

</code></pre>
</div>
</div>
<div id="HD2D-IC-2" class="section level2 hasAnchor" number="5.14">
<h2><span class="header-section-number">5.14</span> Initial Conditions<a href="HD2D-1.html#HD2D-IC-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="HD2D-IC-CS-3" class="section level3 hasAnchor" number="5.14.1">
<h3><span class="header-section-number">5.14.1</span> Command Status<a href="HD2D-1.html#HD2D-IC-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Optional - If no initial conditions are user-specified, TUFLOW FV will automatically set the initial water level at each cell to the maximum of the bathymetry level, or datum level 0.0 (m or ft). Velocities are set to a default value of 0.0 (m/s or ft/s)</em>.</p>
</div>
<div id="HD2D-IC-Desc-3" class="section level3 hasAnchor" number="5.14.2">
<h3><span class="header-section-number">5.14.2</span> Description<a href="HD2D-1.html#HD2D-IC-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Initial conditions set the starting parameter state values of every cell
within the model. Initial conditions can be specified as spatially constant across the
whole model domain, be spatially varying, or using a restart file from a
previous model run. Initial condition commands for the 2D HD simulation class are provided in the sub-sections that follow. Examples for each initial condition type is provided in Section <a href="HD2D-1.html#HD2D-IC-Exam-3">5.14.6</a>.</p>
<p>Initial condition and restart commands adhere to the command layering approach described in Appendix <a href="App2DHD-1.html#App2DHD-IC-Scie-CL-4">E.14.1.1</a>.</p>
</div>
<div id="HD2D-IC-SC-3" class="section level3 hasAnchor" number="5.14.3">
<h3><span class="header-section-number">5.14.3</span> Spatially Constant<a href="HD2D-1.html#HD2D-IC-SC-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The spatially constant initial conditions available for the 2D HD simulation class are presented in Table <a href="HD2D-1.html#tab:tab-ICConstant2DHD">5.16</a>.</p>
<table>
<caption>
<span id="tab:tab-ICConstant2DHD">Table 5.16: </span><strong>Spatially Constant Initial Condition Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCInitialWaterLevel">Initial Water Level</a>
</td>
<td style="text-align:left;">
Optional - Sets the initial water level to a global user specified value.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-IC-SV-3" class="section level3 hasAnchor" number="5.14.4">
<h3><span class="header-section-number">5.14.4</span> Spatially Varying<a href="HD2D-1.html#HD2D-IC-SV-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The spatially varying initial conditions available for the 2D HD simulation class are presented in Table <a href="HD2D-1.html#tab:tab-ICSpatial2DHD">5.17</a>.</p>
<table>
<caption>
<span id="tab:tab-ICSpatial2DHD">Table 5.17: </span><strong>Spatially Varying Initial Condition Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="#FVCInitial2D">Initial 2D</a>
</td>
<td style="text-align:left;">
Optional - File path to initial condition 2d csv file. Allows for user specified spatially varying water level and velocity initial conditions.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-IC-RF-3" class="section level3 hasAnchor" number="5.14.5">
<h3><span class="header-section-number">5.14.5</span> Restart File<a href="HD2D-1.html#HD2D-IC-RF-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Restart files are generated by TUFLOW FV and contain spatially varying model variables at an instant in time. Once generated, they can be used to define the initial condition of a subsequent TUFLOW FV simulation. Restart commands are summarised in Table <a href="HD2D-1.html#tab:tab-RestartFiles">5.18</a>.</p>
<table>
<caption>
<span id="tab:tab-RestartFiles">Table 5.18: </span><strong>Restart Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCWriteRestartdt">Write Restart dt</a>
</td>
<td style="text-align:left;">
Optional - Writes a restart file (.rst) to the log directory location at the time interval specified.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCRestart">Restart</a>
</td>
<td style="text-align:left;">
Optional - Load the simulation initial conditions from a restart file (.rst) generated by a previous TUFLOW FV simulation.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCUseRestartFileTime">Use Restart File Time</a>
</td>
<td style="text-align:left;">
Optional - Switch to choose whether to use the timestamp written to the restart file (.rst) or to use the simulation <a href="AppCommands.html#FVCStartTime"><tcmd>Start Time</tcmd></a>.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCUseRestartOverwrite">Restart Overwrite</a>
</td>
<td style="text-align:left;">
Optional - Switch to overwrite the restart file at the time interval specified using the <a href="AppCommands.html#FVCWriteRestartdt"><tcmd>Write Restart dt</tcmd></a> command or create a series of restart files for each timestep:
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-IC-Exam-3" class="section level3 hasAnchor" number="5.14.6">
<h3><span class="header-section-number">5.14.6</span> Examples<a href="HD2D-1.html#HD2D-IC-Exam-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Global Initial Water Level</strong></p>
<pre><code>
<tgrn>! Set Global Initial Water Level</tgrn>
<tcmd>Initial Water Level</tcmd> <teq>==</teq> <tblk>-0.1</tblk> <tgrn>! {0.0} Water surface elevation (m)</tgrn>
</code></pre>
<p><strong>Spatial Varying Initial Water Level</strong></p>
<pre><code>
<tgrn>! Spatially Varying Initial Water Level</tgrn>
<tcmd>Initial 2D</tcmd> <teq>==</teq> <tblk>..\model\bc_dbase\IC_0240301.csv</tblk> <tgrn>! 2D IC filepath</tgrn>
</code></pre>
<p><strong>Global Initial Water Level With Local Override</strong></p>
<pre><code>
<tgrn>! Combination of Global and Spatially Varying</tgrn>
<tcmd>Initial Water Level</tcmd> <teq>==</teq> <tblk>-0.1</tblk> <tgrn>! {0.0} Water surface elevation (m)</tgrn>
<tcmd>Initial 2D</tcmd> <teq>==</teq> <tblk>..\model\bc_dbase\IC_Midnight_Lake_001.csv</tblk> <tgrn>! 2D IC filepath. Begin lake at 1.1 m</tgrn>
</code></pre>
<p>Restart files allow TUFLOW FV simulations to begin from previously
computed results, enabling continuation across multiple simulation
periods.</p>
<p><strong>Writing Restart Files</strong></p>
<p>An initial model, <code>FR_20221201_20230101_001.fvc</code>, models a one-month
warm-up simulation (01-Dec-2022 to 01-Jan-2023) for the Fig Reach (FR)
estuary flushing analysis. The following commands in the .fvc file
specify restart file output:</p>
<pre><code>
<tgrn>! Write Restart File</tgrn>
<tcmd>Write Restart dt</tcmd> <teq>==</teq> <tblk>24.0</tblk> <tgrn>! Interval (hours) for writing restart data</tgrn>
<tcmd>Restart Overwrite</tcmd> <teq>==</teq> <tblk>1</tblk> <tgrn>! Enable overwrite mode (1: overwrite, 0: don't overwrite)</tgrn>
</code></pre>
<p>This configuration writes a restart file every 24 hours and overwrites
the previous restart file, resulting in a single restart file at the end
of the simulation.</p>
<p><strong>Reading Restart Files</strong></p>
<p>A subsequent simulation (<code>FR_20230101_20230701_001.fvc</code>) continues the
analysis from 01-Jan-2023 to 01-Jul-2023 by reading the restart file
produced by the initial warm-up simulation:</p>
<pre><code>
<tgrn>! Read Restart File</tgrn>
<tcmd>Restart File</tcmd> <teq>==</teq> <tblk>./log/FR_20221201_20230101_001.rst</tblk>
<tcmd>Use Restart File Time</tcmd> <teq>==</teq> <tblk>1</tblk> <tgrn>! 0 Use the model Start Time | {1} Ignore the model Start Time in the .fvc file and use the time in the restart file</tgrn>
</code></pre>
<p>This ensures the subsequent simulation picks up exactly from the
conditions present at the end of the warm-up simulation, maintaining
continuity in model state variables (e.g., water levels, velocities).</p>
</div>
</div>
<div id="HD2D-BC-2" class="section level2 hasAnchor" number="5.15">
<h2><span class="header-section-number">5.15</span> Boundary Conditions<a href="HD2D-1.html#HD2D-BC-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="HD2D-BC-CS-3" class="section level3 hasAnchor" number="5.15.1">
<h3><span class="header-section-number">5.15.1</span> Command Status<a href="HD2D-1.html#HD2D-BC-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Required</em></p>
</div>
<div id="HD2D-BC-Desc-3" class="section level3 hasAnchor" number="5.15.2">
<h3><span class="header-section-number">5.15.2</span> Description<a href="HD2D-1.html#HD2D-BC-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This section describes how to configure boundary conditions in a TUFLOW
FV simulation. It introduces the available boundary model
implementations, describes how to spatially define boundary locations,
and explains the structure and use of boundary condition blocks.
Detailed examples are provided for each boundary type.</p>
<p>Boundary conditions in TUFLOW FV are assigned using the process as
follows.</p>
<ol style="list-style-type: decimal">
<li>Select a boundary condition model implementation for the modelling
use case. For example inflow/outflow, water level, atmospheric etc.
TUFLOW FV’s boundary model implementations are summarised in Table
<a href="HD2D-1.html#tab:tab-BoundaryClasses">5.19</a>.</li>
<li>For a given boundary condition model implementation, select from one
of the pre-defined boundary condition types. For example, <em>WL</em>
(polyline water level), <em>Q</em> (polyline inflow/outflow), <em>QC</em> (point
inflow/outflow) (Section <a href="HD2D-1.html#HD2D-BC-BT-3">5.15.3</a>)</li>
<li>Define the boundary location for the specific boundary type (Section
<a href="HD2D-1.html#HD2D-BC-BLD-3">5.15.4</a>)</li>
<li>Configure the boundary with a boundary condition block (Section
<a href="HD2D-1.html#HD2D-BC-BCB-3">5.15.5</a>)</li>
</ol>
<table>
<caption>
<span id="tab:tab-BoundaryClasses">Table 5.19: </span><strong>Boundary Condition Model Class - Model Implementations</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Model Implementation
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Water Level
</td>
<td style="text-align:left;">
Water level boundary conditions.
</td>
</tr>
<tr>
<td style="text-align:left;">
Inflow/Outflow
</td>
<td style="text-align:left;">
Inflow or outflow boundary conditions.
</td>
</tr>
<tr>
<td style="text-align:left;">
Stage Discharge
</td>
<td style="text-align:left;">
User specified or automatic relationship between water level and flow.
</td>
</tr>
<tr>
<td style="text-align:left;">
Ocean Circulation Model
</td>
<td style="text-align:left;">
Fully specified boundary condition dervied from global ocean circulation models such as HYCOM or BRAN.
</td>
</tr>
<tr>
<td style="text-align:left;">
Atmospheric
</td>
<td style="text-align:left;">
Spatially constant or variable meterological variables such as wind speed, mean sea level pressure, solar and terrestrial radition, cloud cover, temperature, precipitation and relative humidity. The boundaries are typically driven usng output from a meterological/climate model such as ERA5, CFSv2, or ACCESS etc. Tropical cyclones can be modelled using the Holland Parametric Tropical Cyclone Model.
</td>
</tr>
<tr>
<td style="text-align:left;">
Spectral Wave
</td>
<td style="text-align:left;">
Spectral wave model forcing such as wave radiation stress and wave transport.
</td>
</tr>
<tr>
<td style="text-align:left;">
Mass
</td>
<td style="text-align:left;">
Direct mass input/output boundaries. For example to model dredge spoil.
</td>
</tr>
<tr>
<td style="text-align:left;">
Force
</td>
<td style="text-align:left;">
Force vector boundary conditions. For example to include the influence of a jet, or propeller wash.
</td>
</tr>
<tr>
<td style="text-align:left;">
Zero Gradient and Reflective
</td>
<td style="text-align:left;">
Boundary types that allow for free-overflow, or reflective conditions at model edges.
</td>
</tr>
<tr>
<td style="text-align:left;">
Scalar Concentration
</td>
<td style="text-align:left;">
Boundary condtions that set the value of scalar variables such as temperature, salinity, suspended sediment, tracers, and water quality constituents.
</td>
</tr>
<tr>
<td style="text-align:left;">
Transport File
</td>
<td style="text-align:left;">
File with hydrodynamic information from a previous simulation. The file is used to run a subequent simuation using a sub-set of hydrodynamic calculations, allowing the model to run more effeciently. Typically used for testing scenarios where the hydrodynamics do not change (tracer analysis for example).
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-BC-BT-3" class="section level3 hasAnchor" number="5.15.3">
<h3><span class="header-section-number">5.15.3</span> Boundary Types<a href="HD2D-1.html#HD2D-BC-BT-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The available boundary types for the 2D HD simulation class are listed
in Table <a href="HD2D-1.html#tab:tab-BoundaryTypes2DHD">5.20</a>.</p>
<p>Single or multiple boundary types may exist for a given boundary
condition model implementation. For example, the tropical cyclone
implementation is set using the boundary type ‘CYC_HOLLAND’ only, while
the inflow/output implementation has multiple variants of the ‘Q’ type.
Where multiple types exist, the boundary suffixes ‘C’, ‘C_POLY’,
‘C_GRID’, ‘CM’ and ‘G’ are used to differentiate how the boundary is
added to the model. Each suffix is described in Table
<a href="HD2D-1.html#tab:tab-QBoundaryTypesExample">5.21</a> using the inflow/outflow boundary
condition model implementation as an example.</p>
<table>
<caption>
<span id="tab:tab-BoundaryTypes2DHD">Table 5.20: </span><strong>Boundary Condition Types - 2D HD Simulation Class</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Model Implementation
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Boundary Types
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Water Level
</td>
<td style="text-align:left;">
WL, WLS, WL_CURT
</td>
</tr>
<tr>
<td style="text-align:left;">
Inflow/Outflow
</td>
<td style="text-align:left;">
Q, QC, QC_POLY, QC_GRID, QCM, QG
</td>
</tr>
<tr>
<td style="text-align:left;">
Stage Discharge
</td>
<td style="text-align:left;">
HQ, QN
</td>
</tr>
<tr>
<td style="text-align:left;">
Ocean Circulation Model
</td>
<td style="text-align:left;">
Not applicable to the 2D HD simulation class, refer Section <a href="AD-1.html#AD-BC-BT-3">7.11.1</a>.
</td>
</tr>
<tr>
<td style="text-align:left;">
Atmospheric
</td>
<td style="text-align:left;">
W10, PRECIP, W10_GRID, MSLP_GRID PRECIP_GRID, CYC_HOLLAND
</td>
</tr>
<tr>
<td style="text-align:left;">
Spectral Wave
</td>
<td style="text-align:left;">
WAVE, WAVE_COUPLED
</td>
</tr>
<tr>
<td style="text-align:left;">
Mass
</td>
<td style="text-align:left;">
Not applicable to the 2D HD simulation class, refer Section <a href="AD-1.html#AD-BC-BT-3">7.11.1</a>.
</td>
</tr>
<tr>
<td style="text-align:left;">
Force
</td>
<td style="text-align:left;">
FORCE, FORCE_POLY, FORCEM
</td>
</tr>
<tr>
<td style="text-align:left;">
Zero Gradient and Reflective
</td>
<td style="text-align:left;">
ZG, RS, RSN
</td>
</tr>
<tr>
<td style="text-align:left;">
Scalar Concentration
</td>
<td style="text-align:left;">
Not applicable to the 2D HD simulation class, refer Section <a href="AD-1.html#AD-BC-BT-3">7.11.1</a>.
</td>
</tr>
<tr>
<td style="text-align:left;">
Transport File
</td>
<td style="text-align:left;">
Not applicable to the 2D HD simulation class, refer Section <a href="AD-1.html#AD-BC-BT-3">7.11.1</a>.
</td>
</tr>
</tbody>
</table>
<table>
<caption>
<span id="tab:tab-QBoundaryTypesExample">Table 5.21: </span><strong>Boundary Condition Suffixes</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Boundary Suffix
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Example Boundary Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
N/A
</td>
<td style="text-align:left;">
No keyword typically indicates the model is applied to a polyline (nodestring) location. Where exceptions exist they are described in each boundary condtion type section.
</td>
<td style="text-align:left;">
Q
</td>
</tr>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
The keyword ‘C’ indicates this is a cell boundary type assigned to a single model cell.
</td>
<td style="text-align:left;">
QC
</td>
</tr>
<tr>
<td style="text-align:left;">
_POLY
</td>
<td style="text-align:left;">
The keyword ’_POLY’ indicates this is a cell boundary type distributed over multiple model cells inside a polygon extent.
</td>
<td style="text-align:left;">
QC_POLY
</td>
</tr>
<tr>
<td style="text-align:left;">
_GRID
</td>
<td style="text-align:left;">
The keyword ’_GRID’ indicates this is a cell boundary type distributed over multiple model cells using a grid of spatially varying values.
</td>
<td style="text-align:left;">
QC_GRID
</td>
</tr>
<tr>
<td style="text-align:left;">
M
</td>
<td style="text-align:left;">
The keyword ‘M’ indicates this is a cell boundary type distributed over multiple model cells using a grid of spatially varying values.
</td>
<td style="text-align:left;">
QCM
</td>
</tr>
<tr>
<td style="text-align:left;">
G
</td>
<td style="text-align:left;">
The keyword ‘G’ indicates this is a spatially constant cell boundary type assigned globally to all model cells.
</td>
<td style="text-align:left;">
QG
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-BC-BLD-3" class="section level3 hasAnchor" number="5.15.4">
<h3><span class="header-section-number">5.15.4</span> Boundary Location Definition<a href="HD2D-1.html#HD2D-BC-BLD-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Boundary locations are defined using one of the methods described in
Table <a href="HD2D-1.html#tab:tab-BoundaryLocations2DHD">5.22</a>. Examples of defining each
boundary condition location are provided in the sub-sections that
follow.</p>
<table>
<caption>
<span id="tab:tab-BoundaryLocations2DHD">Table 5.22: </span><strong>Assigning Boundary Locations - 2D HD Simulation Class</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Boundary Location Definition
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Polyline (Nodestring)
</td>
<td style="text-align:left;">
Assigns boundary condition to cell faces or cells via model nodestrings using the <a href="AppCommands.html#FVCReadGISNodestring"><tcmd>Read GIS Nodestring</tcmd></a> command. Used to represent open boundaries on the edge or the mesh. Defined globally in the .fvc file.
</td>
</tr>
<tr>
<td style="text-align:left;">
Point
</td>
<td style="text-align:left;">
Boundary condtion applied to an indivdual model cell (boundary types assigned the ‘C’ boundary suffix). Typically used for localised forcing such as point inflows or flow extractions. Locations are defined via the <a href="AppCommands.html#FVCReadGISSA"><tcmd>Read GIS SA</tcmd></a> command using point geometry. Defined globally in the .fvc file.
</td>
</tr>
<tr>
<td style="text-align:left;">
Polygon
</td>
<td style="text-align:left;">
Boundary condition distributed over multiple model cells within a polygon extent (boundary types assigned the ’_POLY’ boundary suffix). Useful for spatially distributed forcing over specific user-defined regions. Polygon locations are set via the <a href="AppCommands.html#FVCReadGISSA"><tcmd>Read GIS SA</tcmd></a> command using region (polygon) geometry. Defined globally in the .fvc file.
</td>
</tr>
<tr>
<td style="text-align:left;">
Global
</td>
<td style="text-align:left;">
Applies the boundary condtion to all model cells with a spatially constant value (boundary types assigned the ‘G’ boundary suffix). Suitable for uniform forcing such as rainfall, evaporation and other meterological conditions over a small model domain where spatial variation is boundary input is neglibible. No location specification requried.
</td>
</tr>
<tr>
<td style="text-align:left;">
Grid
</td>
<td style="text-align:left;">
Boundary condtions are interpolated to the mesh from an input grid (boundary types assigned the ’_GRID’ boundary suffix). Useful for assigning spatailly and temporally varying boundary conditions such as meterological and oceanographic grids, or diffusers/outfalls. The grid is defined using a TUFLOW FV Grid Definition Block, a series of related commands that set the grid geomery. Defined globally in the .fvc file.
</td>
</tr>
<tr>
<td style="text-align:left;">
Moving Point
</td>
<td style="text-align:left;">
Boundary condtion applied to individual model cells along a moving path (boundary types assigned the ‘M’ boundary suffix). Typically used for assigning inflows, masses, forces of turbulence to items that move during a simulation. For example a dredge hopper, tug boat or ship. Coordinates of the moving point path are provided within the BC Block input time series file.
</td>
</tr>
<tr>
<td style="text-align:left;">
Tropical Cyclone
</td>
<td style="text-align:left;">
Boundary condtions are calculated at each model cell. Used to generate a parametric wind and atmospheric pressure boundary based on the Holland Tropical Cyclone model. Coordinates of the tropical cyclone track are provided within the BC Block input time series file.
</td>
</tr>
<tr>
<td style="text-align:left;">
Spectral Wave
</td>
<td style="text-align:left;">
Boundary condtions are interpolated to the mesh from either an input grid(s) or a coupled spectral wave model. Specified using a TUFLOW FV Grid Definition Block, a series of related commands that set the grid geomery for uncoupled simulation, or by directly referencing a spectral wave model control file for coupled simulation. Defined globally in the .fvc file.
</td>
</tr>
<tr>
<td style="text-align:left;">
Transport File
</td>
<td style="text-align:left;">
Not applicable to the 2D HD simulation class, refer Section <a href="AD-1.html#AD-BC-BLD-Tran-4">7.11.2.1</a>.
</td>
</tr>
</tbody>
</table>
<div id="HD2D-BC-BLD-Polyline-4" class="section level4 hasAnchor" number="5.15.4.1">
<h4><span class="header-section-number">5.15.4.1</span> Polyline<a href="HD2D-1.html#HD2D-BC-BLD-Polyline-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Polyline boundaries are set using the
<a href="AppCommands.html#FVCReadGISNodestring"><tcmd>Read GIS Nodestring</tcmd></a>
command. During model initialisation (Section <a href="HD2D-1.html#HD2D-MI-2">5.2</a>),
template layers prefixed with ‘2d_ns_’ are created to support the
digitisation of nodestring polylines. Geometry type is indicated by the
‘_L’ suffix for polyline features (e.g., 2d_ns_Ocean_001_L.shp).
‘2d_ns_’ layers require the assignment of two attributes as shown in
Table <a href="HD2D-1.html#tab:tab-Empty2DNS">5.23</a>.</p>
<p>When read by TUFLOW FV, each polyline object is converted into a nodestring by snapping the polyline to the nearest cell faces along its path. The resulting nodestring cell face selections can be reviewed in the simulation output _ns_check_L and _bc_check_L layers if the <a href="AppCommands.html#FVCWriteCheckFiles"><tcmd>Write Check Files</tcmd></a> command is enabled.</p>
<table>
<caption>
<span id="tab:tab-Empty2DNS">Table 5.23: </span><strong>Empty 2d_ns Nodestring GIS Layer</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Attribute Name(s)
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ID
</td>
<td style="text-align:left;">
Unique identifier/name of the polyline
</td>
<td style="text-align:left;">
Character
</td>
</tr>
<tr>
<td style="text-align:left;">
Flags
</td>
<td style="text-align:left;">
If set to ‘BD’ informs TUFLOW FV to project, and snap the polyline onto the mesh boundary. If blank, select the cell faces closest to the polyline.
</td>
<td style="text-align:left;">
Character
</td>
</tr>
</tbody>
</table>
<p>For boundaries aligned with the edge of the model mesh, the direction in which a polyline (nodestring) is digitised does not affect how the boundary condition is applied. However, the digitised direction does determine the sign convention assigned to model result outputs such as polyline fluxes (Section <a href="#HD2D-MO-PL-3"><strong>??</strong></a>) and mass balance (Section <a href="HD2D-1.html#HD2D-MO-MB-3">5.17.10</a>). To ensure consistency with model outputs, it is recommended to adopt the following digitising convention:</p>
<ul>
<li><p>Catchment and estuary models: Digitise from right bank to left bank when looking downstream.</p></li>
<li><p>Coastal models: Digitise from right to left along the boundary when looking offshore (i.e. from land to sea).</p></li>
</ul>
<p>For instance, the nodestring shown in Figure <a href="HD2D-1.html#fig:fig-Nodestring-Example">5.9</a> is digitised from south to north—right to left when viewed offshore. This boundary has the ID “Ocean” and the flag “BD”. The polyline has been styled using the TUFLOW FV QGIS Plugin to show small arrows pointing offshore, visually indicating the positive sign direction for fluxes across the nodestring.</p>
<pre><code>
<tgrn>! Polyline (Nodestring) Boundary Location Definition</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_Ocean_001_L.shp</tblk>
</code></pre>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Nodestring-Example"></span>
<img src="images/Nodestring_Example.png" alt="Nodestring Defining Offshore Astronomical Tide Boundary Location" width="80%" />
<p class="caption">
Figure 5.9: Nodestring Defining Offshore Astronomical Tide Boundary Location
</p>
</div>
</center>
</div>
<div id="HD2D-BC-BLD-Poin-4" class="section level4 hasAnchor" number="5.15.4.2">
<h4><span class="header-section-number">5.15.4.2</span> Point<a href="HD2D-1.html#HD2D-BC-BLD-Poin-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Point boundaries are set using GIS point 2d_sa layers in combination
with the <tcmd>Read GIS SA</tcmd> command. During model initialisation
(Section <a href="HD2D-1.html#HD2D-MI-2">5.2</a>), template layers prefixed with ‘2d_sa_’ are
created to support the digitisation of boundary points. Geometry type is
indicated by the ‘_P’ suffix for point features (e.g.,
2d_sa_UrbanCatch_001_P.shp). ‘2d_sa_’ layers require the assignment of
a single ‘Name’ attribute as shown in Table <a href="HD2D-1.html#tab:tab-Empty2DSA">5.24</a>.</p>
<p>The cells selected can be reviewed in the simulation output _sa_check_P layer if the <a href="AppCommands.html#FVCWriteCheckFiles"><tcmd>Write Check Files</tcmd></a> command is enabled.</p>
<table>
<caption>
<span id="tab:tab-Empty2DSA">Table 5.24: </span><strong>Empty 2d_sa boundary GIS Layer</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Attribute Name(s)
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
Unique identifier/name of the boundary location.
</td>
<td style="text-align:left;">
Character
</td>
</tr>
</tbody>
</table>
<p>Figure <a href="HD2D-1.html#fig:fig-QC-Point">5.10</a> illustrates catchment inflows to a
coastal estuary, applied using the GIS layer 2d_sa_UrbanCatch_001_P.shp.
This layer includes seven point locations where catchment inflow enters
the estuary.</p>
<pre><code>
<tgrn>! Point Boundary Location Definition</tgrn>
<tcmd>Read GIS SA</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_sa_UrbanCatch_001_P.shp</tblk>
</code></pre>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-QC-Point"></span>
<img src="images/QC_Point.png" alt="Read GIS SA Points" width="80%" />
<p class="caption">
Figure 5.10: Read GIS SA Points
</p>
</div>
</center>
</div>
<div id="HD2D-BC-BLD-Polygon-4" class="section level4 hasAnchor" number="5.15.4.3">
<h4><span class="header-section-number">5.15.4.3</span> Polygon<a href="HD2D-1.html#HD2D-BC-BLD-Polygon-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Polygon boundary conditions are set using a combination of GIS region
geometry type 2d_sa layers and the <tcmd>Read GIS SA</tcmd> command.</p>
<p>During model initialisation (Section <a href="HD2D-1.html#HD2D-MI-2">5.2</a>), template layers
prefixed with ‘2d_sa_’ are created to support the digitisation of
boundary polygons. Geometry type is indicated by the ‘_R’ suffix for
region features (e.g., 2d_sa_UrbanCatch_001_R.shp). ‘2d_sa_’ layers
require the assignment of a single ‘Name’ attribute as shown in Table
<a href="HD2D-1.html#tab:tab-Empty2DSA">5.24</a>.</p>
<p>The cells selected can be reviewed in the simulation output _sa_check_P layer if the <a href="AppCommands.html#FVCWriteCheckFiles"><tcmd>Write Check Files</tcmd></a> command is enabled.</p>
<p>Figure <a href="HD2D-1.html#fig:fig-QC-Poly">5.11</a> illustrates the use of inflow polygons to
distribute local catchment runoff across multiple model cells. The
example shows two polygons from the layer 2d_sa_UrbanCatch_001_R.shp:
‘Park Treatment’, which selects ten model cells, and ‘Carpark’, which
selects six model cells. The flow is distributed among the selected
cells, weighted according to their respective cell areas.</p>
<pre><code>
<tgrn>! Polygon Boundary Location Definition</tgrn>
<tcmd>Read GIS SA</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_sa_UrbanCatch_001_R.shp</tblk>
</code></pre>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-QC-Poly"></span>
<img src="images/QC_Poly.png" alt="Read GIS SA Polygons" width="80%" />
<p class="caption">
Figure 5.11: Read GIS SA Polygons
</p>
</div>
</center>
</div>
<div id="HD2D-BC-BLD-Glob-4" class="section level4 hasAnchor" number="5.15.4.4">
<h4><span class="header-section-number">5.15.4.4</span> Global<a href="HD2D-1.html#HD2D-BC-BLD-Glob-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Global boundary conditions apply a spatially constant condition to all
model cells. No GIS or spatial input is required.</p>
</div>
<div id="HD2D-BC-BLD-Grid-4" class="section level4 hasAnchor" number="5.15.4.5">
<h4><span class="header-section-number">5.15.4.5</span> Grid<a href="HD2D-1.html#HD2D-BC-BLD-Grid-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Grid definition blocks define the location of gridded boundary condition
types. These definitions establish an interpolation mapping from the
grid to the computational mesh.</p>
<p>Two grid definition types are available:</p>
<ol style="list-style-type: decimal">
<li>Via an existing NetCDF file</li>
<li>User (manually) defined</li>
</ol>
<p>Available grid definition commands for the 2D HD simulation class are
provided in Table <a href="HD2D-1.html#tab:tab-GridDefinitionBlock2DHD">5.25</a>.</p>
<table>
<caption>
<span id="tab:tab-GridDefinitionBlock2DHD">Table 5.25: </span><strong>Grid Definition Block Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCGridDefinitionFile">Grid Definition File</a>
</td>
<td style="text-align:left;">
Required (Either Grid Definition File or Grid Definition must be specified) - Opens a grid definition block. Specifies the NetCDF file containing coordinates for defining the grid used in gridded boundary condition types. The recommended option for setting the grid geometry.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCGridDefinition">Grid Definition</a>
</td>
<td style="text-align:left;">
Required (Either Grid Definition File or Grid Definition must be specified) - A user defined grid of coordinates used for gridded boundary condtion types. An alternative option to the Grid Definition File.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCGridDefinitionLabel">Grid Definition Label</a>
</td>
<td style="text-align:left;">
Required - Assigns a name to the grid, allowing it to be referenced by multiple boundary conditions.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCGridDefinitionVariables">Grid Definition Variables</a>
</td>
<td style="text-align:left;">
Required - If using the Grid Definition File option, this command specifies which variables should be read from the NetCDF to create the grid.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCCellGridmap">Cell Gridmap</a>
</td>
<td style="text-align:left;">
Optional - Calculate interpolation weightings from the grid to the computational mesh.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCBoundaryGridmap">Boundary Gridmap</a>
</td>
<td style="text-align:left;">
Optional - MJS TODO - Relevant for 2D HD simulation class? Think this is currently only used for interpolating OBC_GRID data to the curtains.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCSupressCoverageWarnings">Supress Coverage Warnings</a>
</td>
<td style="text-align:left;">
Optional - Use the grid extent as a mask to reduce the calculation footprint of boundary updates. For example, if the computational mesh contains 40,000 cells and the boundary grid extent is cooincident with 1,000 of the cells, only process the 1,000 cells when reading and updating model boundary data.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCEndGrid">End Grid</a>
</td>
<td style="text-align:left;">
Required - Specified the termination or closure of the grid block opened by the Grid Definition File command.
</td>
</tr>
</tbody>
</table>
<p>Examples for each grid definition type are provided below.</p>
<p><strong>Grid Definition File</strong></p>
<pre><code>
<tgrn>! Grid Boundary Location Definition</tgrn>
<tcmd>Grid Definition File</tcmd> <teq>==</teq> <tblk>merge/CFSR_20230101_20230201_MGA56_UTC.nc</tblk>      <tgrn>! Open grid definition block and reference file with grid coordinates</tgrn>
&nbsp;&nbsp;<tcmd>Grid Definition Variables</tcmd> <teq>==</teq> <tblk>x, y</tblk>                                          <tgrn>! The x and y coordinate variable names within the specified NetCDF file </tgrn>  
&nbsp;&nbsp;<tcmd>Grid Definition Label</tcmd> <teq>==</teq> <tblk>atmos</tblk>                                             <tgrn>! Name of the grid </tgrn>
<tcmd>End Grid</tcmd>                                                                       <tgrn> ! Close grid definition block</tgrn>
</code></pre>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Cudgen-CFSR"></span>
<img src="images/Cudgen_CFSR.png" alt="CFSR Wind Speed Grid Overlaid On TUFLOW FV Unstructured Mesh" width="80%" />
<p class="caption">
Figure 5.12: CFSR Wind Speed Grid Overlaid On TUFLOW FV Unstructured Mesh
</p>
</div>
</center>
<p><strong>User-Defined Grid Definition</strong></p>
<p>As an alternative to setting the grid location via a NetCDF file,
user-defined 2D grids can be specified using the
<a href="AppCommands.html#FVCGridDefinition"><tcmd>Grid Definition</tcmd></a> command.
The required arguments are:</p>
<ul>
<li>x0: The grid x origin in meters, feet, or decimal degrees</li>
<li>y0: The grid y origin in meters, feet, or decimal degrees</li>
<li>alp: The grid rotation in decimal degrees</li>
<li>mx: The number of cells in the grid’s x direction</li>
<li>my: The number of cells in the grid’s y direction</li>
<li>dx: The cell size in the grid’s x direction in meters, feet, or
decimal degrees</li>
<li>dy: The cell size in the grid’s y direction in meters, feet, or
decimal degrees</li>
</ul>
<p>The rotation convention is as described in Figure
<a href="HD2D-1.html#fig:fig-Regular-Mesh-Rotation-Convention">5.2</a>.</p>
<pre><code>
<tgrn>! Grid Boundary Location Definition</tgrn>
<tcmd>Grid Definition </tcmd> <teq>==</teq> <tblk>158.5, -31.5, 0.0, 100, 50, 0.01, 0.01</tblk>             <tgrn>x0, y0, alp, mx, my, dx, dy</tgrn>
&nbsp;&nbsp;<tcmd>Grid Definition Label</tcmd> <teq>==</teq> <tblk>user_defined_ocean</tblk>                                                <tgrn>! Name of the grid </tgrn>
<tcmd>End Grid</tcmd>
</code></pre>
</div>
<div id="HD2D-BC-BLD-MP-4" class="section level4 hasAnchor" number="5.15.4.6">
<h4><span class="header-section-number">5.15.4.6</span> Moving Point<a href="HD2D-1.html#HD2D-BC-BLD-MP-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Moving point boundary locations are defined via X and Y coordinates
directly specified in the input boundary condition time series file. For
example:</p>
<pre><code>
Time,<b>X,Y</b>,Flow
01/05/2011 23:00:00,<b>159.07365,-31.35875</b>,0.00
02/05/2011 00:00:00,<b>159.07365,-31.35875</b>,10.0
02/05/2011 03:00:00,<b>159.07438,-31.36102</b>,10.0
02/05/2011 06:00:00,<b>159.07569,-31.36364</b>,10.0
02/05/2011 09:00:00,<b>159.07668,-31.36633</b>,10.0
02/05/2011 12:00:00,<b>159.07864,-31.36915</b>,10.0
02/05/2011 15:00:00,<b>159.08048,-31.37086</b>,10.0
02/05/2011 18:00:00,<b>159.08219,-31.37145</b>,10.0
02/05/2011 21:00:00,<b>159.08468,-31.37361</b>,10.0
03/05/2011 00:00:00,<b>159.08632,-31.37420</b>,10.0
</code></pre>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Moving-Boundary"></span>
<img src="images/Moving_Boundary.gif" alt="Example Moving Boundary Condition" width="80%" />
<p class="caption">
Figure 5.13: Example Moving Boundary Condition
</p>
</div>
</center>
</div>
<div id="HD2D-BC-BLD-TC-4" class="section level4 hasAnchor" number="5.15.4.7">
<h4><span class="header-section-number">5.15.4.7</span> Tropical Cyclone<a href="HD2D-1.html#HD2D-BC-BLD-TC-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Tropical cyclone tracks are defined via X and Y coordinates directly
specified in the input boundary condition time series file. For example:</p>
<pre><code>
Time,<b>X,Y</b>,P0,PA,RMAX,B,RHOA,KM,THETMAX,DELTAFM,Latitude,WBGX,WBGY
26/03/2010 16:30,<b>137.756,-8.847</b>,950,1010,50000,1.5,1.17,0.7,160,1,-8.847,0,0
01/04/2010 00:00,<b>140.131,-14.741</b>,950,1010,50000,1.5,1.17,0.7,160,1,-14.741,0,0
</code></pre>
<p>Further information on the configuration of tropical cyclone boundaries
is provided in Section <a href="HD2D-1.html#HD2D-BC-Atmo-3">5.15.10</a>.</p>
</div>
<div id="HD2D-BC-BLD-SW-4" class="section level4 hasAnchor" number="5.15.4.8">
<h4><span class="header-section-number">5.15.4.8</span> Spectral Wave<a href="HD2D-1.html#HD2D-BC-BLD-SW-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Spectral wave boundary locations are specified using either:</p>
<ul>
<li>One-or-more grid definition blocks (using the same grid definitions
described in Section <a href="HD2D-1.html#HD2D-BC-BLD-Grid-4">5.15.4.5</a>) for uncoupled wave
boundaries</li>
<li>Using a configured two-way coupled spectral wave model</li>
</ul>
<p>Further information on the configuration of wave model boundaries is
provided in Section <a href="HD2D-1.html#HD2D-BC-SW-3">5.15.11</a>.</p>
</div>
</div>
<div id="HD2D-BC-BCB-3" class="section level3 hasAnchor" number="5.15.5">
<h3><span class="header-section-number">5.15.5</span> Boundary Condition Block<a href="HD2D-1.html#HD2D-BC-BCB-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A TUFLOW FV boundary condition block is a set of commands used to define
a single boundary condition.</p>
<p>The general form of the boundary condition block is:</p>
<pre><code>BC = boundary_type, location_ID, data_filepath

  Various BC_block_commands
  
End BC</code></pre>
<p>Where:</p>
<ul>
<li><a href="AppCommands.html#FVCBC"><tcmd>BC</tcmd></a> <teq>==</teq> indicates the
instantiation of a boundary condition block</li>
<li>boundary_type is a character flag setting the boundary condition
type (e.g. Q, WL, QC_GRID as described in Section
<a href="HD2D-1.html#HD2D-BC-BT-3">5.15.3</a>)</li>
<li>location_ID is a reference to the boundary location. For example the
name of a polyline, point, polygon, grid, or via directly specified
coordinates within the data set by the data_filepath (as defined
using one of the methods in Section <a href="HD2D-1.html#HD2D-BC-BLD-3">5.15.4</a>)</li>
<li>data_filepath is the file containing the boundary data, which is
typically a time series file in CSV or NetCDF format</li>
<li>BC_block_commands are any commands that reside within a boundary
block. BC block commands provide configuration settings for the
boundary</li>
<li><a href="AppCommands.html#FVCEndBC"><tcmd>End BC</tcmd></a> closes the boundary
condition block</li>
</ul>
<p>This general form applies for the majority of boundary types. Where a
departure from the general form occurs for a given boundary type, it is
described for the specific boundary type in Sections <a href="HD2D-1.html#HD2D-BC-WL-3">5.15.7</a>
to <a href="HD2D-1.html#HD2D-BC-ZGAR-3">5.15.13</a>.</p>
<p>A unique boundary condition block is required for each boundary
condition. It is common for models to include multiple boundary
condition blocks in a given simulation.</p>
<p>The sub-sections that follow describe boundary condition block commands
that are used to select and modify how boundary data is read into TUFLOW
FV.</p>
<table>
<caption>
<span id="tab:tab-BCCommands2DHD">Table 5.26: </span><strong>Boundary Condition Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCTemporalExtrapolationCheck">Global Temporal Extrapolation Check</a>
</td>
<td style="text-align:left;">
Optional - The global error behaviour if boundary time series data does not cover the model simulation period and data extrapolation is required. Applied outside of all BC blocks.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCDefaultBCUpdatedt">BC Default Update dt</a>
</td>
<td style="text-align:left;">
Optional - A global command to set the update timestep for all boundary conditions. If not specified, the boundary condition is updated at every simulation timestep. Applied outside of all BC blocks.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCBC">BC</a>
</td>
<td style="text-align:left;">
Required - Command to instantiate a boundary condition block. Sets the boundary type, and typically a reference to the boundary location, and the data input, however this varies with boundary type.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCBCHeader">BC Header</a>
</td>
<td style="text-align:left;">
Required - BC block command that allows the user to specify the .CSV input file column headers or NetCDF file variable names
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCBCUpdatedt">BC Update dt</a>
</td>
<td style="text-align:left;">
Optional - BC block command that allows the user to specify the update timestep for a boundary condition. If not specified, the global BD Default Update dt is used.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCBCScale">BC Scale</a>
</td>
<td style="text-align:left;">
Optional - BC block command to apply a scale factor to boundary condition values.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCBCOffset">BC Offset</a>
</td>
<td style="text-align:left;">
Optional - BC block command to apply an offset to boundary condition values.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCBCDefault">BC Default</a>
</td>
<td style="text-align:left;">
Optional - BC block command to specify a default boundary condition value if an entry in the input file is empty.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCIncludesMSLP">Includes MSLP</a>
</td>
<td style="text-align:left;">
Optional - BC block command that allows the user to specify whether a water level boundary condition (WL or WLS) includes an inverse barometer offset.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCBCTimeUnits">BC Time Units</a>
</td>
<td style="text-align:left;">
Optional - BC block command used to specify the unit of time for a boundary condition specified using a NetCDF file.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCBCReferenceTime">BC Reference Time</a>
</td>
<td style="text-align:left;">
Optional - BC block command to set the boundary condition reference time.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCSub-Type">Sub-Type</a>
</td>
<td style="text-align:left;">
Optional - BC block command for selected boundary condition types. Allows the user to select from pre-defined numerical boundary methods.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCTemporalExtrapolationCheck">Temporal Extrapolation Check</a>
</td>
<td style="text-align:left;">
Optional - BC block command that sets the error behaviour if boundary time series data does not cover the model simulation period and data extrapolation is required. Overrides the global behaviour set via Global Temporal Extrapolation Check.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCEndBC">End BC</a>
</td>
<td style="text-align:left;">
Required - Each boundary condition type is defined using a boundary condition (BC) block. The ‘BC’ and ‘End BC’ commands indicate the beginning and end of a boundary condition block.
</td>
</tr>
</tbody>
</table>
<div id="HD2D-BC-BCB-BDH-4" class="section level4 hasAnchor" number="5.15.5.1">
<h4><span class="header-section-number">5.15.5.1</span> Boundary Data Headers<a href="HD2D-1.html#HD2D-BC-BCB-BDH-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Data headers define the data to read from the input data file and apply
to the boundary location. If the <em>data_filepath</em> is a CSV format, than
the data headers specify the specific columns in the CSV file to read
from. If the <em>data_filepath</em> is a NetCDF file, than the data headers
refer to NetCDF data variables.</p>
<p>Data headers are defined by the user using the
<a href="AppCommands.html#FVCBCHeader"><tcmd>BC Header</tcmd></a> command. The required
headers depend on the specified <em>boundary_type</em> and are listed for each
example in Sections <a href="HD2D-1.html#HD2D-BC-WL-3">5.15.7</a> to <a href="HD2D-1.html#HD2D-BC-ZGAR-3">5.15.13</a>. For
example, the ‘WL’ <em>boundary_type</em> requires two data inputs for <tgrn>!
TIME and WL</tgrn> as shown below.</p>
<pre><code>
<tgrn>! Data Selection Using BC Header</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>WL, Ocean, Tide_20230101_20240101.csv</tblk>        <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>Time_UTC, Tide_mMSL</tblk> <tgrn>! {TIME}, {WL} (mRL or ftRL) (Required data headers for the WL boundary type)</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p>If the <a href="AppCommands.html#FVCBCHeader"><tcmd>BC Header</tcmd></a> command is not
included within a <a href="AppCommands.html#FVCBC"><tcmd>BC</tcmd></a> block, TUFLOW FV
will attempt to use pre-defined default data header names. For the 2DHD
simulation class, these defaults are listed in Appendix
@ref(#App2DHD-BC-Scie-BCB-4) and are also included as comments in the
examples presented in Sections <a href="HD2D-1.html#HD2D-BC-WL-3">5.15.7</a> to
<a href="HD2D-1.html#HD2D-BC-ZGAR-3">5.15.13</a>.</p>
<p>If the expected headers are not found—either through the
<a href="AppCommands.html#FVCBCHeader"><tcmd>BC Header</tcmd></a> specification or from
the default list—TUFLOW FV will issue a warning and apply a default
boundary condition value (Section <a href="HD2D-1.html#HD2D-BC-BCB-BDV-4">5.15.5.2</a>) to the
affected boundary.</p>
</div>
<div id="HD2D-BC-BCB-BDV-4" class="section level4 hasAnchor" number="5.15.5.2">
<h4><span class="header-section-number">5.15.5.2</span> Boundary Default Values<a href="HD2D-1.html#HD2D-BC-BCB-BDV-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Boundary default values are values applied to a boundary if missing data
is encountered, and are set using the <a href="AppCommands.html#FVCBCDefault"><tcmd>BC
Default</tcmd></a> command.</p>
<p>If the <a href="AppCommands.html#FVCBCDefault"><tcmd>BC Default</tcmd></a> command is
not specified and missing data is present, TUFLOW FV will assign the
missing values not-a-number (NaN). A NaN value applies a zero-gradient
boundary condition (zero-gradient science is described Appendix <a href="App2DHD-1.html#App2DHD-BC-Scie-ZGAR-4">E.15.1.10</a> for the period of missing data.</p>
<p>In the example below, a default flow of 35.0 m<span class="math inline">\(^3\)</span>/s is applied as the
data header ‘Dummy’ is not within the data file Inflows_001.csv</p>
<pre><code>
<tgrn>! Example of BC Default Use When 'Dummy' Header Not Found</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>QC, Outfall,  ..\bc\Inflows_001.csv</tblk>      <tgrn>! boundary_type, location_ID, data_filepath</tgrn> 
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>Time, Dummy</tblk>       <tgrn>! {TIME}, {Q} (m&sup3;/s or ft&sup3;/s)</tgrn> 
&nbsp;&nbsp;<tcmd>BC Default</tcmd> <teq>==</teq> <tblk>35.0</tblk>     <tgrn>! {NaN} (m&sup3;/s or ft&sup3;/s) Q value to apply if missing data encountered</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<!-- #### Boundary Temporal Commands  {#HD2D-BC-BCB-BTC-4} -->
<!-- MJS TODO.. remove this??? -->
<!-- The `<tcmd>BC Update dt</tcmd>` command specifies the update interval, in hours, for time-varying boundary condition data applied within a boundary condition block. This determines how frequently the boundary condition is interpolated and applied during the simulation. The `<tcmd>BC Default Update dt</tcmd>` command serves the same purpose but applies globally to all boundary condition blocks unless overridden by a local `<tcmd>BC Update dt</tcmd>` setting within an individual block. If neither is specified, TUFLOW FV uses an internal default update interval. -->
<!-- - BC Time Units -->
<!-- - BC Reference Time -->
<!-- - Temporal Extrapolation Check and Global Temporal Extrapolation Check -->
</div>
<div id="HD2D-BC-BCB-BM-4" class="section level4 hasAnchor" number="5.15.5.3">
<h4><span class="header-section-number">5.15.5.3</span> Boundary Modifiers<a href="HD2D-1.html#HD2D-BC-BCB-BM-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Boundary condition modifiers allow the modeller to adjust or control how
input data is applied at runtime. These modifiers include scaling and
offsetting.</p>
<p>The <tcmd>BC Scale</tcmd> and <tcmd>BC Offset</tcmd> commands allow
modification of raw boundary condition data as it is read into the
model. Scaling is applied first, multiplying each applicable column of
data (excluding the time column which is not required) by the specified
factor. Offsetting is then applied by adding a constant value to each
scaled value.</p>
<p>The following example increases all flow values by 10%:</p>
<pre><code>
<tgrn>! Use BC Scale To Modify Flow</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>Q, 2, ..\bc\UpstreamFlow_001.csv</tblk>     <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>Time, US_Q</tblk>        <tgrn>! {TIME}, {Q} (m&sup3;/s or ft&sup3;/s)</tgrn> 
&nbsp;&nbsp;<tcmd>BC Scale</tcmd> <teq>==</teq> <tblk>1.1</tblk> <tgrn>! {1.0} Scale flow by +10%</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p>Similarly, the example below applies a vertical offset to water level
values, such as to represent sea level rise:</p>
<pre><code>
<tgrn>! Use BC Offset To Modify Water Level</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>WL, 1, ..\bc\OffshoreTide_001.csv</tblk>        <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>Time, WL</tblk>      <tgrn>! {TIME}, {WL} (mRL or ftRL)</tgrn> 
&nbsp;&nbsp;<tcmd>BC Offset</tcmd> <teq>==</teq> <tblk>0.92</tblk> <tgrn>! {0.0} Add 0.92 m sea-level offset</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
</div>
</div>
<div id="HD2D-BC-BCSWE-4" class="section level3 hasAnchor" number="5.15.6">
<h3><span class="header-section-number">5.15.6</span> Boundary Condition Specification - Worked Example<a href="HD2D-1.html#HD2D-BC-BCSWE-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The following worked example demonstrates the general process and syntax
to define a boundary condition within an .fvc file.</p>
<pre><code>
<tgrn>! BOUNDARY CONDITIONS</tgrn>

<tgrn>! Location of boundaries</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_OpenBoundaries_001_L.shp</tblk> <tgrn>! Open boundary nodestrings</tgrn>

<tgrn>! Boundary definition</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>Q, Upstream, ..\bc_dbase\Upstream_Q_001.csv</tblk>      <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>time, sandy_creek</tblk> <tgrn>! {TIME}, {Q} (m&sup3;/s or ft&sup3;/s)</tgrn>
<tcmd>End BC</tcmd>

<tcmd>BC</tcmd> <teq>==</teq> <tblk>WL, Downstream, ..\bc_dbase\Downstream_WL_001.csv</tblk>        <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>time, ocean_tide</tblk> <tgrn>! {TIME}, {WL} (mRL or ftRL)</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p><strong>Boundary Location</strong></p>
<p>This example uses a polyline (nodestring) boundary. For polyline
boundaries, the spatial location is defined globally (outside of the BC
blocks) using the command <a href="AppCommands.html#FVCReadGISNodestring"><tcmd>Read GIS
Nodestring</tcmd></a>. The
shapefile <code>2d_ns_OpenBoundaries_001_L.shp</code> contains one or more
digitised polyline features, each assigned a unique identifier. In this
example there are two polylines with the ID “Upstream” and “Downstream”
respectively, as shown in Figure <a href="HD2D-1.html#fig:fig-Nodestring-Locations">5.14</a>.
These identifiers correspond to the boundary names referenced within the
individual boundary condition blocks. The command is placed globally so
that multiple BC blocks can reference objects from the same GIS file.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Nodestring-Locations"></span>
<img src="images/Nodestring_Locations.png" alt="Example Nodestring Location Definition" width="60%" />
<p class="caption">
Figure 5.14: Example Nodestring Location Definition
</p>
</div>
</center>
<p><strong>Boundary Condition Blocks</strong></p>
<p>In the example two boundary condition blocks are specified, initiated by
the <a href="AppCommands.html#FVCBC"><tcmd>BC</tcmd></a> command and ended with the
<a href="AppCommands.html#FVCEndBC"><tcmd>End BC</tcmd></a> command. All BC block
commands placed between BC == and End BC relate exclusively to that
specific boundary and do not affect other boundary blocks defined within
the .fvc file.</p>
<p>The first boundary condition block is:</p>
<pre><code>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>Q, Upstream, ..\bc_dbase\Upstream_Q_001.csv</tblk>      <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>time, sandy_creek</tblk> <tgrn>! {TIME}, {Q} (m&sup3;/s or ft&sup3;/s)</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p>This block defines a flow (Q) <em>boundary_type</em> applied at <em>location_ID</em>
“Upstream”, which provides the link between the boundary block and the
GIS layer <code>2d_ns_OpenBoundaries_001_L.shp</code>. The boundary data is read
from a CSV file located at the <em>data_filepath</em>
<code>..\bc_dbase\Upstream_Q_001.csv</code>. The <a href="AppCommands.html#FVCBCHeader"><tcmd>BC
Header</tcmd></a> <em>BC_block_command</em> sets the specific columns to read
time series data from <code>..\bc_dbase\Upstream_Q_001.csv</code>. In this case,
the column labelled “time” contains the simulation timestamps, and the
column labelled “sandy_creek” contains the flow values (in cubic metres
per second, m³/s).</p>
<p>The subset of the content from <code>..\bc_dbase\Upstream_Q_001.csv</code> is
provided below. It contains the referenced data headers and flow
timeseries. The data in the ‘one_mile_creek’ column is unused by this BC
block and is ignored.</p>
<pre><code>Upstream_Q_001.csv

time, sandy_creek, one_mile_creek
0.0, 0.0, 0.0
0.5, 10.0, 4.0
1.0, 35.0, 12.0
2.0, 0.0, 0.0</code></pre>
<p>Similarly, the second boundary condition block is:</p>
<pre><code>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>WL, Downstream, ..\bc_dbase\Downstream_WL_001.csv</tblk>        <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>time, ocean_tide</tblk> <tgrn>! {TIME}, {WL} (mRL or ftRL)</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p>Here, a water level (WL) <em>boundary_type</em> is applied at the <em>location_ID</em>
“Downstream”, using data from the CSV file
<code>..\bc_dbase\Downstream_WL_001.csv</code>. The BC Header command specifies the
columns from which the time and water level (in metres relative level,
mRL) data are read (“time” and “ocean_tide”, respectively).</p>
<p>The subset of the content from <code>..\bc_dbase\Upstream_Q_001.csv</code> is shown
below which contains the referenced headers and required water level
timeseries.</p>
<pre><code>Downstream_WL_001.csv

time, ocean_tide
0.0, -0.5
0.25, -0.32
0.5, -0.02
0.75, 0.28</code></pre>
</div>
<div id="HD2D-BC-WL-3" class="section level3 hasAnchor" number="5.15.7">
<h3><span class="header-section-number">5.15.7</span> Water Level<a href="HD2D-1.html#HD2D-BC-WL-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Water level boundary are applied to the model at polyline (nodestring)
locations. The available water level boundary conditions types are
described in Table <a href="HD2D-1.html#tab:tab-BCWL2DHD">5.27</a>. An example of each boundary
type is provided.</p>
<table>
<caption>
<span id="tab:tab-BCWL2DHD">Table 5.27: </span><strong>Water Level Boundaries</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Boundary Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
WL
</td>
<td style="text-align:left;">
A spatially constant water level. This boundary is typically used to set downstream boundary conditions for small model domains, where the spatial variation in astronomical tide is negligible or for river/estuaries.
</td>
</tr>
<tr>
<td style="text-align:left;">
WLS
</td>
<td style="text-align:left;">
A spatially varying water level interpolated between two data points, WL_A, and WL_B located at the digitised start and end of the boundary polyline (nodestring) respectively. This boundary type is a simplified alternative to the WL_CURT.
</td>
</tr>
<tr>
<td style="text-align:left;">
WL_CURT
</td>
<td style="text-align:left;">
<p>A spatially varying water level as a function of chainage along the boundary polyline (nodestring). This is the recommended boundary condition type for applying astronomical tidal boundary conditions to model domains where water level variation is expected on the ocean boundary.</p>
<p>The CHAINAGE data column should be in ascending order consistent with the digitised direction of the GIS polyline (nodestring). i.e. the start of the polyline is chainage 0.0 m or ft. The ZTYPE argument is not used for the 2D HD simulation class and is ignored.</p>
It is recommended to generate WL_CURT boundary conditions using the <a href="https://fvwiki.tuflow.com/TUFLOW_FV_Get_Tide">TUFLOW FV Get Tide</a> tool.
</td>
</tr>
</tbody>
</table>
<p><strong>Water Level (WL)</strong></p>
<pre><code>
<tgrn>! Polyline (Nodestring) Boundary Location Definition</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_Ocean_001_L.shp</tblk>

<tgrn>! Water Level</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>WL, Ocean, Tide_20230101_20240101.csv</tblk>                 <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>Time_UTC, Tide_mMSL</tblk>                           <tgrn>! {TIME}, {WL} (mRL or ftRL)</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p><strong>Sloping Water Level (WLS)</strong></p>
<pre><code>
<tgrn>! Polyline (Nodestring) Boundary Location Definition</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_Ocean_001_L.shp</tblk>

<tgrn>! Simple Sloping Water Level</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>WLS, Ocean, Tide_20230101_20240101.csv</tblk>       <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>Time_UTC, Tide_A_mMSL, Tide_B_mMSL</tblk>        <tgrn>! {TIME}, {WL_A} (m or ft), {WL_B} (m or ft)</tgrn>
&nbsp;&nbsp;<tcmd>Includes MSLP</tcmd> <teq>==</teq> <tblk>0</tblk>                 <tgrn>! {1} Set to 0 to adjust for mean sea level inverse barometer effect</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p><strong>Water Level Curtain (WL_CURT)</strong></p>
<pre><code>
<tgrn>! Polyline (Nodestring) Boundary Location Definition</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_Ocean_001_L.shp</tblk>

<tgrn>! Spatially Varying Water Level</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>WL_CURT, Eastern_Boundary, GoC_Tide_20100301_20100501_AEST.nc</tblk>        <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>local_time, nsEastern_Boundary_chainage, dummy, nsEastern_Boundary_wl</tblk><tgrn>! {TIME}, {CHAINAGE} (m or ft), {ZTYPE} (not used for 2D HD simulation class), {WL} (m of ft)</tgrn>
&nbsp;&nbsp;<tcmd>BC Update dt</tcmd> <teq>==</teq> <tblk>60.</tblk>        <tgrn>! {0} (s) Update the boundary data every 60 seconds</tgrn>
&nbsp;&nbsp;<tcmd>BC Time Units</tcmd> <teq>==</teq> <tblk>days</tblk>      <tgrn>! {ISODATE | HOURS} | DAYS | MINUTES | SECONDS  -  Days since the BC Reference Time (01/01/1990 00:00:00 or 0.0)</tgrn>  
&nbsp;&nbsp;<tcmd>Includes MSLP</tcmd> <teq>==</teq> <tblk>0</tblk>         <tgrn>! {1} Set to 0 to adjust for mean sea level inverse barometer effect</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
</div>
<div id="HD2D-BC-IO-3" class="section level3 hasAnchor" number="5.15.8">
<h3><span class="header-section-number">5.15.8</span> Inflow/Outflow<a href="HD2D-1.html#HD2D-BC-IO-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The available inflow/outflow boundary conditions types are described in
Table <a href="HD2D-1.html#tab:tab-BCQ2DHD">5.28</a>. An example of each boundary type is
provided.</p>
<p>Inflows into the model are achieved by having positive values in the
input data timeseries for ‘Q’. Outflows (flow extractions) by specifying
negative ‘Q’ values.</p>
<table>
<caption>
<span id="tab:tab-BCQ2DHD">Table 5.28: </span><strong>Inflow/Outflow Boundaries</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Boundary Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Q
</td>
<td style="text-align:left;">
<p>The Q boundary type is applied at polyline (nodestring) locations snapped to the edge of the model mesh, and not internally. Q boundaries are typically used to apply model inflow boundary conditions from rivers or major tributaries.</p>
<p>There are four boundary sub-types applicable to the Q polyline
(nodestring) boundary type that modify how the boundary is numerically
applied to the model as follows.</p>
<ul>
<li>Sub-Type 1: Applied as cell face flux and distributed across the
nodestring by cell width</li>
<li>Sub-Type 2: Applied as cell centre source term and distributed
across the nodestring by cell width</li>
<li>Sub-Type 3: Applied as cell face flux and distributed across the
nodestring by cell width and depth</li>
<li>Sub-Type 4: Applied as cell centre source term and distributed
across the nodestring by cell width and depth</li>
</ul>
The numerical treatment for each Q boundary Sub-Type is described in
Appendix <a href="App2DHD-1.html#App2DHD-BC-Scie-IO-4">E.15.1.5</a>.
</td>
</tr>
<tr>
<td style="text-align:left;">
QC
</td>
<td style="text-align:left;">
The QC boundary type is applied at point locations and is typically used to apply sub-catchment inflows, point source discharges and localised flow extractions. Inflows/outflows are applied to the single model cell that the point resides within.
</td>
</tr>
<tr>
<td style="text-align:left;">
QC_POLY
</td>
<td style="text-align:left;">
The QC_POLY boundary type is used for similar applications to the QC boundary, however it allows inflows/outflows to be distributed over a larger area via user-specified polygons. Inflows/outflows are distibuted as a function of cell area across all cells selected by a polygon.
</td>
</tr>
<tr>
<td style="text-align:left;">
QC_GRID
</td>
<td style="text-align:left;">
The QC_GRID boundary allows inflows/outflows to be spatially and temporally varied across a 2D grid. Spatial varation is set using a spatial weighting variable WEIGHT. Further information on the required QC_GRID boundary format is provided in Appendix <a href="App2DHD-1.html#App2DHD-BC-Scie-BLD-Grid-5">E.15.1.2.1</a>.
</td>
</tr>
<tr>
<td style="text-align:left;">
QCM
</td>
<td style="text-align:left;">
The QCM boundary is a QC boundary that can move along a path during a simulation. They are typically used to represent inflows/outflows from ships or dredgers, but can be used to represent any moving point source/sink.
</td>
</tr>
<tr>
<td style="text-align:left;">
QG
</td>
<td style="text-align:left;">
QG is a global inflow/outflow boundary that is commonly used to represent rainfall, evaporation, or infiltration losses for small model domains where spatial variabilty is deemed negligible.
</td>
</tr>
</tbody>
</table>
<p><strong>Polyline (Nodestring) Inflow/Outflow (Q)</strong></p>
<pre><code>
<tgrn>! Polyline (Nodestring) Boundary Location Definition</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_MyInflows_001_L.shp</tblk>

<tgrn>! Inflow Boundary - River</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>Q, Mary, ..\bc_dbase\M01_002.csv</tblk>     <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>time_hr, MaryRiver</tblk>                <tgrn>! {TIME}, {Q} (m&sup3;/s or ft&sup3;/s)</tgrn>
&nbsp;&nbsp;<tcmd>Sub-Type</tcmd> <teq>==</teq> <tblk>4</tblk>                                  <tgrn>! {1} | 2 | 3 | 4 - Distribute nodestring flow as a function of cell water depth (h<sup>1.5</sup>)</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p><strong>Point Inflow/Outflow (QC)</strong></p>
<pre><code>
<tgrn>! Point Boundary Location Definition</tgrn>
<tcmd>Read GIS SA</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_sa_MyInflows_001_P.shp</tblk>

<tgrn>! Catchment C2 Inflow</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>QC, C2, ..\bc_dbase\M01_002.csv</tblk>      <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>time_hr, C2</tblk>               <tgrn>! {TIME}, {Q} (m&sup3;/s or ft&sup3;/s)</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p><strong>Polygon Inflow/Outflow (QC_POLY)</strong></p>
<pre><code>
<tgrn>! Point Boundary Location Definition</tgrn>
<tcmd>Read GIS SA</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_sa_MyInflows_001_R.shp</tblk>

<tgrn>! Tributary Inflow Distributed Over Multiple Cells</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>QC_POLY, Trib, ..\bc_dbase\M01_002.csv</tblk>       <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>time_hr, Tributary</tblk>            <tgrn>! {TIME}, {Q} (m&sup3;/s or ft&sup3;/s)</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p><strong>Grid Inflow/Outflow (QC_GRID)</strong></p>
<pre><code>
<tgrn>! Grid Location Definition</tgrn>
<tcmd>Grid Definition File</tcmd> <teq>==</teq> <tblk>example_diffuser.nc</tblk> <tgrn>! The NetCDF file containing coordinates used to define the grid to which gridded boundary conditions are applied</tgrn>
&nbsp;&nbsp;<tcmd>Grid Definition Variables</tcmd> <teq>==</teq> <tblk>longitude, latitude</tblk> <tgrn>! {No defaults} X coordinate variable, Y coordinate variable to be read from the NetCDF to create the grid map</tgrn>
&nbsp;&nbsp;<tcmd>Grid Definition Label</tcmd> <teq>==</teq> <tblk>diffuser_grid</tblk> <tgrn>!  {No defaults} Grid name</tgrn>
&nbsp;&nbsp;<tcmd>Gridmap Compression</tcmd> <teq>==</teq> <tblk>1</tblk>   <tgrn> ! {0} Use the grid extent to mask the mesh update extent </tgrn>
<tcmd>End Grid</tcmd>

<tgrn>! Model Inflow From Outfall/Diffuser</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>QC_GRID, diffuser_grid, example_diffuser.nc</tblk>      <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>time, weight, flow</tblk> <tgrn>! {TIME}, {WEIGHT}, {Q} (m&sup3;/s or ft&sup3;/s)- NetCDF variable names</tgrn>
&nbsp;&nbsp;<tcmd>BC Time Units</tcmd> <teq>==</teq> <tblk>hours</tblk> <tgrn>! The unit of time for the boundary condition</tgrn>      <tgrn>! {ISODATE | HOURS} | DAYS | MINUTES | SECONDS  -  Hours since the BC Reference Time (01/01/1990 00:00:00 or 0.0)</tgrn>  
&nbsp;&nbsp;<tcmd>BC Update dt</tcmd> <teq>==</teq> <tblk>300.0</tblk>      <tgrn>! {0} Update the boundary data every 300 seconds</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p><strong>Moving Point Inflow/Outflow (QCM)</strong></p>
<p>The QCM boundary directly specifies the moving point location in the
input timeseries. Therefore the general form of the BC block
(boundary_type, location_ID, data_filepath) is modified for QCM boundary
type to boundary_type, data_filepath.</p>
<pre><code>
<tgrn>! Moving Point Inflow - Ship Ballast</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>QCM, ..\bc_dbase\Ship_Ballast_001.csv</tblk>        <tgrn>! boundary_type, data_filepath</tgrn>
  <tcmd>BC Header</tcmd> <teq>==</teq> <tblk>Time, X, Y, Flow</tblk>                        <tgrn>! {TIME}, {X}, {Y}, {Q} (m&sup3;/s or ft&sup3;/s)</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p><strong>Global Inflow/Outflow (QG)</strong></p>
<p>The QG boundary is specified globally and does not require location
information. Therefore the general form of the BC block (boundary_type,
location_ID, data_filepath) is modified for QG boundary type to
boundary_type, data_filepath.</p>
<pre><code>
<tgrn>! Global Inflow</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>QG, ..\bc_dbase\M01_003_QG.csv</tblk>       <tgrn>! boundary_type, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>Time_hr, QG</tblk> <tgrn>! {TIME}, {Q/A} (m/s or ft/s)</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
</div>
<div id="HD2D-BC-DS-3" class="section level3 hasAnchor" number="5.15.9">
<h3><span class="header-section-number">5.15.9</span> Stage-Discharge<a href="HD2D-1.html#HD2D-BC-DS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The available stage-discharge boundary conditions types are described in
Table <a href="HD2D-1.html#tab:tab-BCQ2DHD">5.28</a>. An example of each boundary type is
provided.</p>
<table>
<caption>
<span id="tab:tab-BCHQ2DHD">Table 5.29: </span><strong>Stage-Discharge Boundaries</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Boundary Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
HQ
</td>
<td style="text-align:left;">
The HQ boundary type is applied at polyline (nodestring) locations snapped to the edge of the model mesh, and not internally. HQ boundaries are typically used to apply downstream tailwater boundaries at locations where a known, or generated relationship between water level and flow is available. For example, a flow gauging station.
</td>
</tr>
<tr>
<td style="text-align:left;">
QN
</td>
<td style="text-align:left;">
The QN (normal flow condition) boundary type is applied at polyline (nodestring) locations snapped to the edge of the model mesh, and not internally. QN boundaries are typically used to apply downstream tailwater boundaries. TUFLOW FV automatically calculates the boundary water level vs. flow curve via a user-specified friction slope (Appendix <a href="HD2D-1.html#HD2D-BC-DS-3">5.15.9</a>).
</td>
</tr>
</tbody>
</table>
<p><strong>Stage-Discharge Relationship (HQ)</strong></p>
<p>The HQ relationship from file HQ.csv is presented in Figure
<a href="HD2D-1.html#fig:fig-HQ-Relationship">5.15</a> with an example of the file contents.</p>
<pre><code>
<tgrn>! Polyline (Nodestring) Boundary Location Definition</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_MyInflows_001_L.shp</tblk>

<tgrn>! Stage-Discharge Relationship</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>HQ, Downstream, ..\bc_dbase\HQ.csv</tblk>       <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>H, Q</tblk> <tgrn>! {H} (mRL of ftRL), {Q} (m&sup3;/s or ft&sup3;/s) </tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-HQ-Relationship"></span>
<img src="images/HQ_Relationship.svg" alt="Example HQ Relationship" width="60%" />
<p class="caption">
Figure 5.15: Example HQ Relationship
</p>
</div>
</center>
<pre><code>..\bc_dbase\HQ.csv
H,Q
24.5,   0.0
25.5,   4.0
26.5,   8.0
27.5,   15.0
28.5,   25.0
29.5,   45.0
30.5,   90.0
31.5,   160.0
32.5,   250.0</code></pre>
<p><strong>Automatic Stage-Discharge Relationship (QN)</strong></p>
<p>The QN boundary type does not require a timeseries input. Therefore the
general form of the BC block (boundary_type, location_ID, data_filepath)
is modified for QN boundary types to boundary_type, location_ID,
friction_slope.</p>
<pre><code>
<tgrn>! Polyline (Nodestring) Boundary Location Definition</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_MyInflows_001_L.shp</tblk>

<tgrn>! Automatatic Stage-Discharge Relationship</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>QN, Downstream, 0.01</tblk>     <tgrn>! boundary_type, location_ID, {0.0} friction_slope (rise/run)</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
</div>
<div id="HD2D-BC-Atmo-3" class="section level3 hasAnchor" number="5.15.10">
<h3><span class="header-section-number">5.15.10</span> Atmospheric<a href="HD2D-1.html#HD2D-BC-Atmo-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The available 2D HD simulation class atmospheric boundary conditions
types are described in Table <a href="HD2D-1.html#tab:tab-BCAtmos2DHD">5.30</a>. An example of
each boundary type is provided.</p>
<p>Imperial/US Customary Units (Section <a href="HD2D-1.html#HD2D-CRF-2">5.3</a>) are not
supported for atmospheric boundary conditions.</p>
<p>MJS COMMENT: Have a reference to direct rainfall modelling section? Need
to discuss the importance of wetting and drying and display depth
commands if doing direct rainfall. Wiki page? PRECIP, PRECIP_GRID
QC_POLY, QG, QC_GRID (using a negative flow rate)</p>
<table>
<caption>
<span id="tab:tab-BCAtmos2DHD">Table 5.30: </span><strong>Atmospheric Boundaries</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Boundary Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
W10
</td>
<td style="text-align:left;">
Globally set, and spatially constant wind speed boundary condtion. Specified as X and Y wind speed vector components. Typically used to assign wind forcing for small model domains where spatially variability is negligible.
</td>
</tr>
<tr>
<td style="text-align:left;">
PRECIP
</td>
<td style="text-align:left;">
Globally set, and spatially constant precipitation boundary condtion. Typically used to assign direct rainfall for small model domains where spatially variability is negligible.
</td>
</tr>
<tr>
<td style="text-align:left;">
W10_GRID
</td>
<td style="text-align:left;">
Spatially varying gridded wind speed boundary condtion. Specified as X and Y wind speed vector components. Typically sourced from meterological or climate model outputs. Can be generated using TUFLOW FV’s <a href="https://fvwiki.tuflow.com/TUFLOW_FV_Get_Atmos">Get Atmos</a> tools.
</td>
</tr>
<tr>
<td style="text-align:left;">
MSLP_GRID
</td>
<td style="text-align:left;">
Spatially varying gridded mean sea level pressure boundary condtion. Typically sourced from meterological or climate model outputs. Can be generated using TUFLOW FV’s <a href="https://fvwiki.tuflow.com/TUFLOW_FV_Get_Atmos">Get Atmos</a> tools.
</td>
</tr>
<tr>
<td style="text-align:left;">
PRECIP_GRID
</td>
<td style="text-align:left;">
Spatially varying gridded precipitation boundary condtion. Typically sourced from meterological or climate model outputs and used to apply direct rainfall. Can be generated using TUFLOW FV’s <a href="https://fvwiki.tuflow.com/TUFLOW_FV_Get_Atmos">Get Atmos</a> tools.
</td>
</tr>
<tr>
<td style="text-align:left;">
CYC_HOLLAND
</td>
<td style="text-align:left;">
<p>The Holland tropical cyclone parametric wind and pressure boundary condition generates a spatially varying wind speed, and mean sea level pressure field (Appendix <a href="App2DHD-1.html#App2DHD-BC-Scie-Atmo-4">E.15.1.7</a>) that is calculated at each model cell.</p>
If running TUFLOW FV in cartesian coordinates (Section <a href="HD2D-1.html#HD2D-CRF-2">5.3</a>) <a href="AppCommands.html#FVCSpherical"><tcmd>Spherical</tcmd></a> <teq>==</teq> <tblk>0</tblk>, a representative <a href="AppCommands.html#FVCLatitude"><tcmd>Latitude</tcmd></a> for the model domain is required to correctly configure the CYC_HOLLAND boundary type.
</td>
</tr>
</tbody>
</table>
<p><strong>Spatially Constant Wind Speed (W10)</strong></p>
<p>The W10 boundary is specified globally and does not require location
information. Therefore the general form of the BC block (boundary_type,
location_ID, data_filepath) is modified for W10 boundary type to
boundary_type, data_filepath.</p>
<pre><code>
 <tgrn>! Spatially Constant Wind Speed</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>W10, MET_20110401_20110701_AEST.csv</tblk>      <tgrn>! boundary_type, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>local_time, uwnd10m, vwnd10m</tblk> <tgrn>! {TIME}, {W10_X} (m/s), {W10_Y} (m/s)</tgrn>
&nbsp;&nbsp;<tcmd>BC Update Dt</tcmd> <teq>==</teq> <tblk>3600.</tblk> <tgrn>! (s) Update the boundary condition every hour of simulation time</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p><strong>Spatially Constant Precipitation (PRECIP)</strong></p>
<p>The PRECIP boundary is specified globally and does not require location
information. Therefore the general form of the BC block (boundary_type,
location_ID, data_filepath) is modified for PRECIP boundary type to
boundary_type, data_filepath.</p>
<pre><code>
 <tgrn>! Spatially Constant Precipitation (Direct Rainfall)</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>PRECIP, MET_20110401_20110701_AEST.csv</tblk>      <tgrn>! boundary_type, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>local_time, rainfall</tblk> <tgrn>! {TIME}, {PRECIP} (m/day)</tgrn>
&nbsp;&nbsp;<tcmd>BC Update Dt</tcmd> <teq>==</teq> <tblk>900.</tblk> <tgrn>! (s) Update the boundary condition every 15 minutes of simulation time</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p><strong>Wind, Mean Sea Level Pressure, and Precipitation Grid (W10_GRID,
MSLP_GRID, and PRECIP_GRID)</strong></p>
<p>The below boundary conditions have been generated using the TUFLOW FV
<a href="https://fvwiki.tuflow.com/TUFLOW_FV_Get_Atmos">Get Atmos</a> tool.</p>
<pre><code>
<tgrn>! TUFLOW FV FVC File for Atmospheric Dataset</tgrn>
<tgrn>! Written by `get_atmos`</tgrn>

<tgrn>! Netcdf start time: 2010-03-01 00:00</tgrn>
<tgrn>! Netcdf end time: 2010-05-31 23:00</tgrn>
<tgrn>! Netcdf x-limits: 135.0000, 143.0000</tgrn>
<tgrn>! Netcdf y-limits: -19.0000, -7.0000</tgrn>

<tgrn>! Grid Location</tgrn>
<tcmd>Grid Definition File</tcmd> <teq>==</teq> <tblk>GoC_ERA5_20100301_20100531_AEST.nc</tblk> <tgrn> ! The NetCDF file containing coordinates used to define the grid to which gridded boundary conditions are applied</tgrn>
&nbsp;&nbsp;<tcmd>Grid Definition Variables</tcmd> <teq>==</teq> <tblk>longitude, latitude</tblk>       <tgrn>! {No defaults} X coordinate variable, Y coordinate variable to be read from the NetCDF to create the grid</tgrn>
&nbsp;&nbsp;<tcmd>Grid Definition Label</tcmd> <teq>==</teq> <tblk>atmos</tblk>     <tgrn>!  {No defaults} Grid name
<tcmd>End Grid</tcmd></tgrn>

<tgrn>! Wind Speed</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>W10_GRID, atmos, GoC_ERA5_20100301_20100531_AEST.nc</tblk>      <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>local_time, uwnd10m, vwnd10m</tblk> <tgrn>! {TIME}, {W10_X} (m/s), {W10_Y} (m/s)</tgrn>
&nbsp;&nbsp;<tcmd>BC Update dt</tcmd> <teq>==</teq> <tblk>3600.</tblk><tgrn> ! {0.0} Boundary update timestep (s)
&nbsp;&nbsp;<tcmd>BC Time Units</tcmd> <teq>==</teq> <tblk>hours</tblk><tgrn>! The unit of time for the boundary condition      ! {ISODATE | HOURS} | DAYS | MINUTES | SECONDS  -  Hours since the BC Reference Time (01/01/1990 00:00:00 or 0.0)  </tgrn> 
<tcmd>End BC</tcmd>

<tgrn>! Mean Sea Level Pressure</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>MSLP_GRID, atmos, GoC_ERA5_20100301_20100531_AEST.nc</tblk>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>local_time, mslp</tblk>      <tgrn>{TIME}, {MSLP} (hPa)</tgrn>
&nbsp;&nbsp;<tcmd>BC Update dt</tcmd> <teq>==</teq> <tblk>3600.</tblk><tgrn> ! {0.0} Boundary update timestep (s)
&nbsp;&nbsp;<tcmd>BC Time Units</tcmd> <teq>==</teq> <tblk>hours</tblk><tgrn>! The unit of time for the boundary condition      ! {ISODATE | HOURS} | DAYS | MINUTES | SECONDS  -  Hours since the BC Reference Time (01/01/1990 00:00:00 or 0.0)  </tgrn> 
&nbsp;&nbsp;<tcmd>BC Scale</tcmd> <teq>==</teq> <tblk>0.01</tblk>       <tgrn>  ! {1.0} Scale from Pascals to Hectopascals</tgrn>
<tcmd>End BC</tcmd>     

<tgrn>! Precipitation</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>PRECIP_GRID, atmos, GoC_ERA5_20100301_20100531_AEST.nc</tblk>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>local_time, precip_rate</tblk>       <tgrn>{TIME}, {PRECIP} (m/day)</tgrn>
&nbsp;&nbsp;<tcmd>BC Update dt</tcmd> <teq>==</teq> <tblk>3600.</tblk><tgrn> ! {0.0} Boundary update timestep (s)</tgrn>
&nbsp;&nbsp;<tcmd>BC Time Units</tcmd> <teq>==</teq> <tblk>hours</tblk><tgrn>! The unit of time for the boundary condition      ! {ISODATE | HOURS} | DAYS | MINUTES | SECONDS  -  Hours since the BC Reference Time (01/01/1990 00:00:00 or 0.0)  </tgrn>
&nbsp;&nbsp;<tcmd>BC Scale</tcmd> <teq>==</teq> <tblk>86.4</tblk>       <tgrn>  ! {1.0} Scale from ERA5 "Mean total preciptation rate' variable  kg/m<sup>2</sup>/s to m/day</tgrn>
<tcmd>End BC</tcmd>

</code></pre>
<p><strong>Holland Parametric Tropical Cyclone Model (CYC_HOLLAND)</strong></p>
<p>The tropical cyclone track is user-specified in the input timeseries
file. Therefore the general form of the BC block (boundary_type,
location_ID, data_filepath) is modified for CYC_HOLLAND boundary type to
boundary_type, data_filepath.</p>
<p>A description of the CYC_HOLLAND science is provided in Appendix
<a href="App2DHD-1.html#App2DHD-BC-Scie-Atmo-4">E.15.1.7</a>.</p>
<pre><code>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>CYC_HOLLAND, ..\bc_dbase\Example_Holland_Cyclone.csv </tblk>        <tgrn>! boundary_type, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>TIME, X, Y, P0, PA, RMAX, B, KM, THETAMAX, DELTAFM, WBGX, WBGY</tblk>
<tcmd>End BC</tcmd>

<tgrn>! Where:
&nbsp;&nbsp;! - {TIME}: Time (HOURS or ISODATE)
&nbsp;&nbsp;! - {X}: Cyclone position X coordinate (Decimal degrees or meters) &nbsp;&nbsp;- {Y}: Cyclone position Y coordiante (Decimal degrees or meters) &nbsp;&nbsp;- {P0}: Cyclone central pressure (hPa)
&nbsp;&nbsp;! - {PA}: Ambient mean sea level pressure (hPa)
&nbsp;&nbsp;! - {RMAX}: Radius of maximum winds (m)
&nbsp;&nbsp;! - {B}: Holland peakedness coefficient
&nbsp;&nbsp;! - {KM}: Gradient wind reduction factor
&nbsp;&nbsp;! - {THETAMAX}: Line of maximum winds (Degrees)
&nbsp;&nbsp;! - {DELTAFM}: Asymmetry factor 
&nbsp;&nbsp;! - {WBGX}: Background wind X-component (m/s)
&nbsp;&nbsp;! - {WBGY}: Background wind Y-component (m/s)
</tgrn>
</code></pre>
</div>
<div id="HD2D-BC-SW-3" class="section level3 hasAnchor" number="5.15.11">
<h3><span class="header-section-number">5.15.11</span> Spectral Wave<a href="HD2D-1.html#HD2D-BC-SW-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The available 2D HD simulation class spectral wave boundary conditions
types are described in Table <a href="HD2D-1.html#tab:tab-BCWave2DHD">5.31</a>. An example of
each boundary type is provided. Further information on spectral wave
boundary condition science, including the specification of boundary
variables is provided in Appendix <a href="App2DHD-1.html#App2DHD-BC-Scie-SW-4">E.15.1.8</a>.</p>
<p>Imperial/US Customary Units (Section <a href="HD2D-1.html#HD2D-CRF-2">5.3</a>) are not
supported for wave boundary conditions.</p>
<p>MJS TODO: How best to incorporate the wave chapter from the existing
TUFLOW FV User Manual. Should it be its own construction section, and
then refer into the SW BC section for setup? Or, list the commands here
(wave parameters, stokes drift, surfzone undertow, stokes transport)
plus SWAN GIS Tools info here or in the appendix ?</p>
<table>
<caption>
<span id="tab:tab-BCWave2DHD">Table 5.31: </span><strong>Spectral Wave Boundaries</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Boundary Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
WAVE
</td>
<td style="text-align:left;">
Wave fields are specified as gridded spatially and temporally varying boundary conditions. These are outputs generated from an external spectral wave model. This type of wave boundary condition is commonly known as uncoupled wave forcing.
</td>
</tr>
<tr>
<td style="text-align:left;">
WAVE_COUPLED
</td>
<td style="text-align:left;">
An external wave model (for example SWAN) is run together with TUFLOW FV. Hydrodynamic information such as water levels, currents and bed elevation are passed from TUFLOW FV to the wave model, and these influence wave calculations. There is then a feedback whereby waves calculated in the wave model can influence water level and currents. This type of wave boundary condition is commonly known as coupled wave forcing.
</td>
</tr>
</tbody>
</table>
<p><strong>WAVE</strong></p>
<pre><code>

<tgrn>! Wave Parameters</tgrn>
<tcmd>Wave Parameters</tcmd> <teq>==</teq> <tblk>0.35, 0.1</tblk>                                 <tgrn>! {0.35} Wave Gamma, {Cell wet depth} (m)</tgrn>

<tgrn>! Grid Location</tgrn>
<tcmd>Grid Definition File</tcmd> <teq>==</teq> <tblk>..\..\SWAN\Wave_Results.nc</tblk>     <tgrn> ! The NetCDF file containing coordinates used to define the grid to which gridded boundary conditions are applied</tgrn>
  <tcmd>Grid Definition Variables</tcmd> <teq>==</teq> <tblk>xp, yp</tblk>      <tgrn>! {No defaults} X coordinate variable, Y coordinate variable to be read from the NetCDF to create the grid</tgrn>
  <tcmd>Grid Definition Label</tcmd> <teq>==</teq> <tblk>A</tblk>       <tgrn>!  {No defaults} Grid name
<tcmd>End Grid</tcmd>

<tgrn>! Gridded Wave Boundary Conditions</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>WAVE, A, ..\..\SWAN\Wave_Results.nc</tblk>      <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>time, hsig, tpsmoo, dir, ubot, tmbot, wforce_x, wforce_y, depth</tblk>       <tgrn>! TIME, HSIG, TPS, DIR, UBOT, TMBOT, FORCE_X, FORCE_Y, DEPTH</tgrn>
&nbsp;&nbsp;<tcmd>BC Update dt</tcmd> <teq>==</teq> <tblk>3600.</tblk>      <tgrn> ! {0.0} Boundary update timestep (s)</tgrn>
&nbsp;&nbsp;<tcmd>BC Time Units</tcmd> <teq>==</teq> <tblk>hours</tblk><tgrn>! The unit of time for the boundary condition      ! {ISODATE | HOURS} | DAYS | MINUTES | SECONDS  -  Hours since the BC Reference Time (01/01/1990 00:00:00 or 0.0)  </tgrn>
<tcmd>End BC</tcmd>

<tgrn>! Where:
&nbsp;&nbsp;! - TIME: Time (HOURS or ISODATE) - Required
&nbsp;&nbsp;! - HSIG: Significant wave height (m) - Required
&nbsp;&nbsp;! - TPS: Smoothed peak wave period (s) - Required
&nbsp;&nbsp;! - DIR: Mean wave direction (degrees) - Required
&nbsp;&nbsp;! - UBOT: The rms-value of the maxima of the orbital velocity near the bottom (m/s) - Optional
&nbsp;&nbsp;! - TMBOT: The bottom wave period (s) - Optional
&nbsp;&nbsp;! - FORCE_X: Wave induced force x-component (N/m<sup>2</sup>) - Optional
&nbsp;&nbsp;! - FORCE_Y: Wave induced force y-component (N/m<sup>2</sup>) - Optional
&nbsp;&nbsp;! - DEPTH: Wave model water depth (m) - Optional
</tgrn>
</code></pre>
<p><strong>WAVE_COUPLED</strong></p>
<p>The spectral wave model control file, which contains the boundary
condition location and time series data is user-specified as the
swc_filepath. Therefore the general form of the BC block (boundary_type,
location_ID, data_filepath) is modified for WAVE_COUPLED boundary type
to boundary_type, swc_filepath.</p>
<pre><code>
<tgrn>! Wave Parameters</tgrn>
<tcmd>Wave Parameters</tcmd> <teq>==</teq> <tblk>0.35, 0.1</tblk>                                 <tgrn>! Wave gamma, depth limits</tgrn>

<tgrn>! Coupled Hydrodynamic And Spectral Wave Model</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>WAVE_COUPLED, ..\..\SWAN\input\MB_002.swn</tblk>                <tgrn>! boundary_type, swc_filepath</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
</div>
<div id="HD2D-BC-Forc-3" class="section level3 hasAnchor" number="5.15.12">
<h3><span class="header-section-number">5.15.12</span> Force<a href="HD2D-1.html#HD2D-BC-Forc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The available 2D HD simulation class force boundary conditions types are
described in Table <a href="HD2D-1.html#tab:tab-BCForce2DHD">5.32</a>. An example of each
boundary type is provided.</p>
<p>Imperial/US Customary Units (Section <a href="HD2D-1.html#HD2D-CRF-2">5.3</a>) are not
supported for force boundary conditions.</p>
<table>
<caption>
<span id="tab:tab-BCForce2DHD">Table 5.32: </span><strong>Force Boundaries</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Boundary Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
FORCE
</td>
<td style="text-align:left;">
The FORCE boundary type is applied at point locations and is typically used to apply point source disturbances. Force x and y components are applied to the single model cell that the point resides within.
</td>
</tr>
<tr>
<td style="text-align:left;">
FORCE_POLY
</td>
<td style="text-align:left;">
The FORCE_POLY boundary type is used for similar applications to the FORCE boundary, however it allows forces to be distributed over a larger area via user-specified polygons. Forces are distributed as a function of cell area across cells selected by a polygon.
</td>
</tr>
<tr>
<td style="text-align:left;">
FORCEM
</td>
<td style="text-align:left;">
The FORCEM boundary is a FORCE boundary that can move along a path during a simulation. They are typically used to represent disturbances from ships or dredgers, but can be used to represent any moving disturbance.
</td>
</tr>
</tbody>
</table>
<p><strong>Point Force (FORCE)</strong></p>
<pre><code>
<tgrn>! Point Boundary Location Definition</tgrn>
<tcmd>Read GIS SA</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_sa_Pipe_Outlet_001_P.shp</tblk>

<tgrn>! Force boundary - Add momentum flux to pipe outlet</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>FORCE, Pipe_Outlet_001, ..\bc_dbase\Outlets_001.csv</tblk>      <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>Time, Force_X, Force_Y</tblk>                       <tgrn>! {TIME}, {FORCEX} (N), {FORCEY} (N)</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p><strong>Polygon Force (FORCE_POLY)</strong></p>
<pre><code>
<tgrn>! Polygon Boundary Location Definition</tgrn>
<tcmd>Read GIS SA</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_sa_Pipe_Outlet_001_R.shp</tblk>

<tgrn>! Force boundary - Add momentum flux to pipe outlet</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>FORCE, DS_Outlet_001, ..\bc_dbase\Outlets_001.csv</tblk>        <tgrn>! boundary_type, location_ID, data_filepath</tgrn>
&nbsp;&nbsp;<tcmd>BC Header</tcmd> <teq>==</teq> <tblk>Time, Force_X, Force_Y</tblk>                       <tgrn>! {TIME}, {FORCEX} (N), {FORCEY} (N)</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p><strong>Moving Point Force (FORCEM)</strong></p>
<p>The FORCEM boundary directly specifies the moving point location in the
input timeseries. Therefore the general form of the BC block
(boundary_type, location_ID, data_filepath) is modified for FORCEM
boundary type to boundary_type, data_filepath.</p>
<pre><code>
<tgrn>! Moving Point Force - Propeller Wash</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>FORCEM, ..\bc_dbase\Ship_Wash_001.csv</tblk>        <tgrn>! boundary_type, data_filepath</tgrn>
  <tcmd>BC Header</tcmd> <teq>==</teq> <tblk>Time, X, Y, ForceX, ForceY</tblk>                        <tgrn>! {TIME}, {X}, {Y}, {FORCEX} (N), {FORCEY} (N)</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
</div>
<div id="HD2D-BC-ZGAR-3" class="section level3 hasAnchor" number="5.15.13">
<h3><span class="header-section-number">5.15.13</span> Zero Gradient And Reflective<a href="HD2D-1.html#HD2D-BC-ZGAR-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Zero gradient and reflective boundaries are applied to the model at
polyline (nodestring) locations. The available zero gradient and
reflective boundary conditions types are described in Table
<a href="HD2D-1.html#tab:tab-BCRNZGR2DHD">5.33</a> and the science of each if further detailed
in Appendix <a href="App2DHD-1.html#App2DHD-BC-Scie-ZGAR-4">E.15.1.10</a>.</p>
<p>Each boundary type requires no input timeseries data, therefore the
general form of the BC block (boundary_type, location_ID, data_filepath)
is modified to boundary_type, location_ID.</p>
<p>An example of each boundary type is provided.</p>
<table>
<caption>
<span id="tab:tab-BCRNZGR2DHD">Table 5.33: </span><strong>Zero Gradient and Reflective Boundaries</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Boundary Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ZG
</td>
<td style="text-align:left;">
The Zero Gradient (ZG) boundary type assumes the gradient of the flow variables (e.g., water level, velocity) across the boundary is zero, effectively allowing the values at the boundary to match those of the adjacent cell. This boundary condition is non-reflective and is commonly used at open boundaries where minimal wave reflection is desired.
</td>
</tr>
<tr>
<td style="text-align:left;">
RS
</td>
<td style="text-align:left;">
The Reflective, free-Slip (RS) boundary type reflects flow normal to the boundary, but allows tangential flow along the boundary. It is commonly used to model impermeable but frictionless walls.
</td>
</tr>
<tr>
<td style="text-align:left;">
RNS
</td>
<td style="text-align:left;">
The Reflective No-Slip (RNS) boundary enforces both zero normal and zero tangential velocities at the boundary face. It is commonly used to represent walls or embankments where wall friction requires representation.
</td>
</tr>
</tbody>
</table>
<p><strong>Zero Gradient (ZG)</strong></p>
<pre><code>
<tgrn>! Polyline (Nodestring) Boundary Location Definition</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_Outlet_001_L.shp</tblk>

<tgrn>! Zero Gradient</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>ZG, OuterBay               <tgrn>! boundary_type, location_ID</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p><strong>Reflective Slip (RS)</strong></p>
<pre><code>
<tgrn>! Polyline (Nodestring) Boundary Location Definition</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_LabTest_001_L.shp</tblk>

<tgrn>! Zero Gradient</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>RS, FlumeEast               <tgrn>! boundary_type, location_ID</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
<p><strong>Reflective Non-Slip (RNS)</strong></p>
<pre><code>
<tgrn>! Polyline (Nodestring) Boundary Location Definition</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_wall_001_L.shp</tblk>

<tgrn>! Zero Gradient</tgrn>
<tcmd>BC</tcmd> <teq>==</teq> <tblk>RNS, Wall               <tgrn>! boundary_type, location_ID</tgrn>
<tcmd>End BC</tcmd>
</code></pre>
</div>
<div id="HD2D-BC-Tran-3" class="section level3 hasAnchor" number="5.15.14">
<h3><span class="header-section-number">5.15.14</span> Transport<a href="HD2D-1.html#HD2D-BC-Tran-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>MJS TODO - Add transport</p>
</div>
</div>
<div id="HD2D-HS-2" class="section level2 hasAnchor" number="5.16">
<h2><span class="header-section-number">5.16</span> Hydraulic Structures<a href="HD2D-1.html#HD2D-HS-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="HD2D-HS-CS-3" class="section level3 hasAnchor" number="5.16.1">
<h3><span class="header-section-number">5.16.1</span> Command Status<a href="HD2D-1.html#HD2D-HS-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Optional</em></p>
</div>
<div id="HD2D-HS-Desc-3" class="section level3 hasAnchor" number="5.16.2">
<h3><span class="header-section-number">5.16.2</span> Description<a href="HD2D-1.html#HD2D-HS-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>TUFLOW FV supports a range of hydraulic structure types, including weirs, culverts, bridges, and pumps. Custom behaviour can also be modelled using user-defined water level–flow or time series relationships. Each structure type may be configured with operational controls to simulate gates, valves, or other flow regulation devices. Variable bathymetry, where bed elevations change during a simulation is also configured using the same operational structure framework.</p>
<p>This section outlines the process for incorporating a hydraulic structure or variable bathymetry feature into a simulation. Each supported type is presented with configuration examples, and where applicable, references are provided to relevant appendix sections for further detail on implementation and underlying behaviour.</p>
<p>To incorporate a hydraulic structure or variable bathymetry into a simulation, the following general process is used:</p>
<ol style="list-style-type: decimal">
<li><p>Select the feature type appropriate for the modelling objective. This may be a hydraulic structure (e.g. weir, culvert, bridge, pump) or a variable bathymetry type (Section <a href="HD2D-1.html#HD2D-HS-ST-3">5.16.3</a>)</p></li>
<li><p>Select a supported connection type between the feature and the 2D domain (nodestring, linked nodestrings, linked zones, or zone) and define the feature location using the selected connection type (Section <a href="HD2D-1.html#HD2D-HS-SCT-3">5.16.4</a>)</p></li>
<li><p>Configure the feature with a structure block in the control file, specifying all required parameters for the chosen type (Section <a href="HD2D-1.html#HD2D-HS-SB-3">5.16.5</a>)</p></li>
<li><p>Add operational control if required by defining one or more control blocks. For hydraulic structures, controls may represent gates, valves, or pumps. For variable bathymetry, controls define when and how bed elevations are adjusted during the simulation. (Section <a href="HD2D-1.html#HD2D-HS-OSAVB-3">5.16.15</a>)</p></li>
</ol>
</div>
<div id="HD2D-HS-ST-3" class="section level3 hasAnchor" number="5.16.3">
<h3><span class="header-section-number">5.16.3</span> Structure Types<a href="HD2D-1.html#HD2D-HS-ST-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The available structure types are summarised in Table <a href="HD2D-1.html#tab:tab-StructureTypes">5.34</a>.</p>
<table>
<caption>
<span id="tab:tab-StructureTypes">Table 5.34: </span><strong>Structure Types</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Feature
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Weirs
</td>
<td style="text-align:left;">
Represent hydraulic control structures that pass or restrict flow based on water level (Section <a href="HD2D-1.html#HD2D-HS-Weir-3">5.16.6</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
Culverts
</td>
<td style="text-align:left;">
Model enclosed conduits conveying flow beneath embankments or structures (Section <a href="HD2D-1.html#HD2D-HS-Culv-3">5.16.7</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
Bridges
</td>
<td style="text-align:left;">
Simulate constrictions caused by bridge piers or decks (Section <a href="HD2D-1.html#HD2D-HS-Brid-3">5.16.8</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
Porous Structures
</td>
<td style="text-align:left;">
Define flow restrictions based on a user-specified permeability and Dary’s Law (Section <a href="HD2D-1.html#HD2D-HS-PS-3">5.16.9</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
User-Defined Matrix
</td>
<td style="text-align:left;">
Custom structure defined by a matrix relating upstream and downstream water levels to flow rate (Section <a href="HD2D-1.html#HD2D-HS-UDM-3">5.16.10</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
User-Defined Timeseries
</td>
<td style="text-align:left;">
Structure behavior is driven by prescribed flow time series (Section <a href="HD2D-1.html#HD2D-HS-UDT-3">5.16.11</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
Pumps
</td>
<td style="text-align:left;">
Represent forced conveyance of water from one location to another (Section <a href="HD2D-1.html#HD2D-HS-Pump-3">5.16.12</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
Walls (no flow)
</td>
<td style="text-align:left;">
Impose a no-flow boundary condition to fully block flow across a specified location (Section <a href="HD2D-1.html#HD2D-HS-Wall-3">5.16.13</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
Variable Bathymetry
</td>
<td style="text-align:left;">
Model localised adjustments to bed elevation based on a prescribed time
series, model-sampled parameters (e.g. flow or level), or a combination (Section <a href="HD2D-1.html#HD2D-HS-VB-3">5.16.14</a>).
of digital elevation model (DEM) surfaces and control rules.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-HS-SCT-3" class="section level3 hasAnchor" number="5.16.4">
<h3><span class="header-section-number">5.16.4</span> Structure Connection Types<a href="HD2D-1.html#HD2D-HS-SCT-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The structure connection type defines how a structure or variable bathymetry adjustment is spatially linked to the 2D domain.</p>
<p>For hydraulic structures, the connection type specifies how flow is exchanged between locations in the mesh (e.g., along a nodestring or between zones).
For bathymetry-adjusting structures, the connection type acts as a spatial selector, identifying the cells where bed level changes will be applied during the simulation.</p>
<p>The available connection types are described in Table <a href="HD2D-1.html#tab:tab-StructureConnectionTypes">5.35</a>. Not all connection types are applicable to every structure type and compatibility between structure types and connection types is summarised in Table <a href="HD2D-1.html#tab:tab-StructureConnectionMatrix">5.36</a>. Further information on structure connection science, and guidance on selecting the appropriate connection type for a given structure is provided in Appendix <a href="App2DHD-1.html#App2DHD-HS-Scie-SCT-4">E.16.1.1</a>.</p>
<p>The approach for spatially defining each connection type is outlined in the following sub-sections.</p>
<table>
<caption>
<span id="tab:tab-StructureConnectionTypes">Table 5.35: </span><strong>Structure Connection Types</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Connection Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Nodestring
</td>
<td style="text-align:left;">
Defined using a single polyline (nodestring). This configuration is typically used for structures that span a channel or flow path, such as weirs and bridges.
</td>
</tr>
<tr>
<td style="text-align:left;">
Linked Nodestrings
</td>
<td style="text-align:left;">
Defined using two separate polylines. This configuration connects two discrete locations in the model and is commonly used for culverts or structures with both inlet and outlet points. It also allows for overtopping flow across the embankment between the nodestrings.
</td>
</tr>
<tr>
<td style="text-align:left;">
Linked Zones
</td>
<td style="text-align:left;">
Defined using two separate polygons. This configuration connects two areas within the model domain and is generally used for pump structures or other systems transferring water between distinct zones where momentum is low.
</td>
</tr>
<tr>
<td style="text-align:left;">
Zone
</td>
<td style="text-align:left;">
Defined using a single polygon. This configuration modifies the hydraulic properties within a defined area based on time or other model conditions. It is typically used for implementing time-varying bathymetry.
</td>
</tr>
</tbody>
</table>
<table>
<caption>
<span id="tab:tab-StructureConnectionMatrix">Table 5.36: </span><strong>Supported 2D Connection Types</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Feature
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Nodestring
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Linked Nodestrings
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Linked Zones
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Zone
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Weir
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y*
</td>
<td style="text-align:left;">
Y*
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Culvert
</td>
<td style="text-align:left;">
Y*
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y*
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Bridge
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Pump
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Porous
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
User-Defined Matrix
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y*
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
User-Defined Timeseries
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y*
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Wall
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Bathymetry
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
Y
</td>
</tr>
</tbody>
</table>
<p>* Supported with limitations. MJS TODO: Beef this up here, need to either state it here or refer to specific sections the describe this.</p>
<div id="HD2D-HS-SLD-Node-4" class="section level4 hasAnchor" number="5.16.4.1">
<h4><span class="header-section-number">5.16.4.1</span> Nodestring<a href="HD2D-1.html#HD2D-HS-SLD-Node-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Nodestring structure connections are set using the
<a href="AppCommands.html#FVCReadGISNodestring"><tcmd>Read GIS Nodestring</tcmd></a>
command. During model initialisation (Section <a href="HD2D-1.html#HD2D-MI-2">5.2</a>),
template layers prefixed with ‘2d_ns_’ are created to support the
digitisation of nodestring polylines. Geometry type is indicated by the
‘_L’ suffix for polyline features (e.g., 2d_ns_Bridge_001_L.shp).
‘2d_ns_’ layers contain two attributes as shown in
Table <a href="HD2D-1.html#tab:tab-Empty2DNSStruct">5.37</a>. For hydraulic structure connections, the ID attribute should be populated and the Flag attribute left blank.</p>
<p>When read by TUFLOW FV, each polyline object is converted into a nodestring by snapping the polyline to the nearest cell faces along its path. The resulting nodestring cell face selections can be reviewed in the simulation output _ns_check_L layer if the <a href="AppCommands.html#FVCWriteCheckFiles"><tcmd>Write Check Files</tcmd></a> command is enabled.</p>
<table>
<caption>
<span id="tab:tab-Empty2DNSStruct">Table 5.37: </span><strong>Empty 2d_ns Nodestring GIS Layer For Hydraulic Structure Connections</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Attribute Name(s)
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ID
</td>
<td style="text-align:left;">
Unique identifier/name of the polyline
</td>
<td style="text-align:left;">
Character
</td>
</tr>
<tr>
<td style="text-align:left;">
Flags
</td>
<td style="text-align:left;">
Should be left blank for hydraulic structure connections.
</td>
<td style="text-align:left;">
Character
</td>
</tr>
</tbody>
</table>
<p>For hydraulic structure calculations the digitised direction of each polyline is important as it defines the upstream and downstream sides of the structure (see Appendix <a href="App2DHD-1.html#App2DHD-HS-Scie-SCT-4">E.16.1.1</a>). Polylines should be digitised from right to left when looking in the downstream direction. Figure <a href="HD2D-1.html#fig:fig-Single-Nodestring">5.16</a> illustrates this convention, showing a single nodestring at a dam spillway where a weir structure is applied. In this example, flow moves from the dam to the floodplain in a north-westerly direction (from the bottom left to the top right of the image), and the digitised nodestring follows the recommended right-to-left orientation.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Single-Nodestring"></span>
<img src="images/Single_Nodestring.gif" alt="Digitising a Nodestring (Single)" width="50%" />
<p class="caption">
Figure 5.16: Digitising a Nodestring (Single)
</p>
</div>
</center>
</div>
<div id="HD2D-HS-SLD-LN-4" class="section level4 hasAnchor" number="5.16.4.2">
<h4><span class="header-section-number">5.16.4.2</span> Linked Nodestrings<a href="HD2D-1.html#HD2D-HS-SLD-LN-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The spatial definition of linked nodestrings follows the same approach as for single nodestrings (Section <a href="HD2D-1.html#HD2D-HS-SLD-Node-4">5.16.4.1</a>), with the key difference being that two separate nodestrings are digitised to form a connection pair. Figure <a href="HD2D-1.html#fig:fig-Linked-Nodestrings">5.17</a> presents an example of this configuration, illustrating the digitisation of upstream and downstream nodestrings. In this example, linked nodestrings are used to represent a culvert beneath a road embankment. The bathymetry between the nodestrings is raised to define the embankment, allowing for the simulation of overtopping flow.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Linked-Nodestrings"></span>
<img src="images/Linked_Nodestrings.gif" alt="Digitising Linked Nodestrings" width="50%" />
<p class="caption">
Figure 5.17: Digitising Linked Nodestrings
</p>
</div>
</center>
</div>
<div id="HD2D-HS-SLD-LZ-4" class="section level4 hasAnchor" number="5.16.4.3">
<h4><span class="header-section-number">5.16.4.3</span> Linked Zones<a href="HD2D-1.html#HD2D-HS-SLD-LZ-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The location of linked zones are set using 2d_zn layers and the <tcmd>Read GIS Zone</tcmd> command.</p>
<p>During model initialisation (Section <a href="HD2D-1.html#HD2D-MI-2">5.2</a>), template layers
prefixed with ‘2d_zn_’ are created to support the digitisation of
zone connections. Geometry type is indicated by the ‘_R’ suffix for
region features (e.g., 2d_zn_Drain_001_R.shp). ‘2d_zn_’ layers
require the assignment of a single ‘Name’ attribute as shown in Table
<a href="HD2D-1.html#tab:tab-Empty2DZN">5.38</a>.</p>
<p>The cells selected by zone polygons can be reviewed in the simulation output _1d_to_2d_check_R layer if the <a href="AppCommands.html#FVCWriteCheckFiles"><tcmd>Write Check Files</tcmd></a> command is enabled.</p>
<table>
<caption>
<span id="tab:tab-Empty2DZN">Table 5.38: </span><strong>Empty 2d_zn Zone GIS Layer For Hydraulic Structure Connections</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Attribute Name(s)
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
Unique identifier/name of the zone.
</td>
<td style="text-align:left;">
Character
</td>
</tr>
</tbody>
</table>
<p>Figure <a href="HD2D-1.html#fig:fig-Linked-Zones">5.18</a> shows the upstream and downstream connection zones for a hydraulic structure through an embankment.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Linked-Zones"></span>
<img src="images/Linked_Zones.gif" alt="Digitising a Zone (Single)" width="50%" />
<p class="caption">
Figure 5.18: Digitising a Zone (Single)
</p>
</div>
</center>
</div>
<div id="HD2D-HS-SLD-Zone-4" class="section level4 hasAnchor" number="5.16.4.4">
<h4><span class="header-section-number">5.16.4.4</span> Zone<a href="HD2D-1.html#HD2D-HS-SLD-Zone-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The spatial definition of a single zone connection follows the same approach as for linked zones (Section <a href="HD2D-1.html#HD2D-HS-SLD-LZ-4">5.16.4.3</a>). Figure <a href="HD2D-1.html#fig:fig-Single-Zone">5.19</a> shows the the digitising of a single zone polygon where a breach of the levee bank is to occur during a simulation.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Single-Zone"></span>
<img src="images/Single_Zone.gif" alt="Digitising A Zone" width="50%" />
<p class="caption">
Figure 5.19: Digitising A Zone
</p>
</div>
</center>
</div>
</div>
<div id="HD2D-HS-SB-3" class="section level3 hasAnchor" number="5.16.5">
<h3><span class="header-section-number">5.16.5</span> Structure Block<a href="HD2D-1.html#HD2D-HS-SB-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Structure blocks define and configure both hydraulic (e.g., weirs, culverts, bridges, pumps) and variable bathymetry structures. Each block links the structure’s spatial location and connection type with its functional behaviour, either controlling flow conditions or modifying bed levels. Multiple structure blocks can be defined in a simulation, with each block operating independently.</p>
<p>A structure block is initiated with the <a href="#FVCStructure"><tcmd>Structure</tcmd></a> command, which specifies the connection type and location identifier(s). The block is closed with the <a href="AppCommands.html#FVCEndStructure"><tcmd>End Structure</tcmd></a> command. All commands between these lines apply only to the structure being defined.</p>
<p>For hydraulic structures with a single nodestring connection the general arrangement is:</p>
<pre><code>Structure = connection_type, location_ID 

  structure_type
  various structure_configuration commands
  
End Structure</code></pre>
<p>For hydraulic structures with linked nodestring or linked zone connections:</p>
<pre><code>Structure = connection_type, location_ID_upstream, location_ID_downstream

  structure_type
  various structure_configuration commands
  
End Structure</code></pre>
<p>For varying bathymetry structures using a zone connection:</p>
<pre><code>Structure = connection_type, location_ID 

  bathy_adjust_type
  various structure_configuration commands
  
End Structure</code></pre>
<p>Where:</p>
<ul>
<li>connection_type — defines how the structure connects to the model (e.g., Nodestring, Linked Nodestrings, Linked Zones, Zone).</li>
<li>location_ID or location_ID_upstream/downstream — matches a feature defined via <a href="AppCommands.html#FVCReadGISNodestring"><tcmd>Read GIS Nodestring</tcmd></a> or <a href="AppCommands.html#FVCReadGISZone"><tcmd>Read GIS Zone</tcmd></a>.</li>
<li>structure_type — specifies the hydraulic structure type (e.g., Weir, Culvert, Matrix), set using <a href="AppCommands.html#FVCFluxFunction"><tcmd>Flux Function</tcmd></a> or <a href="AppCommands.html#FVCEnergyLossFunction"><tcmd>Energy Loss Function</tcmd></a>.</li>
<li>bathy_adjust_type — specifies the bathymetry adjustment method (e.g., by DEM, absolute elevation, or offset elevation), set using <a href="AppCommands.html#FVCBedAdjust"><tcmd>Bed Adjust</tcmd></a>.</li>
<li>structure_configuration — commands and parameters specific to the chosen structure_type or bathy_adjust_type and connection_type.</li>
</ul>
<p>Detailed syntax and worked examples for each structure type are provided in Sections <a href="HD2D-1.html#HD2D-HS-Weir-3">5.16.6</a> to <a href="HD2D-1.html#HD2D-HS-VB-3">5.16.14</a>. A summary of structure block commands is presented in Table <a href="HD2D-1.html#tab:tab-StructureBlockCommands2DHD">5.39</a>.</p>
<table>
<caption>
<span id="tab:tab-StructureBlockCommands2DHD">Table 5.39: </span><strong>Structure Block Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="#FVCStructure">Structure</a>
</td>
<td style="text-align:left;">
Required - Defines the beginning of the structure block and the connection type linking the structure and 2D model domain.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCBedAdjust">Bed Adjust</a>
</td>
<td style="text-align:left;">
Optional - Sets the bathymetric modification model for variable bathymetry.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCBathyDatabase">Bathy Database</a>
</td>
<td style="text-align:left;">
Conditional - Required if Bed Adjust == bathy_database. Sets the csv filepath to a lookup table of digital elevation models (DEMs) to interpolate bathymetry values from.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCUpdatedt">Update dt</a>
</td>
<td style="text-align:left;">
Optional - Sets the interval to call the structure update function.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCName">Name</a>
</td>
<td style="text-align:left;">
Optional - Assigns a string name to the structure, which can be useful when reviewing structure csv outputs and log files.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCNLSWELimit">NLSWE Limit</a>
</td>
<td style="text-align:left;">
Conditional - Switches off structure flux limit checks. Required if modelling a pump.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCFluxFunction">Flux Function</a>
</td>
<td style="text-align:left;">
Conditional - Required if not using the default NLSWE structure model. Sets the flux model to modify flow equations.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCEnergyLossFunction">Energy Loss Function</a>
</td>
<td style="text-align:left;">
Conditional - Required if modelling a bridge structure or other flow interference. Sets the method to represent structure energy losses.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCZoneInlet/OutletOrientation">Zone Inlet/Outlet Orientation</a>
</td>
<td style="text-align:left;">
Conditional - Required for structures linked to the 2D domain using the linked zones connection type. Sets the flow direction at the upstream and downstream side of the structure. Used for flux limiting calculations.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCMaxOpenWidth">Max Open Width</a>
</td>
<td style="text-align:left;">
Conditional - Required for structures linked to the 2D domain using the linked zones connection type. Sets the maximum structure flow width. Used for flux limiting calculations.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCBlockageFile">Blockage File</a>
</td>
<td style="text-align:left;">
Optional - Can be used when modelling a bridge or flow constriction to reduce the effective flow width through the structure.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCWidthFile">Width File</a>
</td>
<td style="text-align:left;">
Optional - Can be used when modelling a bridge or flow constriction to reduce the effective flow width through the structure.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCEnergyLossFile">Energy Loss File</a>
</td>
<td style="text-align:left;">
Conditional - Required if using the table Energy Loss Function. Sets a relationship between structure flow (Q) and head loss (dH).
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCCulvertFile">Culvert File</a>
</td>
<td style="text-align:left;">
Conditional - Required when using the culvert flux function.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCProperties">Properties</a>
</td>
<td style="text-align:left;">
Conditional - Sets the hydraulic parameters of the structure if using the weir, weir_dz or porous flux function.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCFormLossCoefficient%5D">Form Loss Coefficient</a>
</td>
<td style="text-align:left;">
Conditional - Required if using the coeffecient energy loss function. Used to represent sub-grid scale energy losses as a function of the flow velocity head.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCControl">Control</a>
</td>
<td style="text-align:left;">
Optional - Used for structure operation or variable bathymetry. Defines the beginning of a control sub-block, and the structure control type. See Section <a href="HD2D-1.html#HD2D-HS-OSAVB-3">5.16.15</a>) for instructions on the configuration of operational structure and variable bathymetry control.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCEndControl">End Control</a>
</td>
<td style="text-align:left;">
Conditional - Defines the end of a structure control block.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCEndStructure">End Structure</a>
</td>
<td style="text-align:left;">
Required - Defines the end of a structure block.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-HS-Weir-3" class="section level3 hasAnchor" number="5.16.6">
<h3><span class="header-section-number">5.16.6</span> Weirs<a href="HD2D-1.html#HD2D-HS-Weir-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Weirs are defined by setting the <a href="AppCommands.html#FVCFluxFunction"><tcmd>Flux Function</tcmd></a> command within a structure block to one of the following.</p>
<ul>
<li>Weir: A weir structure with a fixed crest level</li>
<li>Weir_dz: A weir structure with a crest level (dz) above the existing cell elevation</li>
</ul>
<p>By default, both options implement the broad-crested weir equation with weir submergence, however a range of alternative weir types (Ogee, crump, sharp crest etc.) can also be modelled. Further information on the weir equation and alternative weir configurations are described in Appendix <a href="App2DHD-1.html#App2DHD-HS-Scie-Weir-4">E.16.1.2</a>.
Hydraulic parameters for the weir equation are specified using the <a href="AppCommands.html#FVCPropertiesWeir"><tcmd>Properties</tcmd></a> command.</p>
<p>The weir flux function is supported for the nodestring and linked nodestrings structure connection types. Linked zones are also supported, although use in this context is recommended only for areas where flow momentum is low (e.g., flow velocities less than 0.5 m/s). The weir_dz flux function is supported for the nodestring connection type only.</p>
<p>Example weir and weir_dz flux function types for each supported connection type are provided below.</p>
<p><strong>Weir - Single Nodestring</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_SNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Weir</tblk>                                  <tgrn>! 1D weir</tgrn>
&nbsp;&nbsp;<tcmd>Properties</tcmd> <teq>==</teq> <tblk>3.0, 1.705, 1.5, 8.55, 0.556, 0.7</tblk>      <tgrn>! {No default} H(mRL), {1.705} C, {1.5} Ex,  {8.55} a, {0.556} b, {0.7} Csf_min  </tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p><strong>Weir - Linked Nodestrings</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_LNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Linked Nodestrings, LNS_US, LNS_DS </tblk>                         <tgrn>! connection_type, nodestring_id_upstream, nodestring_id_downstream </tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Weir</tblk>                                  <tgrn>! 1D weir</tgrn>
&nbsp;&nbsp;<tcmd>Properties</tcmd> <teq>==</teq> <tblk>3.0, 1.705, 1.5, 8.55, 0.556, 0.7</tblk>      <tgrn>! {No default} H(mRL), {1.705} C, {1.5} Ex,  {8.55} a, {0.556} b, {0.7} Csf_min  </tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p><strong>Weir - Linked Zones</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Zone</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zn_LZN_001_R.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Linked Zones, LZN_US, LZN_DS  </tblk>                         <tgrn>! connection_type, zone_id_upstream, zone_id_downstream </tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Weir</tblk>                                  <tgrn>! 1D weir</tgrn>
&nbsp;&nbsp;<tcmd>Properties</tcmd> <teq>==</teq> <tblk>3.0, 1.705, 1.5, 8.55, 0.556, 0.7</tblk>      <tgrn>! {No default} H(mRL), {1.705} C, {1.5} Ex,  {8.55} a, {0.556} b, {0.7} Csf_min  </tgrn>
&nbsp;&nbsp;<tcmd>Max Open Width</tcmd> <teq>==</teq> <tblk>4.0</tblk>                                         <tgrn>! {No default for weirs} Max flow width (m) for flux limiting</tgrn>
&nbsp;&nbsp;<tcmd>Zone Inlet/Outlet Orientation</tcmd> <teq>==</teq> <tblk>180., 180</tblk>                   <tgrn>! {No default} Inlet and outlet angle (degrees anticlockwise from east)</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p><strong>Weir_dz - Single Nodestring</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_SNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Weir_dz</tblk>                                  <tgrn>! 1D weir</tgrn>
&nbsp;&nbsp;<tcmd>Properties</tcmd> <teq>==</teq> <tblk>0.2, 1.705, 1.5, 8.55, 0.556, 0.7</tblk>      <tgrn>! {No default} dz(m), {1.705} C, {1.5} Ex,  {8.55} a, {0.556} b, {0.7} Csf_min  </tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
</div>
<div id="HD2D-HS-Culv-3" class="section level3 hasAnchor" number="5.16.7">
<h3><span class="header-section-number">5.16.7</span> Culverts<a href="HD2D-1.html#HD2D-HS-Culv-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Culverts are defined using the <a href="AppCommands.html#FVCFluxFunction"><tcmd>Flux Function</tcmd></a> command in combination with a culvert database read using the <a href="AppCommands.html#FVCCulvertFile"><tcmd>Culvert File</tcmd></a> command.</p>
<p>Advanced configuration for inlet control and automatic inlet and outlet energy loss coefficients are specified using the <a href="AppCommands.html#FVCCulvertParameters"><tcmd>Culvert Parameters</tcmd></a> command, however typically these can be omitted from the .fvc file and the default values can be applied.</p>
<p>Further information on culvert calculation science and culvert file configuration is provided in Appendix <a href="App2DHD-1.html#App2DHD-HS-Scie-Culv-4">E.16.1.3</a>.</p>
<p>Culverts are typically implemented using the linked nodestring connection type. Linked zones are also supported, but are recommended only in areas with low flow momentum (e.g., velocities below 0.5 m/s). Single nodestrings can be used, however they do not allow for embankment overtopping and should therefore be avoided where overtopping is likely.</p>
<p>Culvert examples for each connection type are provided below.</p>
<p><strong>Culvert - Single Nodestring</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_SNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Culvert</tblk>                                  <tgrn>! 1D culvert</tgrn>
&nbsp;&nbsp;<tcmd>Culvert File</tcmd> <teq>==</teq> <tblk>..\model\csv\Culvert_database.csv, 1</tblk>      <tgrn>! 1 x 2.8m 1.4m box culvert</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p><strong>Culvert - Linked Nodestrings</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_LNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Linked Nodestrings, LNS_US, LNS_DS </tblk>                         <tgrn>! connection_type, nodestring_id_upstream, nodestring_id_downstream </tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Culvert</tblk>                                  <tgrn>! 1D culvert</tgrn>
&nbsp;&nbsp;<tcmd>Culvert File</tcmd> <teq>==</teq> <tblk>..\model\csv\Culvert_database.csv, 1</tblk>      <tgrn>! 1 x 2.8m 1.4m box culvert</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p><strong>Culvert - Linked Zones</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Zone</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zn_LZN_001_R.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Culvert</tblk>                                  <tgrn>! 1D culvert</tgrn>
&nbsp;&nbsp;<tcmd>Culvert File</tcmd> <teq>==</teq> <tblk>..\model\csv\Culvert_database.csv, 1</tblk>      <tgrn>! 1 x 2.8m 1.4m box culvert</tgrn>
&nbsp;&nbsp;<tgrn>! Max Open Width == Automatically calculated from culvert geometry </tgrn> 
&nbsp;&nbsp;<tcmd>Zone Inlet/Outlet Orientation</tcmd> <teq>==</teq> <tblk>180., 180</tblk>                   <tgrn>! {No default} Inlet and outlet angle (degrees anticlockwise from east)</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
</div>
<div id="HD2D-HS-Brid-3" class="section level3 hasAnchor" number="5.16.8">
<h3><span class="header-section-number">5.16.8</span> Bridges<a href="HD2D-1.html#HD2D-HS-Brid-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Bridge decks, abutments and piers are represented using one of the following energy loss methods.</p>
<ol style="list-style-type: decimal">
<li><p>Energy losses calculated by the model using a combination of user specified form loss coefficient and optional application of a width (or blockage) file (Section <a href="HD2D-1.html#HD2D-HS-Brid-FLC-4">5.16.8.1</a>)</p></li>
<li><p>A lookup table of energy losses as a function of flow rate (Section <a href="HD2D-1.html#HD2D-HS-Brid-ELT-4">5.16.8.2</a>)</p></li>
</ol>
<p>Both methods are supported for nodestring and linked nodestrings connection types only.</p>
<p>Further detail on the scientific basis of energy loss functions is provided in Appendix <a href="App2DHD-1.html#App2DHD-HS-Scie-Brid-4">E.16.1.4</a>.</p>
<div id="HD2D-HS-Brid-FLC-4" class="section level4 hasAnchor" number="5.16.8.1">
<h4><span class="header-section-number">5.16.8.1</span> Form Loss Coefficient<a href="HD2D-1.html#HD2D-HS-Brid-FLC-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Energy loss coefficients are defined using the <a href="AppCommands.html#FVCEnergyLossFunction"><tcmd>Energy Loss Function</tcmd></a> command. To account for reductions in effective flow width caused by bridge abutments or piers, either a <a href="AppCommands.html#FVCBlockageFile"><tcmd>Blockage File</tcmd></a> or a <a href="AppCommands.html#FVCWidthFile"><tcmd>Width File</tcmd></a> may be applied.</p>
<p>Example control file syntax is shown below, with accompanying illustrations of a blockage file (Figure <a href="HD2D-1.html#fig:fig-Blockage-File">5.20</a>) and width file (Figure <a href="HD2D-1.html#fig:fig-Width-File">5.21</a>).</p>
<p><strong>Bridge With Form Loss Coefficient - Single Nodestring</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_SNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Energy Loss Function</tcmd> <teq>==</teq> <tblk>Coefficient</tblk>                                  <tgrn>! {None} | Coefficient | Table</tgrn>
&nbsp;&nbsp;<tcmd>Form Loss Coefficient</tcmd> <teq>==</teq> <tblk>0.25</tblk>                                  <tgrn>! {0.0} Form loss coefficient</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p><strong>Bridge With Form Loss Coefficient - Linked Nodestrings</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_SNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Linked Nodestrings, LNS_US, LNS_DS </tblk>                         <tgrn>! connection_type, nodestring_id_upstream, nodestring_id_downstream </tgrn>
&nbsp;&nbsp;<tcmd>Energy Loss Function</tcmd> <teq>==</teq> <tblk>Coefficient</tblk>                                  <tgrn>! {None} | Coefficient | Table</tgrn>
&nbsp;&nbsp;<tcmd>Form Loss Coefficient</tcmd> <teq>==</teq> <tblk>0.25</tblk>                                  <tgrn>! {0.0} Form loss coefficient</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p><strong>Bridge With Form Loss Coefficient And Blockage File - Single Nodestring</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_SNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Energy Loss Function</tcmd> <teq>==</teq> <tblk>Coefficient</tblk>                                  <tgrn>! {None} | Coefficient | Table</tgrn>
&nbsp;&nbsp;<tcmd>Form Loss Coefficient</tcmd> <teq>==</teq> <tblk>0.25</tblk>                                  <tgrn>! {0.0} Form loss coefficient</tgrn>
&nbsp;&nbsp;<tcmd>Blockage File</tcmd> <teq>==</teq> <tblk>..\model\csv\Bridge_BLK_001.csv</tblk>      <tgrn>! Blockage file</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<pre><code>Bridge_BLK_001.csv
Z, FRAC
5.0, 0.9
7.0, 0.9
7.1, 0.0
7.9, 0.0
8.0, 0.5
8.9, 0.5
9.0, 1.0</code></pre>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Blockage-File"></span>
<img src="images/Blockage_File.png" alt="Blockage File - Bridge_BLK_001.csv" width="50%" />
<p class="caption">
Figure 5.20: Blockage File - Bridge_BLK_001.csv
</p>
</div>
</center>
<p><strong>Bridge With Form Loss Coefficient And Blockage File - Linked Nodestrings</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_LNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Linked Nodestrings, LNS_US, LNS_DS </tblk>                         <tgrn>! connection_type, nodestring_id_upstream, nodestring_id_downstream </tgrn>
&nbsp;&nbsp;<tcmd>Energy Loss Function</tcmd> <teq>==</teq> <tblk>Coefficient</tblk>                                  <tgrn>! {None} | Coefficient | Table</tgrn>
&nbsp;&nbsp;<tcmd>Form Loss Coefficient</tcmd> <teq>==</teq> <tblk>0.25</tblk>                                  <tgrn>! {0.0} Form loss coefficient</tgrn>
&nbsp;&nbsp;<tcmd>Blockage File</tcmd> <teq>==</teq> <tblk>..\model\csv\Bridge_BLK_001.csv</tblk>      <tgrn>! Blockage file</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p><strong>Bridge With Form Loss Coefficient And Width File - Single Nodestring</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_SNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Energy Loss Function</tcmd> <teq>==</teq> <tblk>Coefficient</tblk>                                  <tgrn>! {None} | Coefficient | Table</tgrn>
&nbsp;&nbsp;<tcmd>Form Loss Coefficient</tcmd> <teq>==</teq> <tblk>0.25</tblk>                                  <tgrn>! {0.0} Form loss coefficient</tgrn>
&nbsp;&nbsp;<tcmd>Width File</tcmd> <teq>==</teq> <tblk>..\model\csv\Bridge_WID_001.csv</tblk>      <tgrn>! Width file</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<pre><code>Bridge_WID_001.csv
Z, WIDTH
5.0, 9.0
7.0, 9.0
7.1, 0.0
7.9, 0.0
8.0, 5.0
8.9, 5.0
9.0, 10.0</code></pre>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Width-File"></span>
<img src="images/Width_File.png" alt="Width File - Bridge_WID_001.csv" width="50%" />
<p class="caption">
Figure 5.21: Width File - Bridge_WID_001.csv
</p>
</div>
</center>
<p><strong>Bridge With Form Loss Coefficient And Width File - Linked Nodestrings</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_LNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Linked Nodestrings, LNS_US, LNS_DS </tblk>                         <tgrn>! connection_type, nodestring_id_upstream, nodestring_id_downstream </tgrn>
&nbsp;&nbsp;<tcmd>Energy Loss Function</tcmd> <teq>==</teq> <tblk>Coefficient</tblk>                                  <tgrn>! {None} | Coefficient | Table</tgrn>
&nbsp;&nbsp;<tcmd>Form Loss Coefficient</tcmd> <teq>==</teq> <tblk>0.25</tblk>                                  <tgrn>! {0.0} Form loss coefficient</tgrn>
&nbsp;&nbsp;<tcmd>Width File</tcmd> <teq>==</teq> <tblk>..\model\csv\Bridge_WID_001.csv</tblk>      <tgrn>! Width file</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
</div>
<div id="HD2D-HS-Brid-ELT-4" class="section level4 hasAnchor" number="5.16.8.2">
<h4><span class="header-section-number">5.16.8.2</span> Energy Loss Table<a href="HD2D-1.html#HD2D-HS-Brid-ELT-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Energy loss tables enable the user the directly assign the kinetic energy head loss (dH) as a function of flow using a combination of the <a href="AppCommands.html#FVCEnergyLossFunction"><tcmd></tcmd></a> and <a href="AppCommands.html#FVCEnergyLossFile"><tcmd>Energy Loss File</tcmd></a> commands.</p>
<p>Example control file syntax and energy loss files are provided below.</p>
<p><strong>Bridge With Energy Loss Table - Single Nodestring</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_SNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Energy Loss Function</tcmd> <teq>==</teq> <tblk>Table</tblk>                                  <tgrn>! {None} | Coefficient | Table</tgrn>
&nbsp;&nbsp;<tcmd>Energy Loss File</tcmd> <teq>==</teq> <tblk>..\model\csv\Bridge_ELT_001.csv</tblk>                                  <tgrn>! Energy loss file</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<pre><code>Bridge_ELT_001.csv
Q, dH
-5,0.1
0,0
1,0.02
2,0.05
5,0.1</code></pre>
<p><strong>Bridge With Energy Loss Table - Linked Nodestrings</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_SNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Linked Nodestrings, LNS_US, LNS_DS </tblk>                         <tgrn>! connection_type, nodestring_id_upstream, nodestring_id_downstream </tgrn>
&nbsp;&nbsp;<tcmd>Energy Loss Function</tcmd> <teq>==</teq> <tblk>Table</tblk>                                  <tgrn>! {None} | Coefficient | Table</tgrn>
&nbsp;&nbsp;<tcmd>Energy Loss File</tcmd> <teq>==</teq> <tblk>..\model\csv\Bridge_ELT_001.csv</tblk>                                  <tgrn>! Energy loss file</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
</div>
</div>
<div id="HD2D-HS-PS-3" class="section level3 hasAnchor" number="5.16.9">
<h3><span class="header-section-number">5.16.9</span> Porous Structures<a href="HD2D-1.html#HD2D-HS-PS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Porous structures allow the modification of flow based on Darcy’s law through a porous media. Porous structures are defined using the <a href="AppCommands.html#FVCFluxFunction"><tcmd>Flux Function</tcmd></a> command in combination with hydraulic properties set using the <a href="AppCommands.html#FVCPropertiesPorous"><tcmd>Properties</tcmd></a> command.</p>
<p>Further information on Darcy’s equation and the required hydraulic properties is provided in Appendix <a href="App2DHD-1.html#App2DHD-HS-Scie-PS-4">E.16.1.5</a>.</p>
<p>Porous structures are supported for nodestring, linked nodestrings and linked zones connection types. Example .fvc file snippets for each connection type are provided below.</p>
<p><strong>Porous - Single Nodestring</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_SNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Porous</tblk>                                  <tgrn>! Permeable structure - Darcy's Law</tgrn>
&nbsp;&nbsp;<tcmd>Properties</tcmd> <teq>==</teq> <tblk>0.001, 10</tblk>      <tgrn>! {No default} K (m/s), {No default} Flowpath length (m)</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p><strong>Porous - Linked Nodestrings</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_LNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Linked Nodestrings, LNS_US, LNS_DS </tblk>                         <tgrn>! connection_type, nodestring_id_upstream, nodestring_id_downstream </tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Porous</tblk>                                  <tgrn>! Permeable structure - Darcy's Law</tgrn>
&nbsp;&nbsp;<tcmd>Properties</tcmd> <teq>==</teq> <tblk>0.001, 10</tblk>      <tgrn>! {No default} K (m/s), {No default} Flowpath length (m)</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p><strong>Porous - Linked Zones</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Zone</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zn_LZN_001_R.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Porous</tblk>                                  <tgrn>! Permeable structure - Darcy's Law</tgrn>
&nbsp;&nbsp;<tcmd>Properties</tcmd> <teq>==</teq> <tblk>0.001, 10</tblk>      <tgrn>! {No default} K (m/s), {No default} Flowpath length (m)</tgrn> 
&nbsp;&nbsp;<tcmd>Zone Inlet/Outlet Orientation</tcmd> <teq>==</teq> <tblk>180., 180</tblk>                   <tgrn>! {No default} Inlet and outlet angle (degrees anticlockwise from east)</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
</div>
<div id="HD2D-HS-UDM-3" class="section level3 hasAnchor" number="5.16.10">
<h3><span class="header-section-number">5.16.10</span> User-Defined Matrix<a href="HD2D-1.html#HD2D-HS-UDM-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>User-defined matrix structures are configured by setting the <a href="AppCommands.html#FVCFluxFunction"><tcmd>Flux Function</tcmd></a> command to Matrix and specifying a matrix file using the <a href="AppCommands.html#FVCFluxFile"><tcmd>Flux File</tcmd></a> command.</p>
<p>This structure type allows the user to define flow as a function of upstream and downstream water levels through a custom matrix of values. Each matrix entry defines a triplet of upstream head (h_us), downstream head (h_ds), and the resulting flow rate (Q). During a simulation, TUFLOW FV interpolates the matrix to determine the flow rate corresponding to the current head conditions.</p>
<p>The user-defined matrix structure is flexible and can represent a wide range of hydraulic behaviours, including irregular weirs, gates, or compound structures. However, it requires the modeller to fully define the flow relationship via a flux file.</p>
<p>Supported connection types include nodestring and linked nodestrings. Linked zones are also supported, although use in this context is recommended only for areas where flow momentum is low (e.g., flow velocities less than 0.5 m/s).</p>
<p>Further detail on matrix structure science and matrix file formatting is provided in Appendix <a href="App2DHD-1.html#App2DHD-HS-Scie-UDM-4">E.16.1.6</a>. Example structure blocks for each supported connection type are provided below.</p>
<p><strong>Matrix - Single Nodestring</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_SNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Matrix</tblk>                                  <tgrn>! User-defined flow matrix</tgrn>
&nbsp;&nbsp;<tcmd>Flux File</tcmd> <teq>==</teq> <tblk>..\model\csv\Matrix_001.csv</tblk>      <tgrn>! hQh matrix file</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<pre><code>Matrix_001.csv - Simple example symmetrical flow matrix
WL_DS,WL_US,,,
1,1,2,4,10
1,0,3.6,5,6
2,-3.6,0,4,5
4,-5,-4,0,4.5
10,-6,-5,-4.5,0
</code></pre>
<p><strong>Matrix - Linked Nodestrings</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_LNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Linked Nodestrings, LNS_US, LNS_DS </tblk>                         <tgrn>! connection_type, nodestring_id_upstream, nodestring_id_downstream </tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Matrix</tblk>                                  <tgrn>! User-defined flow matrix</tgrn>
&nbsp;&nbsp;<tcmd>Flux File</tcmd> <teq>==</teq> <tblk>..\model\csv\Matrix_001.csv</tblk>      <tgrn>! hQh matrix file</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p><strong>Matrix - Linked Zones</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Zone</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zn_LZN_001_R.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Matrix</tblk>                                  <tgrn>! User-defined flow matrix</tgrn>
&nbsp;&nbsp;<tcmd>Flux File</tcmd> <teq>==</teq> <tblk>..\model\csv\Matrix_001.csv</tblk>      <tgrn>! hQh matrix file</tgrn> 
&nbsp;&nbsp;<tcmd>Zone Inlet/Outlet Orientation</tcmd> <teq>==</teq> <tblk>180., 180</tblk>                   <tgrn>! {No default} Inlet and outlet angle (degrees anticlockwise from east)</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
</div>
<div id="HD2D-HS-UDT-3" class="section level3 hasAnchor" number="5.16.11">
<h3><span class="header-section-number">5.16.11</span> User-Defined Timeseries<a href="HD2D-1.html#HD2D-HS-UDT-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To use this method, the <a href="AppCommands.html#FVCFluxFunction"><tcmd>Flux Function</tcmd></a> is set to Timeseries within the structure block, and the flow time series is specified using a secondary <a href="AppCommands.html#FVCFluxFile"><tcmd>Flux File</tcmd></a> command.</p>
<p>Supported connection types include nodestring and linked nodestrings. Linked zones are also supported, although use in this context is recommended only for areas where flow momentum is low (e.g., flow velocities less than 0.5 m/s).</p>
<p>Further detail on timeseries stucture science is provided in Appendix <a href="App2DHD-1.html#App2DHD-HS-Scie-UDTi-4">E.16.1.7</a>. Example structure blocks for each supported connection type are provided below. An example .csv flux file is also provided.</p>
<p><strong>Timeseries - Single Nodestring</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_SNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Timeseries</tblk>                                  <tgrn>! User-specified flow timeseries</tgrn>
&nbsp;&nbsp;<tcmd>Flux File</tcmd> <teq>==</teq> <tblk>..\model\csv\Gate_Release_001.csv</tblk>      <tgrn>! Measured flow release</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p>If <a href="AppCommands.html#FVCTimeFormat"><tcmd>Time Format</tcmd></a> <teq>==</teq> <tblk>Hours</tblk>:</p>
<pre><code>Gate_Release_001.csv
time,Q
0,0
1.0,2
1.5,6
10,12.5</code></pre>
<p>If <a href="AppCommands.html#FVCTimeFormat"><tcmd>Time Format</tcmd></a> <teq>==</teq> <tblk>ISODATE</tblk>:</p>
<pre><code>Gate_Release_001.csv
time,Q
01/01/2024 00:00:00,0
01/01/2024 01:00:00,2
01/01/2024 01:30:00,6
01/01/2024 12:30:00,12.6</code></pre>
<p><strong>Timeseries - Linked Nodestrings</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_LNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Linked Nodestrings, LNS_US, LNS_DS </tblk>                         <tgrn>! connection_type, nodestring_id_upstream, nodestring_id_downstream </tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Timeseries</tblk>                                  <tgrn>! User-specified flow timeseries</tgrn>
&nbsp;&nbsp;<tcmd>Flux File</tcmd> <teq>==</teq> <tblk>..\model\csv\Gate_Release_001.csv</tblk>      <tgrn>! Measured flow release</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p><strong>Timeseries - Linked Zones</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Zone</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zn_LZN_001_R.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Timeseries</tblk>                                  <tgrn>! User-specified flow timeseries</tgrn>
&nbsp;&nbsp;<tcmd>Flux File</tcmd> <teq>==</teq> <tblk>..\model\csv\Gate_Release_001.csv</tblk>      <tgrn>! Measured flow release</tgrn>
&nbsp;&nbsp;<tcmd>Zone Inlet/Outlet Orientation</tcmd> <teq>==</teq> <tblk>180., 180</tblk>                   <tgrn>! {No default} Inlet and outlet angle (degrees anticlockwise from east)</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
</div>
<div id="HD2D-HS-Pump-3" class="section level3 hasAnchor" number="5.16.12">
<h3><span class="header-section-number">5.16.12</span> Pumps<a href="HD2D-1.html#HD2D-HS-Pump-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Pumps are modelled using the same approach as user-defined time series structures, with one additional requirement: the <a href="AppCommands.html#FVCNLSWELimit"><tcmd>NLSWE Limit</tcmd></a> command must be included to disable flux limiting. This ensures the full user-specified flow is applied. Examples of pump configurations for each supported connection type are provided below.</p>
<p><strong>Pump - Single Nodestring</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_SNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Timeseries</tblk>                                  <tgrn>! User-specified flow timeseries</tgrn>
&nbsp;&nbsp;<tcmd>Flux File</tcmd> <teq>==</teq> <tblk>..\model\csv\Pump_001.csv</tblk>      <tgrn>! Logged pumping times</tgrn>
&nbsp;&nbsp;<tcmd>NLSWE Limit</tcmd> <teq>==</teq> <tblk>0</tblk>      <tgrn>! Disable flux limiting for pump</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p>If <a href="AppCommands.html#FVCTimeFormat"><tcmd>Time Format</tcmd></a> <teq>==</teq> <tblk>Hours</tblk>:</p>
<pre><code>Pump_001.csv
time,Q
0,0
0.99,0
1.0,2
1.5,2
1.51,0
5,0</code></pre>
<p>If <a href="AppCommands.html#FVCTimeFormat"><tcmd>Time Format</tcmd></a> <teq>==</teq> <tblk>ISODATE</tblk>:</p>
<pre><code>Pump_001.csv
time,Q
01/01/2024 00:00:00,0
01/01/2024 00:59:00,0
01/01/2024 01:00:00,2
01/01/2024 01:30:00,2
01/01/2024 01:31:00,0
01/01/2024 05:00:00,0</code></pre>
<p><strong>Pump - Linked Nodestrings</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_LNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Linked Nodestrings, LNS_US, LNS_DS </tblk>                         <tgrn>! connection_type, nodestring_id_upstream, nodestring_id_downstream </tgrn>
&nbsp;&nbsp;<tcmd>Flux File</tcmd> <teq>==</teq> <tblk>..\model\csv\Pump_001.csv</tblk>      <tgrn>! Logged pumping times</tgrn>
&nbsp;&nbsp;<tcmd>NLSWE Limit</tcmd> <teq>==</teq> <tblk>0</tblk>      <tgrn>! Disable flux limiting for pump</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<p><strong>Pump - Linked Zones</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Zone</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zn_LZN_001_R.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Timeseries</tblk>                                  <tgrn>! User-specified flow timeseries</tgrn>
&nbsp;&nbsp;<tcmd>Flux File</tcmd> <teq>==</teq> <tblk>..\model\csv\Pump_001.csv</tblk>      <tgrn>! Logged pumping times</tgrn>
&nbsp;&nbsp;<tcmd>NLSWE Limit</tcmd> <teq>==</teq> <tblk>0</tblk>      <tgrn>! Disable flux limiting for pump</tgrn>
&nbsp;&nbsp;<tcmd>Zone Inlet/Outlet Orientation</tcmd> <teq>==</teq> <tblk>180., 180</tblk>                   <tgrn>! {No default} Inlet and outlet angle (degrees anticlockwise from east)</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
</div>
<div id="HD2D-HS-Wall-3" class="section level3 hasAnchor" number="5.16.13">
<h3><span class="header-section-number">5.16.13</span> Walls<a href="HD2D-1.html#HD2D-HS-Wall-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Wall type flux-functions block all flow and can be used to block flow along cell edges where the model resolution would otherwise not allow the bathymetry to do so.</p>
<p>They are supported for single nodestring connection types only.</p>
<p><strong>Weir - Single Nodestring</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Nodestring</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_ns_SNS_001_L.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Nodestring, SNS_HS</tblk>                         <tgrn>! connection_type, nodestring_id</tgrn>
&nbsp;&nbsp;<tcmd>Flux Function</tcmd> <teq>==</teq> <tblk>Wall</tblk>                                  <tgrn>! No flow</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
</div>
<div id="HD2D-HS-VB-3" class="section level3 hasAnchor" number="5.16.14">
<h3><span class="header-section-number">5.16.14</span> Variable Bathymetry<a href="HD2D-1.html#HD2D-HS-VB-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>All variable bathymetry structures use the Zone connection type. The bathymetry adjustment method is specified in the structure block using the <a href="AppCommands.html#FVCBedAdjust"><tcmd>Bed Adjust</tcmd></a> command. Temporal bathymetry changes are applied via one or more structure control blocks nested within the same structure definition.</p>
<p>This section provides syntax and configuration examples for Zb, dZb, and Bathy_Database bed adjustment types. A control block example is included for demonstration purpose. Control block commands and configuration is described in Section <a href="HD2D-1.html#HD2D-HS-OSAVB-3">5.16.15</a>.</p>
<p><strong>Variable Bathymetry - Zb_Adjust</strong>
MJS TODO: For each example, provide a brief summary of what the example is doing…</p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Zone</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zn_SZN_001_R.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Zone, Rabbit_Levee</tblk>                         <tgrn>! connection_type, zone_id</tgrn>
&nbsp;&nbsp;<tcmd>Bed Adjust</tcmd> <teq>==</teq> <tblk>ZB_Adjust</tblk>                                  <tgrn>! {''} |  Zb_Adjust | dZb_Adjust | Bathy_Database</tgrn>

&nbsp;&nbsp;<tgrn>! Nested Control Block - See Operational Structures Section</tgrn>
&nbsp;&nbsp;<tcmd>Control</tcmd> <teq>==</teq> <tblk>Trigger</tblk>                                  <tgrn>! {None} | Trigger | Timeseries | Sample | Sample_Rule | Target_Rule</tgrn

&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Control Parameter</tcmd> <teq>==</teq> <tblk>Zb</tblk>                                  <tgrn>! {''} | Zb | dZb | Bathy_Control </tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Sample Point</tcmd> <teq>==</teq> <tblk>540587.55,6866450.77  </tblk>                                  <tgrn>! {No default} Sample x coordinate, {No default} Sample y coordinate</tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Sample Parameter</tcmd> <teq>==</teq> <tblk>WL</tblk>                                  <tgrn>! {''} | Any model variable </tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Sample dt</tcmd> <teq>==</teq> <tblk>0.0167</tblk>                                  <tgrn>! {No default} Sample timestep (hrs) </tgrn
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Control Update dt</tcmd> <teq>==</teq> <tblk>0.0167</tblk>                                  <tgrn>! {0 computational timestep} Control update timestep (hrs) </tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Trigger Value</tcmd> <teq>==</teq> <tblk>2.25</tblk>                                  <tgrn>! {No default} Value of sample parameter at sample point to initiate trigger control file response </tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Control File</tcmd> <teq>==</teq> <tblk>..\model\csv\Breach_Survey_001.csv</tblk>                                  <tgrn>! Timeseries of bed change after trigger initiated </tgrn>
&nbsp;&nbsp;<tcmd>End Control</tcmd> <tgrn>!Close nested control block</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<pre><code>Breach_Survey_001.csv
Time, Zb
0,5
1,2.6
3,1.5</code></pre>
<p>Time is in hours following the trigger condition being met regardless of time format being hours or ISODATE.</p>
<p><strong>Variable Bathymetry - dZb_Adjust</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Zone</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zn_SZN_001_R.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Zone, Bed_Scour</tblk>                         <tgrn>! connection_type, zone_id</tgrn>
&nbsp;&nbsp;<tcmd>Bed Adjust</tcmd> <teq>==</teq> <tblk>dZb_Adjust</tblk>                                  <tgrn>! {''} |  Zb_Adjust | dZb_Adjust | Bathy_Database</tgrn>

&nbsp;&nbsp;<tgrn>! Nested Control Block - See Operational Structures Section</tgrn>
&nbsp;&nbsp;<tcmd>Control</tcmd> <teq>==</teq> <tblk>Trigger</tblk>                                  <tgrn>! {None} | Trigger | Timeseries | Sample | Sample_Rule | Target_Rule</tgrn

&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Control Parameter</tcmd> <teq>==</teq> <tblk>dZb</tblk>                                  <tgrn>! {''} | Zb | dZb | Bathy_Control </tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Sample Point</tcmd> <teq>==</teq> <tblk>540587.55,6866450.77  </tblk>                                  <tgrn>! {No default} Sample x coordinate, {No default} Sample y coordinate</tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Sample Parameter</tcmd> <teq>==</teq> <tblk>WL</tblk>                                  <tgrn>! {''} | Any model variable </tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Sample dt</tcmd> <teq>==</teq> <tblk>0.0167</tblk>                                  <tgrn>! {No default} Sample timestep (hrs) </tgrn
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Control Update dt</tcmd> <teq>==</teq> <tblk>0.0167</tblk>                                  <tgrn>! {0 computational timestep} Control update timestep (hrs) </tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Trigger Value</tcmd> <teq>==</teq> <tblk>2.25</tblk>                                  <tgrn>! {No default} Value of sample parameter at sample point to initiate trigger control file response </tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Control File</tcmd> <teq>==</teq> <tblk>..\model\csv\Bed_Scour_001.csv</tblk>                                  <tgrn>! Timeseries of bed change after trigger initiated </tgrn>
&nbsp;&nbsp;<tcmd>End Control</tcmd> <tgrn>!Close nested control block</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<pre><code>Bed_Scour_dZb_001.csv
Time, dZb
0,-0.5
1,-1.6
3,-2.5</code></pre>
<p>Time is in hours following the trigger condition being met regardless of time format being hours or ISODATE. dZb is relative to the static bathymetry level at the start of the simulation, or from the previous Zb level if trigger reset is enabled.</p>
<p><strong>Variable Bathymetry - Bathy_Database</strong></p>
<pre><code>
<tgrn>! Set Hydraulic Structure Location(s)</tgrn>
<tcmd>Read GIS Zone</tcmd> <teq>==</teq> <tblk>..\model\gis\2d_zn_SZN_001_R.shp</tblk>

<tgrn>! Structure Block</tgrn>
<tcmd>Structure</tcmd> <teq>==</teq> <tblk>Zone, Bed_Scour</tblk>                         <tgrn>! connection_type, zone_id</tgrn>
&nbsp;&nbsp;<tcmd>Bed Adjust</tcmd> <teq>==</teq> <tblk>Bathy_Database</tblk>                                  <tgrn>! {''} |  Zb_Adjust | dZb_Adjust | Bathy_Database</tgrn>
&nbsp;&nbsp;<tcmd>Bathy Database</tcmd> <teq>==</teq> <tblk>..\model\csv\Bathy_Database_001.csv</tblk>                                  <tgrn>! {''} Path to bathymery database file</tgrn>

&nbsp;&nbsp;<tgrn>! Nested Control Block - See Operational Structures Section</tgrn>
&nbsp;&nbsp;<tcmd>Control</tcmd> <teq>==</teq> <tblk>Trigger</tblk>                                  <tgrn>! {None} | Trigger | Timeseries | Sample | Sample_Rule | Target_Rule</tgrn

&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Control Parameter</tcmd> <teq>==</teq> <tblk>Bathy_Control</tblk>                                  <tgrn>! {''} | Zb | dZb | Bathy_Control </tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Sample Point</tcmd> <teq>==</teq> <tblk>540587.55,6866450.77  </tblk>                                  <tgrn>! {No default} Sample x coordinate, {No default} Sample y coordinate</tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Sample Parameter</tcmd> <teq>==</teq> <tblk>WL</tblk>                                  <tgrn>! {''} | Any model variable </tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Sample dt</tcmd> <teq>==</teq> <tblk>0.0167</tblk>                                  <tgrn>! {No default} Sample timestep (hrs) </tgrn
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Control Update dt</tcmd> <teq>==</teq> <tblk>0.0167</tblk>                                  <tgrn>! {0 computational timestep} Control update timestep (hrs) </tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Trigger Value</tcmd> <teq>==</teq> <tblk>6.2</tblk>                                  <tgrn>! {No default} Value of sample parameter at sample point to initiate trigger control file response </tgrn>
&nbsp;&nbsp;&nbsp;&nbsp;<tcmd>Control File</tcmd> <teq>==</teq> <tblk>..\model\csv\Bed_Scour_001.csv</tblk>                                  <tgrn>! Timeseries of bathy database lookup values after trigger initiated </tgrn>
&nbsp;&nbsp;<tcmd>End Control</tcmd> <tgrn>!Close nested control block</tgrn>
<tcmd>End Structure</tcmd>
</code></pre>
<pre><code>..\model\csv\Bathy_Database_001.csv
BATHY_CONTROL,BATHY_FILE
-2.0, ..\geo\variable_bathy\Bathy_neg2mRL_001.asc
0.00, ..\geo\variable_bathy\Bathy_0mRL_001.asc
5.00, ..\geo\variable_bathy\Bathy_5mRL_001.asc
10.0, ..\geo\variable_bathy\Bathy_10mRL_001.asc</code></pre>
<pre><code>..\model\csv\Bed_Scour_001.csv
TIME,bathy_control
0,10.
1,0.
3,-2.</code></pre>
</div>
<div id="HD2D-HS-OSAVB-3" class="section level3 hasAnchor" number="5.16.15">
<h3><span class="header-section-number">5.16.15</span> Operational Structures And Variable Bathymetry<a href="HD2D-1.html#HD2D-HS-OSAVB-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Hydraulic structures can be operated, and variable bathymetry is modified during a simulation using structure controls and user-defined logic. Structure controls are assigned within control blocks, which are nested within a parent structure block. This framework supports simulation of adjustable gates, valves, pumps, levee breaching, dredging, scour, and other time- or condition-dependent behaviours.</p>
<p>The process to implement an operational hydraulic or variable bathymetry structure is as follows.</p>
<ol style="list-style-type: decimal">
<li><p>Construct a structure block for the respective structure type being modelled (weir, culvert etc.) as described in the preceding sub-sections <a href="HD2D-1.html#HD2D-HS-Weir-3">5.16.6</a> to <a href="HD2D-1.html#HD2D-HS-VB-3">5.16.14</a></p></li>
<li><p>Define the hydraulic or bathymetric control parameter to operate during the simulation. For example, the weir crest elevation, the bathymetry level, or opening and closing of a gate or valve (Section <a href="HD2D-1.html#HD2D-HS-OSC-CP-4">5.16.15.1</a>)</p></li>
<li><p>Select a pre-defined control type used to operate the structure by modifying the control parameter selected during Step 2.) (Section <a href="HD2D-1.html#HD2D-HS-OSC-CT-4">5.16.15.2</a>)</p></li>
<li><p>Within a structure block, create a nested control block and configure the control block with any required input files, sample locations, thresholds, or timing settings (Section <a href="HD2D-1.html#HD2D-HS-OSC-CB-4">5.16.15.3</a>).</p></li>
</ol>
<p>For each structure type (weir, bridge, culvert etc.) example .fvc syntax snippets are provided for supported combinations of control parameter and control type.</p>
<p>Structure controls are not supported for wall or bridge structures.</p>
<div id="HD2D-HS-OSC-CP-4" class="section level4 hasAnchor" number="5.16.15.1">
<h4><span class="header-section-number">5.16.15.1</span> Control Parameters<a href="HD2D-1.html#HD2D-HS-OSC-CP-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A control parameter defines the aspect of the structure’s behaviour or geometry that is changed by the structure control type. It is set using the <a href="AppCommands.html#FVCControlParameter"><tcmd>Control Parameter</tcmd></a> control block command. The available control parameters are provided in Table <a href="HD2D-1.html#tab:tab-ControlParameters">5.40</a>.</p>
<table>
<caption>
<span id="tab:tab-ControlParameters">Table 5.40: </span><strong>Control Parameters</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Control Parameter
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Fraction_Open
</td>
<td style="text-align:left;">
Scale factor between 0 and 1 applied to the structure’s flow rate. Commonly used to operate gates or valves that can open or close during a simulation.
</td>
</tr>
<tr>
<td style="text-align:left;">
Min_Flow
</td>
<td style="text-align:left;">
Minimum allowable flow rate through the structure, subject to physical limits. Allows a known minimum flow to pass through the structure, without necessary needing to resolve it with the structure.
</td>
</tr>
<tr>
<td style="text-align:left;">
Weir_Crest
</td>
<td style="text-align:left;">
Adjusts the absolute crest elevation of a weir. Typically used to model weir structures whose crest level changes over time due to operational, environmental, or failure processes.
</td>
</tr>
<tr>
<td style="text-align:left;">
Weir_dz
</td>
<td style="text-align:left;">
As per Weir_Crest but adjusts the crest elevation of a weir by an relative change (ΔZ) from the model bathymetry.
</td>
</tr>
<tr>
<td style="text-align:left;">
Zb
</td>
<td style="text-align:left;">
A variable bathymetry feature. Sets the absolute bed elevation within the specified zone. Typically used to model levee breaches.
</td>
</tr>
<tr>
<td style="text-align:left;">
dZb
</td>
<td style="text-align:left;">
As per Zb but applies a relative change (ΔZ) to the bed elevation within the specified zone.
</td>
</tr>
<tr>
<td style="text-align:left;">
Bathy_Control
</td>
<td style="text-align:left;">
A variable bathymetry feature. Applies bathymetry adjustments using a predefined bathymetric control input. Uses DEMs to define bed elevation changes, allowing for complex geometric changes to be modelled.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-HS-OSC-CT-4" class="section level4 hasAnchor" number="5.16.15.2">
<h4><span class="header-section-number">5.16.15.2</span> Control Types<a href="HD2D-1.html#HD2D-HS-OSC-CT-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The control type specifies how the control parameter will be updated during a simulation. The control type may modify the control parameter in response to an event, via a predefined time schedule, by sampling conditions within the model, or by targeting a desired outcome.</p>
<p>The available control types are provided in Table <a href="HD2D-1.html#tab:tab-ControlTypes">5.41</a>.</p>
<table>
<caption>
<span id="tab:tab-ControlTypes">Table 5.41: </span><strong>Control Types</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Control Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Trigger
</td>
<td style="text-align:left;">
Trigger controls define a condition that will commence after the first exceedance of a specific trigger value within the model at a specified sample point.
</td>
</tr>
<tr>
<td style="text-align:left;">
Timeseries
</td>
<td style="text-align:left;">
Timeseries controls define an adjusting condition based on a control file CSV timeseries.
</td>
</tr>
<tr>
<td style="text-align:left;">
Sample
</td>
<td style="text-align:left;">
Adjusts a control parameter by sampling a model variable at a user-specified location.
</td>
</tr>
<tr>
<td style="text-align:left;">
Sample Rule
</td>
<td style="text-align:left;">
Adjusts a control parameter by sampling a model variable at a user-specified location. The sampled value is mapped to a control response using a lookup table defined in a control CSV file.
</td>
</tr>
<tr>
<td style="text-align:left;">
Target Rule
</td>
<td style="text-align:left;">
Dynamically adjusts a control parameter to reach a time-varying target value (e.g. salinity, water level) at a specified location. The target is defined via a time series. Structure behaviour is adjusted to reduce the difference between current and target conditions
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-HS-OSC-CB-4" class="section level4 hasAnchor" number="5.16.15.3">
<h4><span class="header-section-number">5.16.15.3</span> Control Block<a href="HD2D-1.html#HD2D-HS-OSC-CB-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A control block defines how a control is applied to a hydraulic or variable bathymetry structure. It is nested within a structure block and contains the commands that specify the control type, control parameter, and all required settings such as input files, sample locations, thresholds, and timing.</p>
<p>A structure control block is initiated with the <a href="AppCommands.html#FVCControl"><tcmd>Control</tcmd></a> command, which also specifies the control type (Section <a href="HD2D-1.html#HD2D-HS-OSC-CT-4">5.16.15.2</a>).
. The block is closed with the <a href="AppCommands.html#FVCEndControl"><tcmd>End Control</tcmd></a> command. All commands between these lines apply only to the structure control being defined.</p>
<p>The general form of a control block is nested within a parent structure block as follows.</p>
<pre><code>! Single Nodestring Example (All connection types can support control blocks)
Structure = connection_type, location_ID

  ! Structure Commands
  structure_type or bathy_adjust_type
  various structure_configuration commands

    ! Nested Control Block  
    Control == control_type
    control_parameter
    various structure_control commands
  End Control

End Structure</code></pre>
<p>Where:</p>
<ul>
<li>structure_type, bed_adjust_type, connection_type, location_ID, and structure_configuration are defined in the parent structure block as described in Section <a href="HD2D-1.html#HD2D-HS-SB-3">5.16.5</a></li>
<li>control_type - is as described in Section <a href="HD2D-1.html#HD2D-HS-OSC-CT-4">5.16.15.2</a>.</li>
<li>control_parameter - is as described in Section <a href="HD2D-1.html#HD2D-HS-OSC-CP-4">5.16.15.1</a></li>
<li>structure_control - commands and configurations option specific combination of structure_type, control_type, and control parameter</li>
</ul>
<p>A summary of control block commands is presented in Table <a href="HD2D-1.html#tab:tab-StructureBlockCommands2DHD">5.39</a>.</p>
<p>Detailed syntax and examples for each hydraulic structure type are provided in Section <a href="HD2D-1.html#HD2D-HS-OSC-CSC-4">5.16.15.4</a>.</p>
<table>
<caption>
<span id="tab:tab-ControlBlock2DHD">Table 5.42: </span><strong>Control Block Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCControl">Control</a>
</td>
<td style="text-align:left;">
Required - Defines the beginning of a structure control block, and the structure control type.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCControlParameter">Control Parameter</a>
</td>
<td style="text-align:left;">
Required - Sets the hydraulic structure or variable bathymetry parameter that is modified by the control type.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCControlFile">Control File</a>
</td>
<td style="text-align:left;">
Conditional - Required for the Trigger, Timeseries, Sample Rule and Target Rule control types. Sets temporal relatitionship (Trigger, Timeseries) or lookup (Sample Rule, Target Rule) used to modfiy the control parameter.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCControlUpdatedt">Control Update dt</a>
</td>
<td style="text-align:left;">
Optional - Sets the interval to call the bathymetry control update function. If not specified the model timestep is used.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCControlHeader">Control Header</a>
</td>
<td style="text-align:left;">
Optional - Override the default header name read from the control file or bathymetry database.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCSubTypeControl">Sub-Type</a>
</td>
<td style="text-align:left;">
Optional - Defines how the final fraction open value is calculated if multiple control blocks using the fraction open control parameter are specified.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCMaxOpeningIncrement">Max Opening Increment</a>
</td>
<td style="text-align:left;">
Optional - Sets the maximum change of the control parameter over the control update dt. Not used for the Trigger control type.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCTargetFile">Target File</a>
</td>
<td style="text-align:left;">
Conditional - Required if using the Target control type. Sets a timeseries of the desired value of the sample parameter at the sample point or sample nodestring.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCSampleParameter">Sample Parameter</a>
</td>
<td style="text-align:left;">
Conditional - Required if Control == Sample_Rule. The model variable that will be sampled. Fo example water level, velocity, salinity etc.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCSampleNodestring">Sample Nodestring</a>
</td>
<td style="text-align:left;">
Optional - Nodestring ID. Location to sample the sample parameter. Alternative to the sample point.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCSampleNodestring">Sample Point</a>
</td>
<td style="text-align:left;">
Optional - X and Y coordinate. Location to sample the sample parameter. Alternative to the sample nodestring.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCSampledt">Sample dt</a>
</td>
<td style="text-align:left;">
Optional - Sets the interval to sample the model sample parameter. If not specified, the model timestep is used.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCTriggerValue">Trigger Value</a>
</td>
<td style="text-align:left;">
Conditional - Required if Control == Trigger. The value of the sample parameter that once exceeded will trigger the structure to execute the control file.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCTriggerReset">Trigger Reset</a>
</td>
<td style="text-align:left;">
Optional – A sample parameter value that, if it falls below this threshold, will re-enable the trigger, allowing it to be executed multiple times during a simulation. If omitted, the trigger can occur only once.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCResponseParameters">Response Parameters</a>
</td>
<td style="text-align:left;">
Optional - Adusts the response rate of the control structure as a function of positvely or negatively trending sample parameter value. For example if the water level is increasing speed up the rate of bathymetric change, while on the falling limb (downtrending water level) slow down the rate of bathymetric change.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCStartControlState">Start Control State</a>
</td>
<td style="text-align:left;">
Optional - Sets the initial value or starting state of the structure. Not used for the Trigger control type. Not used for the Timeseries control type, unless the Response Function command is used in combination with Timeseries.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCEndControl">End Control</a>
</td>
<td style="text-align:left;">
Required - Defines the end of a structure control block.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-HS-OSC-CSC-4" class="section level4 hasAnchor" number="5.16.15.4">
<h4><span class="header-section-number">5.16.15.4</span> Control Structure Examples<a href="HD2D-1.html#HD2D-HS-OSC-CSC-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>MJS TODO: THIS SECTION IS INCOMPLETE</p>
<p>The following sub-sections summarise the supported combination of flux function, control type, and control parameter. Due to the large number of combinations available, example models are provided via the <a href="https://fvwiki.tuflow.com/TUFLOW_FV_Example_Models">TUFLOW FV Wiki Example Model</a> page MJS TODO, potentially add .fvc links in the tables below.</p>
<div id="HD2D-HS-OSC-CSE-WEI-5" class="section level5 hasAnchor" number="5.16.15.4.1">
<h5><span class="header-section-number">5.16.15.4.1</span> Control Structure Examples - Weir<a href="HD2D-1.html#HD2D-HS-OSC-CSE-WEI-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<table>
<caption>
<span id="tab:tab-CSCWEI">Table 5.43: </span><strong>Supported Control Types and Control Parameters for Weirs</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Control Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Trigger
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Timeseries
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Sample Rule
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Target Rule
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Fraction_Open
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
</tr>
<tr>
<td style="text-align:left;">
Min_Flow
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
</tr>
<tr>
<td style="text-align:left;">
Weir_Crest
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
</tr>
<tr>
<td style="text-align:left;">
Weir_dz
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-HS-OSC-CSE-WDZ-5" class="section level5 hasAnchor" number="5.16.15.4.2">
<h5><span class="header-section-number">5.16.15.4.2</span> Control Structure Examples - Weir_dz<a href="HD2D-1.html#HD2D-HS-OSC-CSE-WDZ-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<table>
<caption>
<span id="tab:tab-CSCWDZ">Table 5.44: </span><strong>Supported Control Types and Control Parameters for Weirs (Weir_dz)</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Control Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Trigger
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Timeseries
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Sample Rule
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Target Rule
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Fraction_Open
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
</tr>
<tr>
<td style="text-align:left;">
Min_Flow
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
</tr>
<tr>
<td style="text-align:left;">
Weir_Crest
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Weir_dz
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-HS-OSC-CSE-CUL-5" class="section level5 hasAnchor" number="5.16.15.4.3">
<h5><span class="header-section-number">5.16.15.4.3</span> Control Structure Examples - Culvert<a href="HD2D-1.html#HD2D-HS-OSC-CSE-CUL-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<table>
<caption>
<span id="tab:tab-CSCCUL">Table 5.45: </span><strong>Supported Control Types and Control Parameters for Culverts</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Control Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Trigger
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Timeseries
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Sample Rule
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Target Rule
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Fraction_Open
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
</tr>
<tr>
<td style="text-align:left;">
Min_Flow
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Weir_Crest
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Weir_dz
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-HS-OSC-CSE-MAT-5" class="section level5 hasAnchor" number="5.16.15.4.4">
<h5><span class="header-section-number">5.16.15.4.4</span> Control Structure Examples - Matrix<a href="HD2D-1.html#HD2D-HS-OSC-CSE-MAT-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<table>
<caption>
<span id="tab:tab-CSCMAT">Table 5.46: </span><strong>Supported Control Types and Control Parameters for User-defined Flow Matrix</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Control Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Trigger
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Timeseries
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Sample Rule
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Target Rule
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Fraction_Open
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
</tr>
<tr>
<td style="text-align:left;">
Min_Flow
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
</tr>
<tr>
<td style="text-align:left;">
Weir_Crest
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Weir_dz
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-HS-OSC-CSE-TIM-5" class="section level5 hasAnchor" number="5.16.15.4.5">
<h5><span class="header-section-number">5.16.15.4.5</span> Control Structure Examples - Timeseries<a href="HD2D-1.html#HD2D-HS-OSC-CSE-TIM-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<table>
<caption>
<span id="tab:tab-CSCTIM">Table 5.47: </span><strong>Supported Control Types and Control Parameters for User-defined Flow Timeseries</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Control Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Trigger
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Timeseries
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Sample Rule
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Target Rule
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Fraction_Open
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
</tr>
<tr>
<td style="text-align:left;">
Min_Flow
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Weir_Crest
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Weir_dz
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-HS-OSC-CSE-POR-5" class="section level5 hasAnchor" number="5.16.15.4.6">
<h5><span class="header-section-number">5.16.15.4.6</span> Control Structure Examples - Porous<a href="HD2D-1.html#HD2D-HS-OSC-CSE-POR-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<table>
<caption>
<span id="tab:tab-CSCPOR">Table 5.48: </span><strong>Supported Control Types and Control Parameters for Porous Structures</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Control Parameter
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Trigger
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Timeseries
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Sample Rule
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Target Rule
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Sample
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Fraction_Open
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Min_Flow
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Weir_Crest
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Weir_dz
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
N
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-HS-OSC-CSE-Bath-5" class="section level5 hasAnchor" number="5.16.15.4.7">
<h5><span class="header-section-number">5.16.15.4.7</span> Control Structure Examples - Bathymetry<a href="HD2D-1.html#HD2D-HS-OSC-CSE-Bath-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<table>
<caption>
<span id="tab:tab-CSCBAT">Table 5.49: </span><strong>Supported Control Types and Control Parameters for Variable Bathymetry</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Control Parameter
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Trigger
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Timeseries
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Sample Rule
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Target Rule
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Sample
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ZB
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
dZB
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
N
</td>
</tr>
<tr>
<td style="text-align:left;">
Bathy_Database
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
</tr>
</tbody>
</table>
<p>MJS TODO: Need to discuss the sample rule and response parameters stuff.</p>
</div>
</div>
<div id="HD2D-HS-OSC-CSR-4" class="section level4 hasAnchor" number="5.16.15.5">
<h4><span class="header-section-number">5.16.15.5</span> Control Structure Review<a href="HD2D-1.html#HD2D-HS-OSC-CSR-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Structure controls are logged to a .slf file when <a href="AppCommands.html#FVCStructureLogging"><tcmd>Structure Logging</tcmd></a> is enabled. This provides a report of control values and structure states throughout the simulation.</p>
<p>Further information on hydraulic structure model output is described in Section <a href="HD2D-1.html#HD2D-MO-Stru-3">5.17.9</a>.</p>
</div>
</div>
<div id="HD2D-HS-TS-3" class="section level3 hasAnchor" number="5.16.16">
<h3><span class="header-section-number">5.16.16</span> Treatment Structure<a href="HD2D-1.html#HD2D-HS-TS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Treatment structures are not applicable for the 2DHD simulation class.</p>
</div>
</div>
<div id="HD2D-MO-2" class="section level2 hasAnchor" number="5.17">
<h2><span class="header-section-number">5.17</span> Model Outputs<a href="HD2D-1.html#HD2D-MO-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>MJS TODO: This section is in progress…</p>
<div id="HD2D-MO-CS-3" class="section level3 hasAnchor" number="5.17.1">
<h3><span class="header-section-number">5.17.1</span> Command Status<a href="HD2D-1.html#HD2D-MO-CS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Required</em></p>
</div>
<div id="HD2D-MO-Desc-3" class="section level3 hasAnchor" number="5.17.2">
<h3><span class="header-section-number">5.17.2</span> Description<a href="HD2D-1.html#HD2D-MO-Desc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="HD2D-MO-OT-3" class="section level3 hasAnchor" number="5.17.3">
<h3><span class="header-section-number">5.17.3</span> Output Types<a href="HD2D-1.html#HD2D-MO-OT-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The available output types for the 2D HD simulation class are summarised in Table <a href="HD2D-1.html#tab:tab-OutputTypes2DHD">5.50</a>. Detailed descriptions and examples are provided in the following sub-sections.</p>
<table>
<caption>
<span id="tab:tab-OutputTypes2DHD">Table 5.50: </span><strong>Output Types</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Ouptut Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Point
</td>
<td style="text-align:left;">
Cell output defined at discrete point locations (Section <a href="HD2D-1.html#HD2D-MO-Poin-3">5.17.6</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
Polyline
</td>
<td style="text-align:left;">
Model fluxes integrated across discrete polyline (nodestring) (Section <a href="HD2D-1.html#HD2D-MO-Poly-3">5.17.7</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
Mesh
</td>
<td style="text-align:left;">
Mesh output at all model cells. Also commonly refered to as ‘map output’ or ‘sheet output’ (Section <a href="HD2D-1.html#HD2D-MO-Mesh-3">5.17.8</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
Structure
</td>
<td style="text-align:left;">
Model fluxes through hydraulic structures (Section <a href="HD2D-1.html#HD2D-MO-Stru-3">5.17.9</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
Mass Balance
</td>
<td style="text-align:left;">
Calculated model mass conservation outputs (Section <a href="HD2D-1.html#HD2D-MO-MB-3">5.17.10</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
Transport
</td>
<td style="text-align:left;">
Calculated model mass conservation outputs (Section <a href="HD2D-1.html#HD2D-MO-Tran-3">5.17.11</a>).
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-MO-OD-3" class="section level3 hasAnchor" number="5.17.4">
<h3><span class="header-section-number">5.17.4</span> Output Directories<a href="HD2D-1.html#HD2D-MO-OD-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Output files are written to directories defined by the user as listed in Table <a href="HD2D-1.html#tab:tab-OutputLocations">5.51</a>.</p>
<table>
<caption>
<span id="tab:tab-OutputLocations">Table 5.51: </span><strong>Output Types</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCOutputDir">Output Dir</a>
</td>
<td style="text-align:left;">
Required - Defines the directory where model results are saved. ‘Output Folder’ is also accepted.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCLogDir">Log Dir</a>
</td>
<td style="text-align:left;">
Optional - Sets the model log directory.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCWriteCheckFiles">Write Check Files</a>
</td>
<td style="text-align:left;">
Optional - Writes model GIS check files to the specified directory.
</td>
</tr>
</tbody>
</table>
<pre><code>
! Model Output Directories
<tcmd>Output Dir</tcmd> <teq>==</teq> <tblk>..\results</tblk>     <tgrn>! Result output directory</tgrn>
<tcmd>Log Dir</tcmd>    <teq>==</teq> <tblk>log</tblk>            <tgrn>! Log and diagnostics directory</tgrn>
<tcmd>Write Check Files</tcmd> <teq>==</teq> <tblk>..\check</tblk> <tgrn>! Directory for GIS check files</tgrn>
</code></pre>
</div>
<div id="HD2D-MO-OB-3" class="section level3 hasAnchor" number="5.17.5">
<h3><span class="header-section-number">5.17.5</span> Output Block<a href="HD2D-1.html#HD2D-MO-OB-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An output block defines the type and configuration of model result outputs.</p>
<p>The general form of the boundary condition block is:</p>
<pre><code>Output = output_format

  Various output_block_commands
  
End BC</code></pre>
<p>Where:</p>
<ul>
<li><a href="AppCommands.html#FVCOutput"><tcmd>Output</tcmd></a> <teq>==</teq> indicates the
instantiation of a boundary condition block</li>
<li>output_format is a character flag setting the result output type
type (e.g. points, polyline, or whole-of-mesh output option as described in Section
<a href="HD2D-1.html#HD2D-MO-OT-3">5.17.3</a>)</li>
<li>output_block_commands are any commands that reside within an output
block. Output block commands provide configuration settings for the
output</li>
<li><a href="AppCommands.html#FVCEndOutput"><tcmd>End Output</tcmd></a> closes the output block</li>
</ul>
<p>The available 2D HD simulation class output block commands are described in Table <a href="HD2D-1.html#tab:tab-OutputBlockCommands2DHD">5.52</a>.</p>
<table>
<caption>
<span id="tab:tab-OutputBlockCommands2DHD">Table 5.52: </span><strong>Output Block Commands</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCOutput">Output</a>
</td>
<td style="text-align:left;">
Required - Defines the beginning of the output block and the result output format.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCOutputParameters">Output Parameters</a>
</td>
<td style="text-align:left;">
Conditional - Required for points and map output types. Sets the model result output, for example water level, depth, velocity etc.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCOutputInterval">Output Interval</a>
</td>
<td style="text-align:left;">
Required - Defines the output interval that result are saved. If not specified, results are output at the model timestep.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCStartOutput">Start Output</a>
</td>
<td style="text-align:left;">
Optional - Defines the start time of the model output. If not specified, uses the model Start Time.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCFinalOutput">Final Output</a>
</td>
<td style="text-align:left;">
Optional - Defines the final output time of the model output. If not specified, uses the model End Time.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCSuffix">Suffix</a>
</td>
<td style="text-align:left;">
Conditional - Enables multiple results of the same output format to be saved from the same simulation. Appends the suffix onto the result file name to ensure each result file name is unique.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCReadGISPO">Read GIS PO</a>
</td>
<td style="text-align:left;">
Conditional - Required for the points output type. GIS layer that contains the location of the points.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCExactTimestep">Exact Timestep</a>
</td>
<td style="text-align:left;">
Optional - Outputs the result at the exact computational timestep.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCOutputCompression">Output Compression</a>
</td>
<td style="text-align:left;">
Optional - Enable or disable file compression for NetCDF or XMDF output formats.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCOutputStatistics">Output Statistics</a>
</td>
<td style="text-align:left;">
Optional - Track minimum or maximum map output values on a user-specifed Output Statistics dt.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="#FVCOutputStatisticsDt">Output Statistics dt</a>
</td>
<td style="text-align:left;">
Optional - Sets the interval to track map output statistics.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="AppCommands.html#FVCEndOutput">End Output</a>
</td>
<td style="text-align:left;">
Required - Defines the end of an output block.
</td>
</tr>
</tbody>
</table>
</div>
<div id="HD2D-MO-Poin-3" class="section level3 hasAnchor" number="5.17.6">
<h3><span class="header-section-number">5.17.6</span> Point<a href="HD2D-1.html#HD2D-MO-Poin-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <a href="AppCommands.html#FVCReadGISPO"><tcmd>Read GIS PO</tcmd></a> command is used to define point locations.</p>
<p>MJS TODO: add pic of points layer</p>
<pre><code>! ADCP Calibration Points
Output == Points                                                                          ! CSV timeseries at each output point
  Read GIS PO == ..\model\gis\3d_po_ACDPs_001_P.shp   ! Point locations
  Map Output Parameters == h, d, v                    ! Water level, depth, velocity
  Output Interval == 300.                                                     ! (s)
End Output</code></pre>
<pre><code>! Meteorological Boundary Comparisons To Measurements
Output == Points                                                                            ! CSV timeseries at each output point
  Read GIS PO == ..\model\gis\3d_po_MetObs_001_P.shp  ! Point locations
  Map Output Parameters == W10, MSLP                                ! Wind speed, mean sea level pressure
  Output Interval == 1800.                                                    ! (s)
  Suffix == MET                                                                             ! Appends _MET to output to avoid overwrite of HD outputs
End Output</code></pre>
</div>
<div id="HD2D-MO-Poly-3" class="section level3 hasAnchor" number="5.17.7">
<h3><span class="header-section-number">5.17.7</span> Polyline<a href="HD2D-1.html#HD2D-MO-Poly-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Outputs csv files where any nodestrings are specified.</p>
<p>Pic of monitoring lines…</p>
<pre><code>! Location of Flux Polylines
Read GIS Nodestring == ..\model\gis\2d_ns_Monitoring_001_L.shp

! Output Flux Cross/Long Sections
Output == Flux                                                  ! CSV timeseries of net flux across each polyline (nodestring)
  Output Interval == 300.                           ! (s)
End Output</code></pre>
</div>
<div id="HD2D-MO-Mesh-3" class="section level3 hasAnchor" number="5.17.8">
<h3><span class="header-section-number">5.17.8</span> Mesh<a href="HD2D-1.html#HD2D-MO-Mesh-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>MJS TODO: investigate NetCDF and XMDF file compression defaults…</p>
<pre><code>Output == NetCDF                                                ! NetCDF mesh output format 
  Map Output Parameters == h, d, v          ! Water level, depth, velocity
  Output Interval == 900.                         ! (s)
End Output </code></pre>
<pre><code>
Output == XMDF                                                  ! XMDF mesh output format 
  Map Output Parameters == h, d, v          ! Water level, depth, velocity
  Output Interval == 900.                         ! (s)
End Output </code></pre>
<pre><code>Output == DATV                                                  ! DATV mesh output format  
  Map Output Parameters == h, d, v          ! Water level, depth, velocity
  Output Interval == 900.                         ! (s)
End Output </code></pre>
<div id="HD2D-MO-Mesh-Stat-4" class="section level4 hasAnchor" number="5.17.8.1">
<h4><span class="header-section-number">5.17.8.1</span> Statistics<a href="HD2D-1.html#HD2D-MO-Mesh-Stat-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<pre><code>Output == NetCDF 
  Map Output Parameters == h, d, v          ! Water level, depth, velocity
  Output Interval == 900.                         ! (s)
  Output Statistics == min, max         ! Tracks the minimum and maximum h, d, v
  Output Statistics dt == 1                         ! (s) Track the statistics at this timestep
End Output</code></pre>
</div>
</div>
<div id="HD2D-MO-Stru-3" class="section level3 hasAnchor" number="5.17.9">
<h3><span class="header-section-number">5.17.9</span> Structure<a href="HD2D-1.html#HD2D-MO-Stru-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>! 
Output == StructFlux 
  Output Interval == 300.  ! (s)
End Output</code></pre>
<pre><code>Structure Logging == 1</code></pre>
</div>
<div id="HD2D-MO-MB-3" class="section level3 hasAnchor" number="5.17.10">
<h3><span class="header-section-number">5.17.10</span> Mass Balance<a href="HD2D-1.html#HD2D-MO-MB-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>! Accumulated Volume and Mass Balance
Output == massbalance
  Output Interval == 900.  ! (s)
End Output</code></pre>
<pre><code>
! Global Volume Tracking
Output == mass
  Output Interval == 900.  ! (s)
End Output</code></pre>
</div>
<div id="HD2D-MO-Tran-3" class="section level3 hasAnchor" number="5.17.11">
<h3><span class="header-section-number">5.17.11</span> Transport<a href="HD2D-1.html#HD2D-MO-Tran-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>! Output Transport HD File
Output == Transport
  Output Interval == 900.  ! (s)
End Output</code></pre>
<p><img src="images/WQFooter.jpg" width="100%" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="CF-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="HD3D-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": false,
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
