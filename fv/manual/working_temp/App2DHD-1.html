<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Appendix E Processes: 2D HD Simulation Class | TUFLOW FV User Manual</title>
  <meta name="description" content="Appendix E Processes: 2D HD Simulation Class | TUFLOW FV User Manual" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Appendix E Processes: 2D HD Simulation Class | TUFLOW FV User Manual" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/1024in300px_Blue-01.svg" />
  <meta property="og:description" content="Appendix E Processes: 2D HD Simulation Class | TUFLOW FV User Manual" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Appendix E Processes: 2D HD Simulation Class | TUFLOW FV User Manual" />
  
  <meta name="twitter:description" content="Appendix E Processes: 2D HD Simulation Class | TUFLOW FV User Manual" />
  <meta name="twitter:image" content="/images/1024in300px_Blue-01.svg" />

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/TUFLOW.ico" type="image/x-icon" />
<link rel="prev" href="AppProc-GE-2.html"/>
<link rel="next" href="App3DHD-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.2/visNetwork.js"></script>



<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 1em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://www.tuflow.com"><img src="images/1024in300px_Blue-01.svg" style="width:246px;height:68px;"></a></li>

<li class="divider"></li>
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i>Overview</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#about-this-manual"><i class="fa fa-check"></i>About this manual</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#how-to-use-this-manual"><i class="fa fa-check"></i>How to use this manual</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#navigation"><i class="fa fa-check"></i>Navigation</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#searching"><i class="fa fa-check"></i>Searching</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#tables"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#commands"><i class="fa fa-check"></i>Commands</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#parameter-notation"><i class="fa fa-check"></i>Parameter notation</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#feedback"><i class="fa fa-check"></i>Feedback</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Intro-1.html"><a href="Intro-1.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TP-2"><i class="fa fa-check"></i><b>1.1</b> TUFLOW Products</a></li>
<li class="chapter" data-level="1.2" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TFV-2"><i class="fa fa-check"></i><b>1.2</b> TUFLOW FV</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TFV-FMFVS-3"><i class="fa fa-check"></i><b>1.2.1</b> Flexible Mesh Finite Volume Solver</a></li>
<li class="chapter" data-level="1.2.2" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TFV-AOM-3"><i class="fa fa-check"></i><b>1.2.2</b> Add-on Modules</a></li>
<li class="chapter" data-level="1.2.3" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TFV-BS-3"><i class="fa fa-check"></i><b>1.2.3</b> Benchmarking Studies</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="Intro-1.html"><a href="Intro-1.html#Intro-TW-2"><i class="fa fa-check"></i><b>1.3</b> TUFLOW Webinars</a></li>
<li class="chapter" data-level="1.4" data-path="Intro-1.html"><a href="Intro-1.html#Intro-ME-2"><i class="fa fa-check"></i><b>1.4</b> Modelling Environment</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Arch-1.html"><a href="Arch-1.html"><i class="fa fa-check"></i><b>2</b> Architecture</a>
<ul>
<li class="chapter" data-level="2.1" data-path="Arch-1.html"><a href="Arch-1.html#Arch-Cont-2"><i class="fa fa-check"></i><b>2.1</b> Context</a></li>
<li class="chapter" data-level="2.2" data-path="Arch-1.html"><a href="Arch-1.html#Arch-ST-2"><i class="fa fa-check"></i><b>2.2</b> Simulation Tiers</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="Arch-1.html"><a href="Arch-1.html#Arch-ST-SC-3"><i class="fa fa-check"></i><b>2.2.1</b> Tier 1: Simulation Class</a></li>
<li class="chapter" data-level="2.2.2" data-path="Arch-1.html"><a href="Arch-1.html#Arch-ST-MC-3"><i class="fa fa-check"></i><b>2.2.2</b> Tier 2: Model Class</a></li>
<li class="chapter" data-level="2.2.3" data-path="Arch-1.html"><a href="Arch-1.html#Arch-ST-Mode-3"><i class="fa fa-check"></i><b>2.2.3</b> Tier 3: Model Implementations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="GS-1.html"><a href="GS-1.html"><i class="fa fa-check"></i><b>3</b> Getting Started</a>
<ul>
<li class="chapter" data-level="3.1" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-2"><i class="fa fa-check"></i><b>3.1</b> How to Build Your First Model</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-TM-3"><i class="fa fa-check"></i><b>3.1.1</b> Tutorial Models</a></li>
<li class="chapter" data-level="3.1.2" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-EM-3"><i class="fa fa-check"></i><b>3.1.2</b> Example Models</a></li>
<li class="chapter" data-level="3.1.3" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-LFDM-3"><i class="fa fa-check"></i><b>3.1.3</b> Licence Free Demo Mode</a></li>
<li class="chapter" data-level="3.1.4" data-path="GS-1.html"><a href="GS-1.html#GS-HTBYFM-ILTTC-3"><i class="fa fa-check"></i><b>3.1.4</b> Instructor Led TUFLOW Training Courses</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="GS-1.html"><a href="GS-1.html#GS-TTMC-2"><i class="fa fa-check"></i><b>3.2</b> The TUFLOW Modelling Concept</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="GS-1.html"><a href="GS-1.html#GS-TTMC-NPP-3"><i class="fa fa-check"></i><b>3.2.1</b> Notepad++</a></li>
<li class="chapter" data-level="3.2.2" data-path="GS-1.html"><a href="GS-1.html#GS-TTMC-QGIS-3"><i class="fa fa-check"></i><b>3.2.2</b> QGIS / TUFLOW Viewer</a></li>
<li class="chapter" data-level="3.2.3" data-path="GS-1.html"><a href="GS-1.html#GS-TTMC-SMS-3"><i class="fa fa-check"></i><b>3.2.3</b> Aquaveo SMS Mesh Generator / TUFLOW FV Graphical User Interface</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="GS-1.html"><a href="GS-1.html#GS-IART-2"><i class="fa fa-check"></i><b>3.3</b> Installing and Running TUFLOW</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="GS-1.html"><a href="GS-1.html#GS-IART-TFVDAI-3"><i class="fa fa-check"></i><b>3.3.1</b> TUFLOW FV Downloads and Installation</a></li>
<li class="chapter" data-level="3.3.2" data-path="GS-1.html"><a href="GS-1.html#GS-IART-Lice-3"><i class="fa fa-check"></i><b>3.3.2</b> Licencing</a></li>
<li class="chapter" data-level="3.3.3" data-path="GS-1.html"><a href="GS-1.html#GS-IART-PS-3"><i class="fa fa-check"></i><b>3.3.3</b> Performing Simulations</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="GS-1.html"><a href="GS-1.html#GS-FFTAFN-TAT-3"><i class="fa fa-check"></i><b>3.4</b> Tips and Tricks</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="CF-1.html"><a href="CF-1.html"><i class="fa fa-check"></i><b>4</b> Folders, Control Files and Data Layers</a>
<ul>
<li class="chapter" data-level="4.1" data-path="CF-1.html"><a href="CF-1.html#CF-Intr-2"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="CF-1.html"><a href="CF-1.html#CF-FS-2"><i class="fa fa-check"></i><b>4.2</b> Folder Structure</a></li>
<li class="chapter" data-level="4.3" data-path="CF-1.html"><a href="CF-1.html#CF-CF-2"><i class="fa fa-check"></i><b>4.3</b> Control Files</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FVC-3"><i class="fa fa-check"></i><b>4.3.1</b> FVC</a></li>
<li class="chapter" data-level="4.3.2" data-path="CF-1.html"><a href="CF-1.html#CF-CF-TEF-3"><i class="fa fa-check"></i><b>4.3.2</b> TEF</a></li>
<li class="chapter" data-level="4.3.3" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FVSED-3"><i class="fa fa-check"></i><b>4.3.3</b> FVSED</a></li>
<li class="chapter" data-level="4.3.4" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FVWQ-3"><i class="fa fa-check"></i><b>4.3.4</b> FVWQ</a></li>
<li class="chapter" data-level="4.3.5" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FVPTM-3"><i class="fa fa-check"></i><b>4.3.5</b> FVPTM</a></li>
<li class="chapter" data-level="4.3.6" data-path="CF-1.html"><a href="CF-1.html#CF-CF-IF-3"><i class="fa fa-check"></i><b>4.3.6</b> Include File</a></li>
<li class="chapter" data-level="4.3.7" data-path="CF-1.html"><a href="CF-1.html#CF-CF-RAN-3"><i class="fa fa-check"></i><b>4.3.7</b> Rules and Notation</a></li>
<li class="chapter" data-level="4.3.8" data-path="CF-1.html"><a href="CF-1.html#CF-CF-FP-3"><i class="fa fa-check"></i><b>4.3.8</b> File Paths</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="CF-1.html"><a href="CF-1.html#CF-IF-2"><i class="fa fa-check"></i><b>4.4</b> Input Files</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="CF-1.html"><a href="CF-1.html#CF-IF-Over-3"><i class="fa fa-check"></i><b>4.4.1</b> Overview</a></li>
<li class="chapter" data-level="4.4.2" data-path="CF-1.html"><a href="CF-1.html#CF-IF-ICSVF-3"><i class="fa fa-check"></i><b>4.4.2</b> Input CSV Files</a></li>
<li class="chapter" data-level="4.4.3" data-path="CF-1.html"><a href="CF-1.html#CF-IF-IGISL-3"><i class="fa fa-check"></i><b>4.4.3</b> Input GIS Layers</a></li>
<li class="chapter" data-level="4.4.4" data-path="CF-1.html"><a href="CF-1.html#CF-IF-INCF-3"><i class="fa fa-check"></i><b>4.4.4</b> Input NetCDF Files</a></li>
<li class="chapter" data-level="4.4.5" data-path="CF-1.html"><a href="CF-1.html#CF-IF-IMF-3"><i class="fa fa-check"></i><b>4.4.5</b> Input Mesh Files</a></li>
<li class="chapter" data-level="4.4.6" data-path="CF-1.html"><a href="CF-1.html#CF-IF-IRS-3"><i class="fa fa-check"></i><b>4.4.6</b> Input Restart Files</a></li>
<li class="chapter" data-level="4.4.7" data-path="CF-1.html"><a href="CF-1.html#CF-IF-ITF-3"><i class="fa fa-check"></i><b>4.4.7</b> Input Transport File</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="CF-1.html"><a href="CF-1.html#CF-LID-2"><i class="fa fa-check"></i><b>4.5</b> Layering Input Data</a></li>
<li class="chapter" data-level="4.6" data-path="CF-1.html"><a href="CF-1.html#CF-OF-2"><i class="fa fa-check"></i><b>4.6</b> Output Files</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OCSVF-3"><i class="fa fa-check"></i><b>4.6.1</b> Output CSV Files</a></li>
<li class="chapter" data-level="4.6.2" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OGISF-3"><i class="fa fa-check"></i><b>4.6.2</b> Output GIS Files</a></li>
<li class="chapter" data-level="4.6.3" data-path="CF-1.html"><a href="CF-1.html#CF-OF-ONCF-3"><i class="fa fa-check"></i><b>4.6.3</b> Output NetCDF Files</a></li>
<li class="chapter" data-level="4.6.4" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OTPC-3"><i class="fa fa-check"></i><b>4.6.4</b> Output TUFLOW Plot Control</a></li>
<li class="chapter" data-level="4.6.5" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OSL-3"><i class="fa fa-check"></i><b>4.6.5</b> Output Structure Logging</a></li>
<li class="chapter" data-level="4.6.6" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OSMSDF-3"><i class="fa fa-check"></i><b>4.6.6</b> Output SMS Data Files</a></li>
<li class="chapter" data-level="4.6.7" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OLF-3"><i class="fa fa-check"></i><b>4.6.7</b> Output Log File</a></li>
<li class="chapter" data-level="4.6.8" data-path="CF-1.html"><a href="CF-1.html#CF-OF-ORS-3"><i class="fa fa-check"></i><b>4.6.8</b> Output Restart Files</a></li>
<li class="chapter" data-level="4.6.9" data-path="CF-1.html"><a href="CF-1.html#CF-OF-OTF-3"><i class="fa fa-check"></i><b>4.6.9</b> Output Transport File</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="HD2D-1.html"><a href="HD2D-1.html"><i class="fa fa-check"></i><b>5</b> Model Construction: 2D HD Simulation Class</a>
<ul>
<li class="chapter" data-level="5.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Over-2"><i class="fa fa-check"></i><b>5.1</b> Overview</a></li>
<li class="chapter" data-level="5.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MI-2"><i class="fa fa-check"></i><b>5.2</b> Model Initialisation</a></li>
<li class="chapter" data-level="5.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CRF-2"><i class="fa fa-check"></i><b>5.3</b> Coordinate Reference Frame</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CRF-CS-3"><i class="fa fa-check"></i><b>5.3.1</b> Command Status</a></li>
<li class="chapter" data-level="5.3.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CRF-Desc-3"><i class="fa fa-check"></i><b>5.3.2</b> Description</a></li>
<li class="chapter" data-level="5.3.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CRF-Exam-3"><i class="fa fa-check"></i><b>5.3.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-SO-2"><i class="fa fa-check"></i><b>5.4</b> Spatial Order</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-SO-CS-3"><i class="fa fa-check"></i><b>5.4.1</b> Command Status</a></li>
<li class="chapter" data-level="5.4.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-SO-Desc-3"><i class="fa fa-check"></i><b>5.4.2</b> Description</a></li>
<li class="chapter" data-level="5.4.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-SO-Exam-3"><i class="fa fa-check"></i><b>5.4.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Hard-2"><i class="fa fa-check"></i><b>5.5</b> Hardware</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Hard-CS-3"><i class="fa fa-check"></i><b>5.5.1</b> Command Status</a></li>
<li class="chapter" data-level="5.5.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Hard-Desc-3"><i class="fa fa-check"></i><b>5.5.2</b> Description</a></li>
<li class="chapter" data-level="5.5.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Hard-Exam-3"><i class="fa fa-check"></i><b>5.5.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-STS-2"><i class="fa fa-check"></i><b>5.6</b> Simulation Time Settings</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-STS-CS-3"><i class="fa fa-check"></i><b>5.6.1</b> Command Status</a></li>
<li class="chapter" data-level="5.6.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-STT-Desc-3"><i class="fa fa-check"></i><b>5.6.2</b> Description</a></li>
<li class="chapter" data-level="5.6.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-STS-Exam-3"><i class="fa fa-check"></i><b>5.6.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CT-2"><i class="fa fa-check"></i><b>5.7</b> Computational Timestep</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CT-CS-3"><i class="fa fa-check"></i><b>5.7.1</b> Command Status</a></li>
<li class="chapter" data-level="5.7.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CT-Desc-3"><i class="fa fa-check"></i><b>5.7.2</b> Description</a></li>
<li class="chapter" data-level="5.7.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CT-Exam-3"><i class="fa fa-check"></i><b>5.7.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-WAD-2"><i class="fa fa-check"></i><b>5.8</b> Wetting And Drying</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-WAD-CS-3"><i class="fa fa-check"></i><b>5.8.1</b> Command Status</a></li>
<li class="chapter" data-level="5.8.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-WAD-Desc-3"><i class="fa fa-check"></i><b>5.8.2</b> Description</a></li>
<li class="chapter" data-level="5.8.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-WAD-Exam-3"><i class="fa fa-check"></i><b>5.8.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BDM-2"><i class="fa fa-check"></i><b>5.9</b> Bottom Drag Model</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BDM-CS-3"><i class="fa fa-check"></i><b>5.9.1</b> Command Status</a></li>
<li class="chapter" data-level="5.9.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BDM-Desc-3"><i class="fa fa-check"></i><b>5.9.2</b> Description</a></li>
<li class="chapter" data-level="5.9.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BDM-Exam-3"><i class="fa fa-check"></i><b>5.9.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HMM-2"><i class="fa fa-check"></i><b>5.10</b> Horizontal Momentum Mixing</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HMM-CS-3"><i class="fa fa-check"></i><b>5.10.1</b> Command Status</a></li>
<li class="chapter" data-level="5.10.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HMM-Desc-3"><i class="fa fa-check"></i><b>5.10.2</b> Description</a></li>
<li class="chapter" data-level="5.10.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HMM-Exam-3"><i class="fa fa-check"></i><b>5.10.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-2"><i class="fa fa-check"></i><b>5.11</b> Computational Mesh</a>
<ul>
<li class="chapter" data-level="5.11.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-CS-3"><i class="fa fa-check"></i><b>5.11.1</b> Command Status</a></li>
<li class="chapter" data-level="5.11.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-Desc-3"><i class="fa fa-check"></i><b>5.11.2</b> Description</a></li>
<li class="chapter" data-level="5.11.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-UM-3"><i class="fa fa-check"></i><b>5.11.3</b> Unstructured Mesh</a></li>
<li class="chapter" data-level="5.11.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-UME-3"><i class="fa fa-check"></i><b>5.11.4</b> Unstructured Mesh Examples</a></li>
<li class="chapter" data-level="5.11.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-SM-3"><i class="fa fa-check"></i><b>5.11.5</b> Structured Mesh</a></li>
<li class="chapter" data-level="5.11.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-CM-SME-3"><i class="fa fa-check"></i><b>5.11.6</b> Structured Mesh Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.12" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-2"><i class="fa fa-check"></i><b>5.12</b> Bathymetry</a>
<ul>
<li class="chapter" data-level="5.12.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-CS-3"><i class="fa fa-check"></i><b>5.12.1</b> Command Status</a></li>
<li class="chapter" data-level="5.12.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-Desc-3"><i class="fa fa-check"></i><b>5.12.2</b> Description</a></li>
<li class="chapter" data-level="5.12.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-SB-3"><i class="fa fa-check"></i><b>5.12.3</b> Static Bathymetry</a></li>
<li class="chapter" data-level="5.12.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-SBE-3"><i class="fa fa-check"></i><b>5.12.4</b> Static Bathymetry Examples</a></li>
<li class="chapter" data-level="5.12.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Bath-TVB-3"><i class="fa fa-check"></i><b>5.12.5</b> Time Varying Bathymetry</a></li>
</ul></li>
<li class="chapter" data-level="5.13" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-2"><i class="fa fa-check"></i><b>5.13</b> Materials</a>
<ul>
<li class="chapter" data-level="5.13.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-CS-3"><i class="fa fa-check"></i><b>5.13.1</b> Command Status</a></li>
<li class="chapter" data-level="5.13.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-Desc-3"><i class="fa fa-check"></i><b>5.13.2</b> Description</a></li>
<li class="chapter" data-level="5.13.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-MSD-3"><i class="fa fa-check"></i><b>5.13.3</b> Material Spatial Definition</a></li>
<li class="chapter" data-level="5.13.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-MSDE-3"><i class="fa fa-check"></i><b>5.13.4</b> Material Spatial Definition Examples</a></li>
<li class="chapter" data-level="5.13.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-Prop-3"><i class="fa fa-check"></i><b>5.13.5</b> Material Properties</a></li>
<li class="chapter" data-level="5.13.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-Mate-MPE-3"><i class="fa fa-check"></i><b>5.13.6</b> Material Properties Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.14" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-2"><i class="fa fa-check"></i><b>5.14</b> Initial Conditions</a>
<ul>
<li class="chapter" data-level="5.14.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-CS-3"><i class="fa fa-check"></i><b>5.14.1</b> Command Status</a></li>
<li class="chapter" data-level="5.14.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-Desc-3"><i class="fa fa-check"></i><b>5.14.2</b> Description</a></li>
<li class="chapter" data-level="5.14.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-SC-3"><i class="fa fa-check"></i><b>5.14.3</b> Spatially Constant</a></li>
<li class="chapter" data-level="5.14.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-SV-3"><i class="fa fa-check"></i><b>5.14.4</b> Spatially Varying</a></li>
<li class="chapter" data-level="5.14.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-RF-3"><i class="fa fa-check"></i><b>5.14.5</b> Restart File</a></li>
<li class="chapter" data-level="5.14.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-IC-Exam-3"><i class="fa fa-check"></i><b>5.14.6</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5.15" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-2"><i class="fa fa-check"></i><b>5.15</b> Boundary Conditions</a>
<ul>
<li class="chapter" data-level="5.15.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-CS-3"><i class="fa fa-check"></i><b>5.15.1</b> Command Status</a></li>
<li class="chapter" data-level="5.15.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-Desc-3"><i class="fa fa-check"></i><b>5.15.2</b> Description</a></li>
<li class="chapter" data-level="5.15.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-BT-3"><i class="fa fa-check"></i><b>5.15.3</b> Boundary Types</a></li>
<li class="chapter" data-level="5.15.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-BLD-3"><i class="fa fa-check"></i><b>5.15.4</b> Boundary Location Definition</a></li>
<li class="chapter" data-level="5.15.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-BCB-3"><i class="fa fa-check"></i><b>5.15.5</b> Boundary Condition Block</a></li>
<li class="chapter" data-level="5.15.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-BCSWE-4"><i class="fa fa-check"></i><b>5.15.6</b> Boundary Condition Specification - Worked Example</a></li>
<li class="chapter" data-level="5.15.7" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-WL-3"><i class="fa fa-check"></i><b>5.15.7</b> Water Level</a></li>
<li class="chapter" data-level="5.15.8" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-IO-3"><i class="fa fa-check"></i><b>5.15.8</b> Inflow/Outflow</a></li>
<li class="chapter" data-level="5.15.9" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-DS-3"><i class="fa fa-check"></i><b>5.15.9</b> Stage-Discharge</a></li>
<li class="chapter" data-level="5.15.10" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-Atmo-3"><i class="fa fa-check"></i><b>5.15.10</b> Atmospheric</a></li>
<li class="chapter" data-level="5.15.11" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-SW-3"><i class="fa fa-check"></i><b>5.15.11</b> Spectral Wave</a></li>
<li class="chapter" data-level="5.15.12" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-Forc-3"><i class="fa fa-check"></i><b>5.15.12</b> Force</a></li>
<li class="chapter" data-level="5.15.13" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-BC-ZGAR-3"><i class="fa fa-check"></i><b>5.15.13</b> Zero Gradient And Reflective</a></li>
</ul></li>
<li class="chapter" data-level="5.16" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-2"><i class="fa fa-check"></i><b>5.16</b> Hydraulic Structures</a>
<ul>
<li class="chapter" data-level="5.16.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-CS-3"><i class="fa fa-check"></i><b>5.16.1</b> Command Status</a></li>
<li class="chapter" data-level="5.16.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Desc-3"><i class="fa fa-check"></i><b>5.16.2</b> Description</a></li>
<li class="chapter" data-level="5.16.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-ST-3"><i class="fa fa-check"></i><b>5.16.3</b> Structure Types</a></li>
<li class="chapter" data-level="5.16.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-SCT-3"><i class="fa fa-check"></i><b>5.16.4</b> Structure Connection Types</a></li>
<li class="chapter" data-level="5.16.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-SB-3"><i class="fa fa-check"></i><b>5.16.5</b> Structure Block</a></li>
<li class="chapter" data-level="5.16.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Weir-3"><i class="fa fa-check"></i><b>5.16.6</b> Weirs</a></li>
<li class="chapter" data-level="5.16.7" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Culv-3"><i class="fa fa-check"></i><b>5.16.7</b> Culverts</a></li>
<li class="chapter" data-level="5.16.8" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Brid-3"><i class="fa fa-check"></i><b>5.16.8</b> Bridges</a></li>
<li class="chapter" data-level="5.16.9" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-PS-3"><i class="fa fa-check"></i><b>5.16.9</b> Porous Structures</a></li>
<li class="chapter" data-level="5.16.10" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-UDM-3"><i class="fa fa-check"></i><b>5.16.10</b> User-Defined Matrix</a></li>
<li class="chapter" data-level="5.16.11" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-UDT-3"><i class="fa fa-check"></i><b>5.16.11</b> User-Defined Timeseries</a></li>
<li class="chapter" data-level="5.16.12" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Pump-3"><i class="fa fa-check"></i><b>5.16.12</b> Pumps</a></li>
<li class="chapter" data-level="5.16.13" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-Wall-3"><i class="fa fa-check"></i><b>5.16.13</b> Walls</a></li>
<li class="chapter" data-level="5.16.14" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-VB-3"><i class="fa fa-check"></i><b>5.16.14</b> Variable Bathymetry</a></li>
<li class="chapter" data-level="5.16.15" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-OSAVB-3"><i class="fa fa-check"></i><b>5.16.15</b> Operational Structures And Variable Bathymetry</a></li>
<li class="chapter" data-level="5.16.16" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-HS-TS-3"><i class="fa fa-check"></i><b>5.16.16</b> Treatment Structure</a></li>
</ul></li>
<li class="chapter" data-level="5.17" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-2"><i class="fa fa-check"></i><b>5.17</b> Model Outputs</a>
<ul>
<li class="chapter" data-level="5.17.1" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-Poin-3"><i class="fa fa-check"></i><b>5.17.1</b> Point</a></li>
<li class="chapter" data-level="5.17.2" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-PL-3"><i class="fa fa-check"></i><b>5.17.2</b> Polyline</a></li>
<li class="chapter" data-level="5.17.3" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-Mesh-3"><i class="fa fa-check"></i><b>5.17.3</b> Mesh</a></li>
<li class="chapter" data-level="5.17.4" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-MB-3"><i class="fa fa-check"></i><b>5.17.4</b> Mass Balance</a></li>
<li class="chapter" data-level="5.17.5" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-Stru-3"><i class="fa fa-check"></i><b>5.17.5</b> Structure</a></li>
<li class="chapter" data-level="5.17.6" data-path="HD2D-1.html"><a href="HD2D-1.html#HD2D-MO-Log-3"><i class="fa fa-check"></i><b>5.17.6</b> Log Files And Diagnostics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="HD3D-1.html"><a href="HD3D-1.html"><i class="fa fa-check"></i><b>6</b> Model Construction: 3D HD Simulation Class</a>
<ul>
<li class="chapter" data-level="6.1" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-Over-2"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-SO-2"><i class="fa fa-check"></i><b>6.2</b> Spatial Order</a></li>
<li class="chapter" data-level="6.3" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-VMM-2"><i class="fa fa-check"></i><b>6.3</b> Vertical Momentum Mixing</a></li>
<li class="chapter" data-level="6.4" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-CM-2"><i class="fa fa-check"></i><b>6.4</b> Computational Mesh</a></li>
<li class="chapter" data-level="6.5" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-Mate-2"><i class="fa fa-check"></i><b>6.5</b> Materials</a></li>
<li class="chapter" data-level="6.6" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-IC-2"><i class="fa fa-check"></i><b>6.6</b> Initial Conditions</a></li>
<li class="chapter" data-level="6.7" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-BC-2"><i class="fa fa-check"></i><b>6.7</b> Boundary Conditions</a></li>
<li class="chapter" data-level="6.8" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-HS-2"><i class="fa fa-check"></i><b>6.8</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="6.9" data-path="HD3D-1.html"><a href="HD3D-1.html#HD3D-MO-2"><i class="fa fa-check"></i><b>6.9</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="AD-1.html"><a href="AD-1.html"><i class="fa fa-check"></i><b>7</b> Model Construction: AD Simulation Class</a>
<ul>
<li class="chapter" data-level="7.1" data-path="AD-1.html"><a href="AD-1.html#AD-Over-2"><i class="fa fa-check"></i><b>7.1</b> Overview</a></li>
<li class="chapter" data-level="7.2" data-path="AD-1.html"><a href="AD-1.html#AD-TempM-2"><i class="fa fa-check"></i><b>7.2</b> Temperature Model</a></li>
<li class="chapter" data-level="7.3" data-path="AD-1.html"><a href="AD-1.html#AD-TraceM-2"><i class="fa fa-check"></i><b>7.3</b> Tracer Model</a></li>
<li class="chapter" data-level="7.4" data-path="AD-1.html"><a href="AD-1.html#AD-SMM-2"><i class="fa fa-check"></i><b>7.4</b> Scalar Mixing Model</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="AD-1.html"><a href="AD-1.html#AD-SMM-Hori-3"><i class="fa fa-check"></i><b>7.4.1</b> Horizontal</a></li>
<li class="chapter" data-level="7.4.2" data-path="AD-1.html"><a href="AD-1.html#AD-SMM-Vert-3"><i class="fa fa-check"></i><b>7.4.2</b> Vertical</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="AD-1.html"><a href="AD-1.html#AD-AHE-2"><i class="fa fa-check"></i><b>7.5</b> Atmospheric Heat Exchange</a></li>
<li class="chapter" data-level="7.6" data-path="AD-1.html"><a href="AD-1.html#AD-SRM-2"><i class="fa fa-check"></i><b>7.6</b> Shortwave Radiation Model</a></li>
<li class="chapter" data-level="7.7" data-path="AD-1.html"><a href="AD-1.html#AD-LRM-2"><i class="fa fa-check"></i><b>7.7</b> Longwave Radiation Model</a></li>
<li class="chapter" data-level="7.8" data-path="AD-1.html"><a href="AD-1.html#AD-LHM-2"><i class="fa fa-check"></i><b>7.8</b> Latent Heat Model</a></li>
<li class="chapter" data-level="7.9" data-path="AD-1.html"><a href="AD-1.html#AD-Mate-2"><i class="fa fa-check"></i><b>7.9</b> Materials</a></li>
<li class="chapter" data-level="7.10" data-path="AD-1.html"><a href="AD-1.html#AD-IC-2"><i class="fa fa-check"></i><b>7.10</b> Initial Conditions</a></li>
<li class="chapter" data-level="7.11" data-path="AD-1.html"><a href="AD-1.html#AD-BC-2"><i class="fa fa-check"></i><b>7.11</b> Boundary Conditions</a>
<ul>
<li class="chapter" data-level="7.11.1" data-path="AD-1.html"><a href="AD-1.html#AD-BC-BT-3"><i class="fa fa-check"></i><b>7.11.1</b> Boundary Types</a></li>
<li class="chapter" data-level="7.11.2" data-path="AD-1.html"><a href="AD-1.html#AD-BC-BLD-3"><i class="fa fa-check"></i><b>7.11.2</b> Boundary Location Definition</a></li>
<li class="chapter" data-level="7.11.3" data-path="AD-1.html"><a href="AD-1.html#AD-BC-OCM-3"><i class="fa fa-check"></i><b>7.11.3</b> Ocean Circulation Model</a></li>
<li class="chapter" data-level="7.11.4" data-path="AD-1.html"><a href="AD-1.html#AD-BC-Mass-3"><i class="fa fa-check"></i><b>7.11.4</b> Mass</a></li>
<li class="chapter" data-level="7.11.5" data-path="AD-1.html"><a href="AD-1.html#AD-BC-SC-3"><i class="fa fa-check"></i><b>7.11.5</b> Scalar Concentration</a></li>
<li class="chapter" data-level="7.11.6" data-path="AD-1.html"><a href="AD-1.html#AD-BC-TF-3"><i class="fa fa-check"></i><b>7.11.6</b> Transport File</a></li>
</ul></li>
<li class="chapter" data-level="7.12" data-path="AD-1.html"><a href="AD-1.html#AD-HS-2"><i class="fa fa-check"></i><b>7.12</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="7.13" data-path="AD-1.html"><a href="AD-1.html#AD-MO-2"><i class="fa fa-check"></i><b>7.13</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ST-1.html"><a href="ST-1.html"><i class="fa fa-check"></i><b>8</b> Model Construction: ST Simulation Class</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ST-1.html"><a href="ST-1.html#ST-Over-2"><i class="fa fa-check"></i><b>8.1</b> Overview</a></li>
<li class="chapter" data-level="8.2" data-path="ST-1.html"><a href="ST-1.html#ST-SM-2"><i class="fa fa-check"></i><b>8.2</b> Sediment Model</a></li>
<li class="chapter" data-level="8.3" data-path="ST-1.html"><a href="ST-1.html#ST-SC-2"><i class="fa fa-check"></i><b>8.3</b> Sediment Configuration</a></li>
<li class="chapter" data-level="8.4" data-path="ST-1.html"><a href="ST-1.html#ST-IC-2"><i class="fa fa-check"></i><b>8.4</b> Initial Conditions</a></li>
<li class="chapter" data-level="8.5" data-path="ST-1.html"><a href="ST-1.html#ST-BC-2"><i class="fa fa-check"></i><b>8.5</b> Boundary Conditions</a></li>
<li class="chapter" data-level="8.6" data-path="ST-1.html"><a href="ST-1.html#ST-HS-2"><i class="fa fa-check"></i><b>8.6</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="8.7" data-path="ST-1.html"><a href="ST-1.html#ST-MO-2"><i class="fa fa-check"></i><b>8.7</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="WQ-1.html"><a href="WQ-1.html"><i class="fa fa-check"></i><b>9</b> Model Construction: WQ Simulation Class</a>
<ul>
<li class="chapter" data-level="9.1" data-path="WQ-1.html"><a href="WQ-1.html#WQ-Over-2"><i class="fa fa-check"></i><b>9.1</b> Overview</a></li>
<li class="chapter" data-level="9.2" data-path="WQ-1.html"><a href="WQ-1.html#WQ-WQM-2"><i class="fa fa-check"></i><b>9.2</b> Water Quality Model</a></li>
<li class="chapter" data-level="9.3" data-path="WQ-1.html"><a href="WQ-1.html#WQ-WQC-2"><i class="fa fa-check"></i><b>9.3</b> Water Quality Configuration</a></li>
<li class="chapter" data-level="9.4" data-path="WQ-1.html"><a href="WQ-1.html#WQ-IC-2"><i class="fa fa-check"></i><b>9.4</b> Initial Conditions</a></li>
<li class="chapter" data-level="9.5" data-path="WQ-1.html"><a href="WQ-1.html#WQ-BC-2"><i class="fa fa-check"></i><b>9.5</b> Boundary Conditions</a></li>
<li class="chapter" data-level="9.6" data-path="WQ-1.html"><a href="WQ-1.html#WQ-HS-2"><i class="fa fa-check"></i><b>9.6</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="9.7" data-path="WQ-1.html"><a href="WQ-1.html#WQ-MO-2"><i class="fa fa-check"></i><b>9.7</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="PT-1.html"><a href="PT-1.html"><i class="fa fa-check"></i><b>10</b> Model Construction: PT Simulation Class</a>
<ul>
<li class="chapter" data-level="10.1" data-path="PT-1.html"><a href="PT-1.html#PT-Over-2"><i class="fa fa-check"></i><b>10.1</b> Overview</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="Hardware-1.html"><a href="Hardware-1.html"><i class="fa fa-check"></i><b>11</b> Hardware And Operating System</a>
<ul>
<li class="chapter" data-level="11.1" data-path="Hardware-1.html"><a href="Hardware-1.html#Hardware-2"><i class="fa fa-check"></i><b>11.1</b> Context</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html"><i class="fa fa-check"></i><b>12</b> Managing And Starting Simulations</a>
<ul>
<li class="chapter" data-level="12.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#RunningSimulationsIntro-2"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#FileNaming-2"><i class="fa fa-check"></i><b>12.2</b> File Naming</a></li>
<li class="chapter" data-level="12.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#SimulationManagement-2"><i class="fa fa-check"></i><b>12.3</b> Simulation Management</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#TimeOutputControls-3"><i class="fa fa-check"></i><b>12.3.1</b> Time and Output Controls</a></li>
<li class="chapter" data-level="12.3.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#Events-3"><i class="fa fa-check"></i><b>12.3.2</b> Events</a></li>
<li class="chapter" data-level="12.3.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#Scenarios-3"><i class="fa fa-check"></i><b>12.3.3</b> Scenarios</a></li>
<li class="chapter" data-level="12.3.4" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#Variables-3"><i class="fa fa-check"></i><b>12.3.4</b> Variables</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#TUFLOWExecDownload-2"><i class="fa fa-check"></i><b>12.4</b> TUFLOW Executable Download</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#InstallOverview-3"><i class="fa fa-check"></i><b>12.4.1</b> Overview and Where to Install</a></li>
<li class="chapter" data-level="12.4.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#iSPdSP-3"><i class="fa fa-check"></i><b>12.4.2</b> Single and Double Precision</a></li>
<li class="chapter" data-level="12.4.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#CustomingTUFLOW-3"><i class="fa fa-check"></i><b>12.4.3</b> Customising TUFLOW using TUFLOW_USER_DEFINED.dll</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#RunningSims-2"><i class="fa fa-check"></i><b>12.5</b> Running Simulations</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#DongleTypesandSetup-3"><i class="fa fa-check"></i><b>12.5.1</b> Dongle Types and Setup</a></li>
<li class="chapter" data-level="12.5.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#StartingaSim-3"><i class="fa fa-check"></i><b>12.5.2</b> Starting a Simulation</a></li>
<li class="chapter" data-level="12.5.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#SMSSimulations-3"><i class="fa fa-check"></i><b>12.5.3</b> Using TUFLOW FV with SMS</a></li>
<li class="chapter" data-level="12.5.4" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#OptimisingSims-3"><i class="fa fa-check"></i><b>12.5.4</b> Optimising Startup and Run Times</a></li>
<li class="chapter" data-level="12.5.5" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#AutoTerminateOptions-3"><i class="fa fa-check"></i><b>12.5.5</b> Auto Terminate (Simulation End) Options</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplication-3"><i class="fa fa-check"></i><b>12.6</b> Reproducibility of Results</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplicationClassic-3"><i class="fa fa-check"></i><b>12.6.1</b> TUFLOW Classic (CPU only)</a></li>
<li class="chapter" data-level="12.6.2" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplicationHPCCPU-3"><i class="fa fa-check"></i><b>12.6.2</b> TUFLOW HPC (incl. Quadtree) on CPU</a></li>
<li class="chapter" data-level="12.6.3" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplicationHPCGPU-3"><i class="fa fa-check"></i><b>12.6.3</b> TUFLOW HPC (incl. Quadtree) on GPU</a></li>
<li class="chapter" data-level="12.6.4" data-path="ManagingSimulations-1.html"><a href="ManagingSimulations-1.html#ResultsReplicationHPCMultiThread-3"><i class="fa fa-check"></i><b>12.6.4</b> TUFLOW HPC (incl. Quadtree) on multiple GPUs / CPU threads</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="CAL-1.html"><a href="CAL-1.html"><i class="fa fa-check"></i><b>13</b> Checks And Logs</a>
<ul>
<li class="chapter" data-level="13.1" data-path="CAL-1.html"><a href="CAL-1.html#CAL-Cont-2"><i class="fa fa-check"></i><b>13.1</b> Context</a></li>
<li class="chapter" data-level="13.2" data-path="CAL-1.html"><a href="CAL-1.html#CAL-TLF-2"><i class="fa fa-check"></i><b>13.2</b> TUFLOW FV Log File</a></li>
<li class="chapter" data-level="13.3" data-path="CAL-1.html"><a href="CAL-1.html#CAL-MD-2"><i class="fa fa-check"></i><b>13.3</b> Mesh Diagnostics</a></li>
<li class="chapter" data-level="13.4" data-path="CAL-1.html"><a href="CAL-1.html#CAL-GCF-2"><i class="fa fa-check"></i><b>13.4</b> GIS Check Files</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="ViewingOutputs-1.html"><a href="ViewingOutputs-1.html"><i class="fa fa-check"></i><b>14</b> Viewing Outputs</a>
<ul>
<li class="chapter" data-level="14.1" data-path="ViewingOutputs-1.html"><a href="ViewingOutputs-1.html#ViewingOutputs-2"><i class="fa fa-check"></i><b>14.1</b> Context</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="QAAndTroubleshooting-1.html"><a href="QAAndTroubleshooting-1.html"><i class="fa fa-check"></i><b>15</b> QA And Troubleshooting</a>
<ul>
<li class="chapter" data-level="15.1" data-path="QAAndTroubleshooting-1.html"><a href="QAAndTroubleshooting-1.html#QAAndTroubleshooting-2"><i class="fa fa-check"></i><b>15.1</b> Context</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="AppCommands.html"><a href="AppCommands.html"><i class="fa fa-check"></i><b>A</b> Commands</a>
<ul>
<li class="chapter" data-level="A.1" data-path="AppCommands.html"><a href="AppCommands.html#Appcmdsyn"><i class="fa fa-check"></i><b>A.1</b> Command syntax</a></li>
<li class="chapter" data-level="A.2" data-path="AppCommands.html"><a href="AppCommands.html#Appargmtsyn"><i class="fa fa-check"></i><b>A.2</b> Argument syntax</a></li>
<li class="chapter" data-level="A.3" data-path="AppCommands.html"><a href="AppCommands.html#Appcmds"><i class="fa fa-check"></i><b>A.3</b> Commands</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="AppParams.html"><a href="AppParams.html"><i class="fa fa-check"></i><b>B</b> Parameters</a></li>
<li class="chapter" data-level="C" data-path="AppFiles.html"><a href="AppFiles.html"><i class="fa fa-check"></i><b>C</b> Files and Data Fields</a>
<ul>
<li class="chapter" data-level="C.1" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsSurfConc"><i class="fa fa-check"></i><b>C.1</b> Surface water concentrations</a></li>
<li class="chapter" data-level="C.2" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsGWConc"><i class="fa fa-check"></i><b>C.2</b> Groundwater concentrations</a></li>
<li class="chapter" data-level="C.3" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsDryMass"><i class="fa fa-check"></i><b>C.3</b> Dry mass</a></li>
<li class="chapter" data-level="C.4" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsNetMass"><i class="fa fa-check"></i><b>C.4</b> Net mass</a></li>
<li class="chapter" data-level="C.5" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsOther"><i class="fa fa-check"></i><b>C.5</b> Other outputs</a>
<ul>
<li class="chapter" data-level="C.5.1" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsOtherMB"><i class="fa fa-check"></i><b>C.5.1</b> Mass balance</a></li>
<li class="chapter" data-level="C.5.2" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsOtherRP"><i class="fa fa-check"></i><b>C.5.2</b> Receiving polygon</a></li>
<li class="chapter" data-level="C.5.3" data-path="AppFiles.html"><a href="AppFiles.html#AppOutputsOtherFV"><i class="fa fa-check"></i><b>C.5.3</b> TUFLOW FV boundaries</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="D" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html"><i class="fa fa-check"></i><b>D</b> Processes: Governing Equations And Numerical Scheme</a>
<ul>
<li class="chapter" data-level="D.1" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#AppProc-GE-Cont-2"><i class="fa fa-check"></i><b>D.1</b> Context</a></li>
<li class="chapter" data-level="D.2" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#AppProc-GE-GE-2"><i class="fa fa-check"></i><b>D.2</b> Governing Equations</a></li>
<li class="chapter" data-level="D.3" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#scalar-conservation-equations"><i class="fa fa-check"></i><b>D.3</b> Scalar Conservation Equations</a></li>
<li class="chapter" data-level="D.4" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#units"><i class="fa fa-check"></i><b>D.4</b> Units</a>
<ul>
<li class="chapter" data-level="D.4.1" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#master-variables-table-cell-centre-state-variables-2d"><i class="fa fa-check"></i><b>D.4.1</b> Master Variables Table — Cell-centre State Variables (2D)</a></li>
<li class="chapter" data-level="D.4.2" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#face-flux-densities-per-unit-face-length-2d"><i class="fa fa-check"></i><b>D.4.2</b> Face Flux Densities — Per Unit Face Length (2D)</a></li>
<li class="chapter" data-level="D.4.3" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#cell-centre-sources-per-unit-area-x-equation-2d"><i class="fa fa-check"></i><b>D.4.3</b> Cell-centre Sources — Per Unit Area (x-equation) (2D)</a></li>
<li class="chapter" data-level="D.4.4" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#how-it-all-links-in-fv-updates"><i class="fa fa-check"></i><b>D.4.4</b> 4. How it all links in FV updates</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#AppProc-GE-CT-2"><i class="fa fa-check"></i><b>D.5</b> Cell Topology</a></li>
<li class="chapter" data-level="D.6" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#AppProc-GE-SN-2"><i class="fa fa-check"></i><b>D.6</b> Numerical Scheme</a>
<ul>
<li class="chapter" data-level="D.6.1" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#discrete-system"><i class="fa fa-check"></i><b>D.6.1</b> Discrete System</a></li>
<li class="chapter" data-level="D.6.2" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#mode-splitting"><i class="fa fa-check"></i><b>D.6.2</b> Mode Splitting</a></li>
<li class="chapter" data-level="D.6.3" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#flux-terms"><i class="fa fa-check"></i><b>D.6.3</b> Flux Terms</a></li>
<li class="chapter" data-level="D.6.4" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#time-integration"><i class="fa fa-check"></i><b>D.6.4</b> Time Integration</a></li>
<li class="chapter" data-level="D.6.5" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#wetting-and-drying"><i class="fa fa-check"></i><b>D.6.5</b> Wetting and Drying</a></li>
<li class="chapter" data-level="D.6.6" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#source-terms"><i class="fa fa-check"></i><b>D.6.6</b> Source Terms</a></li>
</ul></li>
<li class="chapter" data-level="D.7" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#atmospheric-heat-exchange"><i class="fa fa-check"></i><b>D.7</b> Atmospheric Heat Exchange</a></li>
<li class="chapter" data-level="D.8" data-path="AppProc-GE-2.html"><a href="AppProc-GE-2.html#references"><i class="fa fa-check"></i><b>D.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="App2DHD-1.html"><a href="App2DHD-1.html"><i class="fa fa-check"></i><b>E</b> Processes: 2D HD Simulation Class</a>
<ul>
<li class="chapter" data-level="E.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Cont-2"><i class="fa fa-check"></i><b>E.1</b> Context</a></li>
<li class="chapter" data-level="E.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MI-2"><i class="fa fa-check"></i><b>E.2</b> Model Initialisation</a></li>
<li class="chapter" data-level="E.3" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CRF-2"><i class="fa fa-check"></i><b>E.3</b> Coordinate Reference Frame</a>
<ul>
<li class="chapter" data-level="E.3.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CRF-Scie-3"><i class="fa fa-check"></i><b>E.3.1</b> Science</a></li>
<li class="chapter" data-level="E.3.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CRF-GUG-3"><i class="fa fa-check"></i><b>E.3.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.4" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-SO-2"><i class="fa fa-check"></i><b>E.4</b> Spatial Order</a>
<ul>
<li class="chapter" data-level="E.4.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-SO-Scie-3"><i class="fa fa-check"></i><b>E.4.1</b> Science</a></li>
<li class="chapter" data-level="E.4.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-SO-GUG-3"><i class="fa fa-check"></i><b>E.4.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.5" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Hard-2"><i class="fa fa-check"></i><b>E.5</b> Hardware</a>
<ul>
<li class="chapter" data-level="E.5.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Hard-Scie-3"><i class="fa fa-check"></i><b>E.5.1</b> Science</a></li>
<li class="chapter" data-level="E.5.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Hard-GUG-3"><i class="fa fa-check"></i><b>E.5.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.6" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-STS-2"><i class="fa fa-check"></i><b>E.6</b> Simulation Time Settings</a>
<ul>
<li class="chapter" data-level="E.6.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-STS-Scie-3"><i class="fa fa-check"></i><b>E.6.1</b> Science</a></li>
<li class="chapter" data-level="E.6.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-STS-GUG-3"><i class="fa fa-check"></i><b>E.6.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.7" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CT-2"><i class="fa fa-check"></i><b>E.7</b> Computational Timestep</a>
<ul>
<li class="chapter" data-level="E.7.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CT-Scie-3"><i class="fa fa-check"></i><b>E.7.1</b> Science</a></li>
<li class="chapter" data-level="E.7.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CT-GUG-3"><i class="fa fa-check"></i><b>E.7.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.8" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-WAD-2"><i class="fa fa-check"></i><b>E.8</b> Wetting And Drying</a>
<ul>
<li class="chapter" data-level="E.8.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-WAD-Scie-3"><i class="fa fa-check"></i><b>E.8.1</b> Science</a></li>
<li class="chapter" data-level="E.8.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-WAD-GUG-3"><i class="fa fa-check"></i><b>E.8.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.9" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BDM-2"><i class="fa fa-check"></i><b>E.9</b> Bottom Drag Model</a>
<ul>
<li class="chapter" data-level="E.9.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BDM-Scie-3"><i class="fa fa-check"></i><b>E.9.1</b> Science</a></li>
<li class="chapter" data-level="E.9.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BDM-GUG-3"><i class="fa fa-check"></i><b>E.9.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.10" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MMM-2"><i class="fa fa-check"></i><b>E.10</b> Momentum Mixing Model</a>
<ul>
<li class="chapter" data-level="E.10.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MMM-Scie-3"><i class="fa fa-check"></i><b>E.10.1</b> Science</a></li>
<li class="chapter" data-level="E.10.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MMM-GUG-3"><i class="fa fa-check"></i><b>E.10.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.11" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CM-2"><i class="fa fa-check"></i><b>E.11</b> Computational Mesh</a>
<ul>
<li class="chapter" data-level="E.11.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CM-Scie-3"><i class="fa fa-check"></i><b>E.11.1</b> Science</a></li>
<li class="chapter" data-level="E.11.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-CM-GUG-3"><i class="fa fa-check"></i><b>E.11.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.12" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Bath-2"><i class="fa fa-check"></i><b>E.12</b> Bathymetry</a>
<ul>
<li class="chapter" data-level="E.12.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Bath-Scie-3"><i class="fa fa-check"></i><b>E.12.1</b> Science</a></li>
<li class="chapter" data-level="E.12.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Bath-GUG-3"><i class="fa fa-check"></i><b>E.12.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.13" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Mate-2"><i class="fa fa-check"></i><b>E.13</b> Materials</a>
<ul>
<li class="chapter" data-level="E.13.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-Mate-Scie-3"><i class="fa fa-check"></i><b>E.13.1</b> Science</a></li>
</ul></li>
<li class="chapter" data-level="E.14" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-IC-2"><i class="fa fa-check"></i><b>E.14</b> Initial Conditions</a>
<ul>
<li class="chapter" data-level="E.14.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-IC-Scie-3"><i class="fa fa-check"></i><b>E.14.1</b> Science</a></li>
<li class="chapter" data-level="E.14.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-IC-GUG-3"><i class="fa fa-check"></i><b>E.14.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.15" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BC-2"><i class="fa fa-check"></i><b>E.15</b> Boundary Conditions</a>
<ul>
<li class="chapter" data-level="E.15.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BC-Scie-3"><i class="fa fa-check"></i><b>E.15.1</b> Science</a></li>
<li class="chapter" data-level="E.15.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-BC-GUG-3"><i class="fa fa-check"></i><b>E.15.2</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.16" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-HS-2"><i class="fa fa-check"></i><b>E.16</b> Hydraulic Structures</a>
<ul>
<li class="chapter" data-level="E.16.1" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-HS-Scie-3"><i class="fa fa-check"></i><b>E.16.1</b> Science</a></li>
<li class="chapter" data-level="E.16.2" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-HS-OSAVB-3"><i class="fa fa-check"></i><b>E.16.2</b> Operational Structures And Variable Bathymetry</a></li>
<li class="chapter" data-level="E.16.3" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-HS-GUG-3"><i class="fa fa-check"></i><b>E.16.3</b> General Usage Guidance</a></li>
</ul></li>
<li class="chapter" data-level="E.17" data-path="App2DHD-1.html"><a href="App2DHD-1.html#App2DHD-MO-2"><i class="fa fa-check"></i><b>E.17</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="App3DHD-1.html"><a href="App3DHD-1.html"><i class="fa fa-check"></i><b>F</b> Processes: 3D HD Simulation Class</a>
<ul>
<li class="chapter" data-level="F.1" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-Cont-2"><i class="fa fa-check"></i><b>F.1</b> Context</a></li>
<li class="chapter" data-level="F.2" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-SO-2"><i class="fa fa-check"></i><b>F.2</b> Spatial Order</a></li>
<li class="chapter" data-level="F.3" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-CT-2"><i class="fa fa-check"></i><b>F.3</b> Computational Timestep</a>
<ul>
<li class="chapter" data-level="F.3.1" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-CT-Cont-3"><i class="fa fa-check"></i><b>F.3.1</b> Context</a></li>
<li class="chapter" data-level="F.3.2" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-CT-Scie-3"><i class="fa fa-check"></i><b>F.3.2</b> Science</a></li>
</ul></li>
<li class="chapter" data-level="F.4" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-VMM-2"><i class="fa fa-check"></i><b>F.4</b> Vertical Mixing Model</a></li>
<li class="chapter" data-level="F.5" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-CM-2"><i class="fa fa-check"></i><b>F.5</b> Computational Mesh</a></li>
<li class="chapter" data-level="F.6" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-IC-2"><i class="fa fa-check"></i><b>F.6</b> Initial Conditions</a></li>
<li class="chapter" data-level="F.7" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-BC-2"><i class="fa fa-check"></i><b>F.7</b> Boundary Conditions</a></li>
<li class="chapter" data-level="F.8" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-HS-2"><i class="fa fa-check"></i><b>F.8</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="F.9" data-path="App3DHD-1.html"><a href="App3DHD-1.html#App3DHD-MO-2"><i class="fa fa-check"></i><b>F.9</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="G" data-path="AppAD-1.html"><a href="AppAD-1.html"><i class="fa fa-check"></i><b>G</b> Processes: AD Simulation Class</a>
<ul>
<li class="chapter" data-level="G.1" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-Cont-2"><i class="fa fa-check"></i><b>G.1</b> Context</a></li>
<li class="chapter" data-level="G.2" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-SM-2"><i class="fa fa-check"></i><b>G.2</b> Salinity Model</a></li>
<li class="chapter" data-level="G.3" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-TempM-2"><i class="fa fa-check"></i><b>G.3</b> Temperature Model</a></li>
<li class="chapter" data-level="G.4" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-TraceM-2"><i class="fa fa-check"></i><b>G.4</b> Tracer Model</a></li>
<li class="chapter" data-level="G.5" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-CT-2"><i class="fa fa-check"></i><b>G.5</b> Computational Timestep</a>
<ul>
<li class="chapter" data-level="G.5.1" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-CT-Cont-3"><i class="fa fa-check"></i><b>G.5.1</b> Context</a></li>
<li class="chapter" data-level="G.5.2" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-CT-Scie-3"><i class="fa fa-check"></i><b>G.5.2</b> Science</a></li>
</ul></li>
<li class="chapter" data-level="G.6" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-SMM-2"><i class="fa fa-check"></i><b>G.6</b> Scalar Mixing Model</a></li>
<li class="chapter" data-level="G.7" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-2"><i class="fa fa-check"></i><b>G.7</b> Atmospheric Heat Exchange</a>
<ul>
<li class="chapter" data-level="G.7.1" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-Cont-3"><i class="fa fa-check"></i><b>G.7.1</b> Context</a></li>
<li class="chapter" data-level="G.7.2" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-SRM-3"><i class="fa fa-check"></i><b>G.7.2</b> Shortwave Radiation Model</a></li>
<li class="chapter" data-level="G.7.3" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-LRM-3"><i class="fa fa-check"></i><b>G.7.3</b> Longwave Radiation Model</a></li>
<li class="chapter" data-level="G.7.4" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-AHE-LHM-3"><i class="fa fa-check"></i><b>G.7.4</b> Latent Heat Model</a></li>
</ul></li>
<li class="chapter" data-level="G.8" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-IC-2"><i class="fa fa-check"></i><b>G.8</b> Initial Conditions</a></li>
<li class="chapter" data-level="G.9" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-BC-2"><i class="fa fa-check"></i><b>G.9</b> Boundary Conditions</a></li>
<li class="chapter" data-level="G.10" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-HS"><i class="fa fa-check"></i><b>G.10</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="G.11" data-path="AppAD-1.html"><a href="AppAD-1.html#AppAD-MO-2"><i class="fa fa-check"></i><b>G.11</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="H" data-path="AppST-1.html"><a href="AppST-1.html"><i class="fa fa-check"></i><b>H</b> Processes: ST Simulation Class</a>
<ul>
<li class="chapter" data-level="H.1" data-path="AppST-1.html"><a href="AppST-1.html#AppST-Cont-2"><i class="fa fa-check"></i><b>H.1</b> Context</a></li>
<li class="chapter" data-level="H.2" data-path="AppST-1.html"><a href="AppST-1.html#AppST-SM-2"><i class="fa fa-check"></i><b>H.2</b> Sediment Model</a></li>
<li class="chapter" data-level="H.3" data-path="AppST-1.html"><a href="AppST-1.html#AppST-BRM-2"><i class="fa fa-check"></i><b>H.3</b> Bottom Drag Model</a></li>
<li class="chapter" data-level="H.4" data-path="AppST-1.html"><a href="AppST-1.html#AppST-Bath-2"><i class="fa fa-check"></i><b>H.4</b> Bathymetry</a></li>
<li class="chapter" data-level="H.5" data-path="AppST-1.html"><a href="AppST-1.html#AppST-SC-2"><i class="fa fa-check"></i><b>H.5</b> Sediment Configuration</a></li>
<li class="chapter" data-level="H.6" data-path="AppST-1.html"><a href="AppST-1.html#AppST-IC-2"><i class="fa fa-check"></i><b>H.6</b> Initial Conditions</a></li>
<li class="chapter" data-level="H.7" data-path="AppST-1.html"><a href="AppST-1.html#AppST-BC-2"><i class="fa fa-check"></i><b>H.7</b> Boundary Conditions</a></li>
<li class="chapter" data-level="H.8" data-path="AppST-1.html"><a href="AppST-1.html#AppST-HS-2"><i class="fa fa-check"></i><b>H.8</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="H.9" data-path="AppST-1.html"><a href="AppST-1.html#AppST-MO-2"><i class="fa fa-check"></i><b>H.9</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="I" data-path="AppWQ-1.html"><a href="AppWQ-1.html"><i class="fa fa-check"></i><b>I</b> Processes: WQ Simulation Class</a>
<ul>
<li class="chapter" data-level="I.1" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-Cont-2"><i class="fa fa-check"></i><b>I.1</b> Context</a></li>
<li class="chapter" data-level="I.2" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-WQM-2"><i class="fa fa-check"></i><b>I.2</b> Water Quality Model</a></li>
<li class="chapter" data-level="I.3" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-WQC-2"><i class="fa fa-check"></i><b>I.3</b> Water Quality Configuration</a></li>
<li class="chapter" data-level="I.4" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-IC-2"><i class="fa fa-check"></i><b>I.4</b> Initial Conditions</a></li>
<li class="chapter" data-level="I.5" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-BC-2"><i class="fa fa-check"></i><b>I.5</b> Boundary Conditions</a></li>
<li class="chapter" data-level="I.6" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-HS-2"><i class="fa fa-check"></i><b>I.6</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="I.7" data-path="AppWQ-1.html"><a href="AppWQ-1.html#AppWQ-MO-2"><i class="fa fa-check"></i><b>I.7</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="J" data-path="AppPT-1.html"><a href="AppPT-1.html"><i class="fa fa-check"></i><b>J</b> Processes: PT Simulation Class</a>
<ul>
<li class="chapter" data-level="J.1" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-Cont-2"><i class="fa fa-check"></i><b>J.1</b> Context</a></li>
<li class="chapter" data-level="J.2" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-PTC-2"><i class="fa fa-check"></i><b>J.2</b> Particle Tracking Configuration</a></li>
<li class="chapter" data-level="J.3" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-IC-2"><i class="fa fa-check"></i><b>J.3</b> Initial Conditions</a></li>
<li class="chapter" data-level="J.4" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-BC-2"><i class="fa fa-check"></i><b>J.4</b> Boundary Conditions</a></li>
<li class="chapter" data-level="J.5" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-HS-2"><i class="fa fa-check"></i><b>J.5</b> Hydraulic Structures</a></li>
<li class="chapter" data-level="J.6" data-path="AppPT-1.html"><a href="AppPT-1.html#AppPT-MO-2"><i class="fa fa-check"></i><b>J.6</b> Model Outputs</a></li>
</ul></li>
<li class="chapter" data-level="K" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html"><i class="fa fa-check"></i><b>K</b> Application under version control</a>
<ul>
<li class="chapter" data-level="K.1" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContCtxt-3"><i class="fa fa-check"></i><b>K.1</b> Context</a></li>
<li class="chapter" data-level="K.2" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContUC-3"><i class="fa fa-check"></i><b>K.2</b> Use case</a></li>
<li class="chapter" data-level="K.3" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContWF-3"><i class="fa fa-check"></i><b>K.3</b> Possible workflow #1</a></li>
<li class="chapter" data-level="K.4" data-path="AppDemoModelResCont-2.html"><a href="AppDemoModelResCont-2.html#AppDemoModelResContWF2-3"><i class="fa fa-check"></i><b>K.4</b> Possible workflow #2</a></li>
</ul></li>
<li class="chapter" data-level="L" data-path="App-FFE-1.html"><a href="App-FFE-1.html"><i class="fa fa-check"></i><b>L</b> File Format Examples</a>
<ul>
<li class="chapter" data-level="L.1" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-Cont-2"><i class="fa fa-check"></i><b>L.1</b> Context</a></li>
<li class="chapter" data-level="L.2" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-2"><i class="fa fa-check"></i><b>L.2</b> Input File Format Examples</a>
<ul>
<li class="chapter" data-level="L.2.1" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-2DHD-3"><i class="fa fa-check"></i><b>L.2.1</b> 2D HD Simulation Class</a></li>
<li class="chapter" data-level="L.2.2" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-3DHD-3"><i class="fa fa-check"></i><b>L.2.2</b> 3D HD Simulation Class</a></li>
<li class="chapter" data-level="L.2.3" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-AD-3"><i class="fa fa-check"></i><b>L.2.3</b> AD Simulation Class</a></li>
<li class="chapter" data-level="L.2.4" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-ST-3"><i class="fa fa-check"></i><b>L.2.4</b> ST Simulation Class</a></li>
<li class="chapter" data-level="L.2.5" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-WQ-3"><i class="fa fa-check"></i><b>L.2.5</b> WQ Simulation Class</a></li>
<li class="chapter" data-level="L.2.6" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-IFFE-PT-3"><i class="fa fa-check"></i><b>L.2.6</b> PT Simulation Class</a></li>
</ul></li>
<li class="chapter" data-level="L.3" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-OFFE-2"><i class="fa fa-check"></i><b>L.3</b> Output File Format Examples</a></li>
<li class="chapter" data-level="L.4" data-path="App-FFE-1.html"><a href="App-FFE-1.html#App-FFE-LFF-2"><i class="fa fa-check"></i><b>L.4</b> Legacy File Formats</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://www.tuflow.com"><img src="images/1024in300px_Blue-01.svg" style="width:246px;height:68px;"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><h0 style="color:rgb(0,85,129);">TUFLOW FV User Manual</h0></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="App2DHD-1" class="section level1 hasAnchor" number="20">
<h1><span class="header-section-number">Appendix E</span> Processes: 2D HD Simulation Class<a href="App2DHD-1.html#App2DHD-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>MJS TODO: THIS APPENDIX IS A WORK IN PROGRESS</p>
<div id="App2DHD-Cont-2" class="section level2 hasAnchor" number="20.1">
<h2><span class="header-section-number">E.1</span> Context<a href="App2DHD-1.html#App2DHD-Cont-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Describe what this chapter is about</p>
<p>Paragraph about how the appendix works</p>
<p>Paragraph about the science - link the model class with the governing equations. Provide information on the physics and implementation. Provides the detail behind the model construction chapter.</p>
<p>Paragraph about guidance - Advice on how to use the model class. Links to wiki, example models etc. where relevant. Should this be moved back into the user manual?</p>
</div>
<div id="App2DHD-MI-2" class="section level2 hasAnchor" number="20.2">
<h2><span class="header-section-number">E.2</span> Model Initialisation<a href="App2DHD-1.html#App2DHD-MI-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Place holder if required. Probably not needed here unless using it to link to wiki resources, Elearning, however this is already in the manual.</p>
</div>
<div id="App2DHD-CRF-2" class="section level2 hasAnchor" number="20.3">
<h2><span class="header-section-number">E.3</span> Coordinate Reference Frame<a href="App2DHD-1.html#App2DHD-CRF-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="App2DHD-CRF-Scie-3" class="section level3 hasAnchor" number="20.3.1">
<h3><span class="header-section-number">E.3.1</span> Science<a href="App2DHD-1.html#App2DHD-CRF-Scie-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Reference spherical version of governing equations in equations appendix</li>
<li>Reference calculation of coriolis source term</li>
<li>Discuss how unit conversion is handled (converted on to metric on the way in and back to imperial on the way out)?</li>
<li>More information on generation of empty files and MI vs SHP files</li>
</ul>
</div>
<div id="App2DHD-CRF-GUG-3" class="section level3 hasAnchor" number="20.3.2">
<h3><span class="header-section-number">E.3.2</span> General Usage Guidance<a href="App2DHD-1.html#App2DHD-CRF-GUG-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Vector layers should be generated using the Write Empty GIS Layers command. This ensures that the attributes, geometry and coordinate system is correct for model development. This should be run once at the start of each project. If upgrading to a new version of TUFLOW FV, it may be required to regenerate the empty template files if new layers, or changes of format have occurred.</p></li>
<li><p>Discuss that only vector layers have the projection check, onus is on the user to ensure .2dm, raster layers, tins etc. are in the same reference frame.</p></li>
<li><p>Combination of .mif and .shp can be used for model development, however this is generally not recommended. Pick the format best suited to the working environment, i.e. .mif for Mapinfo, and .shp for others.</p></li>
<li><p>If using a Cartesian projection, a representative latitude for the study are should be assigned. If Coriolis is important to capture, for example modelling a large coastal domain, Spherical should be used.</p></li>
<li><p>Units - Non-metric units are supported for 2D HD simulations only that use a cartesian coordinate system, for example a floodplain investigation in the USA. If wanting to expand model to other simulation classes go with Metric.</p></li>
</ul>
</div>
</div>
<div id="App2DHD-SO-2" class="section level2 hasAnchor" number="20.4">
<h2><span class="header-section-number">E.4</span> Spatial Order<a href="App2DHD-1.html#App2DHD-SO-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="App2DHD-SO-Scie-3" class="section level3 hasAnchor" number="20.4.1">
<h3><span class="header-section-number">E.4.1</span> Science<a href="App2DHD-1.html#App2DHD-SO-Scie-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Spatial order defines how model variables (e.g., depth, velocity, scalars) are assigned at cell faces during the solution of TUFLOW FV’s governing equations. The Spatial Order command is used to set the spatial discretisation scheme to first-order or second-order in the horizontal and vertical directions.</p>
<ul>
<li>Heavily refer back to governing equations and numerical scheme chapter</li>
<li>Need to describe with pics how first and second order spatial differ</li>
<li>Lower timestep and cfl likely required…</li>
</ul>
</div>
<div id="App2DHD-SO-GUG-3" class="section level3 hasAnchor" number="20.4.2">
<h3><span class="header-section-number">E.4.2</span> General Usage Guidance<a href="App2DHD-1.html#App2DHD-SO-GUG-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>In general, initial model development is performed using first-order spatial accuracy. This provides stability and robustness, particularly when calibrating or debugging the model. Once the model is stable, second-order schemes can be trialled to assess improvements in accuracy and solution quality.</p></li>
<li><p>Second-order spatial accuracy significantly reduces numerical diffusion, which is particularly beneficial in simulations involving strong gradients in velocity, water levels, salinity, temperature, or other scalar quantities. While finer meshes can also reduce numerical diffusion, adopting second-order schemes often achieves comparable improvements with lower computational cost.However, the benefits of second-order accuracy only become apparent when spatial gradients are large relative to the mesh size. If model results are similar between first- and second-order runs, it is generally appropriate to retain the first-order scheme. If differences are significant, the first-order scheme may be introducing excessive numerical diffusion, and the second-order solution is likely to be more representative of physical processes.</p></li>
<li><p>Spurious oscillations can occur in second-order schemes, especially in the presence of strong gradients. TUFLOW FV includes gradient limiters and the Horizontal AlphaR command, which allows selective blending of second-order and first-order approximations for depth, velocity, and scalar variables.</p></li>
<li><p>When using horizontal second-order schemes in models with rapidly varying flows, such as tsunamis, dam breaks, or steep channel gradients, the Courant-Friedrichs-Lewy (CFL) condition may require adjustment. Specifically, the CFL limit may need to be reduced from the default to 0.6 to maintain numerical stability.</p></li>
<li><p>Second-order spatial accuracy is generally recommended for:</p>
<ul>
<li><p>High-gradient flows (e.g. dam breaks, tsunamis, flash flooding)</p></li>
<li><p>Stratified flows requiring vertical resolution of density, salinity, or temperature</p></li>
<li><p>Scalar transport simulations with sharp concentration fronts</p></li>
</ul></li>
</ul>
</div>
</div>
<div id="App2DHD-Hard-2" class="section level2 hasAnchor" number="20.5">
<h2><span class="header-section-number">E.5</span> Hardware<a href="App2DHD-1.html#App2DHD-Hard-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="App2DHD-Hard-Scie-3" class="section level3 hasAnchor" number="20.5.1">
<h3><span class="header-section-number">E.5.1</span> Science<a href="App2DHD-1.html#App2DHD-Hard-Scie-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>MJS one liner about how the GPU code is implemented, no need to go into too much detail here, don’t want to give too much away…</li>
<li>Mention which parts of TUFLOW FV are no GPU enabled…</li>
<li>Refer to GPU benchmarking pages (TUFLOW FV insights article and TUFLOW runtimes)</li>
</ul>
<div id="App2DHD-Hard-Scie-CVGR-4" class="section level4 hasAnchor" number="20.5.1.1">
<h4><span class="header-section-number">E.5.1.1</span> CPU vs GPU Results<a href="App2DHD-1.html#App2DHD-Hard-Scie-CVGR-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>TUFLOW FV CPU and TUFLOW FV GPU simulations may produce slightly different results due to subtle differences in the hardware implementation of complex math operations such as sqrt() and log(). We do however expect results between the CPU and GPU versions to be very similar based on the results of extensive testing. The areas more likely to exhibit differences are in regions of wetting and drying, however these differences tend to be highly localised.</p>
<p>TUFLOW FV GPU has been extensively tested and benchmarked including the 2012 UK Environment Agency 2D Benchmark Tests, where along with TUFLOW and TUFLOW FV, were top performers in terms of consistent results and run times. The scheme has also been benchmarked against theoretical solutions and through comparisons with TUFLOW and TUFLOW FV for both 2D and 3D (TUFLOW FV only) simulations. MJS refer benchmarking section….</p>
</div>
<div id="App2DHD-Hard-Scie-CGC-4" class="section level4 hasAnchor" number="20.5.1.2">
<h4><span class="header-section-number">E.5.1.2</span> Compatiable Graphics Cards<a href="App2DHD-1.html#App2DHD-Hard-Scie-CGC-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>TUFLOW FV’s GPU hardware module requires an NVIDIA CUDA enabled GPU of Compute Capability 5.0 or higher. A list of CUDA enabled GPUs can be found on the following website: <a href="http://developer.nvidia.com/cuda-gpus" class="uri">http://developer.nvidia.com/cuda-gpus</a></p>
<p>To check if your computer has an NVIDIA GPU and if it is CUDA enabled:</p>
<ol style="list-style-type: decimal">
<li>Right click on the Windows desktop.<br />
</li>
<li>If you see “NVIDIA Control Panel” or “NVIDIA Display” in the pop-up dialogue, the computer has an NVIDIA GPU.<br />
</li>
<li>Click on “NVIDIA Control Panel” or “NVIDIA Display” in the pop-up dialogue.<br />
</li>
<li>The GPU model should be displayed in the graphics card information.<br />
</li>
<li>Check to see if the graphics card is listed on the following website: <a href="https://developer.nvidia.com/cuda-gpus" class="uri">https://developer.nvidia.com/cuda-gpus</a>.</li>
</ol>
<p>The following screen images show the steps outlined above, this may vary slightly between NVIDIA GPU card models.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-NvidiaSettings"></span>
<img src="images/image170a.png" alt="**Accessing NVIDIA Control Panel from the Desktop**"  />
<p class="caption">
Figure E.1: <strong>Accessing NVIDIA Control Panel from the Desktop</strong>
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-NvidiaGPUModel"></span>
<img src="images/image171a.png" alt="**NVIDIA GPU Model**"  />
<p class="caption">
Figure E.2: <strong>NVIDIA GPU Model</strong>
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-NvidiaWebsite"></span>
<img src="images/image172.png" alt="**Check the Website for your NVIDIA Card**" width="80%" />
<p class="caption">
Figure E.3: <strong>Check the Website for your NVIDIA Card</strong>
</p>
</div>
<p>More information on the card can be found in the “System Information” section, which is accessed from the NVIDIA Control Panel. The system information contains more details on the following:</p>
<ul>
<li>The number of CUDA cores.<br />
</li>
<li>Frequency of the graphics, processors and memory.<br />
</li>
<li>Available memory including dedicated graphics and shared memory.</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-NVIDASystemInfo"></span>
<img src="images/image174a.jpg" alt="**NVIDIA System Information**" width="50%" />
<p class="caption">
Figure E.4: <strong>NVIDIA System Information</strong>
</p>
</div>
<p>Extensive GPU hardware benchmarking has been undertaken to assist users who are upgrading hardware for TUFLOW modelling, with numerous hardware options tested for their speed performance. The results are provided on the <a href="https://wiki.tuflow.com/Hardware_Benchmarking_(2018-03-AA)">TUFLOW Wiki</a>.</p>
</div>
<div id="App2DHD-Hard-Scie-UND-4" class="section level4 hasAnchor" number="20.5.1.3">
<h4><span class="header-section-number">E.5.1.3</span> Updating NVIDIA Drivers<a href="App2DHD-1.html#App2DHD-Hard-Scie-UND-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>It is likely that the NVIDIA drivers will need to be updated periodically to the latest version as the drivers shipped with Windows Operating Systems are not always up-to-date. To update, open the NVIDIA Control Panel (by right clicking on the desktop and selecting NVIDIA Control Panel or NVIDIA Display). Once the control panel has loaded, select Help &gt;&gt; Updates from the menu items. For further guidance see the <a href="https://wiki.tuflow.com/GPU_Setup">Updating NVIDIA Drivers Wiki Page</a>.</p>
<p>If new drivers are available, please download and install these by following the prompts.</p>
<p><strong>NOTE: Even if not prompted by the system, a restart is recommended to ensure the new drivers are correctly detected prior to running any simulations.</strong></p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-GPUDriverInfo"></span>
<img src="images/image175.png" alt="**Accessing Driver Updates from the NVIDIA Control Panel**" width="50%" />
<p class="caption">
Figure E.5: <strong>Accessing Driver Updates from the NVIDIA Control Panel</strong>
</p>
</div>
</center>
</div>
<div id="App2DHD-Hard-Scie-Trou-4" class="section level4 hasAnchor" number="20.5.1.4">
<h4><span class="header-section-number">E.5.1.4</span> Troubleshooting<a href="App2DHD-1.html#App2DHD-Hard-Scie-Trou-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If you receive the following error when trying to run the TUFLOW FV GPU model:</p>
<p><tblk>TUFLOW GPU: Interrogating CUDA enabled GPUs …<br />
TUFLOW GPU: Error: Non-CUDA Success Code returned</tblk></p>
<ol style="list-style-type: decimal">
<li>Check the compatibility of your GPU card and whether the latest drivers are installed (see instructions in Section <a href="App2DHD-1.html#App2DHD-Hard-Scie-CGC-4">E.5.1.2</a>).<br />
</li>
<li>Test with a user account that has administrator privileges as these may be required for running computations on the GPU.<br />
</li>
<li>If multiple monitors are running from the video card, try running with only a single monitor.</li>
</ol>
<p>If the above steps fail to get the simulation to run, email the NVIDIA system information (see Section <a href="App2DHD-1.html#fig:fig-NVIDASystemInfo">E.4</a>) and TUFLOW FV log file (.log) to <a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a>.</p>
</div>
</div>
<div id="App2DHD-Hard-GUG-3" class="section level3 hasAnchor" number="20.5.2">
<h3><span class="header-section-number">E.5.2</span> General Usage Guidance<a href="App2DHD-1.html#App2DHD-Hard-GUG-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Move this stuff below to the running simulations section. Doesn’t need to be repeated here.</p>
<p>Perhaps guidance here on when you’re likely to see the most benefit of CPU vs GPU and point people at hardware wikis etc. Perhaps it’s time to create the TUFLOW FV Hardware Benchmark.</p>
<p>Compute executed on CPU will by default run in parallel thread mode. Using parallel thread mode, tasks are split up and run in parallel over multiple logical CPU processors using the Open MP shared memory model. The maximum number of threads for a given simulation is limited to the smaller of the logical processors available on the modelling computer, or the number of available TUFLOW FV license threads. For direct control over the number of threads utilised for a simulation, the OMP_NUM_THREADS environment variable can be added to the simulation batch (Windows) or shell script (Linux). For example:</p>
<p>Windows Batch File with OMP_NUM_THREADS Environment Variable</p>
<pre><code>set exe=C:\TUFLOWFV\TUFLOWFV.exe
set OMP_NUM_THREADS=8

rem Run models using 8 logical processors in parallel 
%exe% Surge_Model_001.fvc </code></pre>
<p>Windows Bash Script with OMP_NUM_THREADS Environment Variable</p>
<pre><code>#!/bin/bash
export OMP_NUM_THREADS=8

tuflowfv Surge_Model_001.fvc  </code></pre>
<p>If running on GPU, a TUFLOW FV simulation can utilise a single GPU device at a time and a single simulation cannot be split over multiple GPU devices. If multiple GPU devices are present, it can be explicitly selected using the <a href="AppCommands.html#FVCDeviceID"><tcmd>Device ID</tcmd></a> command.</p>
<p>The <a href="AppCommands.html#FVCHardware"><tcmd>Hardware</tcmd></a> and <a href="AppCommands.html#FVCDeviceID"><tcmd>Device ID</tcmd></a> commands are typically used in the .fvc file to set the default hardware configuration. In practice, the recommended approach is to override these defaults as needed using runtime command line arguments. For example both the Hardware and Device ID command can be overridden in the simulation batch (Windows) or shell script (Linux) using the -puX switch, where ‘pu’ indicates that GPU hardware should be used, and ‘X’ is the Device ID to set.</p>
<p>Windows Batch File With Hardware Switches</p>
<pre><code>set exe=C:\TUFLOWFV\TUFLOWFV.exe
set OMP_NUM_THREADS=8

rem Run on GPU hardware device ID 1 using the -pu1 switch
rem Run models using 8 logical processors in parallel for non-GPU components
%exe% -pu1 Surge_Model_001.fvc </code></pre>
<p>Linux Bash Script With Hardware Switches</p>
<pre><code>#!/bin/bash
export OMP_NUM_THREADS=8

# Run on GPU hardware device ID 1 using the -pu1 switch
# Run models using 8 logical processors in parallel for non-GPU components

tuflowfv -pu1 Surge_Model_001.fvc  </code></pre>
<p>More examples on the setup and execution of batch and shell script files is provided in Section <a href="ManagingSimulations-1.html#StartingaSim-3">12.5.2</a>.</p>
</div>
</div>
<div id="App2DHD-STS-2" class="section level2 hasAnchor" number="20.6">
<h2><span class="header-section-number">E.6</span> Simulation Time Settings<a href="App2DHD-1.html#App2DHD-STS-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="App2DHD-STS-Scie-3" class="section level3 hasAnchor" number="20.6.1">
<h3><span class="header-section-number">E.6.1</span> Science<a href="App2DHD-1.html#App2DHD-STS-Scie-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>TUFLOW FV uses an internal time system based on seconds relative to the simulation <a href="AppCommands.html#FVCReferenceTime"><tcmd>Reference Time</tcmd></a>. All .fvc control file input times are converted from the specified <a href="AppCommands.html#FVCTimeFormat"><tcmd>Time Format</tcmd></a> into this internal system during model startup, and all outputs are converted back when writing time information to logs, diagnostics, and results. Time conversion is described as follows.</p>
<ul>
<li>If <a href="AppCommands.html#FVCTimeFormat"><tcmd>HOURS</tcmd></a>, times are user specified in decimal hours and converted directly to seconds</li>
<li>If <a href="AppCommands.html#FVCTimeFormat"><tcmd>ISODATE</tcmd></a>, the <tcmd>Reference Time</tcmd> is converted to a Julian decimal day, and then to seconds. All input times are similarly converted to a Julian seconds, and then stored relative to the reference time</li>
</ul>
<p>The ISODATE input string format is <code>dd/mm/yyyy HH:MM:SS</code> (e.g. 05/07/2015 12:00:00), however the following truncations are accepted.</p>
<ul>
<li><code>dd/mm/yyyy</code><br />
</li>
<li><code>dd/mm/yyyy HH</code><br />
</li>
<li><code>dd/mm/yyyy HH:MM</code></li>
</ul>
<p>Examples of unsupported input string formats are provided below and will result in an error and exit if encountered.<br />
- <code>d/mm/yyyy HH:MM:SS</code> (single-digit day)<br />
- <code>dd/mm/yy HH:MM:SS</code> (two-digit year)<br />
- <code>dd/mm/yyyy HH:MM:S</code> (single-digit second)</p>
<p>Additional boundary condition time options are available and their science is described in Section <a href="App2DHD-1.html#App2DHD-BC-Scie-TF-4">E.15.1.1</a>.</p>
</div>
<div id="App2DHD-STS-GUG-3" class="section level3 hasAnchor" number="20.6.2">
<h3><span class="header-section-number">E.6.2</span> General Usage Guidance<a href="App2DHD-1.html#App2DHD-STS-GUG-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>It is not recommended to override the default simulation Reference Time when using ISODATE Time Format unless by an experienced user who is proficient with NetCDF file handling and review. Modifying the default ISODATE Reference Time may lead to result incompatibility with external toolboxes and viewers.</p></li>
<li><p>ISODATE Time Format is easy to align when model inputs and outputs with real-world calendar dates (e.g. observed tides, meteorological datasets, river flow gauging records). ISODate ensures traceability and compatibility with external time-stamped data</p></li>
<li><p>HOURS Time Format is useful when working with idealised or schematic test cases, or where only the relative progression of time matters (e.g. a short-duration sensitivity test). This format simplifies inputs by avoiding calendar date handling.</p></li>
</ul>
</div>
</div>
<div id="App2DHD-CT-2" class="section level2 hasAnchor" number="20.7">
<h2><span class="header-section-number">E.7</span> Computational Timestep<a href="App2DHD-1.html#App2DHD-CT-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="App2DHD-CT-Scie-3" class="section level3 hasAnchor" number="20.7.1">
<h3><span class="header-section-number">E.7.1</span> Science<a href="App2DHD-1.html#App2DHD-CT-Scie-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="App2DHD-CT-Scie-SC-4" class="section level4 hasAnchor" number="20.7.1.1">
<h4><span class="header-section-number">E.7.1.1</span> Stability Criterion<a href="App2DHD-1.html#App2DHD-CT-Scie-SC-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The non-linear shallow water equations (NLSWE) are solved using a variable timestep scheme. As a simuluation progresses, the solver uses the model state to compute a stable timestep by ensuring the following three stability criteria are met (Murillo et al., 2005).</p>
<ol style="list-style-type: decimal">
<li>Wave celerity criterion — Equation <a href="App2DHD-1.html#eq:equ-cfl-cond">(E.1)</a><br />
</li>
<li>Advective CFL — Equation <a href="App2DHD-1.html#eq:equ-cfl-internal-cond">(E.2)</a><br />
</li>
<li>Peclet criterion for turbulent mixing stability — Equation <a href="App2DHD-1.html#eq:equ-peclet-cond">(E.3)</a></li>
</ol>
<span class="math display" id="eq:equ-cfl-cond">\[\begin{equation}
\frac{\left| \mathbf{u}\cdot\mathbf{n} \pm \sqrt{g\,h} \right|\, \Delta t}{L^*} \;\leq\; 1
\tag{E.1}
\end{equation}\]</span>
<span class="math display" id="eq:equ-cfl-internal-cond">\[\begin{equation}
\frac{\left| \mathbf{u}\cdot\mathbf{n} \right|\, \Delta t}{L^*} \;\leq\; 1
\tag{E.2}
\end{equation}\]</span>
<span class="math display" id="eq:equ-peclet-cond">\[\begin{equation}
\frac{|\mathbf{D} \cdot \mathbf{n}| \, \Delta t}{(L^*)^2} \;\leq\; 1
\tag{E.3}
\end{equation}\]</span>
<dl>
<dt>Where:</dt>
<dd>
<p><span class="math inline">\(\mathbf{u}\)</span> = depth-averaged velocity vector (m/s)<br />
<span class="math inline">\(\mathbf{n}\)</span> = outward unit normal vector (face normal)<br />
<span class="math inline">\(g\)</span> = gravitational acceleration (m/s<span class="math inline">\(^2\)</span>)<br />
<span class="math inline">\(h\)</span> = water depth (m)<br />
<span class="math inline">\(\Delta t\)</span> = timestep (s)<br />
<span class="math inline">\(L^*\)</span> = characteristic length scale (e.g., face length or cell size) (m)<br />
<span class="math inline">\(\mathbf{D}\)</span> = calculated eddy viscosity (m<span class="math inline">\(^2\)</span>/s)</p>
</dd>
</dl>
<p>The characteristic length scale is defined as:</p>
<span class="math display" id="eq:equ-char-length">\[\begin{equation}
L^* = \frac{\min(A_i, A_j)}{L_k}
\tag{E.4}
\end{equation}\]</span>
<dl>
<dt>Where:</dt>
<dd>
<p><span class="math inline">\(A_i, A_j\)</span> = plan areas of the two adjacent cells (m<span class="math inline">\(^2\)</span>)<br />
<span class="math inline">\(L_k\)</span> = length of the face separating the two cells (m)</p>
</dd>
</dl>
</div>
<div id="App2DHD-CT-Scie-MT-4" class="section level4 hasAnchor" number="20.7.1.2">
<h4><span class="header-section-number">E.7.1.2</span> Model Timestep<a href="App2DHD-1.html#App2DHD-CT-Scie-MT-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The variable timestep scheme ensures that the model satisfies each criterion across all cells while maintaining the largest possible stable timestep. The maximum allowable timestep is computed by rearranging Equations <a href="App2DHD-1.html#eq:equ-cfl-cond">(E.1)</a>, <a href="App2DHD-1.html#eq:equ-cfl-internal-cond">(E.2)</a>, and <a href="App2DHD-1.html#eq:equ-peclet-cond">(E.3)</a> with respect to timestep.</p>
<span class="math display" id="eq:equ-cfl-internal-dt">\[\begin{equation}
\Delta t_u \;\leq\; \frac{L^*}{\left| \mathbf{u}\cdot\mathbf{n} \right|}
\tag{E.5}
\end{equation}\]</span>
<span class="math display" id="eq:equ-peclet-dt">\[\begin{equation}
\Delta t_d \;\leq\; \frac{(L^*)^2}{|\mathbf{D} \cdot \mathbf{n}|}
\tag{E.6}
\end{equation}\]</span>
<dl>
<dt>Where:</dt>
<dd>
<p><span class="math inline">\(\Delta t_c\)</span> = timestep limited by wave celerity (s)<br />
<span class="math inline">\(\Delta t_u\)</span> = timestep limited by advective velocity (s)<br />
<span class="math inline">\(\Delta t_d\)</span> = timestep limited by turbulence diffusion (eddy viscosity) (s)</p>
</dd>
</dl>
<p>By default, TUFLOW FV executes the solution using the computational mode-splitting approach described in Appendix <a href="#MJSTODO"><strong>??</strong></a>. This results in two model timesteps: an external timestep, which controls the update of the free surface and governs wave celerity stability, and an internal timestep, which constrains advection and diffusion within the 2D domain. This separation allows the solver to maintain stability for both surface wave propagation and internal flow processes while maintaining computational efficiency.</p>
<p>The maximum allowable internal mode timestep is calculated using Equation <a href="App2DHD-1.html#eq:equ-dt-max-internal">(E.7)</a>.</p>
<span class="math display" id="eq:equ-dt-max-internal">\[\begin{equation}
\Delta t_{\max\_internal} \;=\; \frac{1}{\tfrac{1}{\Delta t_u} + \tfrac{1}{\Delta t_d}}
\tag{E.7}
\end{equation}\]</span>
<p>The maximum allowable external mode timestep is calculated using Equation <a href="App2DHD-1.html#eq:equ-dt-max-external">(E.8)</a>.</p>
<span class="math display" id="eq:equ-dt-max-external">\[\begin{equation}
\Delta t_{\max\_external} \;=\; \min\!\left(
\frac{1}{\tfrac{1}{\Delta t_c} + \tfrac{1}{\Delta t_d}},\; \Delta t_u
\right)
\tag{E.8}
\end{equation}\]</span>
<p>By default, a single global user defined <a href="#FVCFL"><tcmd>CFL</tcmd></a> scale factor is applied to both the maximum allowable internal mode and external mode timesteps, to return the model timesteps <span class="math inline">\(\Delta t_{internal}\)</span> and <span class="math inline">\(\Delta t_{external}\)</span> used by the model as calculated by Equations <a href="App2DHD-1.html#eq:equ-model-dt-internal-global">(E.9)</a> and <a href="App2DHD-1.html#eq:equ-model-dt-external-global">(E.10)</a> respectively.</p>
<span class="math display" id="eq:equ-model-dt-internal-global">\[\begin{equation}
\Delta t_{\text{internal}} \;=\; \mathrm{CFL}_{user} \cdot \Delta t_{\max\_internal}
\tag{E.9}
\end{equation}\]</span>
<span class="math display" id="eq:equ-model-dt-external-global">\[\begin{equation}
\Delta t_{\text{external}} \;=\; \mathrm{CFL}_{user} \cdot \Delta t_{\max\_external}
\tag{E.10}
\end{equation}\]</span>
<p>Alternatively, the user may override the global CFL and specify separate scaling factors using <a href="AppCommands.html#FVCCFLInternal"><tcmd>CFL Internal</tcmd></a> and <a href="#FVCCFLExternal"><tcmd>CFL External</tcmd></a>, as shown in Equations <a href="App2DHD-1.html#eq:equ-model-dt-internal-separate">(E.11)</a> and <a href="App2DHD-1.html#eq:equ-model-dt-external-separate">(E.12)</a>.</p>
<span class="math display" id="eq:equ-model-dt-internal-separate">\[\begin{equation}
\Delta t_{\text{internal}} \;=\; \mathrm{CFL}_{user\_internal} \cdot \Delta t_{\max\_internal}
\tag{E.11}
\end{equation}\]</span>
<span class="math display" id="eq:equ-model-dt-external-separate">\[\begin{equation}
\Delta t_{\text{external}} \;=\; \mathrm{CFL}_{user\_external} \cdot \Delta t_{\max\_external}
\tag{E.12}
\end{equation}\]</span>
<p>The resultant internal and external mode timesteps can be further constrained to user-defined minimum and maximum allowable timestep limits via the <a href="AppCommands.html#FVCTimestepLimits"><tcmd>Timestep Limits</tcmd></a> command.</p>
<p>An example of the calculated internal and external timesteps is shown in the TUFLOW FV Console Window (Figure <a href="App2DHD-1.html#fig:fig-Mode-Split-Timestepping">E.6</a>). The internal timestep is highlighted by the yellow box, the external by the red.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Mode-Split-Timestepping"></span>
<img src="images/Mode_Split_Timestepping.svg" alt="Internal And External Model Timesteps" width="80%" />
<p class="caption">
Figure E.6: Internal And External Model Timesteps
</p>
</div>
</center>
</div>
</div>
<div id="App2DHD-CT-GUG-3" class="section level3 hasAnchor" number="20.7.2">
<h3><span class="header-section-number">E.7.2</span> General Usage Guidance<a href="App2DHD-1.html#App2DHD-CT-GUG-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This section provides suggestions on selecting initial upper and lower model <a href="AppCommands.html#FVCTimestepLimits"><tcmd>Timestep Limits</tcmd></a> for a new model, or existing model that is applying an updated mesh.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Estimate the external mode timestep</strong><br />
Use Equation <a href="#eq:equ-cfl-dt">(<strong>??</strong>)</a> with indicative values of flow velocity <span class="math inline">\(u\)</span> (m/s), water depth <span class="math inline">\(h\)</span> (m), and <span class="math inline">\(L^*\)</span> (m). The shallow water wave celerity will generally control the timestep. Example:</p>
<ul>
<li><span class="math inline">\(u = 0.5\)</span> m/s<br />
</li>
<li><span class="math inline">\(h = 10\)</span> m<br />
</li>
<li><span class="math inline">\(L^* = 10\)</span> m (from a 10 m × 10 m cell)<br />
</li>
<li><span class="math inline">\(g = 10\)</span> m/s²</li>
</ul>
<p>Celerity: <span class="math inline">\(c = 10\)</span> m/s<br />
Timestep: <span class="math inline">\(\Delta t_c = 0.95\)</span> s</p></li>
<li><p><strong>Estimate the upper timestep limit</strong><br />
Take 10 × the external mode timestep. For the above example: 10 s.</p></li>
<li><p><strong>Set timestep limits</strong><br />
Use the estimates from Steps 1 and 2 as the lower and upper arguments of the <a href="AppCommands.html#FVCTimestepLimits"><tcmd>Timestep Limits</tcmd></a> command.</p></li>
<li><p>Run the model<br />
Review external and internal timesteps in the TUFLOW FV log file or console.</p></li>
<li><p><strong>Check timestep behaviour</strong></p>
<ul>
<li>If timesteps remain within the initial estimates, proceed to Step 7.<br />
</li>
<li>If the external timestep is equal to the minimum estimate, reduce the lower timestep limit and repeat Steps 2–5.</li>
</ul></li>
<li><p><strong>Review mesh performance</strong><br />
Identify cells controlling the minimum and mean timesteps. Adjust the mesh at these locations if possible. Diagnostic CFL outputs are available at <a href="https://fvwiki.tuflow.com/A_Model_Runs_Slow" class="uri">https://fvwiki.tuflow.com/A_Model_Runs_Slow</a>.</p></li>
</ol>
</div>
</div>
<div id="App2DHD-WAD-2" class="section level2 hasAnchor" number="20.8">
<h2><span class="header-section-number">E.8</span> Wetting And Drying<a href="App2DHD-1.html#App2DHD-WAD-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="App2DHD-WAD-Scie-3" class="section level3 hasAnchor" number="20.8.1">
<h3><span class="header-section-number">E.8.1</span> Science<a href="App2DHD-1.html#App2DHD-WAD-Scie-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Mass and momentum switching on/off needs further discussion (talk about scalars in AD chapter)</p>
<p>In very shallow regions (~&lt;0.05m depth), the momentum terms are dropped in order to maintain stability as the NLSWE approach the zero-depth singularity. Mass conservation is maintained both locally and globally to the limit of numerical precision across the entire numerical domain, including wetting and drying fronts. A conservative mass re-distribution scheme is used to ensure that negative depths are avoided at numerically challenging wetting and drying fronts without recourse to adjusting the time step (Brufau et al., 2004; Murillo, 2006). Regions of the model domain that are effectively dry are readily dropped from the computations.</p>
<p>The resultant dry, transitional and
wet cell computations are listed as follows and shown in Figure
<a href="App2DHD-1.html#fig:fig-Wetting-And-Drying">E.7</a>.</p>
<ul>
<li><p><strong>Dry:</strong> For cell depths <span class="math inline">\(&lt;\)</span> the drying depth, the cell is dropped
from flux computations. Mass at the cell is conserved — for example,
a model with direct rainfall will allow depth to build in the cell;
however, this mass cannot be transferred to adjacent cells</p></li>
<li><p><strong>Transitional:</strong> For depths between the drying and wetting depths
(<span class="math inline">\(\geq\)</span> drying, <span class="math inline">\(&lt;\)</span> wetting), mass and momentum fluxes are
calculated, however cell centre momentum is set to zero. This
prevents non-physical velocities in shallow flow depths</p></li>
<li><p><strong>Wet:</strong> Cells with depths <span class="math inline">\(\geq\)</span> wetting depth have mass and
momentum calculations enabled with no corrections</p></li>
</ul>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Wetting-And-Drying"></span>
<img src="images/Wetting_And_Drying.jpg" alt="Wetting And Drying Depths" width="80%" />
<p class="caption">
Figure E.7: Wetting And Drying Depths
</p>
</div>
</center>
</div>
<div id="App2DHD-WAD-GUG-3" class="section level3 hasAnchor" number="20.8.2">
<h3><span class="header-section-number">E.8.2</span> General Usage Guidance<a href="App2DHD-1.html#App2DHD-WAD-GUG-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>MJS raid existing manual to see if any content to put here</p>
<p>Guidance on typical values for flooding, coastal, estuarine?</p>
</div>
</div>
<div id="App2DHD-BDM-2" class="section level2 hasAnchor" number="20.9">
<h2><span class="header-section-number">E.9</span> Bottom Drag Model<a href="App2DHD-1.html#App2DHD-BDM-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="App2DHD-BDM-Scie-3" class="section level3 hasAnchor" number="20.9.1">
<h3><span class="header-section-number">E.9.1</span> Science<a href="App2DHD-1.html#App2DHD-BDM-Scie-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>MJS 03/09/25 Got to here…</p>
<p>Bed friction is represented as a momentum sink term using a quadratic drag law:</p>
<p><span class="math display" id="eq:equ-bed-friction">\[\begin{equation}
\tau_{bf} = \rho \, c_d \, \mathbf{u} \, |\mathbf{u}|
\tag{E.13}
\end{equation}\]</span></p>
<p>Where:<br />
- <span class="math inline">\(\tau_{bf}\)</span> = bed shear stress<br />
- <span class="math inline">\(\rho\)</span> = water density<br />
- <span class="math inline">\(c_d\)</span> = drag coefficient<br />
- <span class="math inline">\(\mathbf{u}\)</span> = velocity vector</p>
<div id="App2DHD-BDM-Scie-ks-4" class="section level4 hasAnchor" number="20.9.1.1">
<h4><span class="header-section-number">E.9.1.1</span> ks<a href="App2DHD-1.html#App2DHD-BDM-Scie-ks-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For the <span class="math inline">\(k_s\)</span> bottom drag model, the drag coefficient is determined from a roughness-length relationship:</p>
<p><span class="math display" id="eq:equ-cdb-ks">\[\begin{equation}
c_{db} = \left(\frac{\kappa}{\ln \left(\frac{30h}{k_s}\right)}\right)^2
\tag{E.14}
\end{equation}\]</span></p>
<p>Where:<br />
- <span class="math inline">\(\kappa\)</span> = von Kármán constant<br />
- <span class="math inline">\(h\)</span> = water depth<br />
- <span class="math inline">\(k_s\)</span> = effective bed roughness length (Nikuradse equivalent)</p>
<p>This assumes a rough-turbulent logarithmic velocity profile.</p>
</div>
<div id="App2DHD-BDM-Scie-Mann-4" class="section level4 hasAnchor" number="20.9.1.2">
<h4><span class="header-section-number">E.9.1.2</span> Manning<a href="App2DHD-1.html#App2DHD-BDM-Scie-Mann-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>When Manning’s <span class="math inline">\(n\)</span> is specified, it is internally converted to an equivalent roughness length:</p>
<p><span class="math display" id="eq:equ-ks-mann">\[\begin{equation}
k_s = 11\,h \,\exp\!\left(-\frac{\kappa\, h^{1/6}}{\sqrt{g}\, n}\right)
\tag{E.15}
\end{equation}\]</span></p>
<p>In 2D depth-averaged mode, the Manning’s <span class="math inline">\(n\)</span> formulation is equivalent to a friction slope representation (Chow, 1959):</p>
<p><span class="math display" id="eq:equ-sf-mann">\[\begin{equation}
S_f = \frac{\tau_{bf}}{\rho g h} = \frac{n^2 \, \bar{u} \, |\bar{u}|}{h^{4/3}}
\tag{E.16}
\end{equation}\]</span></p>
<p>Where:<br />
- <span class="math inline">\(S_f\)</span> = friction slope<br />
- <span class="math inline">\(g\)</span> = gravitational acceleration<br />
- <span class="math inline">\(n\)</span> = Manning’s roughness coefficient (SI)<br />
- <span class="math inline">\(\bar{u}\)</span> = depth-averaged velocity</p>
</div>
</div>
<div id="App2DHD-BDM-GUG-3" class="section level3 hasAnchor" number="20.9.2">
<h3><span class="header-section-number">E.9.2</span> General Usage Guidance<a href="App2DHD-1.html#App2DHD-BDM-GUG-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>??? Start simple and build up? Have references to info on setting bed roughness? Guidance on using ks vs Manning?</p>
<p>Maybe have a table here of typical values in ks and Manning?</p>
</div>
</div>
<div id="App2DHD-MMM-2" class="section level2 hasAnchor" number="20.10">
<h2><span class="header-section-number">E.10</span> Momentum Mixing Model<a href="App2DHD-1.html#App2DHD-MMM-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="App2DHD-MMM-Scie-3" class="section level3 hasAnchor" number="20.10.1">
<h3><span class="header-section-number">E.10.1</span> Science<a href="App2DHD-1.html#App2DHD-MMM-Scie-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The following sub-sections describe the assignment of horizontal eddy viscosity as specified by the available <a href="AppCommands.html#FVCMomentumMixingModel"><tcmd>Momentum Mixing Model</tcmd></a> options: None, Constant, Smagorinsky and Wu. Each option assigns a value to the horizontal turbulent eddy viscosity term <span class="math inline">\(\nu_{t,h} = 0\)</span> in Equation <a href="AppProc-GE-2.html#eq:equ-nslwe-scalar-fluxes">(D.8)</a>.</p>
<div id="App2DHD-MMM-Scie-None-4" class="section level4 hasAnchor" number="20.10.1.1">
<h4><span class="header-section-number">E.10.1.1</span> None<a href="App2DHD-1.html#App2DHD-MMM-Scie-None-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The horizontal turbulent eddy viscosity $_{t,h} is set to 0. This results in no turbulent fluxes being calculated by the model.</p>
</div>
<div id="App2DHD-MMM-Scie-Cons-4" class="section level4 hasAnchor" number="20.10.1.2">
<h4><span class="header-section-number">E.10.1.2</span> Constant<a href="App2DHD-1.html#App2DHD-MMM-Scie-Cons-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A user-specified value is assigned to $_{t,h}. This is applied constant throughout the model, irrespective of velocity gradients and variations.</p>
</div>
<div id="App2DHD-MMM-Scie-Smag-4" class="section level4 hasAnchor" number="20.10.1.3">
<h4><span class="header-section-number">E.10.1.3</span> Smagorinsky<a href="App2DHD-1.html#App2DHD-MMM-Scie-Smag-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The Smagorinsky model is used to estimate horizontal eddy viscosity as a function of the local strain rate in the flow field. The horizontal eddy viscosity <span class="math inline">\(\nu_{t,h}\)</span> is calculated via Equation <a href="App2DHD-1.html#eq:equ-mmm-smag">(E.17)</a>.</p>
<p>This formulation ensures that turbulent viscosity increases in regions with high velocity gradients, enhancing numerical stability and realism in resolved eddy behaviour.</p>
<span class="math display" id="eq:equ-mmm-smag">\[\begin{equation}
\nu_{t,h} = C_s^2 \, l^2 \, \sqrt{ \left( \frac{\partial u}{\partial x} \right)^2 + \left( \frac{\partial v}{\partial y} \right)^2 + \frac{1}{2} \left( \frac{\partial u}{\partial y} + \frac{\partial v}{\partial x} \right)^2 }
\tag{E.17}
\end{equation}\]</span>
<table>
<caption>
<span id="tab:tab-SmagorinskyTerms">Table E.1: </span><strong>Smagorinsky Momentum Mixing Model Terms</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Symbol
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<span class="math inline">\(\nu_{t,h}\)</span>
</td>
<td style="text-align:left;">
Turbulent eddy viscosity
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(C_s\)</span>
</td>
<td style="text-align:left;">
Smagorinsky coefficient
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(l\)</span>
</td>
<td style="text-align:left;">
Mixing length scale, distance between adjacent cell centroids
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(u\)</span>, <span class="math inline">\(v\)</span>
</td>
<td style="text-align:left;">
Horizontal velocity components in the <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> directions
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(\frac{\partial u}{\partial x}\)</span>, <span class="math inline">\(\frac{\partial v}{\partial y}\)</span>
</td>
<td style="text-align:left;">
Velocity gradients in the direction of flow (normal strain rates)
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(\frac{\partial u}{\partial y}\)</span>, <span class="math inline">\(\frac{\partial v}{\partial x}\)</span>
</td>
<td style="text-align:left;">
Cross-direction velocity gradients (shear strain rates)
</td>
</tr>
</tbody>
</table>
</div>
<div id="App2DHD-MMM-Scie-Wu-4" class="section level4 hasAnchor" number="20.10.1.4">
<h4><span class="header-section-number">E.10.1.4</span> Wu<a href="App2DHD-1.html#App2DHD-MMM-Scie-Wu-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>MJS TODO. Fix the equation formats below. Also should Lm be L* ?</p>
<p>The Wu horizontal momentum model is based on slight modification of the work of Wu <em>et al.</em> (2005). The Wu model is a zero-equation model whereby the eddy viscosity coefficient is diagnostically computed from the mean depth and velocity fields.</p>
<p><span class="math display">\[
\nu_{t,h} = C_{3D} \cdot U^* \cdot L_m
\]</span></p>
<p><span class="math display">\[
U^* = |U| \cdot n \cdot \frac{\sqrt{g}}{h^{1/6}}
\]</span></p>
<table>
<caption>
<span id="tab:tab-WuTerms">Table E.2: </span><strong>Wu Momentum Mixing Model Terms</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Symbol
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<span class="math inline">\(\nu_{t,h}\)</span>
</td>
<td style="text-align:left;">
Turbulent eddy viscosity
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(C_{3D}\)</span>
</td>
<td style="text-align:left;">
Wu coefficient
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(U_*\)</span>
</td>
<td style="text-align:left;">
Friction velocity
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(L_m\)</span>
</td>
<td style="text-align:left;">
Turbulent length scale (set to water depth, <span class="math inline">\(h\)</span>)
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(n\)</span>
</td>
<td style="text-align:left;">
Manning’s roughness coefficient
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(g\)</span>
</td>
<td style="text-align:left;">
Acceleration due to gravity
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(h\)</span>
</td>
<td style="text-align:left;">
Water depth
</td>
</tr>
</tbody>
</table>
<p>If the model uses the ks Bottom Drag model than the Nikaradse roughness length is internally converted to a an equivalent Manning’s ‘n’ using Equation <a href="AppProc-GE-2.html#eq:equ-manning-to-ks">(D.11)</a>.</p>
</div>
</div>
<div id="App2DHD-MMM-GUG-3" class="section level3 hasAnchor" number="20.10.2">
<h3><span class="header-section-number">E.10.2</span> General Usage Guidance<a href="App2DHD-1.html#App2DHD-MMM-GUG-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>None: Should not be used</li>
<li>Constant:</li>
<li>Smagorinksy:</li>
<li>Wu: The Wu momentum mixing model should not be used for 3D HD simulation class models, or simulations that rely on 3D hydrodynamic fields.</li>
<li>Wu: Testing to date has found that <span class="math inline">\(C_{3D} = 7\)</span> yields results that agree well with benchmark tests and are not significantly dissimilar from those of the previous Smagorinsky method using its default coefficients—particularly where depth is not significantly greater than cell size. As always, calibration remains essential and it is also recommended to perform sensitivity testing to assess the effect of parameter changes on model results. Based on testing and benchmarking to date, significantly different values of <span class="math inline">\(C_{3D}\)</span> (provided conventional bed roughness values are used and hydraulic structures are appropriately represented) may indicate issues such as:
<ul>
<li>Poor boundary values</li>
<li>Schematisation issues</li>
<li>Inadequate input data</li>
</ul></li>
<li>For the Smagorinksy and Wu models it is recommended that user specified minimum and maximum eddy viscosity limits (m2/s) are included to provide bounds to the formulation.</li>
</ul>
<p>MJS TODO</p>
<p>Wu or Smagorinksy for 2D</p>
<p>Wu preferred in areas where the 2D cell size is smaller or close to the water depth. Rule of thumb here?</p>
</div>
</div>
<div id="App2DHD-CM-2" class="section level2 hasAnchor" number="20.11">
<h2><span class="header-section-number">E.11</span> Computational Mesh<a href="App2DHD-1.html#App2DHD-CM-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="App2DHD-CM-Scie-3" class="section level3 hasAnchor" number="20.11.1">
<h3><span class="header-section-number">E.11.1</span> Science<a href="App2DHD-1.html#App2DHD-CM-Scie-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>MJS TODO</p>
<p>Describe the unstructured mesh format.</p>
<p>Describe the structured mesh</p>
<p>State the importance of the effective length scale</p>
<div id="App2DHD-CM-Scie-UMFF" class="section level4 hasAnchor" number="20.11.1.1">
<h4><span class="header-section-number">E.11.1.1</span> Unstructured Mesh File Format<a href="App2DHD-1.html#App2DHD-CM-Scie-UMFF" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The .2dm file format is used to define unstructured TUFLOW FV meshes. It is an ASCII format that was developed by Aquaveo for the Surface-water Modeling System (SMS). This section provides a summary of the main .2dm components used by TUFLOW FV. A full description of the .2dm mesh file format is available via the <a href="https://www.xmswiki.com/wiki/SMS:2D_Mesh_Files_*.2dm">Aquaveo XMS Wiki</a>.</p>
<p>The following text block is the full contents of a small example unstructured mesh .2dm file. A visual view of the mesh is shown in Figure <a href="App2DHD-1.html#fig:fig-SMS-2dm-Layout">E.8</a>. The mesh contains:</p>
<ul>
<li>10 elements (8 quadrilateral and two triangular)</li>
<li>16 nodes</li>
<li>2 nodestrings</li>
</ul>
<pre><code>MESH2D
MESHNAME &quot;Example Channel&quot;
E4Q 1 2 1 9 10 1
E4Q 2 3 2 10 11 1
E4Q 3 4 3 11 12 1
E4Q 4 6 5 1 2 1
E4Q 5 7 6 2 3 1
E4Q 6 8 7 3 4 1
E4Q 7 14 13 5 6 1
E4Q 8 15 14 6 7 1
E3T 9 16 15 7 1
E3T 10 16 7 8 1
ND 1 2.48000000e+001 4.02800000e+001 0.00000000e+000
ND 2 3.30421270e+001 4.21236640e+001 -1.00000000e+001
ND 3 4.12871134e+001 4.39683219e+001 -1.00000000e+001
ND 4 5.20800000e+001 4.58200000e+001 0.00000000e+000
ND 5 1.76200000e+001 6.18200000e+001 0.00000000e+000
ND 6 2.57990034e+001 6.57578467e+001 -1.00000000e+001
ND 7 3.39997467e+001 6.96992724e+001 -1.00000000e+001
ND 8 4.34600000e+001 7.37100000e+001 0.00000000e+000
ND 9 2.56200000e+001 1.85400000e+001 0.00000000e+000
ND 10 3.42333333e+001 1.88833333e+001 -1.00000000e+001
ND 11 4.28466667e+001 1.92266667e+001 -1.00000000e+001
ND 12 5.53200000e+001 1.95700000e+001 0.00000000e+000
ND 13 1.21000000e+000 8.02700000e+001 0.00000000e+000
ND 14 9.62000000e+000 8.52633333e+001 -1.00000000e+001
ND 15 1.80300000e+001 9.02566667e+001 -1.00000000e+001
ND 16 2.64400000e+001 9.52500000e+001 0.00000000e+000
NS  9 10 11 -12 1
NS  16 15 14 -13 2</code></pre>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-SMS-2dm-Layout"></span>
<img src="images/SMS_2dm_Layout.jpg" alt="Example .2dm Unstructured Mesh - Element numbers (blue text),  node locations (red dots), node numbers (black text), nodestrings (red lines) and nodestring names (red text)" width="80%" />
<p class="caption">
Figure E.8: Example .2dm Unstructured Mesh - Element numbers (blue text), node locations (red dots), node numbers (black text), nodestrings (red lines) and nodestring names (red text)
</p>
</div>
</center>
<p>The following paragraphs describe how nodes, elements and nodestrings are represented in the .2dm file.</p>
<p><strong>Nodes</strong>: Lines that commence with a “ND” are nodes, (also refered to as points or vertices) that define the edges of the elements. Each ND line describes the node ID and its x, y and z (i.e. bed level) coordinate. in Figure <a href="App2DHD-1.html#fig:fig-Example-Node-Definition">E.9</a> node 7 has been selected, corresponding to the following line of the .2dm file.</p>
<pre><code>ND 7 3.39997467e+001 6.96992724e+001 -1.00000000e+001</code></pre>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Example-Node-Definition"></span>
<img src="images/Example_Node_Definition.jpg" alt="Example Node Definition" width="80%" />
<p class="caption">
Figure E.9: Example Node Definition
</p>
</div>
</center>
<p><strong>Elements</strong>: Lines that commence with an “E4Q” are quadrilateral (4 sided) elements. Each E4Q line describes the element ID, the four nodes that define its connectivity and spatial extent (in a counter-clockwise direction) and the material type (Figure <a href="App2DHD-1.html#fig:fig-Example-Quad-Element-Definition">E.10</a>).</p>
<p>For example, the below line is element 5, defined by connecting nodes 7-6-2-3. The final number on the line specifies a material ID of 1.</p>
<pre><code>E4Q 5 7 6 2 3 1</code></pre>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Example-Quad-Element-Definition"></span>
<img src="images/Example_Quad_Element_Definition.jpg" alt="Example Quadrilateral Element Definition" width="80%" />
<p class="caption">
Figure E.10: Example Quadrilateral Element Definition
</p>
</div>
</center>
<p>Similar to E4Q, the “E3T” lines are triangular elements. Each E3T line describes the element ID, the three nodes that define its connectivity and spatial extent (in a counter-clockwise direction) and the material type (Figure <a href="App2DHD-1.html#fig:fig-Example-Tri-Element-Definition">E.11</a>).</p>
<p>For example, the below line is element 9, defined by connecting nodes 16-15-7. The final number on the line specifies a material ID of 1.</p>
<pre><code>E3T 9 16 15 7 1</code></pre>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Example-Tri-Element-Definition"></span>
<img src="images/Example_Tri_Element_Definition.jpg" alt="Example Triangular Element Definition" width="80%" />
<p class="caption">
Figure E.11: Example Triangular Element Definition
</p>
</div>
</center>
<p><strong>Nodestrings</strong>: Lines that commence with a “NS” are nodestrings, which can used to define boundary condition, structure or plot output locations. Each NS line defines the series of nodes that form the string, the last node number is assigned as negative. The number following the negative number is the nodestring ID (Figure <a href="App2DHD-1.html#fig:fig-Example-NS-Definition">E.12</a>).</p>
<p>For example, the below line is nodestring 2, defined by connecting nodes 16-15-14-13. The nodestring has the ID 2.</p>
<pre><code>NS  16 15 14 -13 2 </code></pre>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Example-NS-Definition"></span>
<img src="images/Example_NS_Definition.jpg" alt="Example Nodestring Definition" width="80%" />
<p class="caption">
Figure E.12: Example Nodestring Definition
</p>
</div>
</center>
</div>
</div>
<div id="App2DHD-CM-GUG-3" class="section level3 hasAnchor" number="20.11.2">
<h3><span class="header-section-number">E.11.2</span> General Usage Guidance<a href="App2DHD-1.html#App2DHD-CM-GUG-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Links to wikis, tutes etc.</p>
<p>While it’s possible to assign bathy, materials and nodestrings via the .2dm, it is recommended that TUFLOW FV mesh-independent GIS commands are used.</p>
<p>Restate the importance of the grid on runtimes, refer people to ‘a model runs slow’ and computational timestep section…</p>
</div>
</div>
<div id="App2DHD-Bath-2" class="section level2 hasAnchor" number="20.12">
<h2><span class="header-section-number">E.12</span> Bathymetry<a href="App2DHD-1.html#App2DHD-Bath-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="App2DHD-Bath-Scie-3" class="section level3 hasAnchor" number="20.12.1">
<h3><span class="header-section-number">E.12.1</span> Science<a href="App2DHD-1.html#App2DHD-Bath-Scie-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="App2DHD-Bath-Scie-CL-4" class="section level4 hasAnchor" number="20.12.1.1">
<h4><span class="header-section-number">E.12.1.1</span> Command Layering<a href="App2DHD-1.html#App2DHD-Bath-Scie-CL-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Describe bathy command layering here.</p>
</div>
<div id="App2DHD-Bath-Scie-IM-4" class="section level4 hasAnchor" number="20.12.1.2">
<h4><span class="header-section-number">E.12.1.2</span> Interpolation Methods<a href="App2DHD-1.html#App2DHD-Bath-Scie-IM-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>MJS TODO. As bcs etc. also use this it probs needs to be moved somewhere else….</p>
<p>.2dm no interpolation, does a simple cell average of vertices.</p>
<p>For DEMs bilinear interpolation is used.</p>
<p>For TINs bilinear tris and quads</p>
<p>bilinear_interp_weights_quad bilinear_interp_weights_tri</p>
</div>
</div>
<div id="App2DHD-Bath-GUG-3" class="section level3 hasAnchor" number="20.12.2">
<h3><span class="header-section-number">E.12.2</span> General Usage Guidance<a href="App2DHD-1.html#App2DHD-Bath-GUG-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="App2DHD-Bath-GUG-CEF-4" class="section level4 hasAnchor" number="20.12.2.1">
<h4><span class="header-section-number">E.12.2.1</span> Cell Elevation Files<a href="App2DHD-1.html#App2DHD-Bath-GUG-CEF-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Suggested workflow for cell elevation file generation…</p>
</div>
</div>
</div>
<div id="App2DHD-Mate-2" class="section level2 hasAnchor" number="20.13">
<h2><span class="header-section-number">E.13</span> Materials<a href="App2DHD-1.html#App2DHD-Mate-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="App2DHD-Mate-Scie-3" class="section level3 hasAnchor" number="20.13.1">
<h3><span class="header-section-number">E.13.1</span> Science<a href="App2DHD-1.html#App2DHD-Mate-Scie-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>MJS TODO. Describe the various material options available here? If not here, where?</p>
<div id="App2DHD-Mate-Scie-CL-4" class="section level4 hasAnchor" number="20.13.1.1">
<h4><span class="header-section-number">E.13.1.1</span> Command Layering<a href="App2DHD-1.html#App2DHD-Mate-Scie-CL-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Describe material command layering here? Or has it already been mentioned in the main body?</p>
</div>
</div>
</div>
<div id="App2DHD-IC-2" class="section level2 hasAnchor" number="20.14">
<h2><span class="header-section-number">E.14</span> Initial Conditions<a href="App2DHD-1.html#App2DHD-IC-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="App2DHD-IC-Scie-3" class="section level3 hasAnchor" number="20.14.1">
<h3><span class="header-section-number">E.14.1</span> Science<a href="App2DHD-1.html#App2DHD-IC-Scie-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Constant</li>
<li>Spatially variable</li>
<li>Restart file science - refer to MATLAB tools to ‘hack’ the restart file. Probs need some Python versions of these too…</li>
</ul>
<div id="App2DHD-IC-Scie-CL-4" class="section level4 hasAnchor" number="20.14.1.1">
<h4><span class="header-section-number">E.14.1.1</span> Command Layering<a href="App2DHD-1.html#App2DHD-IC-Scie-CL-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Initial condition layering</p>
<ol style="list-style-type: decimal">
<li>As with other commands, the .fvc file is read sequentially, from the top of the file to the bottom.<br />
</li>
<li>Initial conditions from restart files are applied first, regardless of where they occur in .fvc file. If multiple Restart File commands exist, the last command read takes precedence.</li>
<li>Non-restart file initial condition commands are processed sequentially from the .fvc. Each override earlier initial condition commands, or restart file initial conditions as follows.
<ul>
<li>Spatially constant initial conditions (e.g. <a href="AppCommands.html#FVCInitialWaterLevel"><tcmd>Initial Water Level</tcmd></a>) will overwrite all preceding initial condition or restart commands globally.</li>
<li>Spatially variable initial conditions (e.g. <a href="AppCommands.html#FVCInitialCondition2D"><tcmd>Initial Condition 2D</tcmd></a>) will overwrite only the cells that are specified in the initial condition .csv file.</li>
</ul></li>
</ol>
<p>Restart files</p>
<p>For models using restart file initial conditions, it is typically recommended to remove or comment out non-restart initial condition commands to avoid components of the restart file being overridden.</p>
</div>
</div>
<div id="App2DHD-IC-GUG-3" class="section level3 hasAnchor" number="20.14.2">
<h3><span class="header-section-number">E.14.2</span> General Usage Guidance<a href="App2DHD-1.html#App2DHD-IC-GUG-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Spatially varying to apply to dams, or elevated levels from the boundary</li>
<li>For coastal situations generally recommended to warm up the model</li>
</ul>
</div>
</div>
<div id="App2DHD-BC-2" class="section level2 hasAnchor" number="20.15">
<h2><span class="header-section-number">E.15</span> Boundary Conditions<a href="App2DHD-1.html#App2DHD-BC-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="App2DHD-BC-Scie-3" class="section level3 hasAnchor" number="20.15.1">
<h3><span class="header-section-number">E.15.1</span> Science<a href="App2DHD-1.html#App2DHD-BC-Scie-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="App2DHD-BC-Scie-TF-4" class="section level4 hasAnchor" number="20.15.1.1">
<h4><span class="header-section-number">E.15.1.1</span> Time Format<a href="App2DHD-1.html#App2DHD-BC-Scie-TF-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>MJS Note, this content is referenced from Section <a href="App2DHD-1.html#App2DHD-STS-2">E.6</a>.</p>
<p>MJS TODO: Describe the time options specifically how they relate to boundary conditons.</p>
<p>CSV Directly specify ISODATE or time in HOURS</p>
<p>MJS TODO: Need to test what happens if you try to use DAYS, MINUTES, or SECONDS with csv timeseries inputs…</p>
<p>NetCDF</p>
<p>Time Units - Days, Hours/ISODate
MJS TODO: Confirm how ISODATE time strings can be read… at the moment assumes it’s all in hours?</p>
<p><strong>Time Shifting with BC Reference Time</strong>
Temporal adjustments are best made using the <a href="AppCommands.html#FVCBCReferenceTime"><tcmd>BC Reference Time</tcmd></a>, which allows individual boundary condition datasets to be shifted without altering the simulation-wide reference. Typical applications include:<br />
- <strong>Sensitivity testing</strong>: advancing or delaying a tidal boundary to examine timing effects.<br />
- <strong>Timezone adjustments</strong>: shifting data provided in UTC to match local time.</p>
<p>This approach provides flexibility while keeping the core simulation reference consistent.</p>
</div>
<div id="App2DHD-BC-Scie-BLD-4" class="section level4 hasAnchor" number="20.15.1.2">
<h4><span class="header-section-number">E.15.1.2</span> Boundary Location Definition<a href="App2DHD-1.html#App2DHD-BC-Scie-BLD-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div id="App2DHD-BC-Scie-BLD-Grid-5" class="section level5 hasAnchor" number="20.15.1.2.1">
<h5><span class="header-section-number">E.15.1.2.1</span> Grid<a href="App2DHD-1.html#App2DHD-BC-Scie-BLD-Grid-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>File format - NetCDF
Bilinear interpolation occurs at each 2d cell, mapping cell centres to the four closest input grid points. MJS check this..</p>
<p>MJS TODO: Section on QC_GRID weighting..</p>
</div>
</div>
<div id="App2DHD-BC-Scie-BCB-4" class="section level4 hasAnchor" number="20.15.1.3">
<h4><span class="header-section-number">E.15.1.3</span> Boundary Condition Block<a href="App2DHD-1.html#App2DHD-BC-Scie-BCB-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<table>
<caption>
<span id="tab:tab-BoundaryHeaderDefaults2DHD">Table E.3: </span><strong>Default Data Headers</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Boundary Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Default Header Names
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
MJS Notes..
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
WL
</td>
<td style="text-align:left;">
TIME, WL
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
WLS
</td>
<td style="text-align:left;">
TIME, WL_A, WL_B
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
WL_CURT
</td>
<td style="text-align:left;">
TIME, CHAINAGE, ZTYPE, WL
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Q
</td>
<td style="text-align:left;">
TIME, Q
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
OBC
</td>
<td style="text-align:left;">
TIME, Q, U, V
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
OBC_CURT
</td>
<td style="text-align:left;">
TIME, CHAINAGE, ZTYPE, WL, U, V
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
HQ
</td>
<td style="text-align:left;">
H, Q
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
QN
</td>
<td style="text-align:left;">
N/A
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
RN/RNS/ZG
</td>
<td style="text-align:left;">
N/A
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
QC/QC_POLY
</td>
<td style="text-align:left;">
TIME, Q
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
QC_GRID
</td>
<td style="text-align:left;">
TIME, WEIGHT, Q
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
FORCE/FORCE_POLY
</td>
<td style="text-align:left;">
TIME, FORCEX, FORCEY
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
QG
</td>
<td style="text-align:left;">
TIME, Q/A
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
W10/W10_GRID
</td>
<td style="text-align:left;">
TIME, W10_X, W10_Y
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
PRECIP/PRECIP_GRID
</td>
<td style="text-align:left;">
TIME, PRECIP, PRECIP_TEMP
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
MSLP_GRID
</td>
<td style="text-align:left;">
TIME, MSLP
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
OBC_GRID
</td>
<td style="text-align:left;">
TIME, SSH, U, V, SALINITY, TEMPERATURE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Why is this SALINITY AND TEMPERATURE when everything else is SAL AND TEMP
</td>
</tr>
<tr>
<td style="text-align:left;">
QCM
</td>
<td style="text-align:left;">
TIME, X, Y, Q
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
FORCEM
</td>
<td style="text-align:left;">
TIME, X, Y, FORCEX, FORCEY
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
CYC_HOLLAND
</td>
<td style="text-align:left;">
TIME, X, Y, PA, RMAX, B, KM, THETAMAX, DELTAFM, WBGX, WBGY
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
WAVE
</td>
<td style="text-align:left;">
TIME, HSIGN, TPS, DIR, UBOT, TMBOT, FORCE_X, FORCE_Y, DEPTH
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FORCE_X here when everything else is FORCEX
</td>
</tr>
<tr>
<td style="text-align:left;">
WAVE_COUPLED
</td>
<td style="text-align:left;">
N/A
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
TRANSPORT
</td>
<td style="text-align:left;">
N/A
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
</table>
</div>
<div id="App2DHD-BC-Scie-WL-4" class="section level4 hasAnchor" number="20.15.1.4">
<h4><span class="header-section-number">E.15.1.4</span> Water Level<a href="App2DHD-1.html#App2DHD-BC-Scie-WL-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>MJS TODO: Sub-types</p>
</div>
<div id="App2DHD-BC-Scie-IO-4" class="section level4 hasAnchor" number="20.15.1.5">
<h4><span class="header-section-number">E.15.1.5</span> Inflow/Outflow<a href="App2DHD-1.html#App2DHD-BC-Scie-IO-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>MJS TODO Q sub-types with diagrams…</p>
</div>
<div id="App2DHD-BC-Scie-SD-4" class="section level4 hasAnchor" number="20.15.1.6">
<h4><span class="header-section-number">E.15.1.6</span> Stage-Discharge<a href="App2DHD-1.html#App2DHD-BC-Scie-SD-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>MJS TODO QN friction slope calcs</p>
</div>
<div id="App2DHD-BC-Scie-Atmo-4" class="section level4 hasAnchor" number="20.15.1.7">
<h4><span class="header-section-number">E.15.1.7</span> Atmospheric<a href="App2DHD-1.html#App2DHD-BC-Scie-Atmo-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Wind and pressure source terms need to be described here
Wind speed model
How MSLP and the reference pressure is used</p>
<p>MJS TODO Holland model science</p>
</div>
<div id="App2DHD-BC-Scie-SW-4" class="section level4 hasAnchor" number="20.15.1.8">
<h4><span class="header-section-number">E.15.1.8</span> Spectral Wave<a href="App2DHD-1.html#App2DHD-BC-Scie-SW-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>MJS TODO Extract key info from wave chapter of user manual to further describe how to assign wave</p>
<p>Limited science exists for this section, needs to be written…</p>
</div>
<div id="App2DHD-BC-Scie-Forc-4" class="section level4 hasAnchor" number="20.15.1.9">
<h4><span class="header-section-number">E.15.1.9</span> Force<a href="App2DHD-1.html#App2DHD-BC-Scie-Forc-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Describe how the force is applied to the cell.</p>
</div>
<div id="App2DHD-BC-Scie-ZGAR-4" class="section level4 hasAnchor" number="20.15.1.10">
<h4><span class="header-section-number">E.15.1.10</span> Zero Gradient And Reflective<a href="App2DHD-1.html#App2DHD-BC-Scie-ZGAR-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Diagrams needed here. Also… the concept of zero gradient is important for BCs with no data.</p>
</div>
</div>
<div id="App2DHD-BC-GUG-3" class="section level3 hasAnchor" number="20.15.2">
<h3><span class="header-section-number">E.15.2</span> General Usage Guidance<a href="App2DHD-1.html#App2DHD-BC-GUG-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
</div>
<div id="App2DHD-HS-2" class="section level2 hasAnchor" number="20.16">
<h2><span class="header-section-number">E.16</span> Hydraulic Structures<a href="App2DHD-1.html#App2DHD-HS-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="App2DHD-HS-Scie-3" class="section level3 hasAnchor" number="20.16.1">
<h3><span class="header-section-number">E.16.1</span> Science<a href="App2DHD-1.html#App2DHD-HS-Scie-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="App2DHD-HS-Scie-SCT-4" class="section level4 hasAnchor" number="20.16.1.1">
<h4><span class="header-section-number">E.16.1.1</span> Structure Connection Types<a href="App2DHD-1.html#App2DHD-HS-Scie-SCT-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The structure connection type (single nodestring, linked nodestrings, or linked zones) defines how fluxes of mass and momentum are exchanged between the 2D model domain and the hydraulic structure. Structure interaction with the 2D domain occurs in five steps:</p>
<ol style="list-style-type: decimal">
<li><p>Hydraulic properties are updated in the cells and/or faces defined by the structure connection type.</p>
<ul>
<li>For nodestrings (single or linked), hydraulic paramaters at each cell face in the nodestring are updated, and nodestring average values are calculated using Equation <a href="App2DHD-1.html#eq:equ-ns-weighted-ave-prop">(E.18)</a>.</li>
</ul>
<span class="math display" id="eq:equ-ns-weighted-ave-prop">\[\begin{equation}
X_{\text{avg}} = \frac{\sum_{i=1}^{N_f} X_i\, L_i h_i}{\sum_{i=1}^{N_f} L_i h_i}
\tag{E.18}
\end{equation}\]</span>
<dl>
<dt>Where:</dt>
<dd>
<p><span class="math inline">\(X_{\text{avg}}\)</span> = nodestring weighted average of the hydraulic parameter<br />
<span class="math inline">\(X_i\)</span> = value of the hydraulic parameter at face <span class="math inline">\(i\)</span><br />
<span class="math inline">\(L_i\)</span> = face length<br />
<span class="math inline">\(h_i\)</span> = water depth at face <span class="math inline">\(i\)</span><br />
<span class="math inline">\(N_f\)</span> = number of faces</p>
</dd>
</dl>
<ul>
<li>For linked zone connections, hydraulic properties at each cell are updated, and average values are calculated using Equation <a href="App2DHD-1.html#eq:equ-zn-weighted-ave-prop">(E.19)</a>.</li>
</ul>
<span class="math display" id="eq:equ-zn-weighted-ave-prop">\[\begin{equation}
X_{\text{avg}} = \frac{\sum_{i=1}^{N_c} X_i\, A_i h_i}{\sum_{i=1}^{N_c} A_i h_i}
\tag{E.19}
\end{equation}\]</span>
<dl>
<dt>Where:</dt>
<dd>
<p><span class="math inline">\(X_{\text{avg}}\)</span> = zone weighted average of the hydraulic parameter<br />
<span class="math inline">\(X_i\)</span> = value of the hydraulic parameter in cell <span class="math inline">\(i\)</span><br />
<span class="math inline">\(A_i\)</span> = plan area of cell <span class="math inline">\(i\)</span><br />
<span class="math inline">\(h_i\)</span> = water depth in cell <span class="math inline">\(i\)</span><br />
<span class="math inline">\(N_c\)</span> = number of cells</p>
</dd>
</dl></li>
<li><p>The governing equations for the hydraulic structure are applied. These are specific to the structure type and are detailed in Sections <a href="App2DHD-1.html#App2DHD-HS-Scie-Weir-4">E.16.1.2</a> to <a href="App2DHD-1.html#App2DHD-HS-Scie-Wall-4">E.16.1.9</a>.</p></li>
<li><p>Mass and momentum derived from the structure equations are distributed to cells and/or faces defined by the connection type.</p>
<ul>
<li>For nodestrings, distribution is based on Equation <a href="App2DHD-1.html#eq:equ-ns-weighted-ave-dist">(E.20)</a>.</li>
</ul>
<span class="math display" id="eq:equ-ns-weighted-ave-dist">\[\begin{equation}
X_{\text{avg}} = \frac{\sum_{i=1}^{N_f} X_i\, L_i h_i^{1.5}}{\sum_{i=1}^{N_f} L_i h_i^{1.5}}
\tag{E.20}
\end{equation}\]</span>
<dl>
<dt>Where:</dt>
<dd>
<p><span class="math inline">\(X_i\)</span> = value of the hydraulic parameter at face <span class="math inline">\(i\)</span><br />
<span class="math inline">\(L_i\)</span> = face length<br />
<span class="math inline">\(h_i\)</span> = water depth at face <span class="math inline">\(i\)</span><br />
<span class="math inline">\(N_f\)</span> = number of faces</p>
</dd>
</dl>
<ul>
<li>For linked zones, distribution is based on Equation <a href="App2DHD-1.html#eq:equ-zn-weighted-ave-dist">(E.21)</a>.</li>
</ul>
<span class="math display" id="eq:equ-zn-weighted-ave-dist">\[\begin{equation}
X_{\text{avg}} = \frac{\sum_{i=1}^{N_c} X_i\, A_i h_i^{1.5}}{\sum_{i=1}^{N_c} A_i h_i^{1.5}}
\tag{E.21}
\end{equation}\]</span>
<dl>
<dt>Where:</dt>
<dd>
<p><span class="math inline">\(X_i\)</span> = value of the hydraulic parameter in cell <span class="math inline">\(i\)</span><br />
<span class="math inline">\(A_i\)</span> = plan area of cell <span class="math inline">\(i\)</span><br />
<span class="math inline">\(h_i\)</span> = water depth in cell <span class="math inline">\(i\)</span><br />
<span class="math inline">\(N_c\)</span> = number of cells</p>
</dd>
</dl></li>
<li><p>Flux limits are applied to ensure that calculated structure fluxes remain within physically consistent ranges (see Section MJS TODO).</p></li>
<li><p>The final structure fluxes are added to the 2D model:</p>
<ul>
<li>For nodestring connections, fluxes are added to existing face fluxes.<br />
</li>
<li>For zone connections, fluxes are added as cell source terms.</li>
</ul></li>
</ol>
</div>
<div id="App2DHD-HS-Scie-Weir-4" class="section level4 hasAnchor" number="20.16.1.2">
<h4><span class="header-section-number">E.16.1.2</span> Weirs<a href="App2DHD-1.html#App2DHD-HS-Scie-Weir-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Weir flow is calculated using the general weir equation with allowance for weir submergence (Equation <a href="App2DHD-1.html#eq:equ-Qweirsub">(E.22)</a>). Key terms are displayed in Figure <a href="App2DHD-1.html#fig:fig-Weir-Schematic-001">E.13</a>.</p>
<span class="math display" id="eq:equ-Qweirsub">\[\begin{equation}
Q = C_d B H_u^{3/2} \times \max(C_{sf}, C_{sf\_min})
\tag{E.22}
\end{equation}\]</span>
<p>where:</p>
<ul>
<li><p><span class="math inline">\(Q\)</span> = discharge or flow rate (m³/s)<br />
</p></li>
<li><p><span class="math inline">\(C_d\)</span> = weir coefficient (–)<br />
</p></li>
<li><p><span class="math inline">\(B\)</span> = weir width (m)</p></li>
<li><p><span class="math inline">\(H_u\)</span> = Upstream depth of water approaching the weir relative to the weir crest (m or ft)</p></li>
<li><p><span class="math inline">\(C_{sf}\)</span> = weir submergence factor (–)</p></li>
<li><p><span class="math inline">\(C_{sf\_min}\)</span> = minimum weir submergence factor (–)</p></li>
</ul>
<p>By default, the weir width <span class="math inline">\(B\)</span> is set either via:</p>
<ul>
<li>The nodestring length for nodestring structure connection types</li>
<li>The average of the upstream and downstream nodestring lengths for linked nodestrings structure connection types</li>
<li>The <a href="AppCommands.html#FVCMaxOpenWidth"><tcmd>Max Open Width</tcmd></a> command for linked zones structure connection types</li>
</ul>
<p>The default <span class="math inline">\(B\)</span> can be overriden via the optional user-specified parameter <span class="math inline">\(B_{user}\)</span> (Table <a href="App2DHD-1.html#tab:tab-WeirProperties">E.5</a>).</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Weir-Schematic-001"></span>
<img src="images/Weir_Schematic_001.jpg" alt="**Weir Schematic**" width="80%" />
<p class="caption">
Figure E.13: <strong>Weir Schematic</strong>
</p>
</div>
</center>
<p>Weir submergence factors <span class="math inline">\(C_{sf}\)</span> are based on <span class="citation">Miller (<a href="references-1.html#ref-IAHRManual1994">1994</a>)</span> and <span class="citation">Bos (<a href="references-1.html#ref-Bos1989">1989</a>)</span>. The submergence charts for each weir type, which relate the weir submergence factor to the ratio of downstream to upstream water level, were reproduced from the literature. The Villemonte equation was then used to fit analytical expressions to these curves, expressed as:</p>
<span class="math display" id="eq:equ-villemonte">\[\begin{equation}
C_{sf} = \left( 1 - \ \left( \frac{H_{d}}{H_{u}} \right)^{a} \right)^{b}
\tag{E.23}
\end{equation}\]</span>
<p>Where:</p>
<ul>
<li><span class="math inline">\(H_{u}\)</span> = Upstream depth of water relative to the weir crest (m or ft)</li>
<li><span class="math inline">\(H_{d}\)</span> = Downstream depth of water relative to the weir crest (m or ft)</li>
<li><span class="math inline">\(a, b\)</span> = Model coefficients</li>
</ul>
<p>The default variables <em>a</em> and <em>b</em> used to determine the submergence factor <span class="math inline">\(C_{sf}\)</span> for each weir type are presented in Table <a href="App2DHD-1.html#tab:tab-WeirScience">E.4</a>. Figure <a href="App2DHD-1.html#fig:fig-Villemonte-Weir-Curves">E.14</a> shows the submergence curves produced using the default values in Table <a href="App2DHD-1.html#tab:tab-WeirScience">E.4</a> to calculate <span class="math inline">\({\ C}_{sf}\)</span>.</p>
<p>The weir equation is transitioned back to the non-linear shallow water equations as the weir becomes progressively submerged. A default value of <span class="math inline">\(C_{sf\_min} = 0.7\)</span> is applied to ensure a smooth transition between the two equation sets.</p>
<table>
<caption>
<span id="tab:tab-WeirScience">Table E.4: </span><strong>Default Attribute Values for the Weir Equation for Different Weir Flows</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Weir Type
</th>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Cd
</th>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Ex
</th>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
a
</th>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
b
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Default Submergence Curve
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Broad-crested
</td>
<td style="text-align:right;">
1.705
</td>
<td style="text-align:right;">
1.5
</td>
<td style="text-align:right;">
8.550
</td>
<td style="text-align:right;">
0.556
</td>
<td style="text-align:left;">
Broad-crested from Abou Seida &amp; Quarashi, 1976 (Miller, 1994)
</td>
</tr>
<tr>
<td style="text-align:left;">
Crump
</td>
<td style="text-align:right;">
1.500
</td>
<td style="text-align:right;">
1.5
</td>
<td style="text-align:right;">
17.870
</td>
<td style="text-align:right;">
0.590
</td>
<td style="text-align:left;">
Crump H1/Hb=1.5 (Bos, 1989)
</td>
</tr>
<tr>
<td style="text-align:left;">
Sharp-crested
</td>
<td style="text-align:right;">
1.830
</td>
<td style="text-align:right;">
1.5
</td>
<td style="text-align:right;">
2.205
</td>
<td style="text-align:right;">
0.483
</td>
<td style="text-align:left;">
Sharp Crest Thin Plate from Hagar, 1987a (Miller, 1994)
</td>
</tr>
<tr>
<td style="text-align:left;">
Ogee-crested
</td>
<td style="text-align:right;">
2.210
</td>
<td style="text-align:right;">
1.5
</td>
<td style="text-align:right;">
6.992
</td>
<td style="text-align:right;">
0.648
</td>
<td style="text-align:left;">
Ogee / Nappe (Miller, 1994; USBR, 1987)
</td>
</tr>
</tbody>
</table>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Villemonte-Weir-Curves"></span>
<img src="images/Villemonte_Weir_Curves.png" alt="**Weir Submergence Curves using Villemonte Equation**" width="80%" />
<p class="caption">
Figure E.14: <strong>Weir Submergence Curves using Villemonte Equation</strong>
</p>
</div>
</center>
<p>Each weir property is summarised in Table <a href="App2DHD-1.html#tab:tab-WeirProperties">E.5</a>. Users can adjust the default values of <span class="math inline">\(C_d\)</span> and submergence coefficients <span class="math inline">\(a, b\)</span> to model a supported weir type using the values from Table <a href="App2DHD-1.html#tab:tab-WeirScience">E.4</a>.</p>
<table>
<caption>
<span id="tab:tab-WeirProperties">Table E.5: </span><strong>Weir Properties</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Argument
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<span class="math inline">\(Z_c\)</span>
</td>
<td style="text-align:left;">
Weir crest height either provided as an absolute elevation relative to datum if Flux Function == Weir (mRL) or as a dz bathymetric offset if Flux Function == Weir_dz (m)
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(C_d\)</span>
</td>
<td style="text-align:left;">
Weir coefficient
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(Ex\)</span>
</td>
<td style="text-align:left;">
Weir Exponent
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(a\)</span>
</td>
<td style="text-align:left;">
Villemonte weir submergence coefficient a
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(b\)</span>
</td>
<td style="text-align:left;">
Villemonte weir submergence coefficient b
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(C_{sf\_min}\)</span>
</td>
<td style="text-align:left;">
Minimum weir submergence factor
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(B_{user}\)</span>
</td>
<td style="text-align:left;">
Optional user-defined weir width override (m)
</td>
</tr>
</tbody>
</table>
<p><span class="citation">Huxley (<a href="references-1.html#ref-Huxley2004">2004</a>)</span> contains benchmarking of unsubmerged and submerged weir flow to the literature.</p>
</div>
<div id="App2DHD-HS-Scie-Culv-4" class="section level4 hasAnchor" number="20.16.1.3">
<h4><span class="header-section-number">E.16.1.3</span> Culverts<a href="App2DHD-1.html#App2DHD-HS-Scie-Culv-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>TUFLOW FV shares the same standard culvert equations used by TUFLOW Classic’s ESTRY 1D solver, which have been in use since the 1990s. The calculations of culvert flow and losses are carried out using techniques from “Hydraulic Charts for the Selection of Highway Culverts” and “Capacity Charts for the Hydraulic Design of Highway Culverts”, together with additional information provided in <span class="citation">Henderson (<a href="references-1.html#ref-Henderson1966">1966</a>)</span>. The calculations have been compared and shown to be consistent with manufacturer’s data provided by both “Rocla” and “Armco”. For benchmarking of TUFLOW’s culvert flow routines to the literature, see <span class="citation">Huxley (<a href="references-1.html#ref-Huxley2004">2004</a>)</span>.</p>
<p>Nodestring average (for single and linked nodestring connection types) or zone average (for linked zones) upstream and downstream hydraulic parameters are used to drive the culvert equations using the process described in Section <a href="App2DHD-1.html#App2DHD-HS-Scie-SCT-4">E.16.1.1</a>.</p>
<div id="App2DHD-HS-Scie-Culv-CR-5" class="section level5 hasAnchor" number="20.16.1.3.1">
<h5><span class="header-section-number">E.16.1.3.1</span> Culvert Regimes<a href="App2DHD-1.html#App2DHD-HS-Scie-Culv-CR-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The culvert equations support the flow regimes described in Table <a href="App2DHD-1.html#tab:tab-CulvertFlowRegimes">E.6</a>, Figure <a href="App2DHD-1.html#fig:fig-Culvert-Outlet-Control">E.15</a>, and Figure <a href="App2DHD-1.html#fig:fig-Culvert-Inlet-Control">E.16</a>.</p>
<table>
<caption>
<span id="tab:tab-CulvertFlowRegimes">Table E.6: </span><strong>1D Culvert Flow Regimes</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Regime
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
Unsubmerged entrance and exit. Critical flow at entrance. Upstream controlled with the flow control at the inlet.
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
Submerged entrance and unsubmerged exit. Orifice flow at entrance. Upstream controlled with the flow control at the inlet.
</td>
</tr>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
Unsubmerged entrance and exit. Critical flow at exit. Upstream controlled with the flow control at the culvert outlet.
</td>
</tr>
<tr>
<td style="text-align:left;">
D
</td>
<td style="text-align:left;">
Unsubmerged entrance and exit. Sub-critical flow at exit. Downstream controlled.
</td>
</tr>
<tr>
<td style="text-align:left;">
E
</td>
<td style="text-align:left;">
Submerged entrance and unsubmerged exit. Full pipe flow. Upstream controlled with the flow control at the culvert outlet.
</td>
</tr>
<tr>
<td style="text-align:left;">
F
</td>
<td style="text-align:left;">
Submerged entrance and exit. Full pipe flow. Downstream controlled.
</td>
</tr>
<tr>
<td style="text-align:left;">
G
</td>
<td style="text-align:left;">
No flow. Dry or flap-gate active.
</td>
</tr>
<tr>
<td style="text-align:left;">
H
</td>
<td style="text-align:left;">
Submerged entrance and unsubmerged exit. Adverse slope. Downstream controlled.
</td>
</tr>
<tr>
<td style="text-align:left;">
J
</td>
<td style="text-align:left;">
Unsubmerged entrance and exit. Adverse slope. Downstream controlled.
</td>
</tr>
<tr>
<td style="text-align:left;">
K
</td>
<td style="text-align:left;">
Unsubmerged entrance and submerged exit. Critical flow at entrance. Upstream controlled with the flow control at the inlet. Hydraulic jump along culvert.
</td>
</tr>
<tr>
<td style="text-align:left;">
L
</td>
<td style="text-align:left;">
Submerged entrance and exit. Orifice flow at entrance. Upstream controlled with the flow control at the inlet. Hydraulic jump along culvert.
</td>
</tr>
</tbody>
</table>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Culvert-Outlet-Control"></span>
<img src="images/Culvert_Outlet_Control.png" alt="1D Outlet Control Culvert Flow Regimes" width="50%" />
<p class="caption">
Figure E.15: 1D Outlet Control Culvert Flow Regimes
</p>
</div>
</center>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Culvert-Inlet-Control"></span>
<img src="images/Culvert_Inlet_Control.png" alt="1D Inlet Control Culvert Flow Regimes" width="50%" />
<p class="caption">
Figure E.16: 1D Inlet Control Culvert Flow Regimes
</p>
</div>
</center>
<p>To trigger inlet controlled conditions, the following two conditions must be met.</p>
<ol style="list-style-type: decimal">
<li>The culvert flow rate calculated based on the upstream controlled flow regime (Figure <a href="App2DHD-1.html#fig:fig-Culvert-Inlet-Control">E.16</a>) must be smaller than that of the downstream controlled flow rate</li>
<li><span class="math inline">\(H_u\)</span> must be less than <span class="math inline">\(H_{cd} \cdot h_c\)</span></li>
</ol>
<p>Where:</p>
<ul>
<li><span class="math inline">\(H_{u}\)</span> = Upstream depth of water relative to the culvert invert (m or ft)</li>
<li><span class="math inline">\(H_c\)</span> is the culvert height (m or ft)</li>
<li><span class="math inline">\(H_{cd}\)</span> is the critical depth factor</li>
</ul>
<p>See Figure <a href="App2DHD-1.html#fig:fig-Culvert-Schematic-001">E.17</a> MJS TODO:update when fig is provided by Mel.</p>
<p>By default the value of <span class="math inline">\(H_{cd}\)</span> is set to 99999, insuring that the upstream controlled flow regime is always applied once Condition 1.) above is met. The critical depth factor can be adjusted using the <a href="AppCommands.html#FVCCulvertParameters"><tcmd>Culvert Parameters</tcmd></a> structure block command.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Culvert-Schematic-001"></span>
<img src="images/Culvert_Schematic_001.jpg" alt="**Culvert Schematic**" width="80%" />
<p class="caption">
Figure E.17: <strong>Culvert Schematic</strong>
</p>
</div>
</center>
</div>
<div id="App2DHD-HS-Scie-Culv-AEELA-5" class="section level5 hasAnchor" number="20.16.1.3.2">
<h5><span class="header-section-number">E.16.1.3.2</span> Automatic Entry/Exit Loss Adjustment<a href="App2DHD-1.html#App2DHD-HS-Scie-Culv-AEELA-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The energy losses associated with the contraction and expansion of flow lines into and out of a structure, can be optionally automatically adjusted according to the approach and departure velocities in the upstream and downstream channels. This is particularly important where:</p>
<ul>
<li>There is no change in velocity magnitude and direction as water flows through a structure. In this situation, there is effectively no entrance (contraction) or exit (expansion) losses and the losses need to be reduced to zero. Examples are:
<ul>
<li>A clear spanning bridge over a stormwater channel where there are no losses due to any obstruction to flow until the bridge deck becomes surcharged.<br />
</li>
<li>Flow from one pipe to another where the pipe size remains unchanged and there is no significant bend or change in grade.<br />
</li>
</ul></li>
<li>There is a change in velocity, but the change does not warrant application of the full entrance and exit loss. This is the most common case where the application of the full entrance and exit loss coefficients (typically 0.5 and 1.0) will overestimate the energy loss through the structure. The full values are only representative of the situation where the approach and departure velocities are close to zero, for example, a culvert discharging from a lake into another lake where the velocity transitions from still water to fast flowing and to still water.</li>
</ul>
<p>Entrance and exit losses are adjusted according to Equations <a href="App2DHD-1.html#eq:equ-delta-h-loss">(E.24)</a> to <a href="App2DHD-1.html#eq:equ-exit-adjusted">(E.26)</a> that take into account the change in velocity caused by the structure. The first equation is empirical, while the second equation to adjust exit losses can be derived from first principles. A schematic indicating approach, structure, and departure velocities is provided in Figure <a href="App2DHD-1.html#fig:fig-Culvert-Approach-Departure">E.18</a>.</p>
<p>Automatic entry and exit loss adjustment are turned off by default. They are enabled by setting the fourth entry of the <a href="AppCommands.html#FVCCulvertParameters"><tcmd>Culvert Parameters</tcmd></a> command to 1. If energy and exit loss adjustment is specified, the fixed entry and exit loss values provided via the <a href="AppCommands.html#FVCCulvertFile"><tcmd>Culvert File</tcmd></a> command are ignored.</p>
<span class="math display" id="eq:equ-delta-h-loss">\[\begin{equation}
\Delta h = (K_{\text{entry}} + K_{\text{exit}}) \frac{V_{\text{structure}}^2}{2g}
\tag{E.24}
\end{equation}\]</span>
<span class="math display" id="eq:equ-entry-adjusted">\[\begin{equation}
K_{\text{entry,adjusted}} = K_{\text{entry}} \left[ 1 - \frac{V_{\text{app}}}{V_{\text{structure}}} \right]
\tag{E.25}
\end{equation}\]</span>
<span class="math display" id="eq:equ-exit-adjusted">\[\begin{equation}
K_{\text{exit,adjusted}} = K_{\text{exit}} \left[ 1 - \frac{V_{\text{dep}}}{V_{\text{structure}}} \right]^2
\tag{E.26}
\end{equation}\]</span>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Culvert-Approach-Departure"></span>
<img src="images/Culvert_Approach_Departure.png" alt="Culvert Approach, Structure, and Departure Velocites" width="80%" />
<p class="caption">
Figure E.18: Culvert Approach, Structure, and Departure Velocites
</p>
</div>
</center>
</div>
<div id="App2DHD-HS-Scie-Culv-TEH-5" class="section level5 hasAnchor" number="20.16.1.3.3">
<h5><span class="header-section-number">E.16.1.3.3</span> Total Energy Head<a href="App2DHD-1.html#App2DHD-HS-Scie-Culv-TEH-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The total energy head is the sum of the pressure and velocity head as declared in Equation <a href="App2DHD-1.html#eq:equ-He-culvert">(E.27)</a></p>
<span class="math display" id="eq:equ-He-culvert">\[\begin{equation}
E = H_u + \frac{V^2}{2g}
\tag{E.27}
\end{equation}\]</span>
<p>Where:</p>
<ul>
<li><span class="math inline">\(E\)</span> = Specific energy above the culvert invert or outlet (m)<br />
</li>
<li><span class="math inline">\(H\)</span> = upstream headwater or downstream tailwater depth above invert (m)<br />
</li>
<li><span class="math inline">\(V\)</span> = average velocity at inlet or outlet (m/s)<br />
</li>
<li><span class="math inline">\(g\)</span> = acceleration due to gravity (m/s<span class="math inline">\(^2\)</span>)</li>
</ul>
<p><span class="math inline">\(E\)</span> can optionally replace <span class="math inline">\(H\)</span> used for culvert calculations. Doing so can improve results for culverts under high velocity / high flow conditions (for example in a main channel). The option is switched off by default and can be enabled via the fifth parameter of the <a href="AppCommands.html#FVCCulvertParameters"><tcmd>Culvert Parameters</tcmd></a> command.</p>
</div>
<div id="App2DHD-HS-Scie-Culv-CF-5" class="section level5 hasAnchor" number="20.16.1.3.4">
<h5><span class="header-section-number">E.16.1.3.4</span> Culvert File<a href="App2DHD-1.html#App2DHD-HS-Scie-Culv-CF-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The culvert file contains a list of the culvert attributes, such as the culvert ID, culvert type, dimensions, length, upstream and downstream inverts, number of barrels, Manning’s n, entrance and exit losses. A description of the required culvert file inputs is summarised in Table <a href="App2DHD-1.html#tab:tab-CulvertFile">E.7</a>.</p>
<p>Multiple culverts can be listed within a culvert file (i.e. a unique culvert file for each culvert is not required). The culvert ID within the culvert file is used to associate a specific structure with the command line input as shown in <a href="App2DHD-1.html#fig:fig-Culvert-File-Appendix">E.19</a>.</p>
<table>
<caption>
<span id="tab:tab-CulvertFile">Table E.7: </span><strong>Culvert File Inputs</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Header Column
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
ID
</td>
<td style="text-align:left;">
Culvert identifier.
</td>
</tr>
<tr>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
1 = circular, 2 = rectangular, 4 = gated circular (unidirectional), 5 = gated rectangular (unidirectional).
</td>
</tr>
<tr>
<td style="text-align:left;">
Ignore
</td>
<td style="text-align:left;">
If = 1 culvert is ignored (Default = 0).
</td>
</tr>
<tr>
<td style="text-align:left;">
UCS
</td>
<td style="text-align:left;">
Currently not used.
</td>
</tr>
<tr>
<td style="text-align:left;">
Len_or_ANA
</td>
<td style="text-align:left;">
Culvert length (m or ft).
</td>
</tr>
<tr>
<td style="text-align:left;">
n_or_n_F
</td>
<td style="text-align:left;">
Friction (Manning’s ‘n’).
</td>
</tr>
<tr>
<td style="text-align:left;">
US_Invert
</td>
<td style="text-align:left;">
Upstream invert level (relative to model datum: m or ft).
</td>
</tr>
<tr>
<td style="text-align:left;">
DS_Invert
</td>
<td style="text-align:left;">
Downstream invert level (relative to model datum: m or ft).
</td>
</tr>
<tr>
<td style="text-align:left;">
Form_Loss
</td>
<td style="text-align:left;">
Form loss coefficient; an additional dynamic head loss coefficient applied when culvert flow is not critical at the inlet.
</td>
</tr>
<tr>
<td style="text-align:left;">
pBlockage
</td>
<td style="text-align:left;">
% blockage (for 10%, enter 10). For rectangular culverts, the culvert width is reduced by the % Blockage, while for circular culverts the pipe diameter is reduced by the square root of the % Blockage. (Default = 0).
</td>
</tr>
<tr>
<td style="text-align:left;">
Inlet_Type
</td>
<td style="text-align:left;">
Currently not used.
</td>
</tr>
<tr>
<td style="text-align:left;">
Conn_2D
</td>
<td style="text-align:left;">
Currently not used.
</td>
</tr>
<tr>
<td style="text-align:left;">
Conn_No
</td>
<td style="text-align:left;">
Currently not used.
</td>
</tr>
<tr>
<td style="text-align:left;">
Width_or_Dia
</td>
<td style="text-align:left;">
Width for rectangular culverts or diameter for circular culverts (m or ft - see units).
</td>
</tr>
<tr>
<td style="text-align:left;">
Height_or_WF
</td>
<td style="text-align:left;">
Height for rectangular culverts (m or ft - see units).
</td>
</tr>
<tr>
<td style="text-align:left;">
Number_of
</td>
<td style="text-align:left;">
Number of culvert barrels.
</td>
</tr>
<tr>
<td style="text-align:left;">
Height_Cont
</td>
<td style="text-align:left;">
Height contraction coefficient for orifice flow at the inlet.
Recommended values, 0.6 for square edged entrances to 0.8 for rounded edges.<br />
Not used for unsubmerged inlet flow conditions or outlet controlled flow regimes.<br />
Not used for C channels.
</td>
</tr>
<tr>
<td style="text-align:left;">
Width_Cont
</td>
<td style="text-align:left;">
The width contraction coefficient for inlet-controlled flow. Usually 0.9 for sharp edges to 1.0 for rounded edges for R culverts. Normally set to 1.0 for C culverts. If value exceeds 1.0 or is less than or equal to zero, it is set to 1.0.
Not used for outlet controlled flow regimes.
</td>
</tr>
<tr>
<td style="text-align:left;">
Entry_Loss
</td>
<td style="text-align:left;">
The entry loss coefficient for outlet controlled flow (recommended value of 0.5).
</td>
</tr>
<tr>
<td style="text-align:left;">
Exit_Loss
</td>
<td style="text-align:left;">
The exit loss coefficient for outlet controlled flow (recommended value of 1.0).
</td>
</tr>
</tbody>
</table>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Culvert-File-Appendix"></span>
<img src="images/Culvert_File_Appendix.png" alt="Culvert File Example" width="80%" />
<p class="caption">
Figure E.19: Culvert File Example
</p>
</div>
</center>
</div>
</div>
<div id="App2DHD-HS-Scie-Brid-4" class="section level4 hasAnchor" number="20.16.1.4">
<h4><span class="header-section-number">E.16.1.4</span> Bridges<a href="App2DHD-1.html#App2DHD-HS-Scie-Brid-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<!--
Nodestring and linked nodestrings only (nlswe not supported for linked zones)
U[date flow properties 
If single will execute face by face flux including hstar if allocated
if linked will execute based on nodestring averages
Will update available flow width/blockage 
Will return ustar with velocity adjusted from width/blockage (if coefficient) and then hstar
momentum flux update skipped for nlswe structure
        update flow properties
        do flux lmimt
            do flux limit standard or linked
                this is a very similar calc to do_nslwe_flux however is using an updated hstar, and max open width based on the maximum value in the blockage/width file at model startup or the nodestring structure length if no width/blockage file applied
            apply energy loss - applies pressure gradient correction to the momentum flux
            apply blockage - calcs the 'max' flow based on the broad crested weir equation (with reduced flow width) and scales down Q and fluxes

-->
<p>Bridge structures use the governing non-linear shallow water equations with additional terms to represent sub-grid scale effects such as piers, abutments, and bridge deck flow interference, providing a mechanism to account for energy losses around piers and similar entry or exit losses not resolved within the 2D/3D domain.</p>
<div id="App2DHD-HS-Scie-Brid-FLC-5" class="section level5 hasAnchor" number="20.16.1.4.1">
<h5><span class="header-section-number">E.16.1.4.1</span> Form Loss Coefficient<a href="App2DHD-1.html#App2DHD-HS-Scie-Brid-FLC-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The coefficient energy loss function allows the user to specify a form loss coefficient (FLC) as a function of velocity head (Equation <a href="App2DHD-1.html#eq:equ-flc">(E.28)</a>).</p>
<span class="math display" id="eq:equ-flc">\[\begin{equation}
\Delta H = FLC \, \frac{V^2}{2g}
\tag{E.28}
\end{equation}\]</span>
<p>Where:<br />
- <span class="math inline">\(\Delta H\)</span> = head loss (m)<br />
- <span class="math inline">\(FLC\)</span> = form loss coefficient (–)<br />
- <span class="math inline">\(V\)</span> = velocity (m/s)<br />
- <span class="math inline">\(g\)</span> = acceleration due to gravity (m/s<span class="math inline">\(^2\)</span>)</p>
<p>Width files or blockage files can optionally be used in combination with the coefficient energy loss function. They allow the user to specify the approximate width of the structure as a function of elevation, for example to account for flow area reduction due to abutments, piers or other flow obstructions not represented by the model mesh. These files alter the effective cross-sectional area at the structure, modifying the velocity in accordance with the laws of continuity.</p>
<p>At each timestep the upstream nodestring average bed elevation, water level and active nodestring length is used to calculate a fraction open <span class="math inline">\(frac\)</span> from the width or blockage file as declared in Equations <a href="App2DHD-1.html#eq:equ-frac-width-int">(E.29)</a> and <a href="App2DHD-1.html#eq:equ-frac-block-int">(E.31)</a>.</p>
<p>For a width table <span class="math inline">\((Z, W)\)</span>, the fraction open is:</p>
<span class="math display" id="eq:equ-frac-width-int">\[\begin{equation}
\text{frac} = \frac{1}{L\,(wl - z_b)} \int_{z_b}^{wl} W(z)\,dz
\tag{E.29}
\end{equation}\]</span>
<p>Discretised using the trapezoidal rule:</p>
<span class="math display" id="eq:equ-frac-width-trap">\[\begin{equation}
\text{frac} = \frac{1}{L\,(wl - z_b)}
\sum_{i=1}^{N-1} \frac{W_i + W_{i+1}}{2}\,(Z_{i+1}-Z_i)
\tag{E.30}
\end{equation}\]</span>
<hr />
<p>For a blockage table <span class="math inline">\((Z, f)\)</span>, the fraction open is:</p>
<span class="math display" id="eq:equ-frac-block-int">\[\begin{equation}
\text{frac} = \frac{1}{wl - z_b} \int_{z_b}^{wl} f(z)\,dz
\tag{E.31}
\end{equation}\]</span>
<p>Discretised using the trapezoidal rule:</p>
<span class="math display" id="eq:equ-frac-block-trap">\[\begin{equation}
\text{frac} = \frac{1}{wl - z_b}
\sum_{i=1}^{N-1} \frac{f_i + f_{i+1}}{2}\,(Z_{i+1}-Z_i)
\tag{E.32}
\end{equation}\]</span>
<hr />
<p>The modified cross-sectional area is then:</p>
<span class="math display" id="eq:equ-Aprime">\[\begin{equation}
A&#39; = A \cdot \text{frac}
\tag{E.33}
\end{equation}\]</span>
<p>Where:<br />
- <span class="math inline">\(W_i\)</span> = tabulated available width at elevation <span class="math inline">\(Z_i\)</span> (m)<br />
- <span class="math inline">\(f_i\)</span> = tabulated fractional opening at elevation <span class="math inline">\(Z_i\)</span> (–)<br />
- <span class="math inline">\(Z_i\)</span> = tabulated elevations (m)<br />
- <span class="math inline">\(z_b\)</span> = average upstream bed elevation (m)<br />
- <span class="math inline">\(wl\)</span> = average upstream water level (m)<br />
- <span class="math inline">\(L\)</span> = active structure width (m)<br />
- <span class="math inline">\(A\)</span> = full structure area (m<span class="math inline">\(^2\)</span>)<br />
- <span class="math inline">\(A&#39;\)</span> = effective structure area (m<span class="math inline">\(^2\)</span>)<br />
- frac = effective open fraction (–)<br />
- <span class="math inline">\(N\)</span> = number of table points used between <span class="math inline">\(z_b\)</span> and <span class="math inline">\(wl\)</span></p>
<p>The adjusted structure velocity is defined by:</p>
<span class="math display" id="eq:equ-Vprime">\[\begin{equation}
V&#39; = \frac{Q}{A&#39;}
\tag{E.34}
\end{equation}\]</span>
<p>Where:<br />
- <span class="math inline">\(V&#39;\)</span> = adjusted velocity (m/s)<br />
- <span class="math inline">\(Q\)</span> = flowrate (m<span class="math inline">\(^3\)</span>/s)</p>
<p>This adjusted velocity <span class="math inline">\(V&#39;\)</span> is then used to assign kinetic energy losses:</p>
<p><span class="math display" id="eq:equ-flc-Vprime">\[
\Delta H = FLC \, \frac{V&#39;^2}{2g}
\tag{E.35}
\]</span></p>
<p>The head loss <span class="math inline">\(\Delta H\)</span> is added as a pressure correction term in the momentum equations and distributed to the upstream nodestring faces, where upstream refers to the side from which water is flowing. The resisting force per face is:</p>
<span class="math display" id="eq:equ-force-dH">\[\begin{equation}
\vec{F}_i = g \, h_i \, \Delta H, \hat{u}
\tag{E.36}
\end{equation}\]</span>
<p>Where:<br />
- <span class="math inline">\(\vec{F}_i\)</span> = opposing force applied to face <span class="math inline">\(i\)</span> (MJS TODO CONFIRM UNITS)<br />
- <span class="math inline">\(h_i\)</span> = local water depth at face <span class="math inline">\(i\)</span> (m)<br />
- <span class="math inline">\(\hat{u}\)</span> = unit vector normal to the nodestring face pointing upstream</p>
</div>
<div id="App2DHD-HS-Scie-Brid-ELT-5" class="section level5 hasAnchor" number="20.16.1.4.2">
<h5><span class="header-section-number">E.16.1.4.2</span> Energy Loss Table<a href="App2DHD-1.html#App2DHD-HS-Scie-Brid-ELT-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>An energy table energy loss function gives users a higher level of control over the losses applied for different flow rates. The downside to this additional level of control is that the user is required to pre-calculate the expected energy losses and input via an energy file.</p>
<p>At each timestep the energy loss <span class="math inline">\(\Delta H\)</span> is linearly interpolated from the energy loss file as a function of flowrate <span class="math inline">\(Q\)</span> through the structure. The interpolated value of <span class="math inline">\(\Delta H\)</span> is added as a pressure correction in the momentum equations in the same manner as described in Equation <a href="App2DHD-1.html#eq:equ-force-dH">(E.36)</a>.</p>
<p>Width or blockage files should not be used in combination with this method.</p>
</div>
<div id="App2DHD-HS-Scie-Brid-Scie-ELC-5" class="section level5 hasAnchor" number="20.16.1.4.3">
<h5><span class="header-section-number">E.16.1.4.3</span> Energy Loss Considerations<a href="App2DHD-1.html#App2DHD-HS-Scie-Brid-Scie-ELC-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>When adapting structure loss coefficients from a 1D model or from coefficients that apply across the entire waterway, for example, from Hydraulics of Bridge Waterways (FHA 1973), the following should be noted:</p>
<ul>
<li>The 2D solution automatically predicts most “macro” losses due to the expansion and contraction of water through a constriction, or round a bend, provided the resolution of the grid is sufficiently fine. It is recommended that raised bridge approaches/abutments should be represented by the model topography (i.e. not included as a contribution to the form loss coefficient). A breakline using the Read GIS Z Line command may be useful for defining these topographic features. Where the waterway width varies slightly from the cumulative width of the cells across which the structure is being applied, a width file or blockage file can be used to refine the flow area and define the structure soffit within the model .</li>
<li>Where the 2D model is not at a fine enough resolution to simulate the “micro” losses (e.g. from bridge piers, vena contracta, losses in the vertical (3rd) dimension), additional form loss coefficients and/or modifications to the cells widths and flow height need to be added. This can be done by using a the form loss coefficient or energy file commands.</li>
<li>The additional or “micro” losses, which may be derived from information in publications, such as Hydraulics of Bridge Waterways, should be distributed evenly across the waterway (i.e. rather than being too specific about the representation of each individual cell).</li>
<li>The head loss across key structures should be reviewed, and if necessary, benchmarked against other methods (e.g. Hydraulics of Bridge Waterways or a secondary model). Note that a well-designed 2D model will be more accurate than a 1D model if any “micro” losses are incorporated. Ultimately, the best approach is to calibrate the structure through adjustment of the additional “micro” losses – but this, of course, requires good calibration data!</li>
</ul>
</div>
</div>
<div id="App2DHD-HS-Scie-PS-4" class="section level4 hasAnchor" number="20.16.1.5">
<h4><span class="header-section-number">E.16.1.5</span> Porous<a href="App2DHD-1.html#App2DHD-HS-Scie-PS-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Flow through a porous structure follows Darcy’s law:</p>
<span class="math display" id="eq:eq-DarcyLaw">\[\begin{equation}
Q = -K H_p B \frac{\Delta H}{L}
\tag{E.37}
\end{equation}\]</span>
<p>where:</p>
<ul>
<li><span class="math inline">\(Q\)</span> = discharge through the structure (m³/s)<br />
</li>
<li><span class="math inline">\(K\)</span> = hydraulic conductivity (m/s)<br />
</li>
<li><span class="math inline">\(H_p\)</span> = average of the upstream <span class="math inline">\(H_u\)</span> and downstream <span class="math inline">\(H_d\)</span> water depth (m)</li>
<li><span class="math inline">\(B\)</span> = active flow width (m)</li>
<li><span class="math inline">\(\Delta H\)</span> = head difference between upstream and downstream water levels (m)<br />
</li>
<li><span class="math inline">\(L\)</span> = flow path length (m)</li>
</ul>
<p>The negative sign indicates that flow occurs in the direction of decreasing hydraulic head.</p>
<p>Hydraulic properties are assigned using the <a href="#FVCProperties"><tcmd>Properties</tcmd></a> structure block command which are outlined in Table <a href="App2DHD-1.html#tab:tab-PorousProperties">E.8</a>. Key terms are illustrated in Figure <a href="App2DHD-1.html#fig:fig-Porous-Schematic-001">E.20</a> MJS TODO: Update figure once provided by Mel.</p>
<p>By default, the flow width <span class="math inline">\(B\)</span> is set either via:</p>
<ul>
<li>The nodestring length for nodestring structure connection types</li>
<li>The average of the upstream and downstream nodestring lengths for linked nodestrings structure connection types</li>
<li>The <a href="AppCommands.html#FVCMaxOpenWidth"><tcmd>Max Open Width</tcmd></a> command for linked zones structure connection types</li>
</ul>
<p>The default <span class="math inline">\(B\)</span> can be overriden via the optional user-specified parameter <span class="math inline">\(B_{user}\)</span> (Table <a href="App2DHD-1.html#tab:tab-PorousProperties">E.8</a>).</p>
<table>
<caption>
<span id="tab:tab-PorousProperties">Table E.8: </span><strong>Porous Structure Properties</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Argument
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<span class="math inline">\(K\)</span>
</td>
<td style="text-align:left;">
Hydraulic conductivity (m/s)
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(L\)</span>
</td>
<td style="text-align:left;">
Flowpath length (m)
</td>
</tr>
<tr>
<td style="text-align:left;">
<span class="math inline">\(B_{user}\)</span>
</td>
<td style="text-align:left;">
Optional user-defined flow width override (m)
</td>
</tr>
</tbody>
</table>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Porous-Schematic-001"></span>
<img src="images/Porous_Schematic_001.jpg" alt="**Porous Schematic**" width="80%" />
<p class="caption">
Figure E.20: <strong>Porous Schematic</strong>
</p>
</div>
</center>
</div>
<div id="App2DHD-HS-Scie-UDM-4" class="section level4 hasAnchor" number="20.16.1.6">
<h4><span class="header-section-number">E.16.1.6</span> User-Defined Matrix<a href="App2DHD-1.html#App2DHD-HS-Scie-UDM-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The user-defined matrix structure type calculates structure flow based on a tabulated relationship between upstream water level <span class="math inline">\(WL_u\)</span>, downstream water level <span class="math inline">\(WL_d\)</span>, and flow <span class="math inline">\(Q\)</span>.</p>
<p>During each simulation timestep, the model determines the nodestring or zone average upstream and downstream water levels. These values are then used to undertake a 2D linear interpolation of flow rate from the provided flux matrix. Values outside of the user-defined matrix are extrapolated based on the nearest available flow value.</p>
<p>Flow (mass) and momentum are distributed to the downstream nodestring, linked nodestring or linked zones connection using the process described in Section <a href="App2DHD-1.html#App2DHD-HS-Scie-SCT-4">E.16.1.1</a>.</p>
<!--
*Guidance for Developing hQh Relationships*

The hQh matrix can be derived using theoretical equations, laboratory test data, or results from other hydraulic modelling software. Regardless of the source, it is critical that the relationship accurately reflects the physical characteristics and layout of the structure being represented.

When developing hQh relationships, particular attention should be given to how entry and exit losses are represented. Depending on how the structure is positioned in the model mesh and which elements (e.g., embankments, aprons, headwalls) are resolved geometrically, the hQh table may need to account for:

All energy losses across the structure (macro + micro), or

Only internal losses, leaving entrance and exit losses to be resolved by the mesh and hydraulic conditions.

This distinction is illustrated conceptually in Figure \@ref(fig:fig-UDM-Losses), where different interpretations of the hQh relationship are shown based on mesh representation and model design choices.

-->
</div>
<div id="App2DHD-HS-Scie-UDTi-4" class="section level4 hasAnchor" number="20.16.1.7">
<h4><span class="header-section-number">E.16.1.7</span> User-Defined Timeseries<a href="App2DHD-1.html#App2DHD-HS-Scie-UDTi-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The user-defined timeseries structure type assigns flow based on user provided timeseries of time and flow.</p>
<p>During each simulation timestep, the model linearly interpolates the flow value for the current model time, where time is either in hours or ISODATE format depending on the selection of <a href="AppCommands.html#FVCTimeFormat"><tcmd>Time Format</tcmd></a>.</p>
<p>The resultant flow (mass) and momentum are distributed to the downstream nodestring, linked nodestring or linked zones connection using the process described in Section <a href="App2DHD-1.html#App2DHD-HS-Scie-SCT-4">E.16.1.1</a>.</p>
</div>
<div id="App2DHD-HS-Scie-Pump-4" class="section level4 hasAnchor" number="20.16.1.8">
<h4><span class="header-section-number">E.16.1.8</span> Pumps<a href="App2DHD-1.html#App2DHD-HS-Scie-Pump-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The pump is a variant of the user-defined timeseries structure type. Structure fluxes are calcuated using the same methods outlined in Section <a href="App2DHD-1.html#App2DHD-HS-Scie-UDTi-4">E.16.1.7</a>, however non-linear flux limiting checks (refer Section MJS TODO) need to be disabled to allow mechanical head to be enabled at the structure.</p>
</div>
<div id="App2DHD-HS-Scie-Wall-4" class="section level4 hasAnchor" number="20.16.1.9">
<h4><span class="header-section-number">E.16.1.9</span> Walls<a href="App2DHD-1.html#App2DHD-HS-Scie-Wall-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The wall structure sets the fluxes of all faces selected by the single nodestring connection to 0.0.</p>
</div>
<div id="App2DHD-HS-Scie-VB-4" class="section level4 hasAnchor" number="20.16.1.10">
<h4><span class="header-section-number">E.16.1.10</span> Variable Bathymetry<a href="App2DHD-1.html#App2DHD-HS-Scie-VB-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Zb_Adjust dZb_Adjust Bathymetry Database</p>
<p>Response function</p>
<p>For <em>Timeseries</em> or <em>Sample Rule</em> control types, a control parameter can be optionally scaled via the control response function:</p>
<span class="math display" id="eq:equ-control-response">\[\begin{equation}
Y_{\text{new}} = Y_{\text{old}} + \frac{\Delta t}{T_r} \cdot \frac{Y_{\text{eq}}}{1 + \Delta t / T_r}
\tag{E.38}
\end{equation}\]</span>
<dl>
<dt>Where:</dt>
<dd>
<p><span class="math inline">\(Y_{\text{old}}\)</span> = control parameter value from the previous control update<br />
<span class="math inline">\(Y_{\text{eq}}\)</span> = current unmodified control parameter value<br />
<span class="math inline">\(\Delta t\)</span> = current model time – model time at the last control update<br />
<span class="math inline">\(T_r\)</span> = response parameter time (hours) specified using the control block command:</p>
</dd>
</dl>
<pre><code>
Response Parameters == Tr_pos, Tr_neg  ! hrs  (+ve trend, -ve trend)
</code></pre>
<p>The control response function is enabled by having the Response Parameters command anywhere inside the control block. The default behaviour is off.</p>
<p>Figure <a href="App2DHD-1.html#fig:fig-Control-Response-Function">E.21</a> shows the variation of Ynew as a function of Tr, assuming Yold = 1.0, Yeq = 1.0 for four differing values of dt, 0.25, 1.0, 2.5 and 10.0.</p>
<p>An example of using this feature in combination with the bathy_control control parameter is provided in MJSTODO. When used in this context the response parameters are used to increase the rate of ‘erosion’ when flows are increasing (Tr_pos = 0.25 hrs), and to slow down deposition rates where flow rates are decreasing (Tr_neg = 24. hrs).</p>
<center>
<p>MJS: THIS FIGURE IS INCORRECT AND NEEDS UPDATE.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-Control-Response-Function"></span>
<img src="images/Control_Response_Function.png" alt="**Control Response Function**" width="80%" />
<p class="caption">
Figure E.21: <strong>Control Response Function</strong>
</p>
</div>
</center>
</div>
</div>
<div id="App2DHD-HS-OSAVB-3" class="section level3 hasAnchor" number="20.16.2">
<h3><span class="header-section-number">E.16.2</span> Operational Structures And Variable Bathymetry<a href="App2DHD-1.html#App2DHD-HS-OSAVB-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="App2DHD-HS-OSC-CF-4" class="section level4 hasAnchor" number="20.16.2.1">
<h4><span class="header-section-number">E.16.2.1</span> Control Files<a href="App2DHD-1.html#App2DHD-HS-OSC-CF-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A control file is required to operate the Trigger, Timeseries, Sample Rule and Target Rule control types and is referenced using the <a href="AppCommands.html#FVCControlFile"><tcmd>Control File</tcmd></a> control block command. The default headers required for each control type are provided in Table <a href="App2DHD-1.html#tab:tab-StructureControlFiles">E.9</a>. This default header can be overwritten using the <a href="#FVCControlHeader"><tcmd>Control Header</tcmd></a> control block command.</p>
<table>
<caption>
<span id="tab:tab-StructureControlFiles">Table E.9: </span><strong>Structure Control Files</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Control Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Xheader
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: rgba(26, 189, 201, 255) !important;">
Yheader
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Trigger
</td>
<td style="text-align:left;">
Time. Time is in hours following the trigger release.
</td>
<td style="text-align:left;">
The control parameter, i.e. either Fraction_Open, Min_Flow, Weir_Crest, Weir_dz, Zb, dZb, or Bathy_Control.
</td>
</tr>
<tr>
<td style="text-align:left;">
Timeseries
</td>
<td style="text-align:left;">
Time. Model simulation time in hours or ISODATE depending on the selection of Time Units.
</td>
<td style="text-align:left;">
The control parameter, i.e. either Fraction_Open, Min_Flow, Weir_Crest, Weir_dz, Zb, dZb, or Bathy_Control.
</td>
</tr>
<tr>
<td style="text-align:left;">
Sample Rule
</td>
<td style="text-align:left;">
Sample_Value. The value of the sample parameter at the sample point or sample nodestring.
</td>
<td style="text-align:left;">
The control parameter, i.e. either Fraction_Open, Min_Flow, Weir_Crest, Weir_dz, Zb, dZb, or Bathy_Control.
</td>
</tr>
<tr>
<td style="text-align:left;">
Target Rule
</td>
<td style="text-align:left;">
Target_Deficit . Control sample value at time=t, minus the target value for time=t where the target value is set using the Target File control block command.
</td>
<td style="text-align:left;">
The control parameter, i.e. either Fraction_Open, Min_Flow, Weir_Crest, Weir_dz, Zb, dZb, or Bathy_Control.
</td>
</tr>
<tr>
<td style="text-align:left;">
Sample
</td>
<td style="text-align:left;">
Not applicable, the sample parameter value is read directly from the model sample point at a given simulation time.
</td>
<td style="text-align:left;">
Not applicable, the sample parameter value is read directly from the model sample point at a given simulation time.
</td>
</tr>
</tbody>
</table>
<p>Example control files for each combination of control type and control parameter are provided below.</p>
<p><strong>Trigger Control Type</strong></p>
<p>Fraction_Open</p>
<pre><code>Gate_Closure_001.csv - Gate linearly closes over 5 min period
Time, Fraction_Open
0,1
0.0833,0
5,0</code></pre>
<p>Min_Flow</p>
<pre><code>Minimum_Weir_Flow.csv
Time, Min_Flow
0,0.5
1,0.5
3,1.0</code></pre>
<p>Weir_Crest</p>
<pre><code>Breach_Survey_WCR_001.csv - Scour of bund after breach
Time, Weir_Crest
0,5
1,2.6
3,1.5</code></pre>
<p>Weir_dz</p>
<pre><code>Breach_Survey_WDZ_001.csv - Scour of bund after breach (relative crest change)
Time, Weir_dz
0,0
1,-2
3,-3.5</code></pre>
<p>Zb</p>
<pre><code>Breach_Survey_SZB_001.csv - Scour of bund after breach
Time, Zb
0,5
1,2.6
3,1.5</code></pre>
<p>dZb</p>
<pre><code>Breach_Survey_DZB_001.csv - Scour of bund after breach (relative bathymetry change)
Time, dZb
0,0
1,-2
3,-3.5</code></pre>
<p>Bathy_Control</p>
<pre><code>Breach_Survey_BCT_001.csv
Time,bathy_control
0,10.
1,0.
3,-2.

Bathy_Database_001.csv
BATHY_CONTROL,BATHY_FILE
-2.0, ..\geo\variable_bathy\Bathy_neg2mRL_001.asc
0.00, ..\geo\variable_bathy\Bathy_0mRL_001.asc
5.00, ..\geo\variable_bathy\Bathy_5mRL_001.asc
10.0, ..\geo\variable_bathy\Bathy_10mRL_001.asc</code></pre>
<p><strong>Timeseries Control Type</strong></p>
<p>Fraction_Open</p>
<pre><code>Gate_Operation_HRS_001.csv - Recorded gate operation
Time, Fraction_Open
0,0.5
1,0.1
3,1

or ISODATE

Gate_Operation_ISO_001.csv - Recorded gate operation
Time, Fraction_Open
01/01/2025 00:00:00,0.5
01/01/2025 01:00:00,0.1
01/01/2025 03:00:00,1.0</code></pre>
<p>Min_Flow</p>
<pre><code>Min_Flow_HRS_001.csv - Recorded minimum environmental flows
Time, Min_Flow
0,5.5
1,5.5
3,4.2

or ISODATE

Min_Flow_ISO_001.csv - Recorded minimum environmental flows
Time, Min_Flow
01/01/2025 00:00:00,5.5
01/01/2025 01:00:00,5.5
01/01/2025 03:00:00,4.2</code></pre>
<p>Weir_Crest</p>
<pre><code>Weir_Record_HRS_001.csv - Record of operational weir height
Time, Weir_Crest
0,2.3
1,2.2
3,2.1

or ISODATE

Weir_Record_ISO_001.csv - Record of operational weir height
Time, Weir_Crest
01/01/2025 00:00:00,2.2
01/01/2025 01:00:00,2.2
01/01/2025 03:00:00,2.1</code></pre>
<p>Weir_dz</p>
<pre><code>Weir_Record_HRS_001.csv - Record of operational weir height (Crest offset)
Time, Weir_dz
0,0.4
1,0.3
3,0.2

or ISODATE

Weir_Record_ISO_001.csv - Record of operational weir height (Crest offset)
Time, Weir_dz
01/01/2025 00:00:00,0.4
01/01/2025 01:00:00,0.3
01/01/2025 03:00:00,0.2</code></pre>
<p>Zb</p>
<pre><code>Breach_Survey_HRS_001.csv - Recorded scour timeseries of ICOLL mouth
Time, Zb
0,2.3
10,2.3
26,-0.8

or ISODATE

Breach_Survey_ISO_001.csv - Recorded scour timeseries of ICOLL mouth
Time, Zb
01/01/2025 00:00:00,2.3
01/01/2025 10:00:00,2.3
02/01/2025 02:00:00,-0.8</code></pre>
<p>dZb</p>
<pre><code>Breach_Survey_HRS_001.csv - Recorded scour timeseries of ICOLL mouth (relative bathy)
Time, dZb
0,0.0
10,0.0
26,-0.8

or ISODATE

Breach_Survey_ISO_001.csv - Recorded scour timeseries of ICOLL mouth (relative bathy)
Time, dZb
01/01/2025 00:00:00,2.3
01/01/2025 10:00:00,2.3
02/01/2025 02:00:00,-3.1</code></pre>
<p>Bathy_Control</p>
<pre><code>Breach_Survey_DEMs_HRS_001.csv - Recorded scour survey timeseries of river mouth
Time,bathy_control
0,10.
24,0.
72,-2.

or ISODATE

Breach_Survey_DEMs_ISO_001.csv
Time,bathy_control
01/01/2025 00:00:00,10.
02/01/2025 00:00:00,0.
04/01/2025 00:00:00,-2.

Bathy_Database_001.csv
BATHY_CONTROL,BATHY_FILE
-2.0, ..\geo\variable_bathy\Bathy_neg2mRL_001.asc
0.00, ..\geo\variable_bathy\Bathy_0mRL_001.asc
5.00, ..\geo\variable_bathy\Bathy_5mRL_001.asc
10.0, ..\geo\variable_bathy\Bathy_10mRL_001.asc</code></pre>
<p><strong>Sample_Rule Control Type</strong></p>
<p>Fraction_Open</p>
<pre><code>Storm_Tide_Gate_Closure_001.csv - Gate closes begins to close when downstream water level exceeds 2.5m
Sample_Value, Fraction_Open
0,0
1.1,0
2,0
2.5,0.2
3.0,1.0
10.0,1.0</code></pre>
<p>Min_Flow</p>
<pre><code>Minimum_Weir_Flow_Relationship.csv - Minimum flow related to water level upstream
Sample_Value, Min_Flow
0,0
1.1,0
2,3.6
2.5,5.0
3.0,5.0</code></pre>
<p>Weir_Crest</p>
<pre><code>Breach_Survey_WCR_001.csv - Weir crest is lowered as upstream water level increases. Weir crest operating range of 2.5 - 4.0 mRL. 
Sample_Value, Weir_Crest
2.5,2.5
3.5,3.0
4,3.3
5,4.0
6.0,4.0</code></pre>
<p>Weir_dz</p>
<pre><code>Breach_Survey_WCR_001.csv - Weir crest is lowered (relative crest level) as upstream water level increases. Weir crest operating range of 2.5 - 4.0 mRL. 
Sample_Value, Weir_Crest
2.5,0.0
3.5,0.5
4,0.8
5,1.5
6.0,1.5</code></pre>
<p>Zb</p>
<pre><code>Bed_SZB_001.csv - Average bed level in response to upstream velocity
Sample_Value, Zb
0,5.2
1,5.1
2,4.9
3,4.2
5,3.5</code></pre>
<p>dZb</p>
<pre><code>Bed_SZB_001.csv - Average bed level (relative bathy offset) in response to upstream velocity
Sample_Value, Zb
0,0.0
1,-0.1
2,-0.3
3,-1.0
5,-1.7</code></pre>
<p>Bathy_Control</p>
<pre><code>Bed_SZB_001.csv - Average bed level (relative bathy offset) in response to upstream velocity - Similar to the Zb and dZb examples above, but with more control as a series of DEMs are used to define the bathymetry within the zone polygon, and not a single value.
Sample_Value, Bathy_Control
0,10.0
1,9.0
2,5.0
3,0.0
5,-2.0</code></pre>
<pre><code>Breach_Survey_BCT_001.csv
Time,bathy_control
0,10.
1,0.
3,-2.

Bathy_Database_001.csv
BATHY_CONTROL,BATHY_FILE
-2.0, ..\geo\variable_bathy\Bathy_neg2mRL_001.asc
0.00, ..\geo\variable_bathy\Bathy_0mRL_001.asc
5.00, ..\geo\variable_bathy\Bathy_5mRL_001.asc
10.0, ..\geo\variable_bathy\Bathy_10mRL_001.asc</code></pre>
<p><strong>Target_Rule Control Type</strong></p>
<p>Fraction_Open</p>
<pre><code>Gate_Closure_Target_Level_Operation_001.csv
Target_Deficit = Sample Value - Target Value 
i.e. 
If Target_Deficit is -ve than sample water level is too low and close gates 
If Target_Deficit is +ve than sample water level is too high and open gates

Gate_Closure_Target_Level_Operation_001.csv
Target_Deficit, Fraction_Open
-0.1,0
0,0.1
0.05,0.25
0.1,1.0


Target_WL_Wetland_Operation_HRS_001.csv - Aiming to keep lake water level at 2mRL
Time, Target_Value
0,2
72,2
240,2

or ISODATE

Target_WL_Wetland_Operation_ISO_001.csv - Aiming to keep lake water level at 2mRL
Time, Target_Value
01/01/2025 00:00:00,2
03/01/2025 00:00:00,2
10/01/2025 00:00:00,2</code></pre>
<p>Min_Flow</p>
<pre><code>Gate_Closure_Target_Level_Operation_001.csv
Target_Deficit = Sample Value - Target Value 
i.e. 
If Target_Deficit is -ve than sample water level is too low and decrease min flow
If Target_Deficit is +ve than sample water level is too high and increase min flow

Gate_Closure_Target_Level_Operation_001.csv
Target_Deficit, Min_Flow
-0.1,0
0,0
0.05,5.2
0.1,10.6


Target_WL_Wetland_Operation_HRS_001.csv - Aiming to keep lake water level at 2mRL
Time, Target_Value
0,2
72,2
240,2

or ISODATE

Target_WL_Wetland_Operation_ISO_001.csv - Aiming to keep lake water level at 2mRL
Time, Target_Value
01/01/2025 00:00:00,2
03/01/2025 00:00:00,2
10/01/2025 00:00:00,2</code></pre>
<p>Weir_Crest</p>
<pre><code>Gate_Closure_Target_Level_Operation_001.csv
Target_Deficit = Sample Value - Target Value 
i.e. 
If Target_Deficit is -ve than sample water level is too low and increase weir crest
If Target_Deficit is +ve than sample water level is too high and decrease weir crest

Gate_Closure_Target_Level_Operation_001.csv
Target_Deficit, Weir_Crest
-0.1,2.2
0,1.95
0.05,1.9
0.1,1.85


Target_WL_Wetland_Operation_HRS_001.csv - Aiming to keep lake water level at 2mRL
Time, Target_Value
0,2
72,2
240,2

or ISODATE

Target_WL_Wetland_Operation_ISO_001.csv - Aiming to keep lake water level at 2mRL
Time, Target_Value
01/01/2025 00:00:00,2
03/01/2025 00:00:00,2
10/01/2025 00:00:00,2</code></pre>
<p>Weir_dz</p>
<pre><code>Gate_Closure_Target_Level_Operation_001.csv
Target_Deficit = Sample Value - Target Value 
i.e. 
If Target_Deficit is -ve than sample water level is too low and increase weir crest (relative level)
If Target_Deficit is +ve than sample water level is too high and decrease weir crest (relative level)

Gate_Closure_Target_Level_Operation_001.csv
Target_Deficit, Weir_dz
-0.1,0.25
0,0
0.05,-0.05
0.1,-0.1


Target_WL_Wetland_Operation_HRS_001.csv - Aiming to keep lake water level at 2mRL
Time, Target_Value
0,2
72,2
240,2

or ISODATE

Target_WL_Wetland_Operation_ISO_001.csv - Aiming to keep lake water level at 2mRL
Time, Target_Value
01/01/2025 00:00:00,2
03/01/2025 00:00:00,2
10/01/2025 00:00:00,2</code></pre>
</div>
</div>
<div id="App2DHD-HS-GUG-3" class="section level3 hasAnchor" number="20.16.3">
<h3><span class="header-section-number">E.16.3</span> General Usage Guidance<a href="App2DHD-1.html#App2DHD-HS-GUG-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>MJS TODO: Move structure guidance etc. in here…</p>
</div>
</div>
<div id="App2DHD-MO-2" class="section level2 hasAnchor" number="20.17">
<h2><span class="header-section-number">E.17</span> Model Outputs<a href="App2DHD-1.html#App2DHD-MO-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="images/WQFooter.jpg" width="100%" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="AppProc-GE-2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="App3DHD-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": false,
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
