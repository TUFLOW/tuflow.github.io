<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 2 Architecture | TUFLOW FV Water Quality (WQ) Module User Manual</title>
  <meta name="description" content="Section 2 Architecture | TUFLOW FV Water Quality (WQ) Module User Manual" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 2 Architecture | TUFLOW FV Water Quality (WQ) Module User Manual" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/tuflow.png" />
  <meta property="og:description" content="Section 2 Architecture | TUFLOW FV Water Quality (WQ) Module User Manual" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 2 Architecture | TUFLOW FV Water Quality (WQ) Module User Manual" />
  
  <meta name="twitter:description" content="Section 2 Architecture | TUFLOW FV Water Quality (WQ) Module User Manual" />
  <meta name="twitter:image" content="/images/tuflow.png" />

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/TUFLOW.ico" type="image/x-icon" />
<link rel="prev" href="Overview-1.html"/>
<link rel="next" href="ProcessDescriptions-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.2/visNetwork.js"></script>



<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://www.tuflow.com"><img src="images/tuflow.png" style="width:246px;height:68px;"></a></li>

<li class="divider"></li>
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#about-this-manual"><i class="fa fa-check"></i>About this manual</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#how-to-use-this-manual"><i class="fa fa-check"></i>How to use this manual</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#navigation"><i class="fa fa-check"></i>Navigation</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#searching"><i class="fa fa-check"></i>Searching</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#tables"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#figures"><i class="fa fa-check"></i>Figures</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#networks"><i class="fa fa-check"></i>Networks</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#commands"><i class="fa fa-check"></i>Commands</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#parameter-notation"><i class="fa fa-check"></i>Parameter notation</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#concentration-nomenclature"><i class="fa fa-check"></i>Concentration nomenclature</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#feedback"><i class="fa fa-check"></i>Feedback</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Overview-1.html"><a href="Overview-1.html"><i class="fa fa-check"></i><b>1</b> Overview</a>
<ul>
<li class="chapter" data-level="1.1" data-path="Overview-1.html"><a href="Overview-1.html#OverviewContext-2"><i class="fa fa-check"></i><b>1.1</b> Context</a></li>
<li class="chapter" data-level="1.2" data-path="Overview-1.html"><a href="Overview-1.html#Features-2"><i class="fa fa-check"></i><b>1.2</b> Features</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="Overview-1.html"><a href="Overview-1.html#Usability-3"><i class="fa fa-check"></i><b>1.2.1</b> Usability</a></li>
<li class="chapter" data-level="1.2.2" data-path="Overview-1.html"><a href="Overview-1.html#CnsFeats-3"><i class="fa fa-check"></i><b>1.2.2</b> Constituents and processes</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="Overview-1.html"><a href="Overview-1.html#Science-2"><i class="fa fa-check"></i><b>1.3</b> Science</a></li>
<li class="chapter" data-level="1.4" data-path="Overview-1.html"><a href="Overview-1.html#Support-2"><i class="fa fa-check"></i><b>1.4</b> Support</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Architecture-1.html"><a href="Architecture-1.html"><i class="fa fa-check"></i><b>2</b> Architecture</a>
<ul>
<li class="chapter" data-level="2.1" data-path="Architecture-1.html"><a href="Architecture-1.html#ArchitectureContext-2"><i class="fa fa-check"></i><b>2.1</b> Context</a></li>
<li class="chapter" data-level="2.2" data-path="Architecture-1.html"><a href="Architecture-1.html#SimulationTiers-2"><i class="fa fa-check"></i><b>2.2</b> Simulation Tiers</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="Architecture-1.html"><a href="Architecture-1.html#SimulationClass-3"><i class="fa fa-check"></i><b>2.2.1</b> Tier 1: Simulation Class</a></li>
<li class="chapter" data-level="2.2.2" data-path="Architecture-1.html"><a href="Architecture-1.html#ConstituentModel-3"><i class="fa fa-check"></i><b>2.2.2</b> Tier 2: Model Class</a></li>
<li class="chapter" data-level="2.2.3" data-path="Architecture-1.html"><a href="Architecture-1.html#ConMod-3"><i class="fa fa-check"></i><b>2.2.3</b> Tier 3: Constituent Model</a></li>
<li class="chapter" data-level="2.2.4" data-path="Architecture-1.html"><a href="Architecture-1.html#ComputedVariableParameters-3"><i class="fa fa-check"></i><b>2.2.4</b> Tier 4: Computed Variables</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="Architecture-1.html"><a href="Architecture-1.html#ArchitectureLinkageWithFV-2"><i class="fa fa-check"></i><b>2.3</b> Linkage with TUFLOW FV</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="Architecture-1.html"><a href="Architecture-1.html#ArchProc-3"><i class="fa fa-check"></i><b>2.3.1</b> Process</a></li>
<li class="chapter" data-level="2.3.2" data-path="Architecture-1.html"><a href="Architecture-1.html#ProcessDescriptionsLight-3"><i class="fa fa-check"></i><b>2.3.2</b> Treatment of light</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="Architecture-1.html"><a href="Architecture-1.html#ArchAPI"><i class="fa fa-check"></i><b>2.4</b> Linkage with Other Hydrodynamic Models</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html"><i class="fa fa-check"></i><b>3</b> Process Descriptions</a>
<ul>
<li class="chapter" data-level="3.1" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#SimProcSimuClDO-2"><i class="fa fa-check"></i><b>3.1</b> Simulation Class: DO</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#DOOverview-3"><i class="fa fa-check"></i><b>3.1.1</b> Overview</a></li>
<li class="chapter" data-level="3.1.2" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModDODO-3"><i class="fa fa-check"></i><b>3.1.2</b> Model Class: Oxygen</a></li>
<li class="chapter" data-level="3.1.3" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModDOPath-3"><i class="fa fa-check"></i><b>3.1.3</b> Model Class: Pathogens (optional)</a></li>
<li class="chapter" data-level="3.1.4" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#DOCompVars-3"><i class="fa fa-check"></i><b>3.1.4</b> Computed variables</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#SimProcSimuClInorg-2"><i class="fa fa-check"></i><b>3.2</b> Simulation Class: Inorganics</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#InorgOverview-3"><i class="fa fa-check"></i><b>3.2.1</b> Overview</a></li>
<li class="chapter" data-level="3.2.2" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModInorgDO-3"><i class="fa fa-check"></i><b>3.2.2</b> Model Class: Oxygen</a></li>
<li class="chapter" data-level="3.2.3" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModInorgSi-3"><i class="fa fa-check"></i><b>3.2.3</b> Model Class: Silicate</a></li>
<li class="chapter" data-level="3.2.4" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModInorgN-3"><i class="fa fa-check"></i><b>3.2.4</b> Model Class: Inorganic nitrogen</a></li>
<li class="chapter" data-level="3.2.5" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModInorgP-3"><i class="fa fa-check"></i><b>3.2.5</b> Model Class: Inorganic phosphorus</a></li>
<li class="chapter" data-level="3.2.6" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModInorgPhy-3"><i class="fa fa-check"></i><b>3.2.6</b> Model Class: Phytoplankton</a></li>
<li class="chapter" data-level="3.2.7" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModInorgPath-3"><i class="fa fa-check"></i><b>3.2.7</b> Model Class: Pathogens (optional)</a></li>
<li class="chapter" data-level="3.2.8" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#InorgCompVars-3"><i class="fa fa-check"></i><b>3.2.8</b> Computed variables</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#SimProcSimuClOrg-2"><i class="fa fa-check"></i><b>3.3</b> Simulation Class: Organics</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#OrgOverview-3"><i class="fa fa-check"></i><b>3.3.1</b> Overview</a></li>
<li class="chapter" data-level="3.3.2" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModOrgDO-3"><i class="fa fa-check"></i><b>3.3.2</b> Model Class: Oxygen</a></li>
<li class="chapter" data-level="3.3.3" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModOrgSi-3"><i class="fa fa-check"></i><b>3.3.3</b> Model Class: Silicate</a></li>
<li class="chapter" data-level="3.3.4" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModOrgN-3"><i class="fa fa-check"></i><b>3.3.4</b> Model Class: Inorganic nitrogen</a></li>
<li class="chapter" data-level="3.3.5" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModOrgP-3"><i class="fa fa-check"></i><b>3.3.5</b> Model Class: Inorganic phosphorus</a></li>
<li class="chapter" data-level="3.3.6" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModOrgOrg-3"><i class="fa fa-check"></i><b>3.3.6</b> Model Class: Organic matter</a></li>
<li class="chapter" data-level="3.3.7" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModOrgPhy-3"><i class="fa fa-check"></i><b>3.3.7</b> Model Class: Phytoplankton</a></li>
<li class="chapter" data-level="3.3.8" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#ConModOrgPath-3"><i class="fa fa-check"></i><b>3.3.8</b> Model Class: Pathogens (optional)</a></li>
<li class="chapter" data-level="3.3.9" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html#OrgCompVars-3"><i class="fa fa-check"></i><b>3.3.9</b> Computed variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html"><i class="fa fa-check"></i><b>4</b> Simulation Construction</a>
<ul>
<li class="chapter" data-level="4.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimulationConstructionContext-2"><i class="fa fa-check"></i><b>4.1</b> Context</a></li>
<li class="chapter" data-level="4.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimUnits-2"><i class="fa fa-check"></i><b>4.2</b> Units</a></li>
<li class="chapter" data-level="4.3" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#TFVGeneral-2"><i class="fa fa-check"></i><b>4.3</b> General arrangement</a></li>
<li class="chapter" data-level="4.4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#TFVCommands-2"><i class="fa fa-check"></i><b>4.4</b> TUFLOW FV control file commands</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#WQMActivation-3"><i class="fa fa-check"></i><b>4.4.1</b> WQ Module activation</a></li>
<li class="chapter" data-level="4.4.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#InitBCCond-3"><i class="fa fa-check"></i><b>4.4.2</b> Initial and boundary conditions</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#WQctrlfil-2"><i class="fa fa-check"></i><b>4.5</b> Water quality control file commands</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimCtrls-3"><i class="fa fa-check"></i><b>4.5.1</b> Part 1: Simulation controls</a></li>
<li class="chapter" data-level="4.5.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#ConModSttngs-3"><i class="fa fa-check"></i><b>4.5.2</b> Part 2: Constituent model settings</a></li>
<li class="chapter" data-level="4.5.3" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#MatSpecs-3"><i class="fa fa-check"></i><b>4.5.3</b> Part 3: Material specifications</a></li>
<li class="chapter" data-level="4.5.4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimSetSum-2"><i class="fa fa-check"></i><b>4.5.4</b> Summary</a></li>
<li class="chapter" data-level="4.5.5" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimSetLog-2"><i class="fa fa-check"></i><b>4.5.5</b> Log files</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimSetSimClDO-2"><i class="fa fa-check"></i><b>4.6</b> Simulation Class: DO</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#PrereqDO-3"><i class="fa fa-check"></i><b>4.6.1</b> Prerequisites</a></li>
<li class="chapter" data-level="4.6.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimCtrlsDO-3"><i class="fa fa-check"></i><b>4.6.2</b> Part 1: Simulation specification</a></li>
<li class="chapter" data-level="4.6.3" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#ConModSttngsDO-3"><i class="fa fa-check"></i><b>4.6.3</b> Part 2: Constituent model specification</a></li>
<li class="chapter" data-level="4.6.4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#MatSpecsDO-3"><i class="fa fa-check"></i><b>4.6.4</b> Part 3: Material specification</a></li>
<li class="chapter" data-level="4.6.5" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#ConOrdDO-3"><i class="fa fa-check"></i><b>4.6.5</b> Constituent ordering</a></li>
<li class="chapter" data-level="4.6.6" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#ExampleDO"><i class="fa fa-check"></i><b>4.6.6</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimSetSimClInorg-2"><i class="fa fa-check"></i><b>4.7</b> Simulation Class: Inorganics</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#PrereqInorg-3"><i class="fa fa-check"></i><b>4.7.1</b> Prerequisites</a></li>
<li class="chapter" data-level="4.7.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimCtrlsInorg-3"><i class="fa fa-check"></i><b>4.7.2</b> Part 1: Simulation specification</a></li>
<li class="chapter" data-level="4.7.3" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#ConModSttngsInorg-3"><i class="fa fa-check"></i><b>4.7.3</b> Part 2: Constituent model specification</a></li>
<li class="chapter" data-level="4.7.4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#MatSpecsInorg-3"><i class="fa fa-check"></i><b>4.7.4</b> Part 3: Material specification</a></li>
<li class="chapter" data-level="4.7.5" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#ConOrdInorg-3"><i class="fa fa-check"></i><b>4.7.5</b> Constituent ordering</a></li>
<li class="chapter" data-level="4.7.6" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#ExampleInorg"><i class="fa fa-check"></i><b>4.7.6</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimSetSimClOrg-2"><i class="fa fa-check"></i><b>4.8</b> Simulation Class: Organics</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#PrereqOrg-3"><i class="fa fa-check"></i><b>4.8.1</b> Prerequisites</a></li>
<li class="chapter" data-level="4.8.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#SimCtrlsOrg-3"><i class="fa fa-check"></i><b>4.8.2</b> Part 1: Simulation specification</a></li>
<li class="chapter" data-level="4.8.3" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#ConModSttngsOrg-3"><i class="fa fa-check"></i><b>4.8.3</b> Part 2: Constituent model specification</a></li>
<li class="chapter" data-level="4.8.4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#MatSpecsOrg-3"><i class="fa fa-check"></i><b>4.8.4</b> Part 3: Material specification</a></li>
<li class="chapter" data-level="4.8.5" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#ConOrdOrg-3"><i class="fa fa-check"></i><b>4.8.5</b> Constituent ordering</a></li>
<li class="chapter" data-level="4.8.6" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#ExampleOrg"><i class="fa fa-check"></i><b>4.8.6</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#Outputs-3"><i class="fa fa-check"></i><b>4.9</b> Outputs</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#WQMOutputs-4"><i class="fa fa-check"></i><b>4.9.1</b> WQ Module outputs</a></li>
<li class="chapter" data-level="4.9.2" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#FVOutputs-4"><i class="fa fa-check"></i><b>4.9.2</b> TUFLOW FV outputs</a></li>
<li class="chapter" data-level="4.9.3" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html#units"><i class="fa fa-check"></i><b>4.9.3</b> Units</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="AppSyntax.html"><a href="AppSyntax.html"><i class="fa fa-check"></i><b>A</b> Syntax of command descriptions</a>
<ul>
<li class="chapter" data-level="A.1" data-path="AppSyntax.html"><a href="AppSyntax.html#Appcmds"><i class="fa fa-check"></i><b>A.1</b> Commands</a></li>
<li class="chapter" data-level="A.2" data-path="AppSyntax.html"><a href="AppSyntax.html#Appargmts"><i class="fa fa-check"></i><b>A.2</b> Arguments</a></li>
<li class="chapter" data-level="A.3" data-path="AppSyntax.html"><a href="AppSyntax.html#Appdflts"><i class="fa fa-check"></i><b>A.3</b> Defaults</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="AppCommands.html"><a href="AppCommands.html"><i class="fa fa-check"></i><b>B</b> Commands</a></li>
<li class="chapter" data-level="C" data-path="AppDemoModel.html"><a href="AppDemoModel.html"><i class="fa fa-check"></i><b>C</b> Demonstration model</a></li>
<li class="chapter" data-level="D" data-path="AppO.html"><a href="AppO.html"><i class="fa fa-check"></i><b>D</b> Processes: oxygen</a>
<ul>
<li class="chapter" data-level="D.1" data-path="AppO.html"><a href="AppO.html#AtmosphericAeration-3"><i class="fa fa-check"></i><b>D.1</b> Atmospheric oxygen flux</a></li>
<li class="chapter" data-level="D.2" data-path="AppO.html"><a href="AppO.html#SedOxyCons-3"><i class="fa fa-check"></i><b>D.2</b> Sediment oxygen flux</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="AppSil.html"><a href="AppSil.html"><i class="fa fa-check"></i><b>E</b> Processes: silicate</a>
<ul>
<li class="chapter" data-level="E.1" data-path="AppSil.html"><a href="AppSil.html#SedSilProd-3"><i class="fa fa-check"></i><b>E.1</b> Sediment silicate flux</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="AppIN.html"><a href="AppIN.html"><i class="fa fa-check"></i><b>F</b> Processes: inorganic nitrogen</a>
<ul>
<li class="chapter" data-level="F.1" data-path="AppIN.html"><a href="AppIN.html#SedAmmNitProd-3"><i class="fa fa-check"></i><b>F.1</b> Sediment ammonium and nitrate flux</a></li>
<li class="chapter" data-level="F.2" data-path="AppIN.html"><a href="AppIN.html#Nitrif-3"><i class="fa fa-check"></i><b>F.2</b> Nitrification</a></li>
<li class="chapter" data-level="F.3" data-path="AppIN.html"><a href="AppIN.html#Denitrif-3"><i class="fa fa-check"></i><b>F.3</b> Denitrification</a></li>
<li class="chapter" data-level="F.4" data-path="AppIN.html"><a href="AppIN.html#Anammox-3"><i class="fa fa-check"></i><b>F.4</b> Anaerobic oxidation of ammonium</a></li>
<li class="chapter" data-level="F.5" data-path="AppIN.html"><a href="AppIN.html#DRNA-3"><i class="fa fa-check"></i><b>F.5</b> Dissimilatory reduction of nitrate to ammonium</a></li>
<li class="chapter" data-level="F.6" data-path="AppIN.html"><a href="AppIN.html#WetDepIN-3"><i class="fa fa-check"></i><b>F.6</b> Wet deposition of inorganic nitrogen</a></li>
<li class="chapter" data-level="F.7" data-path="AppIN.html"><a href="AppIN.html#DryDepIN-3"><i class="fa fa-check"></i><b>F.7</b> Dry deposition of inorganic nitrogen</a></li>
</ul></li>
<li class="chapter" data-level="G" data-path="AppIP.html"><a href="AppIP.html"><i class="fa fa-check"></i><b>G</b> Processes: inorganic phosphorus</a>
<ul>
<li class="chapter" data-level="G.1" data-path="AppIP.html"><a href="AppIP.html#SedFRPhsProd-3"><i class="fa fa-check"></i><b>G.1</b> Sediment FRP flux</a></li>
<li class="chapter" data-level="G.2" data-path="AppIP.html"><a href="AppIP.html#WetDepIP-3"><i class="fa fa-check"></i><b>G.2</b> Wet deposition of inorganic phosphorus</a></li>
<li class="chapter" data-level="G.3" data-path="AppIP.html"><a href="AppIP.html#DryDepIP-3"><i class="fa fa-check"></i><b>G.3</b> Dry deposition of inorganic phosphorus</a></li>
<li class="chapter" data-level="G.4" data-path="AppIP.html"><a href="AppIP.html#FRPhsAdsDsp-3"><i class="fa fa-check"></i><b>G.4</b> Adsorption and desorption</a>
<ul>
<li class="chapter" data-level="G.4.1" data-path="AppIP.html"><a href="AppIP.html#FRPhsAdsDspLin-4"><i class="fa fa-check"></i><b>G.4.1</b> Linear model</a></li>
<li class="chapter" data-level="G.4.2" data-path="AppIP.html"><a href="AppIP.html#FRPhsAdsDspQuad-4"><i class="fa fa-check"></i><b>G.4.2</b> Quadratic model</a></li>
</ul></li>
<li class="chapter" data-level="G.5" data-path="AppIP.html"><a href="AppIP.html#SettlingIP-3"><i class="fa fa-check"></i><b>G.5</b> Settling</a></li>
</ul></li>
<li class="chapter" data-level="H" data-path="AppPhy.html"><a href="AppPhy.html"><i class="fa fa-check"></i><b>H</b> Processes: phyto general</a>
<ul>
<li class="chapter" data-level="H.1" data-path="AppPhy.html"><a href="AppPhy.html#PhyGeneral-3"><i class="fa fa-check"></i><b>H.1</b> General</a></li>
<li class="chapter" data-level="H.2" data-path="AppPhy.html"><a href="AppPhy.html#PhyUnits-3"><i class="fa fa-check"></i><b>H.2</b> Units</a></li>
</ul></li>
<li class="chapter" data-level="I" data-path="PhyRates-3.html"><a href="PhyRates-3.html"><i class="fa fa-check"></i><b>I</b> Processes: phyto biomass rates</a>
<ul>
<li class="chapter" data-level="I.1" data-path="PhyRates-3.html"><a href="PhyRates-3.html#PhyProd-4"><i class="fa fa-check"></i><b>I.1</b> Primary productivity</a></li>
<li class="chapter" data-level="I.2" data-path="PhyRates-3.html"><a href="PhyRates-3.html#PhyResp-4"><i class="fa fa-check"></i><b>I.2</b> Respiration</a></li>
<li class="chapter" data-level="I.3" data-path="PhyRates-3.html"><a href="PhyRates-3.html#PhyExud-4"><i class="fa fa-check"></i><b>I.3</b> Exudation</a></li>
<li class="chapter" data-level="I.4" data-path="PhyRates-3.html"><a href="PhyRates-3.html#PhySettle-4"><i class="fa fa-check"></i><b>I.4</b> Settling</a>
<ul>
<li class="chapter" data-level="I.4.1" data-path="PhyRates-3.html"><a href="PhyRates-3.html#PhySettleNone-5"><i class="fa fa-check"></i><b>I.4.1</b> None</a></li>
<li class="chapter" data-level="I.4.2" data-path="PhyRates-3.html"><a href="PhyRates-3.html#PhySettleConst-5"><i class="fa fa-check"></i><b>I.4.2</b> Constant</a></li>
<li class="chapter" data-level="I.4.3" data-path="PhyRates-3.html"><a href="PhyRates-3.html#PhySettleConstD-5"><i class="fa fa-check"></i><b>I.4.3</b> Constant with density correction</a></li>
<li class="chapter" data-level="I.4.4" data-path="PhyRates-3.html"><a href="PhyRates-3.html#PhySettleStokes-5"><i class="fa fa-check"></i><b>I.4.4</b> Stokes</a></li>
<li class="chapter" data-level="I.4.5" data-path="PhyRates-3.html"><a href="PhyRates-3.html#PhySettleMotile-5"><i class="fa fa-check"></i><b>I.4.5</b> Motile</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="J" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html"><i class="fa fa-check"></i><b>J</b> Processes: phyto limitation</a>
<ul>
<li class="chapter" data-level="J.1" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimGen-4"><i class="fa fa-check"></i><b>J.1</b> General</a></li>
<li class="chapter" data-level="J.2" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimT-4"><i class="fa fa-check"></i><b>J.2</b> Temperature</a>
<ul>
<li class="chapter" data-level="J.2.1" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimT0"><i class="fa fa-check"></i><b>J.2.1</b> None</a></li>
<li class="chapter" data-level="J.2.2" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimT1"><i class="fa fa-check"></i><b>J.2.2</b> Standard</a></li>
</ul></li>
<li class="chapter" data-level="J.3" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimN-4"><i class="fa fa-check"></i><b>J.3</b> Nitrogen</a>
<ul>
<li class="chapter" data-level="J.3.1" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimisNB-5"><i class="fa fa-check"></i><b>J.3.1</b> Basic phytoplankton constituent model</a></li>
<li class="chapter" data-level="J.3.2" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimisNA-5"><i class="fa fa-check"></i><b>J.3.2</b> Advanced phytoplankton constituent model</a></li>
</ul></li>
<li class="chapter" data-level="J.4" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimP-4"><i class="fa fa-check"></i><b>J.4</b> Phosphorus</a>
<ul>
<li class="chapter" data-level="J.4.1" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimisPB-5"><i class="fa fa-check"></i><b>J.4.1</b> Basic phytoplankton constituent model</a></li>
<li class="chapter" data-level="J.4.2" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimisPA-5"><i class="fa fa-check"></i><b>J.4.2</b> Advanced phytoplankton constituent model</a></li>
</ul></li>
<li class="chapter" data-level="J.5" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimSi-4"><i class="fa fa-check"></i><b>J.5</b> Silicate</a></li>
<li class="chapter" data-level="J.6" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimLght-4"><i class="fa fa-check"></i><b>J.6</b> Light</a>
<ul>
<li class="chapter" data-level="J.6.1" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimBasic-5"><i class="fa fa-check"></i><b>J.6.1</b> Basic</a></li>
<li class="chapter" data-level="J.6.2" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimMonod-5"><i class="fa fa-check"></i><b>J.6.2</b> Monod</a></li>
<li class="chapter" data-level="J.6.3" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimSteele-5"><i class="fa fa-check"></i><b>J.6.3</b> Steele</a></li>
<li class="chapter" data-level="J.6.4" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimWebb-5"><i class="fa fa-check"></i><b>J.6.4</b> Webb</a></li>
<li class="chapter" data-level="J.6.5" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimJassby-5"><i class="fa fa-check"></i><b>J.6.5</b> Jassby</a></li>
<li class="chapter" data-level="J.6.6" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimChalker-5"><i class="fa fa-check"></i><b>J.6.6</b> Chalker</a></li>
<li class="chapter" data-level="J.6.7" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimKlepper-5"><i class="fa fa-check"></i><b>J.6.7</b> Klepper</a></li>
<li class="chapter" data-level="J.6.8" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimIntegrated-5"><i class="fa fa-check"></i><b>J.6.8</b> Integrated</a></li>
</ul></li>
<li class="chapter" data-level="J.7" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimSal-4"><i class="fa fa-check"></i><b>J.7</b> Salinity</a>
<ul>
<li class="chapter" data-level="J.7.1" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimNone-5"><i class="fa fa-check"></i><b>J.7.1</b> None</a></li>
<li class="chapter" data-level="J.7.2" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimFresh-5"><i class="fa fa-check"></i><b>J.7.2</b> Freshwater</a></li>
<li class="chapter" data-level="J.7.3" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimMarine-5"><i class="fa fa-check"></i><b>J.7.3</b> Marine</a></li>
<li class="chapter" data-level="J.7.4" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimMixed-5"><i class="fa fa-check"></i><b>J.7.4</b> Mixed</a></li>
<li class="chapter" data-level="J.7.5" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html#PhyLimEstuarine-5"><i class="fa fa-check"></i><b>J.7.5</b> Estuarine</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="K" data-path="PhyUptake-3.html"><a href="PhyUptake-3.html"><i class="fa fa-check"></i><b>K</b> Processes: phyto uptake</a>
<ul>
<li class="chapter" data-level="K.1" data-path="PhyUptake-3.html"><a href="PhyUptake-3.html#PhyUptakeC-4"><i class="fa fa-check"></i><b>K.1</b> Carbon</a></li>
<li class="chapter" data-level="K.2" data-path="PhyUptake-3.html"><a href="PhyUptake-3.html#PhyLimUpN-4"><i class="fa fa-check"></i><b>K.2</b> Nitrogen</a>
<ul>
<li class="chapter" data-level="K.2.1" data-path="PhyUptake-3.html"><a href="PhyUptake-3.html#PhyLimUPNB-5"><i class="fa fa-check"></i><b>K.2.1</b> Basic phytoplankton constituent model</a></li>
<li class="chapter" data-level="K.2.2" data-path="PhyUptake-3.html"><a href="PhyUptake-3.html#PhyLimUPNA-5"><i class="fa fa-check"></i><b>K.2.2</b> Advanced phytoplankton constituent model</a></li>
<li class="chapter" data-level="K.2.3" data-path="PhyUptake-3.html"><a href="PhyUptake-3.html#PhyLimUPNFix-5"><i class="fa fa-check"></i><b>K.2.3</b> Nitrogen fixing</a></li>
</ul></li>
<li class="chapter" data-level="K.3" data-path="PhyUptake-3.html"><a href="PhyUptake-3.html#PhyLimUpP-4"><i class="fa fa-check"></i><b>K.3</b> Phosphorus</a>
<ul>
<li class="chapter" data-level="K.3.1" data-path="PhyUptake-3.html"><a href="PhyUptake-3.html#PhyLimUPPB-5"><i class="fa fa-check"></i><b>K.3.1</b> Basic phytoplankton constituent model</a></li>
<li class="chapter" data-level="K.3.2" data-path="PhyUptake-3.html"><a href="PhyUptake-3.html#PhyLimUPPA-5"><i class="fa fa-check"></i><b>K.3.2</b> Advanced phytoplankton constituent model</a></li>
</ul></li>
<li class="chapter" data-level="K.4" data-path="PhyUptake-3.html"><a href="PhyUptake-3.html#PhyLimUpSi-4"><i class="fa fa-check"></i><b>K.4</b> Silicate</a></li>
</ul></li>
<li class="chapter" data-level="L" data-path="PhyLosses-3.html"><a href="PhyLosses-3.html"><i class="fa fa-check"></i><b>L</b> Processes: phyto losses</a>
<ul>
<li class="chapter" data-level="L.1" data-path="PhyLosses-3.html"><a href="PhyLosses-3.html#PhyLossC-4"><i class="fa fa-check"></i><b>L.1</b> Carbon</a></li>
<li class="chapter" data-level="L.2" data-path="PhyLosses-3.html"><a href="PhyLosses-3.html#PhyLossN-4"><i class="fa fa-check"></i><b>L.2</b> Nitrogen</a></li>
<li class="chapter" data-level="L.3" data-path="PhyLosses-3.html"><a href="PhyLosses-3.html#PhyLossP-4"><i class="fa fa-check"></i><b>L.3</b> Phosphorus</a></li>
<li class="chapter" data-level="L.4" data-path="PhyLosses-3.html"><a href="PhyLosses-3.html#PhyLossSi-4"><i class="fa fa-check"></i><b>L.4</b> Silicate</a></li>
</ul></li>
<li class="chapter" data-level="M" data-path="AppphyOther.html"><a href="AppphyOther.html"><i class="fa fa-check"></i><b>M</b> Processes: phyto other</a>
<ul>
<li class="chapter" data-level="M.1" data-path="AppphyOther.html"><a href="AppphyOther.html#PhySelfShad-3"><i class="fa fa-check"></i><b>M.1</b> Self shading</a></li>
<li class="chapter" data-level="M.2" data-path="AppphyOther.html"><a href="AppphyOther.html#PhyCellDens-3"><i class="fa fa-check"></i><b>M.2</b> Cell density</a></li>
</ul></li>
<li class="chapter" data-level="N" data-path="AppOrg.html"><a href="AppOrg.html"><i class="fa fa-check"></i><b>N</b> Processes: organic matter</a>
<ul>
<li class="chapter" data-level="N.1" data-path="AppOrg.html"><a href="AppOrg.html#SedDissOrgProd-3"><i class="fa fa-check"></i><b>N.1</b> Sediment flux</a></li>
<li class="chapter" data-level="N.2" data-path="AppOrg.html"><a href="AppOrg.html#Hydrol-3"><i class="fa fa-check"></i><b>N.2</b> Hydrolysis</a>
<ul>
<li class="chapter" data-level="N.2.1" data-path="AppOrg.html"><a href="AppOrg.html#HydrolCons-4"><i class="fa fa-check"></i><b>N.2.1</b> Consumption</a></li>
<li class="chapter" data-level="N.2.2" data-path="AppOrg.html"><a href="AppOrg.html#HydrolProd-4"><i class="fa fa-check"></i><b>N.2.2</b> Production</a></li>
</ul></li>
<li class="chapter" data-level="N.3" data-path="AppOrg.html"><a href="AppOrg.html#Break-3"><i class="fa fa-check"></i><b>N.3</b> Breakdown</a>
<ul>
<li class="chapter" data-level="N.3.1" data-path="AppOrg.html"><a href="AppOrg.html#BreakCons-4"><i class="fa fa-check"></i><b>N.3.1</b> Consumption</a></li>
<li class="chapter" data-level="N.3.2" data-path="AppOrg.html"><a href="AppOrg.html#BreakProd-4"><i class="fa fa-check"></i><b>N.3.2</b> Production</a></li>
</ul></li>
<li class="chapter" data-level="N.4" data-path="AppOrg.html"><a href="AppOrg.html#Miner-3"><i class="fa fa-check"></i><b>N.4</b> Mineralisation</a>
<ul>
<li class="chapter" data-level="N.4.1" data-path="AppOrg.html"><a href="AppOrg.html#MinerCons-4"><i class="fa fa-check"></i><b>N.4.1</b> Consumption</a></li>
<li class="chapter" data-level="N.4.2" data-path="AppOrg.html"><a href="AppOrg.html#MinerProd-4"><i class="fa fa-check"></i><b>N.4.2</b> Production</a></li>
</ul></li>
<li class="chapter" data-level="N.5" data-path="AppOrg.html"><a href="AppOrg.html#Active-3"><i class="fa fa-check"></i><b>N.5</b> Activation</a>
<ul>
<li class="chapter" data-level="N.5.1" data-path="AppOrg.html"><a href="AppOrg.html#ActiveCons-4"><i class="fa fa-check"></i><b>N.5.1</b> Consumption</a></li>
<li class="chapter" data-level="N.5.2" data-path="AppOrg.html"><a href="AppOrg.html#ActiveProd-4"><i class="fa fa-check"></i><b>N.5.2</b> Production</a></li>
</ul></li>
<li class="chapter" data-level="N.6" data-path="AppOrg.html"><a href="AppOrg.html#OrgPhot-3"><i class="fa fa-check"></i><b>N.6</b> Photolysis</a>
<ul>
<li class="chapter" data-level="N.6.1" data-path="AppOrg.html"><a href="AppOrg.html#PhotCons-4"><i class="fa fa-check"></i><b>N.6.1</b> Consumption</a></li>
<li class="chapter" data-level="N.6.2" data-path="AppOrg.html"><a href="AppOrg.html#PhotProd-4"><i class="fa fa-check"></i><b>N.6.2</b> Production</a></li>
</ul></li>
<li class="chapter" data-level="N.7" data-path="AppOrg.html"><a href="AppOrg.html#OrgLight-3"><i class="fa fa-check"></i><b>N.7</b> Self shading</a></li>
<li class="chapter" data-level="N.8" data-path="AppOrg.html"><a href="AppOrg.html#OrgSettle-3"><i class="fa fa-check"></i><b>N.8</b> Settling</a>
<ul>
<li class="chapter" data-level="N.8.1" data-path="AppOrg.html"><a href="AppOrg.html#OrgSettleNone-5"><i class="fa fa-check"></i><b>N.8.1</b> None</a></li>
<li class="chapter" data-level="N.8.2" data-path="AppOrg.html"><a href="AppOrg.html#OrgSettleConst-5"><i class="fa fa-check"></i><b>N.8.2</b> Constant</a></li>
<li class="chapter" data-level="N.8.3" data-path="AppOrg.html"><a href="AppOrg.html#OrgSettleConstD-5"><i class="fa fa-check"></i><b>N.8.3</b> Constant with density correction</a></li>
<li class="chapter" data-level="N.8.4" data-path="AppOrg.html"><a href="AppOrg.html#OrgSettleStokes-5"><i class="fa fa-check"></i><b>N.8.4</b> Stokes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="O" data-path="AppPath.html"><a href="AppPath.html"><i class="fa fa-check"></i><b>O</b> Processes: pathogens</a>
<ul>
<li class="chapter" data-level="O.1" data-path="AppPath.html"><a href="AppPath.html#Mortal-3"><i class="fa fa-check"></i><b>O.1</b> Mortality</a></li>
<li class="chapter" data-level="O.2" data-path="AppPath.html"><a href="AppPath.html#Inactivation-3"><i class="fa fa-check"></i><b>O.2</b> Inactivation</a></li>
<li class="chapter" data-level="O.3" data-path="AppPath.html"><a href="AppPath.html#PathAttach-3"><i class="fa fa-check"></i><b>O.3</b> Attachment</a></li>
<li class="chapter" data-level="O.4" data-path="AppPath.html"><a href="AppPath.html#PathSettling-3"><i class="fa fa-check"></i><b>O.4</b> Settling</a></li>
<li class="chapter" data-level="O.5" data-path="AppPath.html"><a href="AppPath.html#Pathother-3"><i class="fa fa-check"></i><b>O.5</b> Other</a>
<ul>
<li class="chapter" data-level="O.5.1" data-path="AppPath.html"><a href="AppPath.html#Pathtot-3"><i class="fa fa-check"></i><b>O.5.1</b> Total pathogens</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="P" data-path="AppConstits.html"><a href="AppConstits.html"><i class="fa fa-check"></i><b>P</b> Computed variables</a></li>
<li class="chapter" data-level="Q" data-path="AppDiags.html"><a href="AppDiags.html"><i class="fa fa-check"></i><b>Q</b> Diagnostic variables</a></li>
<li class="chapter" data-level="R" data-path="AppParams.html"><a href="AppParams.html"><i class="fa fa-check"></i><b>R</b> Parameters</a></li>
<li class="chapter" data-level="S" data-path="AppMBal.html"><a href="AppMBal.html"><i class="fa fa-check"></i><b>S</b> Mass Conservation Model</a>
<ul>
<li class="chapter" data-level="S.1" data-path="AppMBal.html"><a href="AppMBal.html#AppMBalIntent"><i class="fa fa-check"></i><b>S.1</b> Intent</a></li>
<li class="chapter" data-level="S.2" data-path="AppMBal.html"><a href="AppMBal.html#AppMBalDescription"><i class="fa fa-check"></i><b>S.2</b> Description</a></li>
<li class="chapter" data-level="S.3" data-path="AppMBal.html"><a href="AppMBal.html#AppMBalMdel"><i class="fa fa-check"></i><b>S.3</b> Model suite</a></li>
<li class="chapter" data-level="S.4" data-path="AppMBal.html"><a href="AppMBal.html#AppMBalCalcs"><i class="fa fa-check"></i><b>S.4</b> Calculations</a></li>
<li class="chapter" data-level="S.5" data-path="AppMBal.html"><a href="AppMBal.html#AppMBalPerformance"><i class="fa fa-check"></i><b>S.5</b> Mass conservation performance</a>
<ul>
<li class="chapter" data-level="S.5.1" data-path="AppMBal.html"><a href="AppMBal.html#AppMBalDO"><i class="fa fa-check"></i><b>S.5.1</b> Simulation class: DO</a></li>
<li class="chapter" data-level="S.5.2" data-path="AppMBal.html"><a href="AppMBal.html#AppMBalInorg"><i class="fa fa-check"></i><b>S.5.2</b> Simulation class: Inorganics</a></li>
<li class="chapter" data-level="S.5.3" data-path="AppMBal.html"><a href="AppMBal.html#AppMBalOrg"><i class="fa fa-check"></i><b>S.5.3</b> Simulation class: Organics</a></li>
</ul></li>
<li class="chapter" data-level="S.6" data-path="AppMBal.html"><a href="AppMBal.html#AppMBalExecuting"><i class="fa fa-check"></i><b>S.6</b> Access and execution</a>
<ul>
<li class="chapter" data-level="S.6.1" data-path="AppMBal.html"><a href="AppMBal.html#AppMBalAccess"><i class="fa fa-check"></i><b>S.6.1</b> Access</a></li>
<li class="chapter" data-level="S.6.2" data-path="AppMBal.html"><a href="AppMBal.html#AppMBalExecu"><i class="fa fa-check"></i><b>S.6.2</b> Execution</a></li>
</ul></li>
<li class="chapter" data-level="S.7" data-path="AppMBal.html"><a href="AppMBal.html#AppMBalRes"><i class="fa fa-check"></i><b>S.7</b> Results</a></li>
<li class="chapter" data-level="S.8" data-path="AppMBal.html"><a href="AppMBal.html#AppMBalMassCons"><i class="fa fa-check"></i><b>S.8</b> Mass conservation analysis</a>
<ul>
<li class="chapter" data-level="S.8.1" data-path="AppMBal.html"><a href="AppMBal.html#AppMBMatlab"><i class="fa fa-check"></i><b>S.8.1</b> MATLAB</a></li>
<li class="chapter" data-level="S.8.2" data-path="AppMBal.html"><a href="AppMBal.html#AppMBPython"><i class="fa fa-check"></i><b>S.8.2</b> Python</a></li>
</ul></li>
<li class="chapter" data-level="S.9" data-path="AppMBal.html"><a href="AppMBal.html#AppMBInterp"><i class="fa fa-check"></i><b>S.9</b> Notes</a>
<ul>
<li class="chapter" data-level="S.9.1" data-path="AppMBal.html"><a href="AppMBal.html#AppMBInterpUnits"><i class="fa fa-check"></i><b>S.9.1</b> Units</a></li>
<li class="chapter" data-level="S.9.2" data-path="AppMBal.html"><a href="AppMBal.html#AppMBPrecision"><i class="fa fa-check"></i><b>S.9.2</b> Precision</a></li>
<li class="chapter" data-level="S.9.3" data-path="AppMBal.html"><a href="AppMBal.html#AppMBPlatform"><i class="fa fa-check"></i><b>S.9.3</b> Platform</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.tuflow.com"><img src="images/tuflow.png" style="width:246px;height:68px;"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><h0 style="color:rgb(0,85,129);">TUFLOW FV Water Quality (WQ) Module User Manual</h0></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Architecture-1" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Section 2</span> Architecture<a href="Architecture-1.html#Architecture-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This section provides a description of the WQ Module’s architecture. This description is intentionally introductory, and details required to set up and execute simulations that deploy the WQ Module are provided in Section <a href="SimulationConstruction-1.html#SimulationConstruction-1">4</a>. The manual’s introduction should be reviewed for instructions regarding the use of interactive components deployed in this manual. <span class="math inline">\(\newcommand{\blockindent}{\hspace{0.5cm}}\)</span></p>
<div id="ArchitectureContext-2" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Context<a href="Architecture-1.html#ArchitectureContext-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>As our understanding of the natural environment advances, the questions asked of water quality and ecological numerical models are rapidly increasing in breadth and complexity. Setting up, calibrating and executing defensible environmental models has therefore become an increasingly challenging proposition.</p>
<p>The architecture of the WQ Module has been deliberately designed to assist users in overcoming some of these challenges, and in doing so improve the efficiency and effectiveness with which numerical modelling can support environmental management. Importantly, the WQ Module’s architecture provides a mechanism by which users can rapidly initiate and execute water quality simulations without (at least in early modelling stages) concerning themselves with the often time consuming set up and parameterisation of simulated environmental processes.</p>
<p>In short, the WQ Module has been designed to provide immediate and easy access to its supporting state of the art environmental modelling science. The architecture that provides this easy access is tiered and these tiers are described below.</p>
</div>
<div id="SimulationTiers-2" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Simulation Tiers<a href="Architecture-1.html#SimulationTiers-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The WQ Module’s tiers are described below using the nomenclature of Figure <a href="Architecture-1.html#fig:fig-hierarchy">2.1</a>. Every WQ Module simulation has the following tiers:</p>
<ul>
<li><strong>Tier 1:</strong> Exactly one instance from a <em>simulation class</em>. This is user defined</li>
<li><strong>Tier 2:</strong> A suite of instances from a <em>model class</em>. The suite (and therefore number) of these instances is preset per simulation class. The exceptions to this are the phytoplankton and pathogen model classes, which when included in a simulation class can have as many instances within the suite as required by the user, with one instance (the default) per simulated phytoplankton or pathogen group</li>
<li><strong>Tier 3:</strong> Exactly one <em>constituent model</em> per model class instance (these are user selectable and there may be more than one constituent model available to choose from within a given model class instance)</li>
<li><strong>Tier 4:</strong> At least one <em>computed variable</em> per constituent model (the suite of computed variables is preset within each constituent model)</li>
</ul>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-hierarchy"></span>
<img src="images/Heirachy4Layer.png" alt="**WQ Module tiers**" width="100%" />
<p class="caption">
Figure 2.1: <strong>WQ Module tiers</strong>
</p>
</div>
</center>
<p>Notwithstanding the above, a user need not specify any of the above in order to rapidly set up and execute a first pass WQ Module simulation. In this case, the WQ Module will automatically set the simplest instances of the simulation class, model classes, constituent models and computed variables by drawing on library defaults. Simulation tiers are described below.</p>
<div id="SimulationClass-3" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Tier 1: Simulation Class<a href="Architecture-1.html#SimulationClass-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This is the highest and overarching tier of the WQ Module’s architecture. Using a single command, this tier sets the overall water quality simulation structure, including the suite of model classes to be deployed (with potentially multiple phytoplankton or pathogen model classes), and therefore the corresponding suite of constituent models and computed variables. The available simulation classes are provided in Table <a href="Architecture-1.html#tab:tab-SimClasses">2.1</a> as their keywords, together with example uses of each. The simulation class instances are cumulative, that is, a more complex class instance will include all the capability of simpler class instances. Complexity increases with table row in Table <a href="Architecture-1.html#tab:tab-SimClasses">2.1</a>.</p>
<table>
<caption>
<span id="tab:tab-SimClasses">Table 2.1: </span><strong>WQ Module simulation class instances</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Simulation Class Instance
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Potential Uses
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
DO
</td>
<td style="text-align:left;width: 80%; ">
Simulation of rudimentary dissolved oxygen dynamics such as:<br><span class="math inline">\(\cdot\blockindent\)</span>Desalination return water impact analyses<br><span class="math inline">\(\cdot\blockindent\)</span>Seasonal reservoir oxygen analyses<br><span class="math inline">\(\cdot\blockindent\)</span>Agricultural drain oxygen analyses
</td>
</tr>
<tr>
<td style="text-align:left;">
Inorganics
</td>
<td style="text-align:left;width: 80%; ">
Simulation of relatively simple aquatic ecosystems that experience primary productivity such as:<br><span class="math inline">\(\cdot\blockindent\)</span>Shallow urban lakes<br><span class="math inline">\(\cdot\blockindent\)</span>Smaller estuaries<br><span class="math inline">\(\cdot\blockindent\)</span>Coastal ocean zones that are relatively free of organic materials or sediments<br><span class="math inline">\(\cdot\blockindent\)</span>Mine voids
</td>
</tr>
<tr>
<td style="text-align:left;">
Organics
</td>
<td style="text-align:left;width: 80%; ">
Simulation of more complex aquatic ecosystems such as:<br><span class="math inline">\(\cdot\blockindent\)</span>Impacted coastal embayments or nearshore zones<br><span class="math inline">\(\cdot\blockindent\)</span>Impacted lakes<br><span class="math inline">\(\cdot\blockindent\)</span>Larger estuaries<br><span class="math inline">\(\cdot\blockindent\)</span>Wetlands<br><span class="math inline">\(\cdot\blockindent\)</span>Aquaculture operations<br><span class="math inline">\(\cdot\blockindent\)</span>Environments receiving point and/or diffuse source organic pollutants
</td>
</tr>
</tbody>
</table>
<p>Users can simply specify one preset simulation class (e.g. “organics”) in a water quality control file (Section <a href="SimulationConstruction-1.html#TFVCommands-2">4.4</a> and following sections), and the WQ Module will draw on inbuilt library defaults to automatically construct and execute a water quality simulation, with no further user input required (beyond specification of water quality initial conditions, see Section <a href="SimulationConstruction-1.html#InitBCCond-3">4.4.2</a>). For example, a user may simply specify</p>
<blockquote>
<p>simulation class == organics</p>
</blockquote>
<p>and initial conditions, and the WQ Module will construct itself, execute and report simulation details via a log file. This initial level of simplicity is intended.</p>
</div>
<div id="ConstituentModel-3" class="section level3 hasAnchor" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Tier 2: Model Class<a href="Architecture-1.html#ConstituentModel-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Each simulation class instance contains a preset suite of model class instances. These suites cannot be changed (although there may be multiple phytoplankton or pathogen model class instances), and are provided in Table <a href="Architecture-1.html#tab:tab-ConClasses">2.2</a> and as a network in Figure <a href="Architecture-1.html#fig:fig-ConClassesNtwk">2.2</a>. For example, simulation class instance “inorganics” has the fixed suite of oxygen, silicate, inorganic nitrogen, inorganic phosphorus and (potentially multiple) phytoplankton model class instances. The exception to this is pathogens. These can be optionally simulated in any simulation class (or none), and if simulated, potentially multiple pathogen model classes can be included.</p>
<table>
<caption>
<span id="tab:tab-ConClasses">Table 2.2: </span><strong>WQ Module simulation class instances and corresponding preset model class suites</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Simulation Class Instance
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Model Class Suite
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
DO
</td>
<td style="text-align:left;width: 80%; ">
<span class="math inline">\(\cdot\blockindent\)</span>Oxygen<br><span class="math inline">\(\cdot\blockindent\)</span>Pathogens (optional, potentially multiple)
</td>
</tr>
<tr>
<td style="text-align:left;">
Inorganics
</td>
<td style="text-align:left;width: 80%; ">
<span class="math inline">\(\cdot\blockindent\)</span>Oxygen<br><span class="math inline">\(\cdot\blockindent\)</span>Silicate<br><span class="math inline">\(\cdot\blockindent\)</span>Inorganic Nitrogen<br><span class="math inline">\(\cdot\blockindent\)</span>Inorganic Phosphorus<br><span class="math inline">\(\cdot\blockindent\)</span>Phytoplankton (potentially multiple)<br><span class="math inline">\(\cdot\blockindent\)</span>Pathogens (optional, potentially multiple)
</td>
</tr>
<tr>
<td style="text-align:left;">
Organics
</td>
<td style="text-align:left;width: 80%; ">
<span class="math inline">\(\cdot\blockindent\)</span>Oxygen<br><span class="math inline">\(\cdot\blockindent\)</span>Silicate<br><span class="math inline">\(\cdot\blockindent\)</span>Inorganic Nitrogen<br><span class="math inline">\(\cdot\blockindent\)</span>Inorganic Phosphorus<br><span class="math inline">\(\cdot\blockindent\)</span>Organic matter<br><span class="math inline">\(\cdot\blockindent\)</span>Phytoplankton (potentially multiple)<br><span class="math inline">\(\cdot\blockindent\)</span>Pathogens (optional, potentially multiple)
</td>
</tr>
</tbody>
</table>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-ConClassesNtwk"></span>
<img src="images/NetworkFigureCaptionBlank.png" alt="**WQ Module simulation class and model class instances**" width="1%" />
<p class="caption">
Figure 2.2: <strong>WQ Module simulation class and model class instances</strong>
</p>
</div>
</center>
<div id="htmlwidget-9dcd6e5d60e1d35b93e7" style="width:75%;height:800px;" class="visNetwork html-widget "></div>
<script type="application/json" data-for="htmlwidget-9dcd6e5d60e1d35b93e7">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10],"nodename":["DO","Inorganics","Organics","Oxygen","Silica","Inorganic\r\nnitrogen","Inorganic\r\nphosphorus","Organic\r\nmatter","Phytoplankton","Pathogens\r\n(optional)"],"nodetype":["Simulation Class","Simulation Class","Simulation Class","Model Class","Model Class","Model Class","Model Class","Model Class","Model Class","Model Class"],"simclass":["DO","Inorganics","Organics","DO","Inorganics","Inorganics","Inorganics","Organics","Inorganics",null],"label":["DO","Inorganics","Organics","Oxygen","Silica","Inorganic\r\nnitrogen","Inorganic\r\nphosphorus","Organic\r\nmatter","Phytoplankton","Pathogens\r\n(optional)"],"color":["#E20177","#E20177","#E20177","#00B6DD","#00B6DD","#00B6DD","#00B6DD","#00B6DD","#00B6DD","#00B6DD"],"group":["Simulation Class","Simulation Class","Simulation Class","Model Class","Model Class","Model Class","Model Class","Model Class","Model Class","Model Class"],"x":[-1,0.36998473586402,0.17306233238251,-0.49986792036906,0.41020012760027,0.914109767718295,1,-0.355739209789618,0.552633824857435,-0.271298377350786],"y":[-1,-0.312572206152679,0.0125326055207982,-0.343178863972494,0.663256911894648,0.309660070054076,-0.374117826322429,1,-0.950225738577747,-0.825357413313772]},"edges":{"from":["1","1","2","2","2","2","2","2","3","3","3","3","3","3","3"],"to":["4","10","4","5","6","7","9","10","4","5","6","7","8","9","10"],"origin":["DO","DO","Inorganics","Inorganics","Inorganics","Inorganics","Inorganics","Inorganics","Organics","Organics","Organics","Organics","Organics","Organics","Organics"],"destination":["Oxygen","Pathogens\r\n(optional)","Oxygen","Silica","Inorganic\r\nnitrogen","Inorganic\r\nphosphorus","Phytoplankton","Pathogens\r\n(optional)","Oxygen","Silica","Inorganic\r\nnitrogen","Inorganic\r\nphosphorus","Organic\r\nmatter","Phytoplankton","Pathogens\r\n(optional)"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false,"shadow":{"enabled":true,"size":10}},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"interaction":{"hover":true,"zoomSpeed":1},"autoResize":false,"clickToUse":true,"groups":{"Simulation Class":{"color":"#E20177"},"useDefaultGroups":true,"Model Class":{"color":"#00B6DD"}},"layout":{"improvedLayout":true}},"groups":["Simulation Class","Model Class"],"width":"75%","height":"800px","idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","highlight":{"enabled":true,"hoverNearest":true,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ConMod-3" class="section level3 hasAnchor" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Tier 3: Constituent Model<a href="Architecture-1.html#ConMod-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Whilst the suite of model class instances is set per simulation class instance, constituent models are interchangeable within a model class. In this way, a simulation class instance (at Tier 1) can be customised at the constituent model tier (at Tier 3), despite having a preset suite of model classes (at Tier 2, with potentially multiple phytoplankton and/or pathogen model class instances). Available constituent models are provided in Table <a href="Architecture-1.html#tab:tab-ConClassMods">2.3</a>, and presented graphically in Figure <a href="Architecture-1.html#fig:fig-ModelsNtwk">2.3</a> as a direct extension of Figure <a href="Architecture-1.html#fig:fig-ConClassesNtwk">2.2</a>. Pathogen model classes (and therefore constituent models) are always optional.</p>
<table>
<caption>
<span id="tab:tab-ConClassMods">Table 2.3: </span><strong>WQ Module model classes and corresponding available constituent models</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Model Class
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Available Constituent Models
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Oxygen
</td>
<td style="text-align:left;width: 80%; ">
O2
</td>
</tr>
<tr>
<td style="text-align:left;">
Silicate
</td>
<td style="text-align:left;width: 80%; ">
Si
</td>
</tr>
<tr>
<td style="text-align:left;">
Inorganic Nitrogen
</td>
<td style="text-align:left;width: 80%; ">
AmmoniumNitrate
</td>
</tr>
<tr>
<td style="text-align:left;">
Inorganic Phosphorus
</td>
<td style="text-align:left;width: 80%; ">
FRPhs
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;width: 80%; ">
FRPhsads
</td>
</tr>
<tr>
<td style="text-align:left;">
Organic Matter
</td>
<td style="text-align:left;width: 80%; ">
Labile
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;width: 80%; ">
Refractory
</td>
</tr>
<tr>
<td style="text-align:left;">
Phytoplankton
</td>
<td style="text-align:left;width: 80%; ">
Basic
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;width: 80%; ">
Advanced
</td>
</tr>
<tr>
<td style="text-align:left;">
Pathogens
</td>
<td style="text-align:left;width: 80%; ">
Free
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;width: 80%; ">
Attached
</td>
</tr>
</tbody>
</table>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-ModelsNtwk"></span>
<img src="images/NetworkFigureCaptionBlank.png" alt="**WQ Module simulation class and model class instances, with available constituent models**" width="1%" />
<p class="caption">
Figure 2.3: <strong>WQ Module simulation class and model class instances, with available constituent models</strong>
</p>
</div>
</center>
<div id="htmlwidget-a6a74a860c72bc80e09a" style="width:100%;height:1200px;" class="visNetwork html-widget "></div>
<script type="application/json" data-for="htmlwidget-a6a74a860c72bc80e09a">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21],"nodename":["DO","Inorganics","Organics","Oxygen","Silica","Inorganic\r\nnitrogen","Inorganic\r\nphosphorus","Organic\r\nmatter","Phytoplankton","Pathogens\r\n(optional)","O2","Si","AmmoniumNitrate","FRPhs","FRPhsAds","Labile","Refractory","Basic","Advanced","Free","Attached"],"nodetype":["Simulation Class","Simulation Class","Simulation Class","Model Class","Model Class","Model Class","Model Class","Model Class","Model Class","Model Class","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model"],"label":["DO","Inorganics","Organics","Oxygen","Silica","Inorganic\r\nnitrogen","Inorganic\r\nphosphorus","Organic\r\nmatter","Phytoplankton","Pathogens\r\n(optional)","O2","Si","AmmoniumNitrate","FRPhs","FRPhsAds","Labile","Refractory","Basic","Advanced","Free","Attached"],"color":["#E20177","#E20177","#E20177","#00B6DD","#00B6DD","#00B6DD","#00B6DD","#00B6DD","#00B6DD","#00B6DD","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1"],"group":["Simulation Class","Simulation Class","Simulation Class","Model Class","Model Class","Model Class","Model Class","Model Class","Model Class","Model Class","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model"],"x":[-0.787443414658904,-0.0210292799657101,0.0568269494523164,-0.447732425110759,0.41686096926089,-0.141430845176416,0.508577006260625,0.362096856765869,0.0758587635957291,-0.508806174696201,-0.87880767303774,0.865092298989845,-0.339973111535925,0.862154166516561,1,0.390422148197523,0.694828165994153,0.271516214500435,-0.0395671812567698,-1,-0.804880726182983],"y":[-0.135284579917818,-0.187108599442168,-0.0363804529302821,0.0168620428614552,0.0267173574864221,0.247086212459385,-0.325170996244729,0.580789029409422,-0.585763999865194,-0.334256428644296,0.254641361272364,0.17237774559687,0.633440378910398,-0.624403223513558,-0.381436158298884,1,0.892340039606015,-0.982998744494592,-1,-0.47152617100498,-0.686098558751421]},"edges":{"from":["1","1","2","2","2","2","2","2","3","3","3","3","3","3","3","4","5","6","7","7","8","8","9","9","10","10"],"to":["4","10","4","5","6","7","9","10","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21"],"origin":["DO","DO","Inorganics","Inorganics","Inorganics","Inorganics","Inorganics","Inorganics","Organics","Organics","Organics","Organics","Organics","Organics","Organics","Oxygen","Silica","Inorganic\r\nnitrogen","Inorganic\r\nphosphorus","Inorganic\r\nphosphorus","Organic\r\nmatter","Organic\r\nmatter","Phytoplankton","Phytoplankton","Pathogens\r\n(optional)","Pathogens\r\n(optional)"],"destination":["Oxygen","Pathogens\r\n(optional)","Oxygen","Silica","Inorganic\r\nnitrogen","Inorganic\r\nphosphorus","Phytoplankton","Pathogens\r\n(optional)","Oxygen","Silica","Inorganic\r\nnitrogen","Inorganic\r\nphosphorus","Organic\r\nmatter","Phytoplankton","Pathogens\r\n(optional)","O2","Si","AmmoniumNitrate","FRPhs","FRPhsAds","Labile","Refractory","Basic","Advanced","Free","Attached"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false,"shadow":{"enabled":true,"size":10}},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"interaction":{"hover":true,"zoomSpeed":1},"autoResize":false,"clickToUse":true,"groups":{"Simulation Class":{"color":"#E20177"},"Model Class":{"color":"#00B6DD"},"useDefaultGroups":true,"Constituent Model":{"color":"#7ED1E1"}},"layout":{"improvedLayout":true}},"groups":["Simulation Class","Model Class","Constituent Model"],"width":"100%","height":"1200px","idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","highlight":{"enabled":true,"hoverNearest":true,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.15,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":false}},"evals":[],"jsHooks":[]}</script>
<p><br><br><br></p>
<p>For example, multiple inorganic phosphorus constituent models are available within the inorganic phosphorus model class, where these models execute different water quality processes and contain different computed variables. In this example, this can be set with a single line command:</p>
<blockquote>
<p>inorganic phosphorus model == frphsads</p>
</blockquote>
<blockquote>
<p><span class="math inline">\(\blockindent\)</span> <span class="math inline">\(\langle commands \rangle\)</span></p>
</blockquote>
<blockquote>
<p>end inorganic phosphorus model</p>
</blockquote>
<p>This allows a user to interchange one phosphorus constituent model for another within the inorganic phosphorus model class, thereby customising the overarching simulation class instance.</p>
<p>The environmental processes simulated within each constituent model are fixed. Despite this, these processes can nonetheless be switched on and off as required, offering an additional layer of customisation. For example, if oxygen is not required to be included in silicate sediment flux calculations, the linkage between these processes and oxygen can be turned off by setting:</p>
<blockquote>
<p>oxygen == off</p>
</blockquote>
<p>Alternatively, if a user wishes to simulate all inorganic processes other than nitrification for example, then the rate describing this unwanted process can simply be set to zero (as per the following command - the first numerical argument is the nitrification rate) and it will be turned off. All library defaults also set rate processes to zero.</p>
<blockquote>
<p><span class="math inline">\(\blockindent\)</span> nitrification == 0.0, 0.0, 1.0</p>
</blockquote>
<p>All processes included within each constituent model, and their respective WQ Module commands, are described in Sections <a href="ProcessDescriptions-1.html#ProcessDescriptions-1">3</a> and <a href="SimulationConstruction-1.html#SimulationConstruction-1">4</a>, respectively.</p>
</div>
<div id="ComputedVariableParameters-3" class="section level3 hasAnchor" number="2.2.4">
<h3><span class="header-section-number">2.2.4</span> Tier 4: Computed Variables<a href="Architecture-1.html#ComputedVariableParameters-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Each Tier 3 constituent model contains a fixed set of computed variables. Table <a href="Architecture-1.html#tab:tab-ConModVars">2.4</a> (which is a direct extension of Table <a href="Architecture-1.html#tab:tab-ConClassMods">2.3</a>) provides the mapping between model classes, constituent models and their associated computed variables. These maps are also provided graphically in Figure <a href="Architecture-1.html#fig:fig-CVsNtwk">2.4</a>, which is an extension of Figure <a href="Architecture-1.html#fig:fig-ModelsNtwk">2.3</a>, but presented in a non-hierarchical form. Click or hover over nodes to track their paths up or down the simulation tree.</p>
<p>For clarity, Figure <a href="Architecture-1.html#fig:fig-CVsNtwk">2.4</a> (and elsewhere within this manual) uses acronyms for some computed variable names, and these acronyms are expanded in Appendix <a href="AppConstits.html#AppConstits">P</a>. All references in this manual to “organic matter” are to labile organic computed variables, unless specifically termed as refractory.</p>
<table>
<caption>
<span id="tab:tab-ConModVars">Table 2.4: </span><strong>WQ Module model classes, available constituent models and computed variables</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Model Class
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Available Constituent Models
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Computed Variables
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Oxygen
</td>
<td style="text-align:left;">
O2
</td>
<td style="text-align:left;">
Dissolved oxygen
</td>
</tr>
<tr>
<td style="text-align:left;">
Silicate
</td>
<td style="text-align:left;">
Si
</td>
<td style="text-align:left;">
Silicate
</td>
</tr>
<tr>
<td style="text-align:left;">
Inorganic Nitrogen
</td>
<td style="text-align:left;">
AmmoniumNitrate
</td>
<td style="text-align:left;">
Ammonium<br>Nitrate
</td>
</tr>
<tr>
<td style="text-align:left;">
Inorganic Phosphorus
</td>
<td style="text-align:left;">
FRPhs
</td>
<td style="text-align:left;">
Filterable reactive phosphorus (FRP)
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
FRPhsads
</td>
<td style="text-align:left;">
FRP<br>Adsorbed FRP
</td>
</tr>
<tr>
<td style="text-align:left;">
Organic Matter
</td>
<td style="text-align:left;">
Labile
</td>
<td style="text-align:left;">
Labile dissolved and particulate organic carbon, nitrogen and phosphorus
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Refractory
</td>
<td style="text-align:left;">
Labile dissolved and particulate organic carbon, nitrogen and phosphorus<br>Refractory dissolved carbon, nitrogen and phosphorus and refractory particulate organic matter
</td>
</tr>
<tr>
<td style="text-align:left;">
Phytoplankton
</td>
<td style="text-align:left;">
Basic
</td>
<td style="text-align:left;">
Phytoplankton concentration and optionally cell density
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Advanced
</td>
<td style="text-align:left;">
Phytoplankton concentration, internal nitrogen, internal phosphorus and optionally cell density
</td>
</tr>
<tr>
<td style="text-align:left;">
Pathogens
</td>
<td style="text-align:left;">
Free
</td>
<td style="text-align:left;">
Pathogen alive and dead concentrations
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Attached
</td>
<td style="text-align:left;">
Pathogen alive, attached and dead concentrations
</td>
</tr>
</tbody>
</table>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-CVsNtwk"></span>
<img src="images/NetworkFigureCaptionBlank.png" alt="**WQ Module simulation class and model class instances, available constituent models and computed variables**" width="1%" />
<p class="caption">
Figure 2.4: <strong>WQ Module simulation class and model class instances, available constituent models and computed variables</strong>
</p>
</div>
</center>
<div id="htmlwidget-6e5020cdc693b02f1364" style="width:100%;height:1300px;" class="visNetwork html-widget "></div>
<script type="application/json" data-for="htmlwidget-6e5020cdc693b02f1364">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],"nodename":["DO","Inorganics","Organics","Oxygen","Silica","Inorganic\r\nnitrogen","Inorganic\r\nphosphorus","Organic\r\nmatter","Phytoplankton","Pathogens\r\n(optional)","O2","Si","AmmoniumNitrate","FRPhs","FRPhsAds","Labile","Refractory","Basic","Advanced","Free","Attached","Dissolved\r\noxygen","Silicate","Ammonium","Nitrate","FRP","Adsorbed\r\nFRP","DOC","POC","DON","PON","DOP","POP","RDOC","RDON","RDOP","RDOM","Concentration","Internal\r\nnitrogen","Internal\r\nphosphorus","Cell\r\ndensity","Alive\r\nconcentration","Attached\r\nconcentration","Dead\r\nconcentration"],"nodetype":["Simulation Class","Simulation Class","Simulation Class","Model Class","Model Class","Model Class","Model Class","Model Class","Model Class","Model Class","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable"],"label":["DO","Inorganics","Organics","Oxygen","Silica","Inorganic\r\nnitrogen","Inorganic\r\nphosphorus","Organic\r\nmatter","Phytoplankton","Pathogens\r\n(optional)","O2","Si","AmmoniumNitrate","FRPhs","FRPhsAds","Labile","Refractory","Basic","Advanced","Free","Attached","Dissolved\r\noxygen","Silicate","Ammonium","Nitrate","FRP","Adsorbed\r\nFRP","DOC","POC","DON","PON","DOP","POP","RDOC","RDON","RDOP","RDOM","Concentration","Internal\r\nnitrogen","Internal\r\nphosphorus","Cell\r\ndensity","Alive\r\nconcentration","Attached\r\nconcentration","Dead\r\nconcentration"],"color":["#E20177","#E20177","#E20177","#00B6DD","#00B6DD","#00B6DD","#00B6DD","#00B6DD","#00B6DD","#00B6DD","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#7ED1E1","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7","#B9E0F7"],"group":["Simulation Class","Simulation Class","Simulation Class","Model Class","Model Class","Model Class","Model Class","Model Class","Model Class","Model Class","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Constituent Model","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable","Computed Variable"],"x":[0.356045619241294,0.0962767478113933,0.0116015923295396,0.0247184835950536,0.160141605276283,-0.27019058714511,-0.210751782678767,-0.189510066073764,0.280374963991304,0.3665944848284,-0.00270091782756132,0.279759474163569,-0.649188510988469,-0.291295441047002,-0.48984970080998,-0.426927549783787,-0.406104147718883,0.474116305518506,0.613312376127199,0.699857523271142,0.687062373762943,-0.0134505261194522,0.406844213426235,-0.920865026784201,-1,-0.488364452007374,-0.777483712920564,-0.743783948379885,-0.617687295256699,-0.735989328302873,-0.665641574303124,-0.180222957726602,-0.351578839777238,-0.501616473117798,-0.133444699015633,-0.696425656637717,-0.294824709777356,0.845761392340563,0.984004479315943,0.645026778936356,0.721674289272635,0.971708610512237,0.861255755401947,1],"y":[0.403781437825029,0.0960719231054949,-0.0167274228065172,0.301132302902471,0.255990543496884,0.0524050995092518,0.243695724611153,-0.315776951730202,-0.212971277451951,0.107291971512238,0.660675056018221,0.616689203674474,0.176997541736374,0.565542900258105,0.490524838019498,-0.474920592916207,-0.637111381933876,-0.450649723212196,-0.404786808135866,0.102840802525196,0.302648711425548,1,0.933244766112934,0.405073784035545,0.151476896185246,0.820861896382422,0.682223629747579,-0.529428324001404,-0.73542100373232,-0.651084934958706,-0.438205481719931,-0.699692827899464,-0.814115907883133,-0.985680291051743,-0.904599573451086,-0.889711180362958,-1,-0.527093867868343,-0.362407297350812,-0.795696350607638,-0.661352420255991,0.336423624932114,0.604783924113504,0.145394769472577]},"edges":{"from":["1","1","2","2","2","2","2","2","3","3","3","3","3","3","3","4","5","6","7","7","8","8","9","9","10","10","11","12","13","13","14","15","15","16","16","16","16","16","16","17","17","17","17","17","17","17","17","17","17","18","18","19","19","19","19","20","20","21","21","21"],"to":["4","10","4","5","6","7","9","10","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","26","27","28","29","30","31","32","33","28","29","30","31","32","33","34","35","36","37","38","41","38","41","39","40","42","44","42","43","44"],"origin":["DO","DO","Inorganics","Inorganics","Inorganics","Inorganics","Inorganics","Inorganics","Organics","Organics","Organics","Organics","Organics","Organics","Organics","Oxygen","Silica","Inorganic\r\nnitrogen","Inorganic\r\nphosphorus","Inorganic\r\nphosphorus","Organic\r\nmatter","Organic\r\nmatter","Phytoplankton","Phytoplankton","Pathogens\r\n(optional)","Pathogens\r\n(optional)","O2","Si","AmmoniumNitrate","AmmoniumNitrate","FRPhs","FRPhsAds","FRPhsAds","Labile","Labile","Labile","Labile","Labile","Labile","Refractory","Refractory","Refractory","Refractory","Refractory","Refractory","Refractory","Refractory","Refractory","Refractory","Basic","Basic","Advanced","Advanced","Advanced","Advanced","Free","Free","Attached","Attached","Attached"],"destination":["Oxygen","Pathogens\r\n(optional)","Oxygen","Silica","Inorganic\r\nnitrogen","Inorganic\r\nphosphorus","Phytoplankton","Pathogens\r\n(optional)","Oxygen","Silica","Inorganic\r\nnitrogen","Inorganic\r\nphosphorus","Organic\r\nmatter","Phytoplankton","Pathogens\r\n(optional)","O2","Si","AmmoniumNitrate","FRPhs","FRPhsAds","Labile","Refractory","Basic","Advanced","Free","Attached","Dissolved\r\noxygen","Silicate","Ammonium","Nitrate","FRP","FRP","Adsorbed\r\nFRP","DOC","POC","DON","PON","DOP","POP","DOC","POC","DON","PON","DOP","POP","RDOC","RDON","RDOP","RDOM","Concentration","Cell\r\ndensity","Concentration","Cell\r\ndensity","Internal\r\nnitrogen","Internal\r\nphosphorus","Alive\r\nconcentration","Dead\r\nconcentration","Alive\r\nconcentration","Attached\r\nconcentration","Dead\r\nconcentration"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false,"shadow":{"enabled":true,"size":10}},"manipulation":{"enabled":false},"edges":{"smooth":false,"arrows":"to"},"physics":{"stabilization":false},"layout":{"randomSeed":123,"improvedLayout":true},"interaction":{"hover":true,"zoomSpeed":1},"autoResize":false,"clickToUse":true,"groups":{"Simulation Class":{"color":"#E20177"},"Model Class":{"color":"#00B6DD"},"Constituent Model":{"color":"#7ED1E1"},"useDefaultGroups":true,"Computed Variable":{"color":"#B9E0F7"}}},"groups":["Simulation Class","Model Class","Constituent Model","Computed Variable"],"width":"100%","height":"1300px","idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","highlight":{"enabled":true,"hoverNearest":true,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.15,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":false}},"evals":[],"jsHooks":[]}</script>
<p><br><br><br></p>
<p>Parameters that govern the behaviour of computed variables are set within each constituent model. Parameters that are not set by the user are populated automatically from the WQ Module library defaults.</p>
</div>
</div>
<div id="ArchitectureLinkageWithFV-2" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Linkage with TUFLOW FV<a href="Architecture-1.html#ArchitectureLinkageWithFV-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="ArchProc-3" class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Process<a href="Architecture-1.html#ArchProc-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Support is currently provided for linkage of the WQ Module with <a href="https://www.tuflow.com/products/tuflow-fv/" target="_blank">TUFLOW FV</a>. Within this linkage, TUFLOW FV considers the WQ Module as a peripheral model with which it interacts at arm’s length. The role of TUFLOW FV is that it (in approximate run time order):</p>
<ul>
<li>Requests the number of water quality constituents from the WQ Module at start up, based on user setup specifications (e.g. the setting of the simulation class instance, with any constituent model modifications)</li>
<li>Automatically sets up the corresponding number of tracers (one for each computed variable) within its simulation (users do not specify these tracers)</li>
<li>Is then responsible for the:
<ul>
<li>Application of WQ Module initial conditions</li>
<li>Conservative advection and dispersion of these tracers (that represent the WQ Module’s computed variables)</li>
<li>Application of WQ Module boundary conditions</li>
<li>Calling the WQ Module at a user specified time step for the WQ Module to execute non-conservative transformation calculations on the suite of passive tracers</li>
<li>Writing of WQ Module results files</li>
</ul></li>
</ul>
<p>For example, if a WQ Module simulation was set to consider only dissolved oxygen, then TUFLOW FV would automatically allocate one tracer for the dissolved oxygen variable (the user does not need to specify passive tracers within TUFLOW FV), and advect and disperse that tracer throughout the model domain in response to initial and boundary conditions. At a user defined interval, TUFLOW FV would send the two- or three-dimensional tracer concentration field to the WQ Module for it to be modified in response to non-conservative ecological processes The WQ Module would then return this modified tracer field to TUFLOW FV for subsequent advection and dispersion, with this exchange process continuing to simulation end.</p>
</div>
<div id="ProcessDescriptionsLight-3" class="section level3 hasAnchor" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> Treatment of light<a href="Architecture-1.html#ProcessDescriptionsLight-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The TUFLOW FV heat module must be activated in order to use the WQ Module. One reason for this (beyond the need to compute water temperature) is that the heat module includes calculation of the light field within the model domain. This light field is used by various WQ Module constituent models.</p>
<p>In order to provide this light field, TUFLOW FV splits the shortwave radiation specified in the heat module into four bands:</p>
<ul>
<li>near infrared (NIR)</li>
<li>photosynthetically available radiation (PAR)</li>
<li>ultraviolet A (UVA), and</li>
<li>ultraviolet B (UVB)</li>
</ul>
<p>This split can be executed using TUFLOW FV defaults (recommended), or be user specified (not recommended). The corresponding band extinction coefficients in water with zero suspended sediment can also be specified in TUFLOW FV. Defaults are also available for all these coefficients and are recommended. TUFLOW FV uses these coefficients, along with other simulation properties, to compute the four light band intensities at the faces and centroids of each computational cell. The WQ Module uses the same split into bands as the TUFLOW FV defaults and ensures consistency in the treatment of light between TUFLOW FV and the WQ Module.</p>
<p>The WQ Module can also modify the light field sent to it from TUFLOW FV via calculation of phytoplankton self shading (section <a href="AppphyOther.html#PhySelfShad-3">M.1</a>), the absorption of light due to the presence of organic matter and other processes. If this occurs, the WQ Module returns a modified light extinction coefficient field to TUFLOW FV that is then used in subsequent hydrodynamic heat and light calculations. This modification of light by water quality computed variables only occurs for simulation classes beyond DO.</p>
</div>
</div>
<div id="ArchAPI" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Linkage with Other Hydrodynamic Models<a href="Architecture-1.html#ArchAPI" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The above communication between TUFLOW FV and the WQ Module is affected via implementation of a publicly available application programming interface (API). This API effectively sets the rules by which TUFLOW FV and the WQ Module communicate, and separates their roles.</p>
<p>This API has been designed so that TUFLOW FV can drive any other water quality model that includes the API in its compilation. This is intentional, and allows users of other ecological models to access the hydrodynamic power of TUFLOW FV for their simulations. Contact <a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a> for further information or assistance in this regard.</p>
<p><img src="images/WQFooter.jpg" width="100%" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Overview-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ProcessDescriptions-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": false,
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
