<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4.4 TUFLOW FV control file commands | TUFLOW FV Water Quality (WQ) Module User Manual Release Candiate 2025.2</title>
  <meta name="description" content="TUFLOW FV Water Quality (WQ) Module User Manual" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="4.4 TUFLOW FV control file commands | TUFLOW FV Water Quality (WQ) Module User Manual Release Candiate 2025.2" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/tuflow.png" />
  <meta property="og:description" content="TUFLOW FV Water Quality (WQ) Module User Manual" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.4 TUFLOW FV control file commands | TUFLOW FV Water Quality (WQ) Module User Manual Release Candiate 2025.2" />
  
  <meta name="twitter:description" content="TUFLOW FV Water Quality (WQ) Module User Manual" />
  <meta name="twitter:image" content="/images/tuflow.png" />

<meta name="author" content="RELEASE CANDIDATE     This is an interim manual that accompanies the TUFLOW FV 2025.2.0-rc.1. The information contained within this interim version may vary from the subsequent final version. " />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/TUFLOW.ico" type="image/x-icon" />
<link rel="prev" href="TFVGeneral-2.html"/>
<link rel="next" href="WQctrlfil-2.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.2/visNetwork.js"></script>





<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://www.tuflow.com"><img src="images/tuflow.png" style="width:246px;height:68px;"></a></li>

<li class="divider"></li>
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#about-this-manual"><i class="fa fa-check"></i>About this manual</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#how-to-use-this-manual"><i class="fa fa-check"></i>How to use this manual</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#navigation"><i class="fa fa-check"></i>Navigation</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#searching"><i class="fa fa-check"></i>Searching</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#tables"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#figures"><i class="fa fa-check"></i>Figures</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#networks"><i class="fa fa-check"></i>Networks</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#commands"><i class="fa fa-check"></i>Commands</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#parameter-notation"><i class="fa fa-check"></i>Parameter notation</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#concentration-nomenclature"><i class="fa fa-check"></i>Concentration nomenclature</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#feedback"><i class="fa fa-check"></i>Feedback</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Overview-1.html"><a href="Overview-1.html"><i class="fa fa-check"></i><b>1</b> Overview</a>
<ul>
<li class="chapter" data-level="1.1" data-path="OverviewContext-2.html"><a href="OverviewContext-2.html"><i class="fa fa-check"></i><b>1.1</b> Context</a></li>
<li class="chapter" data-level="1.2" data-path="Features-2.html"><a href="Features-2.html"><i class="fa fa-check"></i><b>1.2</b> Features</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="Features-2.html"><a href="Features-2.html#Usability-3"><i class="fa fa-check"></i><b>1.2.1</b> Usability</a></li>
<li class="chapter" data-level="1.2.2" data-path="Features-2.html"><a href="Features-2.html#CnsFeats-3"><i class="fa fa-check"></i><b>1.2.2</b> Constituents and processes</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="Science-2.html"><a href="Science-2.html"><i class="fa fa-check"></i><b>1.3</b> Science</a></li>
<li class="chapter" data-level="1.4" data-path="Versioning-2.html"><a href="Versioning-2.html"><i class="fa fa-check"></i><b>1.4</b> Versioning</a></li>
<li class="chapter" data-level="1.5" data-path="Support-2.html"><a href="Support-2.html"><i class="fa fa-check"></i><b>1.5</b> Support</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Architecture-1.html"><a href="Architecture-1.html"><i class="fa fa-check"></i><b>2</b> Architecture</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ArchitectureContext-2.html"><a href="ArchitectureContext-2.html"><i class="fa fa-check"></i><b>2.1</b> Context</a></li>
<li class="chapter" data-level="2.2" data-path="SimulationTiers-2.html"><a href="SimulationTiers-2.html"><i class="fa fa-check"></i><b>2.2</b> Simulation Tiers</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="SimulationTiers-2.html"><a href="SimulationTiers-2.html#SimulationClass-3"><i class="fa fa-check"></i><b>2.2.1</b> Tier 1: Simulation Class</a></li>
<li class="chapter" data-level="2.2.2" data-path="SimulationTiers-2.html"><a href="SimulationTiers-2.html#ConstituentModel-3"><i class="fa fa-check"></i><b>2.2.2</b> Tier 2: Model Class</a></li>
<li class="chapter" data-level="2.2.3" data-path="SimulationTiers-2.html"><a href="SimulationTiers-2.html#ConMod-3"><i class="fa fa-check"></i><b>2.2.3</b> Tier 3: Constituent Model</a></li>
<li class="chapter" data-level="2.2.4" data-path="SimulationTiers-2.html"><a href="SimulationTiers-2.html#ComputedVariableParameters-3"><i class="fa fa-check"></i><b>2.2.4</b> Tier 4: Computed Variables</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="ArchitectureLinkageWithFV-2.html"><a href="ArchitectureLinkageWithFV-2.html"><i class="fa fa-check"></i><b>2.3</b> Linkage with TUFLOW FV</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="ArchitectureLinkageWithFV-2.html"><a href="ArchitectureLinkageWithFV-2.html#ArchProc-3"><i class="fa fa-check"></i><b>2.3.1</b> Process</a></li>
<li class="chapter" data-level="2.3.2" data-path="ArchitectureLinkageWithFV-2.html"><a href="ArchitectureLinkageWithFV-2.html#ProcessDescriptionsLight-3"><i class="fa fa-check"></i><b>2.3.2</b> Treatment of light</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="ArchAPI.html"><a href="ArchAPI.html"><i class="fa fa-check"></i><b>2.4</b> Linkage with Other Hydrodynamic Models</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ProcessDescriptions-1.html"><a href="ProcessDescriptions-1.html"><i class="fa fa-check"></i><b>3</b> Process Descriptions</a>
<ul>
<li class="chapter" data-level="3.1" data-path="SimProcSimuClDO-2.html"><a href="SimProcSimuClDO-2.html"><i class="fa fa-check"></i><b>3.1</b> Simulation Class: DO</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="SimProcSimuClDO-2.html"><a href="SimProcSimuClDO-2.html#DOOverview-3"><i class="fa fa-check"></i><b>3.1.1</b> Overview</a></li>
<li class="chapter" data-level="3.1.2" data-path="SimProcSimuClDO-2.html"><a href="SimProcSimuClDO-2.html#ConModDODO-3"><i class="fa fa-check"></i><b>3.1.2</b> Model Class: Oxygen</a>
<ul>
<li class="chapter" data-level="3.1.2.1" data-path="SimProcSimuClDO-2.html"><a href="SimProcSimuClDO-2.html#ConModDOO2-4"><i class="fa fa-check"></i><b>3.1.2.1</b> Constituent Model: O2</a></li>
</ul></li>
<li class="chapter" data-level="3.1.3" data-path="SimProcSimuClDO-2.html"><a href="SimProcSimuClDO-2.html#ConModDOPath-3"><i class="fa fa-check"></i><b>3.1.3</b> Model Class: Pathogens (optional)</a>
<ul>
<li class="chapter" data-level="3.1.3.1" data-path="SimProcSimuClDO-2.html"><a href="SimProcSimuClDO-2.html#ConModPathFree-4"><i class="fa fa-check"></i><b>3.1.3.1</b> Constituent Model: Free</a></li>
<li class="chapter" data-level="3.1.3.2" data-path="SimProcSimuClDO-2.html"><a href="SimProcSimuClDO-2.html#ConModPathAtt-4"><i class="fa fa-check"></i><b>3.1.3.2</b> Constituent Model: Attached</a></li>
</ul></li>
<li class="chapter" data-level="3.1.4" data-path="SimProcSimuClDO-2.html"><a href="SimProcSimuClDO-2.html#DOCompVars-3"><i class="fa fa-check"></i><b>3.1.4</b> Computed variables</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html"><i class="fa fa-check"></i><b>3.2</b> Simulation Class: Inorganics</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html#InorgOverview-3"><i class="fa fa-check"></i><b>3.2.1</b> Overview</a></li>
<li class="chapter" data-level="3.2.2" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html#ConModInorgDO-3"><i class="fa fa-check"></i><b>3.2.2</b> Model Class: Oxygen</a></li>
<li class="chapter" data-level="3.2.3" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html#ConModInorgSi-3"><i class="fa fa-check"></i><b>3.2.3</b> Model Class: Silicate</a>
<ul>
<li class="chapter" data-level="3.2.3.1" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html#ConModSiSi-4"><i class="fa fa-check"></i><b>3.2.3.1</b> Constituent Model: Si</a></li>
</ul></li>
<li class="chapter" data-level="3.2.4" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html#ConModInorgN-3"><i class="fa fa-check"></i><b>3.2.4</b> Model Class: Inorganic nitrogen</a>
<ul>
<li class="chapter" data-level="3.2.4.1" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html#ConModNAmmNit-4"><i class="fa fa-check"></i><b>3.2.4.1</b> Constituent Model: AmmoniumNitrate</a></li>
</ul></li>
<li class="chapter" data-level="3.2.5" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html#ConModInorgP-3"><i class="fa fa-check"></i><b>3.2.5</b> Model Class: Inorganic phosphorus</a>
<ul>
<li class="chapter" data-level="3.2.5.1" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html#ConModFRPhs-4"><i class="fa fa-check"></i><b>3.2.5.1</b> Constituent Model: FRPhs</a></li>
<li class="chapter" data-level="3.2.5.2" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html#ConModFRPhsAds-4"><i class="fa fa-check"></i><b>3.2.5.2</b> Constituent Model: FRPhsAds</a></li>
</ul></li>
<li class="chapter" data-level="3.2.6" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html#ConModInorgPhy-3"><i class="fa fa-check"></i><b>3.2.6</b> Model Class: Phytoplankton</a>
<ul>
<li class="chapter" data-level="3.2.6.1" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html#ConModPhyBas-4"><i class="fa fa-check"></i><b>3.2.6.1</b> Constituent Model: Basic</a></li>
<li class="chapter" data-level="3.2.6.2" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html#ConModPhyAdv-4"><i class="fa fa-check"></i><b>3.2.6.2</b> Constituent Model: Advanced</a></li>
</ul></li>
<li class="chapter" data-level="3.2.7" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html#ConModInorgPath-3"><i class="fa fa-check"></i><b>3.2.7</b> Model Class: Pathogens (optional)</a></li>
<li class="chapter" data-level="3.2.8" data-path="SimProcSimuClInorg-2.html"><a href="SimProcSimuClInorg-2.html#InorgCompVars-3"><i class="fa fa-check"></i><b>3.2.8</b> Computed variables</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="SimProcSimuClOrg-2.html"><a href="SimProcSimuClOrg-2.html"><i class="fa fa-check"></i><b>3.3</b> Simulation Class: Organics</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="SimProcSimuClOrg-2.html"><a href="SimProcSimuClOrg-2.html#OrgOverview-3"><i class="fa fa-check"></i><b>3.3.1</b> Overview</a></li>
<li class="chapter" data-level="3.3.2" data-path="SimProcSimuClOrg-2.html"><a href="SimProcSimuClOrg-2.html#ConModOrgDO-3"><i class="fa fa-check"></i><b>3.3.2</b> Model Class: Oxygen</a></li>
<li class="chapter" data-level="3.3.3" data-path="SimProcSimuClOrg-2.html"><a href="SimProcSimuClOrg-2.html#ConModOrgSi-3"><i class="fa fa-check"></i><b>3.3.3</b> Model Class: Silicate</a></li>
<li class="chapter" data-level="3.3.4" data-path="SimProcSimuClOrg-2.html"><a href="SimProcSimuClOrg-2.html#ConModOrgN-3"><i class="fa fa-check"></i><b>3.3.4</b> Model Class: Inorganic nitrogen</a></li>
<li class="chapter" data-level="3.3.5" data-path="SimProcSimuClOrg-2.html"><a href="SimProcSimuClOrg-2.html#ConModOrgP-3"><i class="fa fa-check"></i><b>3.3.5</b> Model Class: Inorganic phosphorus</a></li>
<li class="chapter" data-level="3.3.6" data-path="SimProcSimuClOrg-2.html"><a href="SimProcSimuClOrg-2.html#ConModOrgOrg-3"><i class="fa fa-check"></i><b>3.3.6</b> Model Class: Organic matter</a>
<ul>
<li class="chapter" data-level="3.3.6.1" data-path="SimProcSimuClOrg-2.html"><a href="SimProcSimuClOrg-2.html#ConModOrgLab-4"><i class="fa fa-check"></i><b>3.3.6.1</b> Constituent Model: Labile</a></li>
<li class="chapter" data-level="3.3.6.2" data-path="SimProcSimuClOrg-2.html"><a href="SimProcSimuClOrg-2.html#ConModOrgRef-4"><i class="fa fa-check"></i><b>3.3.6.2</b> Constituent Model: Refractory</a></li>
</ul></li>
<li class="chapter" data-level="3.3.7" data-path="SimProcSimuClOrg-2.html"><a href="SimProcSimuClOrg-2.html#ConModOrgPhy-3"><i class="fa fa-check"></i><b>3.3.7</b> Model Class: Phytoplankton</a>
<ul>
<li class="chapter" data-level="3.3.7.1" data-path="SimProcSimuClOrg-2.html"><a href="SimProcSimuClOrg-2.html#ConModPhyBasOrg-4"><i class="fa fa-check"></i><b>3.3.7.1</b> Constituent Model: Basic</a></li>
<li class="chapter" data-level="3.3.7.2" data-path="SimProcSimuClOrg-2.html"><a href="SimProcSimuClOrg-2.html#ConModPhyAdvOrg-4"><i class="fa fa-check"></i><b>3.3.7.2</b> Constituent Model: Advanced</a></li>
</ul></li>
<li class="chapter" data-level="3.3.8" data-path="SimProcSimuClOrg-2.html"><a href="SimProcSimuClOrg-2.html#ConModOrgPath-3"><i class="fa fa-check"></i><b>3.3.8</b> Model Class: Pathogens (optional)</a></li>
<li class="chapter" data-level="3.3.9" data-path="SimProcSimuClOrg-2.html"><a href="SimProcSimuClOrg-2.html#OrgCompVars-3"><i class="fa fa-check"></i><b>3.3.9</b> Computed variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="SimulationConstruction-1.html"><a href="SimulationConstruction-1.html"><i class="fa fa-check"></i><b>4</b> Simulation Construction</a>
<ul>
<li class="chapter" data-level="4.1" data-path="SimulationConstructionContext-2.html"><a href="SimulationConstructionContext-2.html"><i class="fa fa-check"></i><b>4.1</b> Context</a></li>
<li class="chapter" data-level="4.2" data-path="SimUnits-2.html"><a href="SimUnits-2.html"><i class="fa fa-check"></i><b>4.2</b> Units</a></li>
<li class="chapter" data-level="4.3" data-path="TFVGeneral-2.html"><a href="TFVGeneral-2.html"><i class="fa fa-check"></i><b>4.3</b> General arrangement</a></li>
<li class="chapter" data-level="4.4" data-path="TFVCommands-2.html"><a href="TFVCommands-2.html"><i class="fa fa-check"></i><b>4.4</b> TUFLOW FV control file commands</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="TFVCommands-2.html"><a href="TFVCommands-2.html#WQMActivation-3"><i class="fa fa-check"></i><b>4.4.1</b> WQ Module activation</a></li>
<li class="chapter" data-level="4.4.2" data-path="TFVCommands-2.html"><a href="TFVCommands-2.html#InitBCCond-3"><i class="fa fa-check"></i><b>4.4.2</b> Initial and boundary conditions</a>
<ul>
<li class="chapter" data-level="4.4.2.1" data-path="TFVCommands-2.html"><a href="TFVCommands-2.html#ICGeneral-4"><i class="fa fa-check"></i><b>4.4.2.1</b> Initial conditions</a></li>
<li class="chapter" data-level="4.4.2.2" data-path="TFVCommands-2.html"><a href="TFVCommands-2.html#BCGeneral-4"><i class="fa fa-check"></i><b>4.4.2.2</b> Boundary conditions</a></li>
<li class="chapter" data-level="4.4.2.3" data-path="TFVCommands-2.html"><a href="TFVCommands-2.html#Ordering-4"><i class="fa fa-check"></i><b>4.4.2.3</b> Ordering</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="WQctrlfil-2.html"><a href="WQctrlfil-2.html"><i class="fa fa-check"></i><b>4.5</b> Water quality control file commands</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="WQctrlfil-2.html"><a href="WQctrlfil-2.html#SimCtrls-3"><i class="fa fa-check"></i><b>4.5.1</b> Part 1: Simulation controls</a></li>
<li class="chapter" data-level="4.5.2" data-path="WQctrlfil-2.html"><a href="WQctrlfil-2.html#ConModSttngs-3"><i class="fa fa-check"></i><b>4.5.2</b> Part 2: Constituent model settings</a></li>
<li class="chapter" data-level="4.5.3" data-path="WQctrlfil-2.html"><a href="WQctrlfil-2.html#MatSpecs-3"><i class="fa fa-check"></i><b>4.5.3</b> Part 3: Material specifications</a></li>
<li class="chapter" data-level="4.5.4" data-path="WQctrlfil-2.html"><a href="WQctrlfil-2.html#SimSetSum-2"><i class="fa fa-check"></i><b>4.5.4</b> Summary</a></li>
<li class="chapter" data-level="4.5.5" data-path="WQctrlfil-2.html"><a href="WQctrlfil-2.html#SimSetLog-2"><i class="fa fa-check"></i><b>4.5.5</b> Log files</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="SimSetSimClDO-2.html"><a href="SimSetSimClDO-2.html"><i class="fa fa-check"></i><b>4.6</b> Simulation Class: DO</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="SimSetSimClDO-2.html"><a href="SimSetSimClDO-2.html#PrereqDO-3"><i class="fa fa-check"></i><b>4.6.1</b> Prerequisites</a></li>
<li class="chapter" data-level="4.6.2" data-path="SimSetSimClDO-2.html"><a href="SimSetSimClDO-2.html#SimCtrlsDO-3"><i class="fa fa-check"></i><b>4.6.2</b> Part 1: Simulation specification</a></li>
<li class="chapter" data-level="4.6.3" data-path="SimSetSimClDO-2.html"><a href="SimSetSimClDO-2.html#ConModSttngsDO-3"><i class="fa fa-check"></i><b>4.6.3</b> Part 2: Constituent model specification</a>
<ul>
<li class="chapter" data-level="4.6.3.1" data-path="SimSetSimClDO-2.html"><a href="SimSetSimClDO-2.html#ConModClssOxy-4"><i class="fa fa-check"></i><b>4.6.3.1</b> Model class: Oxygen</a></li>
<li class="chapter" data-level="4.6.3.2" data-path="SimSetSimClDO-2.html"><a href="SimSetSimClDO-2.html#ConModClssPth-4"><i class="fa fa-check"></i><b>4.6.3.2</b> Model class: Pathogens (optional)</a></li>
</ul></li>
<li class="chapter" data-level="4.6.4" data-path="SimSetSimClDO-2.html"><a href="SimSetSimClDO-2.html#MatSpecsDO-3"><i class="fa fa-check"></i><b>4.6.4</b> Part 3: Material specification</a></li>
<li class="chapter" data-level="4.6.5" data-path="SimSetSimClDO-2.html"><a href="SimSetSimClDO-2.html#ConOrdDO-3"><i class="fa fa-check"></i><b>4.6.5</b> Constituent ordering</a>
<ul>
<li class="chapter" data-level="4.6.5.1" data-path="SimSetSimClDO-2.html"><a href="SimSetSimClDO-2.html#ConOrdDOPath-4"><i class="fa fa-check"></i><b>4.6.5.1</b> Pathogens (optional)</a></li>
</ul></li>
<li class="chapter" data-level="4.6.6" data-path="SimSetSimClDO-2.html"><a href="SimSetSimClDO-2.html#ExampleDO"><i class="fa fa-check"></i><b>4.6.6</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html"><i class="fa fa-check"></i><b>4.7</b> Simulation Class: Inorganics</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#PrereqInorg-3"><i class="fa fa-check"></i><b>4.7.1</b> Prerequisites</a></li>
<li class="chapter" data-level="4.7.2" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#SimCtrlsInorg-3"><i class="fa fa-check"></i><b>4.7.2</b> Part 1: Simulation specification</a></li>
<li class="chapter" data-level="4.7.3" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#ConModSttngsInorg-3"><i class="fa fa-check"></i><b>4.7.3</b> Part 2: Constituent model specification</a>
<ul>
<li class="chapter" data-level="4.7.3.1" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#ConModClssInorg-4"><i class="fa fa-check"></i><b>4.7.3.1</b> Model class: Oxygen</a></li>
<li class="chapter" data-level="4.7.3.2" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#ConModClssSil-4"><i class="fa fa-check"></i><b>4.7.3.2</b> Model class: Silicate</a></li>
<li class="chapter" data-level="4.7.3.3" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#ConModClssNit-4"><i class="fa fa-check"></i><b>4.7.3.3</b> Model class: Inorganic nitrogen</a></li>
<li class="chapter" data-level="4.7.3.4" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#ConModClssPhs-4"><i class="fa fa-check"></i><b>4.7.3.4</b> Model class: Inorganic phosphorus</a></li>
<li class="chapter" data-level="4.7.3.5" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#ConModClssPhy-4"><i class="fa fa-check"></i><b>4.7.3.5</b> Model class: Phytoplankton</a></li>
<li class="chapter" data-level="4.7.3.6" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#ConModClssPth-4a"><i class="fa fa-check"></i><b>4.7.3.6</b> Model class: Pathogens (optional)</a></li>
</ul></li>
<li class="chapter" data-level="4.7.4" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#MatSpecsInorg-3"><i class="fa fa-check"></i><b>4.7.4</b> Part 3: Material specification</a></li>
<li class="chapter" data-level="4.7.5" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#ConOrdInorg-3"><i class="fa fa-check"></i><b>4.7.5</b> Constituent ordering</a>
<ul>
<li class="chapter" data-level="4.7.5.1" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#ConOrdExPhy-4"><i class="fa fa-check"></i><b>4.7.5.1</b> Excluding phytoplankton</a></li>
<li class="chapter" data-level="4.7.5.2" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#ConOrdIncPhy-4"><i class="fa fa-check"></i><b>4.7.5.2</b> Including phytoplankton</a></li>
<li class="chapter" data-level="4.7.5.3" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#ConOrdInorgIncPth-4"><i class="fa fa-check"></i><b>4.7.5.3</b> Including pathogens (optional)</a></li>
</ul></li>
<li class="chapter" data-level="4.7.6" data-path="SimSetSimClInorg-2.html"><a href="SimSetSimClInorg-2.html#ExampleInorg"><i class="fa fa-check"></i><b>4.7.6</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html"><i class="fa fa-check"></i><b>4.8</b> Simulation Class: Organics</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#PrereqOrg-3"><i class="fa fa-check"></i><b>4.8.1</b> Prerequisites</a></li>
<li class="chapter" data-level="4.8.2" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#SimCtrlsOrg-3"><i class="fa fa-check"></i><b>4.8.2</b> Part 1: Simulation specification</a></li>
<li class="chapter" data-level="4.8.3" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#ConModSttngsOrg-3"><i class="fa fa-check"></i><b>4.8.3</b> Part 2: Constituent model specification</a>
<ul>
<li class="chapter" data-level="4.8.3.1" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#ConModClssInorg-4a"><i class="fa fa-check"></i><b>4.8.3.1</b> Model class: Oxygen</a></li>
<li class="chapter" data-level="4.8.3.2" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#ConModClssSil-4a"><i class="fa fa-check"></i><b>4.8.3.2</b> Model class: Silicate</a></li>
<li class="chapter" data-level="4.8.3.3" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#ConModClssNit-4a"><i class="fa fa-check"></i><b>4.8.3.3</b> Model class: Inorganic nitrogen</a></li>
<li class="chapter" data-level="4.8.3.4" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#ConModClssPhs-4a"><i class="fa fa-check"></i><b>4.8.3.4</b> Model class: Inorganic phosphorus</a></li>
<li class="chapter" data-level="4.8.3.5" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#ConModClssOrgs-4"><i class="fa fa-check"></i><b>4.8.3.5</b> Model class: Organic matter</a></li>
<li class="chapter" data-level="4.8.3.6" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#ConModClssPhy-4a"><i class="fa fa-check"></i><b>4.8.3.6</b> Model class: Phytoplankton</a></li>
<li class="chapter" data-level="4.8.3.7" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#ConModClssPth-4b"><i class="fa fa-check"></i><b>4.8.3.7</b> Model class: Pathogens (optional)</a></li>
</ul></li>
<li class="chapter" data-level="4.8.4" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#MatSpecsOrg-3"><i class="fa fa-check"></i><b>4.8.4</b> Part 3: Material specification</a></li>
<li class="chapter" data-level="4.8.5" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#ConOrdOrg-3"><i class="fa fa-check"></i><b>4.8.5</b> Constituent ordering</a>
<ul>
<li class="chapter" data-level="4.8.5.1" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#ConOrdLabOrg-4"><i class="fa fa-check"></i><b>4.8.5.1</b> Labile</a></li>
<li class="chapter" data-level="4.8.5.2" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#ConOrdRefOrg-4"><i class="fa fa-check"></i><b>4.8.5.2</b> Refractory</a></li>
<li class="chapter" data-level="4.8.5.3" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#ConOrdOrgIncPth-4"><i class="fa fa-check"></i><b>4.8.5.3</b> Including pathogens (optional)</a></li>
</ul></li>
<li class="chapter" data-level="4.8.6" data-path="SimSetSimClOrg-2.html"><a href="SimSetSimClOrg-2.html#ExampleOrg"><i class="fa fa-check"></i><b>4.8.6</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="Outputs-3.html"><a href="Outputs-3.html"><i class="fa fa-check"></i><b>4.9</b> Outputs</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="Outputs-3.html"><a href="Outputs-3.html#WQMOutputs-4"><i class="fa fa-check"></i><b>4.9.1</b> WQ Module outputs</a></li>
<li class="chapter" data-level="4.9.2" data-path="Outputs-3.html"><a href="Outputs-3.html#FVOutputs-4"><i class="fa fa-check"></i><b>4.9.2</b> TUFLOW FV outputs</a></li>
<li class="chapter" data-level="4.9.3" data-path="Outputs-3.html"><a href="Outputs-3.html#units-3"><i class="fa fa-check"></i><b>4.9.3</b> Units</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="AppSyntax.html"><a href="AppSyntax.html"><i class="fa fa-check"></i><b>A</b> Syntax of command descriptions</a>
<ul>
<li class="chapter" data-level="" data-path="AppSyntax.html"><a href="AppSyntax.html#commands-1"><i class="fa fa-check"></i>Commands</a></li>
<li class="chapter" data-level="" data-path="AppSyntax.html"><a href="AppSyntax.html#arguments"><i class="fa fa-check"></i>Arguments</a></li>
<li class="chapter" data-level="" data-path="AppSyntax.html"><a href="AppSyntax.html#defaults"><i class="fa fa-check"></i>Defaults</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="AppCommands.html"><a href="AppCommands.html"><i class="fa fa-check"></i><b>B</b> Commands</a></li>
<li class="chapter" data-level="C" data-path="AppDemoModel.html"><a href="AppDemoModel.html"><i class="fa fa-check"></i><b>C</b> Demonstration model</a></li>
<li class="chapter" data-level="D" data-path="AppO.html"><a href="AppO.html"><i class="fa fa-check"></i><b>D</b> Processes: oxygen</a>
<ul>
<li class="chapter" data-level="D.1" data-path="AtmosphericAeration-3.html"><a href="AtmosphericAeration-3.html"><i class="fa fa-check"></i><b>D.1</b> Atmospheric oxygen flux</a></li>
<li class="chapter" data-level="D.2" data-path="SedOxyCons-3.html"><a href="SedOxyCons-3.html"><i class="fa fa-check"></i><b>D.2</b> Sediment oxygen flux</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="AppSil.html"><a href="AppSil.html"><i class="fa fa-check"></i><b>E</b> Processes: silicate</a>
<ul>
<li class="chapter" data-level="E.1" data-path="SedSilProd-3.html"><a href="SedSilProd-3.html"><i class="fa fa-check"></i><b>E.1</b> Sediment silicate flux</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="AppIN.html"><a href="AppIN.html"><i class="fa fa-check"></i><b>F</b> Processes: inorganic nitrogen</a>
<ul>
<li class="chapter" data-level="F.1" data-path="SedAmmNitProd-3.html"><a href="SedAmmNitProd-3.html"><i class="fa fa-check"></i><b>F.1</b> Sediment ammonium and nitrate flux</a></li>
<li class="chapter" data-level="F.2" data-path="Nitrif-3.html"><a href="Nitrif-3.html"><i class="fa fa-check"></i><b>F.2</b> Nitrification</a></li>
<li class="chapter" data-level="F.3" data-path="Denitrif-3.html"><a href="Denitrif-3.html"><i class="fa fa-check"></i><b>F.3</b> Denitrification</a></li>
<li class="chapter" data-level="F.4" data-path="Anammox-3.html"><a href="Anammox-3.html"><i class="fa fa-check"></i><b>F.4</b> Anaerobic oxidation of ammonium</a></li>
<li class="chapter" data-level="F.5" data-path="DRNA-3.html"><a href="DRNA-3.html"><i class="fa fa-check"></i><b>F.5</b> Dissimilatory reduction of nitrate to ammonium</a></li>
<li class="chapter" data-level="F.6" data-path="WetDepIN-3.html"><a href="WetDepIN-3.html"><i class="fa fa-check"></i><b>F.6</b> Wet deposition of inorganic nitrogen</a></li>
<li class="chapter" data-level="F.7" data-path="DryDepIN-3.html"><a href="DryDepIN-3.html"><i class="fa fa-check"></i><b>F.7</b> Dry deposition of inorganic nitrogen</a></li>
</ul></li>
<li class="chapter" data-level="G" data-path="AppIP.html"><a href="AppIP.html"><i class="fa fa-check"></i><b>G</b> Processes: inorganic phosphorus</a>
<ul>
<li class="chapter" data-level="G.1" data-path="SedFRPhsProd-3.html"><a href="SedFRPhsProd-3.html"><i class="fa fa-check"></i><b>G.1</b> Sediment FRP flux</a></li>
<li class="chapter" data-level="G.2" data-path="WetDepIP-3.html"><a href="WetDepIP-3.html"><i class="fa fa-check"></i><b>G.2</b> Wet deposition of inorganic phosphorus</a></li>
<li class="chapter" data-level="G.3" data-path="DryDepIP-3.html"><a href="DryDepIP-3.html"><i class="fa fa-check"></i><b>G.3</b> Dry deposition of inorganic phosphorus</a></li>
<li class="chapter" data-level="G.4" data-path="FRPhsAdsDsp-3.html"><a href="FRPhsAdsDsp-3.html"><i class="fa fa-check"></i><b>G.4</b> Adsorption and desorption</a>
<ul>
<li class="chapter" data-level="G.4.1" data-path="FRPhsAdsDsp-3.html"><a href="FRPhsAdsDsp-3.html#FRPhsAdsDspLin-4"><i class="fa fa-check"></i><b>G.4.1</b> Linear model</a></li>
<li class="chapter" data-level="G.4.2" data-path="FRPhsAdsDsp-3.html"><a href="FRPhsAdsDsp-3.html#FRPhsAdsDspQuad-4"><i class="fa fa-check"></i><b>G.4.2</b> Quadratic model</a></li>
</ul></li>
<li class="chapter" data-level="G.5" data-path="SettlingIP-3.html"><a href="SettlingIP-3.html"><i class="fa fa-check"></i><b>G.5</b> Settling</a></li>
</ul></li>
<li class="chapter" data-level="H" data-path="AppPhy.html"><a href="AppPhy.html"><i class="fa fa-check"></i><b>H</b> Processes: phyto general</a>
<ul>
<li class="chapter" data-level="H.1" data-path="PhyGeneral-3.html"><a href="PhyGeneral-3.html"><i class="fa fa-check"></i><b>H.1</b> General</a></li>
<li class="chapter" data-level="H.2" data-path="PhyUnits-3.html"><a href="PhyUnits-3.html"><i class="fa fa-check"></i><b>H.2</b> Units</a></li>
</ul></li>
<li class="chapter" data-level="I" data-path="PhyRates-3.html"><a href="PhyRates-3.html"><i class="fa fa-check"></i><b>I</b> Processes: phyto biomass rates</a>
<ul>
<li class="chapter" data-level="I.1" data-path="PhyProd-4.html"><a href="PhyProd-4.html"><i class="fa fa-check"></i><b>I.1</b> Primary productivity</a></li>
<li class="chapter" data-level="I.2" data-path="PhyResp-4.html"><a href="PhyResp-4.html"><i class="fa fa-check"></i><b>I.2</b> Respiration</a></li>
<li class="chapter" data-level="I.3" data-path="PhyExud-4.html"><a href="PhyExud-4.html"><i class="fa fa-check"></i><b>I.3</b> Exudation</a></li>
<li class="chapter" data-level="I.4" data-path="PhySettle-4.html"><a href="PhySettle-4.html"><i class="fa fa-check"></i><b>I.4</b> Settling</a>
<ul>
<li class="chapter" data-level="I.4.1" data-path="PhySettle-4.html"><a href="PhySettle-4.html#PhySettleNone-5"><i class="fa fa-check"></i><b>I.4.1</b> None</a></li>
<li class="chapter" data-level="I.4.2" data-path="PhySettle-4.html"><a href="PhySettle-4.html#PhySettleConst-5"><i class="fa fa-check"></i><b>I.4.2</b> Constant</a></li>
<li class="chapter" data-level="I.4.3" data-path="PhySettle-4.html"><a href="PhySettle-4.html#PhySettleConstD-5"><i class="fa fa-check"></i><b>I.4.3</b> Constant with density correction</a></li>
<li class="chapter" data-level="I.4.4" data-path="PhySettle-4.html"><a href="PhySettle-4.html#PhySettleStokes-5"><i class="fa fa-check"></i><b>I.4.4</b> Stokes</a></li>
<li class="chapter" data-level="I.4.5" data-path="PhySettle-4.html"><a href="PhySettle-4.html#PhySettleMotile-5"><i class="fa fa-check"></i><b>I.4.5</b> Motile</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="J" data-path="PhyLimits-3.html"><a href="PhyLimits-3.html"><i class="fa fa-check"></i><b>J</b> Processes: phyto limitation</a>
<ul>
<li class="chapter" data-level="J.1" data-path="PhyLimGen-4.html"><a href="PhyLimGen-4.html"><i class="fa fa-check"></i><b>J.1</b> General</a></li>
<li class="chapter" data-level="J.2" data-path="PhyLimT-4.html"><a href="PhyLimT-4.html"><i class="fa fa-check"></i><b>J.2</b> Temperature</a>
<ul>
<li class="chapter" data-level="J.2.1" data-path="PhyLimT-4.html"><a href="PhyLimT-4.html#PhyLimT0"><i class="fa fa-check"></i><b>J.2.1</b> None</a></li>
<li class="chapter" data-level="J.2.2" data-path="PhyLimT-4.html"><a href="PhyLimT-4.html#PhyLimT1"><i class="fa fa-check"></i><b>J.2.2</b> Standard</a></li>
</ul></li>
<li class="chapter" data-level="J.3" data-path="PhyLimN-4.html"><a href="PhyLimN-4.html"><i class="fa fa-check"></i><b>J.3</b> Nitrogen</a>
<ul>
<li class="chapter" data-level="J.3.1" data-path="PhyLimN-4.html"><a href="PhyLimN-4.html#PhyLimisNB-5"><i class="fa fa-check"></i><b>J.3.1</b> Basic phytoplankton constituent model</a></li>
<li class="chapter" data-level="J.3.2" data-path="PhyLimN-4.html"><a href="PhyLimN-4.html#PhyLimisNA-5"><i class="fa fa-check"></i><b>J.3.2</b> Advanced phytoplankton constituent model</a></li>
</ul></li>
<li class="chapter" data-level="J.4" data-path="PhyLimP-4.html"><a href="PhyLimP-4.html"><i class="fa fa-check"></i><b>J.4</b> Phosphorus</a>
<ul>
<li class="chapter" data-level="J.4.1" data-path="PhyLimP-4.html"><a href="PhyLimP-4.html#PhyLimisPB-5"><i class="fa fa-check"></i><b>J.4.1</b> Basic phytoplankton constituent model</a></li>
<li class="chapter" data-level="J.4.2" data-path="PhyLimP-4.html"><a href="PhyLimP-4.html#PhyLimisPA-5"><i class="fa fa-check"></i><b>J.4.2</b> Advanced phytoplankton constituent model</a></li>
</ul></li>
<li class="chapter" data-level="J.5" data-path="PhyLimSi-4.html"><a href="PhyLimSi-4.html"><i class="fa fa-check"></i><b>J.5</b> Silicate</a></li>
<li class="chapter" data-level="J.6" data-path="PhyLimLght-4.html"><a href="PhyLimLght-4.html"><i class="fa fa-check"></i><b>J.6</b> Light</a>
<ul>
<li class="chapter" data-level="J.6.1" data-path="PhyLimLght-4.html"><a href="PhyLimLght-4.html#PhyLimBasic-5"><i class="fa fa-check"></i><b>J.6.1</b> Basic</a></li>
<li class="chapter" data-level="J.6.2" data-path="PhyLimLght-4.html"><a href="PhyLimLght-4.html#PhyLimMonod-5"><i class="fa fa-check"></i><b>J.6.2</b> Monod</a></li>
<li class="chapter" data-level="J.6.3" data-path="PhyLimLght-4.html"><a href="PhyLimLght-4.html#PhyLimSteele-5"><i class="fa fa-check"></i><b>J.6.3</b> Steele</a></li>
<li class="chapter" data-level="J.6.4" data-path="PhyLimLght-4.html"><a href="PhyLimLght-4.html#PhyLimWebb-5"><i class="fa fa-check"></i><b>J.6.4</b> Webb</a></li>
<li class="chapter" data-level="J.6.5" data-path="PhyLimLght-4.html"><a href="PhyLimLght-4.html#PhyLimJassby-5"><i class="fa fa-check"></i><b>J.6.5</b> Jassby</a></li>
<li class="chapter" data-level="J.6.6" data-path="PhyLimLght-4.html"><a href="PhyLimLght-4.html#PhyLimChalker-5"><i class="fa fa-check"></i><b>J.6.6</b> Chalker</a></li>
<li class="chapter" data-level="J.6.7" data-path="PhyLimLght-4.html"><a href="PhyLimLght-4.html#PhyLimKlepper-5"><i class="fa fa-check"></i><b>J.6.7</b> Klepper</a></li>
<li class="chapter" data-level="J.6.8" data-path="PhyLimLght-4.html"><a href="PhyLimLght-4.html#PhyLimIntegrated-5"><i class="fa fa-check"></i><b>J.6.8</b> Integrated</a></li>
</ul></li>
<li class="chapter" data-level="J.7" data-path="PhyLimSal-4.html"><a href="PhyLimSal-4.html"><i class="fa fa-check"></i><b>J.7</b> Salinity</a>
<ul>
<li class="chapter" data-level="J.7.1" data-path="PhyLimSal-4.html"><a href="PhyLimSal-4.html#PhyLimNone-5"><i class="fa fa-check"></i><b>J.7.1</b> None</a></li>
<li class="chapter" data-level="J.7.2" data-path="PhyLimSal-4.html"><a href="PhyLimSal-4.html#PhyLimFresh-5"><i class="fa fa-check"></i><b>J.7.2</b> Freshwater</a>
<ul>
<li class="chapter" data-level="J.7.2.1" data-path="PhyLimSal-4.html"><a href="PhyLimSal-4.html#PhyLimFreshPP-6"><i class="fa fa-check"></i><b>J.7.2.1</b> Primary productivity</a></li>
<li class="chapter" data-level="J.7.2.2" data-path="PhyLimSal-4.html"><a href="PhyLimSal-4.html#PhyLimFreshR-6"><i class="fa fa-check"></i><b>J.7.2.2</b> Respiration</a></li>
</ul></li>
<li class="chapter" data-level="J.7.3" data-path="PhyLimSal-4.html"><a href="PhyLimSal-4.html#PhyLimMarine-5"><i class="fa fa-check"></i><b>J.7.3</b> Marine</a>
<ul>
<li class="chapter" data-level="J.7.3.1" data-path="PhyLimSal-4.html"><a href="PhyLimSal-4.html#PhyLimMarinePP-6"><i class="fa fa-check"></i><b>J.7.3.1</b> Primary productivity</a></li>
<li class="chapter" data-level="J.7.3.2" data-path="PhyLimSal-4.html"><a href="PhyLimSal-4.html#PhyLimMarineR-6"><i class="fa fa-check"></i><b>J.7.3.2</b> Respiration</a></li>
</ul></li>
<li class="chapter" data-level="J.7.4" data-path="PhyLimSal-4.html"><a href="PhyLimSal-4.html#PhyLimMixed-5"><i class="fa fa-check"></i><b>J.7.4</b> Mixed</a>
<ul>
<li class="chapter" data-level="J.7.4.1" data-path="PhyLimSal-4.html"><a href="PhyLimSal-4.html#PhyLimMixedPP-6"><i class="fa fa-check"></i><b>J.7.4.1</b> Primary productivity</a></li>
<li class="chapter" data-level="J.7.4.2" data-path="PhyLimSal-4.html"><a href="PhyLimSal-4.html#PhyLimMixedR-6"><i class="fa fa-check"></i><b>J.7.4.2</b> Respiration</a></li>
</ul></li>
<li class="chapter" data-level="J.7.5" data-path="PhyLimSal-4.html"><a href="PhyLimSal-4.html#PhyLimEstuarine-5"><i class="fa fa-check"></i><b>J.7.5</b> Estuarine</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="K" data-path="PhyUptake-3.html"><a href="PhyUptake-3.html"><i class="fa fa-check"></i><b>K</b> Processes: phyto uptake</a>
<ul>
<li class="chapter" data-level="K.1" data-path="PhyUptakeC-4.html"><a href="PhyUptakeC-4.html"><i class="fa fa-check"></i><b>K.1</b> Carbon</a></li>
<li class="chapter" data-level="K.2" data-path="PhyLimUpN-4.html"><a href="PhyLimUpN-4.html"><i class="fa fa-check"></i><b>K.2</b> Nitrogen</a>
<ul>
<li class="chapter" data-level="K.2.1" data-path="PhyLimUpN-4.html"><a href="PhyLimUpN-4.html#PhyLimUPNB-5"><i class="fa fa-check"></i><b>K.2.1</b> Basic phytoplankton constituent model</a></li>
<li class="chapter" data-level="K.2.2" data-path="PhyLimUpN-4.html"><a href="PhyLimUpN-4.html#PhyLimUPNA-5"><i class="fa fa-check"></i><b>K.2.2</b> Advanced phytoplankton constituent model</a></li>
<li class="chapter" data-level="K.2.3" data-path="PhyLimUpN-4.html"><a href="PhyLimUpN-4.html#PhyLimUPNFix-5"><i class="fa fa-check"></i><b>K.2.3</b> Nitrogen fixing</a></li>
</ul></li>
<li class="chapter" data-level="K.3" data-path="PhyLimUpP-4.html"><a href="PhyLimUpP-4.html"><i class="fa fa-check"></i><b>K.3</b> Phosphorus</a>
<ul>
<li class="chapter" data-level="K.3.1" data-path="PhyLimUpP-4.html"><a href="PhyLimUpP-4.html#PhyLimUPPB-5"><i class="fa fa-check"></i><b>K.3.1</b> Basic phytoplankton constituent model</a></li>
<li class="chapter" data-level="K.3.2" data-path="PhyLimUpP-4.html"><a href="PhyLimUpP-4.html#PhyLimUPPA-5"><i class="fa fa-check"></i><b>K.3.2</b> Advanced phytoplankton constituent model</a></li>
</ul></li>
<li class="chapter" data-level="K.4" data-path="PhyLimUpSi-4.html"><a href="PhyLimUpSi-4.html"><i class="fa fa-check"></i><b>K.4</b> Silicate</a></li>
</ul></li>
<li class="chapter" data-level="L" data-path="PhyLosses-3.html"><a href="PhyLosses-3.html"><i class="fa fa-check"></i><b>L</b> Processes: phyto losses</a>
<ul>
<li class="chapter" data-level="L.1" data-path="PhyLossC-4.html"><a href="PhyLossC-4.html"><i class="fa fa-check"></i><b>L.1</b> Carbon</a></li>
<li class="chapter" data-level="L.2" data-path="PhyLossN-4.html"><a href="PhyLossN-4.html"><i class="fa fa-check"></i><b>L.2</b> Nitrogen</a></li>
<li class="chapter" data-level="L.3" data-path="PhyLossP-4.html"><a href="PhyLossP-4.html"><i class="fa fa-check"></i><b>L.3</b> Phosphorus</a></li>
<li class="chapter" data-level="L.4" data-path="PhyLossSi-4.html"><a href="PhyLossSi-4.html"><i class="fa fa-check"></i><b>L.4</b> Silicate</a></li>
</ul></li>
<li class="chapter" data-level="M" data-path="AppphyOther.html"><a href="AppphyOther.html"><i class="fa fa-check"></i><b>M</b> Processes: phyto other</a>
<ul>
<li class="chapter" data-level="M.1" data-path="PhySelfShad-3.html"><a href="PhySelfShad-3.html"><i class="fa fa-check"></i><b>M.1</b> Self shading</a></li>
<li class="chapter" data-level="M.2" data-path="PhyCellDens-3.html"><a href="PhyCellDens-3.html"><i class="fa fa-check"></i><b>M.2</b> Cell density</a></li>
</ul></li>
<li class="chapter" data-level="N" data-path="AppOrg.html"><a href="AppOrg.html"><i class="fa fa-check"></i><b>N</b> Processes: organic matter</a>
<ul>
<li class="chapter" data-level="N.1" data-path="SedDissOrgProd-3.html"><a href="SedDissOrgProd-3.html"><i class="fa fa-check"></i><b>N.1</b> Sediment flux</a></li>
<li class="chapter" data-level="N.2" data-path="Hydrol-3.html"><a href="Hydrol-3.html"><i class="fa fa-check"></i><b>N.2</b> Hydrolysis</a>
<ul>
<li class="chapter" data-level="N.2.1" data-path="Hydrol-3.html"><a href="Hydrol-3.html#HydrolCons-4"><i class="fa fa-check"></i><b>N.2.1</b> Consumption</a></li>
<li class="chapter" data-level="N.2.2" data-path="Hydrol-3.html"><a href="Hydrol-3.html#HydrolProd-4"><i class="fa fa-check"></i><b>N.2.2</b> Production</a></li>
</ul></li>
<li class="chapter" data-level="N.3" data-path="Break-3.html"><a href="Break-3.html"><i class="fa fa-check"></i><b>N.3</b> Breakdown</a>
<ul>
<li class="chapter" data-level="N.3.1" data-path="Break-3.html"><a href="Break-3.html#BreakCons-4"><i class="fa fa-check"></i><b>N.3.1</b> Consumption</a></li>
<li class="chapter" data-level="N.3.2" data-path="Break-3.html"><a href="Break-3.html#BreakProd-4"><i class="fa fa-check"></i><b>N.3.2</b> Production</a></li>
</ul></li>
<li class="chapter" data-level="N.4" data-path="Miner-3.html"><a href="Miner-3.html"><i class="fa fa-check"></i><b>N.4</b> Mineralisation</a>
<ul>
<li class="chapter" data-level="N.4.1" data-path="Miner-3.html"><a href="Miner-3.html#MinerCons-4"><i class="fa fa-check"></i><b>N.4.1</b> Consumption</a></li>
<li class="chapter" data-level="N.4.2" data-path="Miner-3.html"><a href="Miner-3.html#MinerProd-4"><i class="fa fa-check"></i><b>N.4.2</b> Production</a></li>
</ul></li>
<li class="chapter" data-level="N.5" data-path="Active-3.html"><a href="Active-3.html"><i class="fa fa-check"></i><b>N.5</b> Activation</a>
<ul>
<li class="chapter" data-level="N.5.1" data-path="Active-3.html"><a href="Active-3.html#ActiveCons-4"><i class="fa fa-check"></i><b>N.5.1</b> Consumption</a></li>
<li class="chapter" data-level="N.5.2" data-path="Active-3.html"><a href="Active-3.html#ActiveProd-4"><i class="fa fa-check"></i><b>N.5.2</b> Production</a></li>
</ul></li>
<li class="chapter" data-level="N.6" data-path="OrgPhot-3.html"><a href="OrgPhot-3.html"><i class="fa fa-check"></i><b>N.6</b> Photolysis</a>
<ul>
<li class="chapter" data-level="N.6.1" data-path="OrgPhot-3.html"><a href="OrgPhot-3.html#PhotCons-4"><i class="fa fa-check"></i><b>N.6.1</b> Consumption</a></li>
<li class="chapter" data-level="N.6.2" data-path="OrgPhot-3.html"><a href="OrgPhot-3.html#PhotProd-4"><i class="fa fa-check"></i><b>N.6.2</b> Production</a></li>
</ul></li>
<li class="chapter" data-level="N.7" data-path="OrgLight-3.html"><a href="OrgLight-3.html"><i class="fa fa-check"></i><b>N.7</b> Self shading</a></li>
<li class="chapter" data-level="N.8" data-path="OrgSettle-3.html"><a href="OrgSettle-3.html"><i class="fa fa-check"></i><b>N.8</b> Settling</a>
<ul>
<li class="chapter" data-level="N.8.1" data-path="OrgSettle-3.html"><a href="OrgSettle-3.html#OrgSettleNone-5"><i class="fa fa-check"></i><b>N.8.1</b> None</a></li>
<li class="chapter" data-level="N.8.2" data-path="OrgSettle-3.html"><a href="OrgSettle-3.html#OrgSettleConst-5"><i class="fa fa-check"></i><b>N.8.2</b> Constant</a></li>
<li class="chapter" data-level="N.8.3" data-path="OrgSettle-3.html"><a href="OrgSettle-3.html#OrgSettleConstD-5"><i class="fa fa-check"></i><b>N.8.3</b> Constant with density correction</a></li>
<li class="chapter" data-level="N.8.4" data-path="OrgSettle-3.html"><a href="OrgSettle-3.html#OrgSettleStokes-5"><i class="fa fa-check"></i><b>N.8.4</b> Stokes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="O" data-path="AppPath.html"><a href="AppPath.html"><i class="fa fa-check"></i><b>O</b> Processes: pathogens</a>
<ul>
<li class="chapter" data-level="O.1" data-path="Mortal-3.html"><a href="Mortal-3.html"><i class="fa fa-check"></i><b>O.1</b> Mortality</a></li>
<li class="chapter" data-level="O.2" data-path="Inactivation-3.html"><a href="Inactivation-3.html"><i class="fa fa-check"></i><b>O.2</b> Inactivation</a></li>
<li class="chapter" data-level="O.3" data-path="PathAttach-3.html"><a href="PathAttach-3.html"><i class="fa fa-check"></i><b>O.3</b> Attachment</a></li>
<li class="chapter" data-level="O.4" data-path="PathSettling-3.html"><a href="PathSettling-3.html"><i class="fa fa-check"></i><b>O.4</b> Settling</a></li>
<li class="chapter" data-level="O.5" data-path="Pathother-3.html"><a href="Pathother-3.html"><i class="fa fa-check"></i><b>O.5</b> Other</a>
<ul>
<li class="chapter" data-level="O.5.1" data-path="Pathother-3.html"><a href="Pathother-3.html#Pathtot-3"><i class="fa fa-check"></i><b>O.5.1</b> Total pathogens</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="P" data-path="AppConstits.html"><a href="AppConstits.html"><i class="fa fa-check"></i><b>P</b> Computed variables</a></li>
<li class="chapter" data-level="Q" data-path="AppDiags.html"><a href="AppDiags.html"><i class="fa fa-check"></i><b>Q</b> Diagnostic variables</a></li>
<li class="chapter" data-level="R" data-path="AppParams.html"><a href="AppParams.html"><i class="fa fa-check"></i><b>R</b> Parameters</a></li>
<li class="chapter" data-level="S" data-path="AppMBal.html"><a href="AppMBal.html"><i class="fa fa-check"></i><b>S</b> Mass Conservation Model</a>
<ul>
<li class="chapter" data-level="S.1" data-path="AppMBalIntent.html"><a href="AppMBalIntent.html"><i class="fa fa-check"></i><b>S.1</b> Intent</a></li>
<li class="chapter" data-level="S.2" data-path="AppMBalDescription.html"><a href="AppMBalDescription.html"><i class="fa fa-check"></i><b>S.2</b> Description</a></li>
<li class="chapter" data-level="S.3" data-path="AppMBalMdel.html"><a href="AppMBalMdel.html"><i class="fa fa-check"></i><b>S.3</b> Model suite</a></li>
<li class="chapter" data-level="S.4" data-path="AppMBalCalcs.html"><a href="AppMBalCalcs.html"><i class="fa fa-check"></i><b>S.4</b> Calculations</a></li>
<li class="chapter" data-level="S.5" data-path="AppMBalExecuting.html"><a href="AppMBalExecuting.html"><i class="fa fa-check"></i><b>S.5</b> Access and execution</a>
<ul>
<li class="chapter" data-level="S.5.1" data-path="AppMBalExecuting.html"><a href="AppMBalExecuting.html#AppMBalAccess"><i class="fa fa-check"></i><b>S.5.1</b> Access</a></li>
<li class="chapter" data-level="S.5.2" data-path="AppMBalExecuting.html"><a href="AppMBalExecuting.html#AppMBalExecu"><i class="fa fa-check"></i><b>S.5.2</b> Execution</a></li>
</ul></li>
<li class="chapter" data-level="S.6" data-path="AppMBalExRes-2.html"><a href="AppMBalExRes-2.html"><i class="fa fa-check"></i><b>S.6</b> Example results</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.tuflow.com"><img src="images/tuflow.png" style="width:246px;height:68px;"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><h0 style="color:rgb(226,1,119);">TUFLOW FV Water Quality (WQ) Module User Manual Release Candiate 2025.2</h0></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<p class="wmark before"></p>
<div id="TFVCommands-2" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> TUFLOW FV control file commands<a href="TFVCommands-2.html#TFVCommands-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A TUFLOW FV simulation is executed as described in the TUFLOW FV user manual. If the WQ Module is to be activated in a simulation then the following commands are to be included.</p>
<div id="WQMActivation-3" class="section level3 hasAnchor" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> WQ Module activation<a href="TFVCommands-2.html#WQMActivation-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Activation of the WQ Module is affected by specification of the following mandatory command in the TUFLOW control file:</p>
<p><a href="AppCommands.html#FVActivateWQM">Water Quality Model</a> <teq>==</teq> <a href="AppCommands.html#FVActivateWQM">TUFLOW</a></p>
<p>Following this activation, TUFLOW FV will look for the specification of the name of the separate WQ Module control file via the following mandatory command:</p>
<p><a href="AppCommands.html#FVWQMCtrlFl">Water Quality Control File</a> <teq>==</teq> <a href="AppCommands.html#FVWQMCtrlFl">&lt;<em>water quality control file name</em>&gt;.fvwq</a></p>
<p>This *.fvwq is separate to the *.fvc and contains user specified information that describes the configuration of the water quality simulation. If the *.fvwq is located in the same directory as the *.fvc, then this filename specification needs no associated path. It is recommended however that the *.fvwq be located in a directory separate to the *.fvc so that log and other related water quality specific files can be easily curated. If this approach is adopted, the following additional *.fvc command is required, noting that the folder path is specified as relative to the folder in which the *.fvc resides:</p>
<p><a href="AppCommands.html#FVWQMCtrlDr">Water Quality Model Directory</a> <teq>==</teq> <a href="AppCommands.html#FVWQMCtrlDr">&lt;<em>relative path to WQ directory</em>&gt;<span class="math inline">\(\backslash\)</span></a></p>
<p>This command must terminate in a <span class="math inline">\(\backslash\)</span> character. If this command is issued, then the *.fvwq water quality control file must be located in the directory specified.</p>
<p>In certain circumstances, executing water quality calculations in shallow cells can cause numerical instabilities. To control this behaviour, the WQ Module allows for water quality calculations to be switched off in cells that have depths less than a specified minimum (advection dispersion calculations will however continue to be performed - it is only the water quality-related non-conservative transformations that are turned off). This minimum depth (in meters) is specified in the TUFLOW FV *.fvc via the command:</p>
<p><a href="AppCommands.html#FVWQMmindpth">Cell Water Quality Depth</a> <teq>==</teq> <a href="AppParams.html#WQParMinWQDepth"><span class="math inline">\(d_{min-wq}\)</span></a></p>
<p>If this command is not issued then the default minimum depth of 0.01m (1cm) is applied.</p>
<p>This command parallels the TUFLOW FV command that controls the execution of hydrodynamic calculations as a function of water depth:</p>
<p><tcmd>Cell Wet/Dry Depths </tcmd><teq>==</teq><tblk> Cell Dry Depth (m), Cell Wet Depth (m)</tblk></p>
<p>In this TUFLOW FV command:</p>
<ul>
<li>The cell dry depth value (default = 1.0e-06 m) corresponds to the water depth below which a cell is dropped completely from hydrodynamic (TUFLOW FV) computations (subject to the status of surrounding cells) and is therefore considered to be dry. Cells that have dried in a given time step are given a stat value of 0 in all TUFLOW FV results files, so this stat field acts as a mask to determine which cells are wet and dry when using post processing tools and or scripts. Dry cells are not contoured in QGIS or SMS when viewed, but appear as transparent. If set to a negative value the cell dry depth is set to zero.</li>
<li>The cell wet depth value (default = 1.0e-02 m) corresponds to the water depth below which a cells momentum is set to zero in order to avoid unphysical velocities at very low depths. The cell is not considered to be dry and therefore has a stat value of -1. If this value is less than or equal to the cell dry depth, it is set to the cell dry depth.</li>
</ul>
<p>Given this, it is therefore recommended that across these commands and/or defaults, a user ensures that the following holds (as it does for the default values noted above):</p>
<p><span class="math display" id="eq:equ-wet-dry-depth">\[\begin{equation}
  \text{cell dry depth} \lt \text{cell wet depth} \lt \text{cell water quality depth}
    \tag{4.3}
\end{equation}\]</span></p>
<p>If, for example, cell water quality depth is set to a value less than cell dry depth, then water quality calculations will be attempted on cells that TUFLOW FV considers to be dry, which is to be avoided. If a situation arose where it was absolutely necessary, then cell water quality depth could be set to a value less than cell wet depth (but still greater than cell dry depth), but this is not recommended. To summarise, and if the recommended relative magnitudes of depths presented in Equation <a href="TFVCommands-2.html#eq:equ-wet-dry-depth">(4.3)</a> is adopted, then the following applies:</p>
<ul>
<li>water depth <span class="math inline">\(\gt\)</span> cell water quality depth: water quality calculations and momentum calculations performed</li>
<li>cell water quality depth <span class="math inline">\(\gt\)</span> water depth <span class="math inline">\(\gt\)</span> cell wet depth : water quality calculations switched off, momentum calculations performed (advection and dispersion calculations also performed on water quality variables)</li>
<li>cell wet depth <span class="math inline">\(\gt\)</span> water depth <span class="math inline">\(\gt\)</span> cell dry depth: water quality calculations switched off, momentum calculations switched off (advection and dispersion calculations also performed)</li>
<li>cell dry depth <span class="math inline">\(\gt\)</span> water depth: no calculations performed - cell is considered dry</li>
</ul>
<p>To support debugging, water quality calculations can also be turned off completely for all cells and all timesteps by issuing this command in the TUFLOW FV *.fvc:</p>
<p><a href="AppCommands.html#FVWQMdisableWQ">Disable Water Quality Model</a> <teq>==</teq> <a href="AppParams.html#WQParDisableWQ"><span class="math inline">\(B_{disable-wq}\)</span></a></p>
<p>and setting <a href="AppParams.html#WQParDisableWQ"><span class="math inline">\(B_{disable-wq}\)</span></a> <span class="math inline">\(= 1\)</span>. Omitting this command, or setting <a href="AppParams.html#WQParDisableWQ"><span class="math inline">\(B_{disable-wq}\)</span></a> to zero (0) instead of one (1), will activate water quality calculations. If this command is set to one (1), then the WQ Module will still initialise are report as such, but when TUFLOW executes, the module will not be called.</p>
<p>Consistent with their specification in the *.fvc, the status of these latter two commands and their arguments are reported in the TUFLOW FV log file, rather than the WQ Module log file.</p>
<p>An example block of these five commands that together activate the WQ Module, point TUFLOW FV to the water quality control file <tblk> ..\WQ$\Model_000.fvwq</tblk> and set the minimum depth for executing water quality calculations to 5 centimetres is:</p>
<p><tcmd>Water Quality Model </tcmd><teq>==</teq><tblk> TUFLOW</tblk><br />
<tcmd>Water Quality Model Directory </tcmd><teq>==</teq><tblk> ..\WQ\</tblk><br />
<tcmd>Water Quality Control File </tcmd><teq>==</teq><tblk> ..\Model_000.fvwq</tblk><br />
<tcmd>Cell Water Quality Depth </tcmd><teq>==</teq><tblk> 0.05</tblk><br />
<tcmd>Disable Water Quality Model </tcmd><teq>==</teq><tblk> 0</tblk></p>
</div>
<div id="InitBCCond-3" class="section level3 hasAnchor" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Initial and boundary conditions<a href="TFVCommands-2.html#InitBCCond-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In addition to activating the WQ Module and specifying its control file, WQ Module initial and boundary condition information is also set through the TUFLOW FV control file. The processes for doing so are described below. These are followed by discussion of the related matter of constituent ordering within initial and boundary condition specifications.</p>
<div id="ICGeneral-4" class="section level4 hasAnchor" number="4.4.2.1">
<h4><span class="header-section-number">4.4.2.1</span> Initial conditions<a href="TFVCommands-2.html#ICGeneral-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Water quality initial conditions are specified within or via the TUFLOW FV control file, akin to the manner in which the sediment initial conditions are set on behalf of the sediment transport module. This specification is mandatory.</p>
<p>There are currently a number of ways that water quality initial conditions may be specified. All are affected through TUFLOW FV commands which are described in the TUFLOW FV user manual. If no water quality initial conditions are specified, then a simulation will not execute. The specifications relevant to water quality simulations are described below. The potential limitations of some of these approaches are recognised and will be addressed in future release of the WQ Module.</p>
<div id="ICRst-5" class="section level5 hasAnchor" number="4.4.2.1.1">
<h5><span class="header-section-number">4.4.2.1.1</span> Restart files<a href="TFVCommands-2.html#ICRst-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Restart files are binary files that are generated from previous simulations. These can be used as inputs to initialise water quality simulations, provided that the restart and simulation model geometries, and water quality simulation computed variables and units are identical. A restart file is specified for all simulated quantities (not just water quality) and is controlled through commands described in the TUFLOW FV user manual. The key command is</p>
<p><a href="AppCommands.html#FVRestart">Restart</a> <teq>==</teq> <a href="AppCommands.html#FVRestart">&lt;<em>restart file name</em>&gt;.rst</a></p>
<p>Most often, restart files are located in the <tblk>log</tblk> directory, but this is not mandatory.</p>
</div>
<div id="ICGlob-5" class="section level5 hasAnchor" number="4.4.2.1.2">
<h5><span class="header-section-number">4.4.2.1.2</span> Globally uniform<a href="TFVCommands-2.html#ICGlob-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Globally uniform (i.e.across all spatial dimensions) initial conditions are set via a command issued from within the TUFLOW FV control file. This is often useful in setting initial conditions for simple small water bodies or at the commencement of a modelling process where initial conditions are set to be placeholders and updated at a later time. The command to do so is:</p>
<p><a href="AppCommands.html#FVInitWQGlob">Initial WQ Concentration</a> <teq>==</teq> <a href="AppCommands.html#FVInitWQGlob">Ordered Initial Conditions</a></p>
<p>Each water quality computed variable is set to a single value everywhere. These initial concentrations must be specified in a particular order and this order is described in the following sections for different simulation classes. If the above command is used to set water quality initial conditions, then it must be accompanied by parallel commands that set globally uniform salinity, temperature (and optionally sediment) initial conditions:</p>
<p><tcmd>Initial Temperature </tcmd><teq>==</teq><tblk> 15.0</tblk><br />
<tcmd>Initial Water Level </tcmd><teq>==</teq><tblk> 1.00</tblk><br />
<tcmd>Initial Sediment Concentration </tcmd><teq>==</teq><tblk> 10.0</tblk><br />
<tcmd>Initial Salinity </tcmd><teq>==</teq><tblk> 3.5</tblk></p>
<p>Setting a mix of globally uniform and other initial conditions (such as profile, 2D or 3D) is not permitted.</p>
</div>
<div id="ICGlobLat-5" class="section level5 hasAnchor" number="4.4.2.1.3">
<h5><span class="header-section-number">4.4.2.1.3</span> Globally laterally uniform<a href="TFVCommands-2.html#ICGlobLat-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Globally laterally uniform initial conditions use an initial profile to set hydrodynamic and water quality computed variable concentrations to be everywhere the same laterally, but to vary vertically. This is often useful in setting initial conditions for deep stationary water bodies such as lakes or reservoirs. The command to do so is:</p>
<p><a href="AppCommands.html#FVInitWQProf">Initial Scalar Profile</a> <teq>==</teq> <a href="AppCommands.html#FVInitWQProf"><initial condition file name>.csv</a></p>
<p>An example of the form of the text file argument <tblk>&lt;initial condition file name&gt;.csv</tblk> for simulating five water quality constituents is:</p>
<p><tblk>Depth,Sal,temp,sed_1,WQ_1,WQ_2,WQ_3,WQ_4,WQ_5</tblk><br />
<tblk>0.0,2.0,22.0,5.0,8.0,22.0,2.6,1.4,0.5</tblk><br />
<tblk>10.0,2.5,15.0,15.0,5.0,32.0,2.6,1.4,0.2</tblk><br />
<tblk>20.0,3.0,10.0,25.0,0.0,42.0,5.6,5.4,0.1</tblk></p>
<p>If the above command is used, then it must include profile information that also sets laterally uniform salinity, temperature (and optionally sediment) initial conditions. Setting a mix of laterally uniform and other initial conditions (such as globally uniform, 2D or 3D) is not permitted.</p>
<p>The order of these columns in the argument csv file is not important, but the columns headers are keywords and must be used as shown. For example, the following structure for <tblk>&lt;initial condition file name&gt;.csv</tblk> is permitted:</p>
<p><tblk>Depth,temp,WQ_3,Sal,sed_1,WQ_4,WQ_1,WQ_2,WQ_5</tblk><br />
<tblk>0,22,2.6,2,5,1.4,8,22,0.5</tblk><br />
<tblk>10,15,2.6,2.5,15,1.4,5,32,0.2</tblk><br />
<tblk>20,10,3,3,25,5.4,0,42,0.1</tblk></p>
<p>Notwithstanding this, it is still considered best practise to develop initial and boundary condition files that have a logically sequential order. Water quality initial conditions headers are labelled <tblk>WQ_1</tblk>, <tblk>WQ_2</tblk> onward, and the match between these header labels and water quality computed variables is set by the computed variable ordering of the simulation class deployed.</p>
</div>
<div id="ICGlobVert-5" class="section level5 hasAnchor" number="4.4.2.1.4">
<h5><span class="header-section-number">4.4.2.1.4</span> Globally vertically uniform<a href="TFVCommands-2.html#ICGlobVert-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Globally vertically uniform initial conditions use an initial two dimensional map to set hydrodynamic and water quality computed variable concentrations to be everywhere the same vertically, but to vary laterally. This is often useful in setting initial conditions for shallow water bodies that have horizontal concentration gradients such as small estuaries or urban lakes. The command to do so is:</p>
<p><a href="AppCommands.html#FVInitWQ2D">Initial Condition 2D</a> <teq>==</teq> <a href="AppCommands.html#FVInitWQ2D"><initial condition file name>.csv</a></p>
<p>An example of the form of the text file argument <tblk>&lt;initial condition file name&gt;.csv</tblk> for simulating five water quality constituents is:</p>
<p><tblk>ID,WL,sal,temp,sed_1,WQ_1</tblk><br />
<tblk>1,1.0,3.5,15,10.0,8.0</tblk><br />
<tblk>2,1.0,3.5,15,10.0,7.5</tblk><br />
<tblk>3,1.0,3.5,15,10.0,7.0</tblk><br />
<tblk>4,1.0,3.5,15,10.0,6.5</tblk></p>
<p>If the above command is used, then it must include information that also sets vertically uniform salinity and temperature (and optionally sediment) initial conditions, as well as water level. Setting a mix of vertically uniform and other initial conditions (such as globally uniform, laterally uniform or 3D) is not permitted.</p>
<p>The order of these columns in the argument csv file is not important, but the columns headers are keywords and must be used as shown. For example, the following structure for <tblk>&lt;initial condition file name&gt;.csv</tblk> is permitted:</p>
<p><tblk>ID,WQ_1,WL,sed_1,sal,temp</tblk><br />
<tblk>1,8.0,1.0,10.0,3.5,15</tblk><br />
<tblk>2,7.5,1.0,10.0,3.5,15</tblk><br />
<tblk>3,7.0,1.0,10.0,3.5,15</tblk><br />
<tblk>4,6.5,1.0,10.0,3.5,15</tblk></p>
<p>Notwithstanding this, it is still considered best practise to develop initial and boundary condition files that have a logically sequential order. Water quality initial conditions headers are labelled <tblk>WQ_1</tblk>, <tblk>WQ_2</tblk> onward, and the match between these header labels and water quality computed variables is set by the computed variable ordering of the simulation class deployed.</p>
</div>
<div id="ICGlob3d-5" class="section level5 hasAnchor" number="4.4.2.1.5">
<h5><span class="header-section-number">4.4.2.1.5</span> Globally varying<a href="TFVCommands-2.html#ICGlob3d-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Globally variable initial conditions use an initial three dimensional map to set hydrodynamic and water quality computed variable concentrations at each 3D cell. This is analogous to using a restart file. The command to do so is:</p>
<p><a href="AppCommands.html#FVInitWQ3D">Initial Condition 3D</a> <teq>==</teq> <a href="AppCommands.html#FVInitWQ3D"><initial condition file name>.csv</a></p>
<p>An example of the form of the text file argument <tblk>&lt;initial condition file name&gt;.csv</tblk> for simulating five water quality constituents is as follows, noting that the <tblk>ID</tblk> column refers to a three dimensional cell ID, rather than the two dimensional column ID used in the <tcmd>Initial Condition 2D</tcmd><teq> ==</teq> command.</p>
<p><tblk>ID,WL,sal,temp,sed_1,WQ_1</tblk><br />
<tblk>1,1.0,3.5,15,10.0,8.0</tblk><br />
<tblk>2,1.0,3.5,14,10.0,7.5</tblk><br />
<tblk>3,1.0,3.5,13,10.0,7.0</tblk><br />
<tblk>4,1.0,3.5,12,8.0,6.5</tblk><br />
<tblk>5,1.0,3.5,15,10.0,8.0</tblk><br />
<tblk>6,1.0,3.5,14,10.0,7.4</tblk><br />
<tblk>7,1.0,3.5,13,10.0,7.1</tblk><br />
<tblk>8,1.0,3.5,11,9.0,6.6</tblk></p>
<p>If the above command is used, then it must include information that also sets globally varying salinity and temperature (and optionally sediment) initial conditions, as well as water level. Setting a mix of vertically uniform and other initial conditions (such as globally uniform, laterally uniform or 2D) is not permitted.</p>
<p>The order of these columns in the argument csv file is not important, but the columns headers are keywords and must be used as shown. For example, the following structure for <tblk>&lt;initial condition file name&gt;.csv</tblk> is permitted:</p>
<p><tblk>ID,WQ_1,WL,sed_1,sal,temp</tblk><br />
<tblk>1,8.0,1.0,10.0,3.5,15</tblk><br />
<tblk>2,7.5,1.0,10.0,3.5,14</tblk><br />
<tblk>3,7.0,1.0,10.0,3.5,13</tblk><br />
<tblk>4,6.5,1.0,8.0,3.5,12</tblk><br />
<tblk>5,8.0,1.0,10.0,3.5,15</tblk><br />
<tblk>6,7.4,1.0,10.0,3.5,14</tblk><br />
<tblk>7,7.1,1.0,10.0,3.5,13</tblk><br />
<tblk>8,6.6,1.0,9.0,3.5,12</tblk></p>
<p>Notwithstanding this, it is still considered best practise to develop initial and boundary condition files that have a logically sequential order. Water quality initial conditions headers are labelled <tblk>WQ_1</tblk>, <tblk>WQ_2</tblk> onward, and the match between these header labels and water quality computed variables is set by the computed variable ordering of the simulation class deployed.</p>
</div>
</div>
<div id="BCGeneral-4" class="section level4 hasAnchor" number="4.4.2.2">
<h4><span class="header-section-number">4.4.2.2</span> Boundary conditions<a href="TFVCommands-2.html#BCGeneral-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Water quality boundary conditions are also specified via the *.fvc file, either directly or via an include statement that points TUFLOW FV to a subsidiary boundary condition control file(s). This specification of water quality variable concentrations is optional, so in early water quality model construction stages this specification can be omitted. Omitted water quality boundary conditions will be set to zero. It is not recommended that this approach be taken beyond initial simulation setup stages, but that it be used only to develop a water quality simulation to the point where it executes without issuing error or unwanted warning messages. At this point, all water quality boundary conditions should be assigned.</p>
<p>All TUFLOW boundary conditions that specify water temperature or salinity will also require specification of the behaviour of simulated water quality variables. Common boundary conditions to which this applies include inflows (e.g.types Q, QC, QN, QG and others) and tidal boundaries (e.g.types WLS). Wave and meteorological boundary conditions do not need specification of water quality conditions.</p>
<p>As for initial conditions, boundary conditions that use columnar data structures (e.g.*.csv files) are interpreted using column headers specified in an <a href="TFVCommands-2.html#Ordering-4">expected order</a> within calling TUFLOW FV BC blocks. Further detail and the associated ordering is provided in the following sections (sections <a href="SimSetSimClDO-2.html#SimSetSimClDO-2">4.6</a>, <a href="SimSetSimClInorg-2.html#SimSetSimClInorg-2">4.7</a> and <a href="SimSetSimClOrg-2.html#SimSetSimClOrg-2">4.8</a> for simulation classes DO, inorganics and organics, respectively).</p>
</div>
<div id="Ordering-4" class="section level4 hasAnchor" number="4.4.2.3">
<h4><span class="header-section-number">4.4.2.3</span> Ordering<a href="TFVCommands-2.html#Ordering-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Specification of initial conditions and most boundary conditions presently relies on listing water quality variables in a particular order. This applies in all instances when water quality initial or boundary conditions are provided in columnar or list form, which is most frequently in text file format. This is conceptually similar to the manner in which TUFLOW FV also relies on ordering of its initial and boundary conditions.</p>
<p>Future releases of TUFLOW FV will allow alternative methods for specification of initial and boundary conditions that do not rely on assumed ordering. In the interim however, the following applies.</p>
<div id="OrderIC-5" class="section level5 hasAnchor" number="4.4.2.3.1">
<h5><span class="header-section-number">4.4.2.3.1</span> Initial Conditions<a href="TFVCommands-2.html#OrderIC-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Initial conditions, if set using means other than a restart file, must be specified with water quality constituents in a preset order (globally uniform), or be referenced using incrementally numbered headers as <tblk>WQ_1</tblk>, <tblk>WQ_2</tblk> etc (profile, 2D or 3D, see Section <a href="TFVCommands-2.html#ICGeneral-4">4.4.2.1</a>).</p>
<p>For globally uniform initial conditions (Section <a href="TFVCommands-2.html#ICGlob-5">4.4.2.1.2</a>), the following *.fvc command can be used for a typical inorganics simulation class:</p>
<p><a href="AppCommands.html#FVInitWQGlob">Initial WQ Concentration</a> <teq>==</teq><tblk> 7.5, 0.0, 4.2, 10.5, 0.6, 5.5</tblk></p>
<p>There are no references to headers or variable names, but TUFLOW FV assumes that these numbers correspond to the ordered variables of the particular configuration of the inorganics simulation class returned to it from the WQ Module. In this example, this ordering is:</p>
<ul>
<li>Dissolved oxygen (7.5 mg/L)</li>
<li>Silicate (0.0 mg/L)</li>
<li>Ammonium (4.2 mg/L)</li>
<li>Nitrate (10.5 mg/L)</li>
<li>Filterable reactive phosphorus (0.6 mg/L), and</li>
<li>One phytoplankton group (5.5 <span class="math inline">\(\mu\)</span>g/L)</li>
</ul>
<p>The expected ordering is the same as that for boundary condition specifications, as described below.</p>
<p>For other initial condition specifications that involve providing csv files, the headers <tblk>WQ_1</tblk>, <tblk>WQ_2</tblk> etc must be used to denote water quality initial conditions. The ordering of the associated columns does not matter, however the assignment of a computed variable initial condition to a <tblk>WQ_XX</tblk> header (where <tblk>XX</tblk> is a number) does rely on the ordering described below - the first water quality computed variable expected should be headed <tblk>WQ_1</tblk> and so on.</p>
</div>
<div id="OrderBC-5" class="section level5 hasAnchor" number="4.4.2.3.2">
<h5><span class="header-section-number">4.4.2.3.2</span> Boundary Conditions<a href="TFVCommands-2.html#OrderBC-5" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Ordering of water quality boundary conditions is only important when specifying header information via the <tcmd>BC Header </tcmd><teq>==</teq> (or equivalent) command within a TUFLOW FV *.fvc file BC block. It is in these commands (where comma separated header strings are specified) that TUFLOW FV expects a particular order of TUFLOW FV and WQ Module constituents. No column ordering is expected in boundary condition data files themselves. Ordering is only expected in the order of headers specified within a BC block within an TUFLOW FV control file. This is best illustrated by example.</p>
<p>If a user has elected to deploy the inorganics simulation class without sediment, then the following will be simulated (beyond the basic velocity and water level hydrodynamic variable suite):</p>
<ul>
<li>Salinity</li>
<li>Temperature</li>
<li>Dissolved oxygen</li>
<li>Silicate</li>
<li>Ammonium</li>
<li>Nitrate</li>
<li>Filterable reactive phosphorus</li>
<li>One (assumed for this example, but can be multiple) phytoplankton group</li>
</ul>
<p>These will eventually need proper boundary condition specification in boundary condition blocks and have supporting data provided in (usually) text files. In a simple model with only one WL boundary condition, a BC block of the following form would be required as a minimum to properly specify the hydrodynamic and water quality boundaries:</p>
<p><tcmd>BC </tcmd><teq>==</teq><tblk> WL, 1, datafile.csv</tblk><br />
<tcmd>BC Header </tcmd><teq>==</teq><tblk> Time, WSEl, Sali, Temp, DOxy, SiO4, NH41, Nitr, FRPh, Bluegreen</tblk><br />
<tcmd>End BC</tcmd></p>
<p>To be clear:</p>
<ul>
<li>The names listed on the <tcmd>BC Header </tcmd><teq>==</teq> line (<tblk>time, wse </tblk>etc.) are not keywords or special names, and can be any names that a user chooses</li>
<li>TUFLOW FV will however, assume that these names (whatever they have been set to) have been listed in such an order that they have a one to one correspondence to the ten computed variables as follows:
<ol style="list-style-type: decimal">
<li><tblk>Time</tblk> <span class="math inline">\(\rightarrow\)</span> Time stamp</li>
<li><tblk>WSEl</tblk> <span class="math inline">\(\rightarrow\)</span> Water surface elevation</li>
<li><tblk>Sali</tblk> <span class="math inline">\(\rightarrow\)</span> Salinity</li>
<li><tblk>Temp</tblk> <span class="math inline">\(\rightarrow\)</span> Temperature</li>
<li><tblk>DOxy</tblk> <span class="math inline">\(\rightarrow\)</span> Dissolved oxygen</li>
<li><tblk>SiO4</tblk> <span class="math inline">\(\rightarrow\)</span> Silicate</li>
<li><tblk>NH41</tblk> <span class="math inline">\(\rightarrow\)</span> Ammonium</li>
<li><tblk>Nitr</tblk> <span class="math inline">\(\rightarrow\)</span> Nitrate</li>
<li><tblk>FRPh</tblk> <span class="math inline">\(\rightarrow\)</span> Filterable reactive phosphorus</li>
<li><tblk>Bluegreen</tblk> <span class="math inline">\(\rightarrow\)</span> Phytoplankton group one</li>
</ol></li>
<li>TUFLOW then matches the user specified names to the expected simulation variables, based on this ordering, to then interrogate boundary condition files.</li>
</ul>
<p>Following the above matching, TUFLOW FV interrogates the relevant boundary condition file (<tblk>datafile.csv</tblk> in the example above), where this file can have its columns arranged in any order: the order of these columns does not matter because TUFLOW FV will use the mapping previously developed via the <tcmd>BC Header </tcmd><teq>==</teq> command to look through all data file columns one by one, searching for the headers specified, regardless of the actual ordering of boundary condition file columns. For example, the silicate boundary condition data could be positioned in column 14 of the boundary condition file, but as long as it is labelled with the correct header (<tblk>SiO4</tblk> as specified in <tcmd>BC Header </tcmd><teq>==</teq>), TUFLOW FV will know to assign column 14 of the boundary condition data file to the silicate computed variable.</p>
<p>Ordering is set by the users selection of simulation class and constituent models, and is explicitly listed in each simulation class section (Sections <a href="SimSetSimClDO-2.html#ConOrdDO-3">4.6.5</a>, <a href="SimSetSimClInorg-2.html#ConOrdInorg-3">4.7.5</a> and <a href="SimSetSimClOrg-2.html#ConOrdOrg-3">4.8.5</a> for DO, inorganics and organics, respectively). The expected ordering for a particular simulation is also reported in the simulation water quality log file for checking.</p>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="TFVGeneral-2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="WQctrlfil-2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": false,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": false,
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
