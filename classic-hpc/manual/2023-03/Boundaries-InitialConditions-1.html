<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 8 Boundaries and Initial Conditions | TUFLOW Classic/HPC User Manual 2023-03</title>
  <meta name="description" content="Section 8 Boundaries and Initial Conditions | TUFLOW Classic/HPC User Manual 2023-03" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 8 Boundaries and Initial Conditions | TUFLOW Classic/HPC User Manual 2023-03" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://docs.tuflow.com/classic-hpc/manual/2023-03/images/TUFLOW_Manual_SEO_007.PNG" />
  <meta property="og:description" content="Section 8 Boundaries and Initial Conditions | TUFLOW Classic/HPC User Manual 2023-03" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 8 Boundaries and Initial Conditions | TUFLOW Classic/HPC User Manual 2023-03" />
  
  <meta name="twitter:description" content="Section 8 Boundaries and Initial Conditions | TUFLOW Classic/HPC User Manual 2023-03" />
  <meta name="twitter:image" content="https://docs.tuflow.com/classic-hpc/manual/2023-03/images/TUFLOW_Manual_SEO_007.PNG" />

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/TUFLOW.ico" type="image/x-icon" />
<link rel="prev" href="TwoD-Domains-1.html"/>
<link rel="next" href="AD-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 1em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css\style.css" type="text/css" />
<link rel="stylesheet" href="css\toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://docs.tuflow.com/classic-hpc/manual/2023-03/"><img src="images/TUFLOW-Manual-2023-03.png" style="width:270px" ></a></li>

<li class="divider"></li>
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i>Overview</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#how-to-use-this-manual"><i class="fa fa-check"></i>How to use this Manual</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#navigation"><i class="fa fa-check"></i>Navigation</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#searching"><i class="fa fa-check"></i>Searching</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#about-this-manual"><i class="fa fa-check"></i>About this Manual</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#glossary-and-notation"><i class="fa fa-check"></i>Glossary and Notation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="contents.html"><a href="contents.html"><i class="fa fa-check"></i>Contents</a>
<ul>
<li class="chapter" data-level="" data-path="contents.html"><a href="contents.html#list-of-figures"><i class="fa fa-check"></i>List of Figures</a></li>
<li class="chapter" data-level="" data-path="contents.html"><a href="contents.html#list-of-tables"><i class="fa fa-check"></i>List of Tables</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Introduction-1.html"><a href="Introduction-1.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="Introduction-1.html"><a href="Introduction-1.html#TUFLOWProducts-2"><i class="fa fa-check"></i><b>1.1</b> TUFLOW Products</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="Introduction-1.html"><a href="Introduction-1.html#TUFLOW-CLA-3"><i class="fa fa-check"></i><b>1.1.1</b> TUFLOW Classic – 2D Semi-Implicit Solver</a></li>
<li class="chapter" data-level="1.1.2" data-path="Introduction-1.html"><a href="Introduction-1.html#TUFLOW-HPC-3"><i class="fa fa-check"></i><b>1.1.2</b> TUFLOW HPC – 2D GPU Accelerated Solver</a></li>
<li class="chapter" data-level="1.1.3" data-path="Introduction-1.html"><a href="Introduction-1.html#TUFLOW1D-3"><i class="fa fa-check"></i><b>1.1.3</b> TUFLOW 1D (ESTRY) – 1D Solver</a></li>
<li class="chapter" data-level="1.1.4" data-path="Introduction-1.html"><a href="Introduction-1.html#SWMM1D-3"><i class="fa fa-check"></i><b>1.1.4</b> EPA SWMM – 1D Solver</a></li>
<li class="chapter" data-level="1.1.5" data-path="Introduction-1.html"><a href="Introduction-1.html#AddonModules-3"><i class="fa fa-check"></i><b>1.1.5</b> Add-on Modules</a>
<ul>
<li class="chapter" data-level="1.1.5.1" data-path="Introduction-1.html"><a href="Introduction-1.html#ADModule-4"><i class="fa fa-check"></i><b>1.1.5.1</b> Advection Dispersion (AD) Module</a></li>
<li class="chapter" data-level="1.1.5.2" data-path="Introduction-1.html"><a href="Introduction-1.html#TUFLOWCATCH-4"><i class="fa fa-check"></i><b>1.1.5.2</b> TUFLOW CATCH Module</a></li>
<li class="chapter" data-level="1.1.5.3" data-path="Introduction-1.html"><a href="Introduction-1.html#GPUHardware-4"><i class="fa fa-check"></i><b>1.1.5.3</b> GPU Hardware (GPU) Module</a></li>
<li class="chapter" data-level="1.1.5.4" data-path="Introduction-1.html"><a href="Introduction-1.html#QDTorM2DModule-4"><i class="fa fa-check"></i><b>1.1.5.4</b> Quadtree or Multiple 2D Domain (M2D) Module</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="Introduction-1.html"><a href="Introduction-1.html#TUFLOWWebinars-2"><i class="fa fa-check"></i><b>1.2</b> TUFLOW Webinars</a></li>
<li class="chapter" data-level="1.3" data-path="Introduction-1.html"><a href="Introduction-1.html#ModellingEnvironment-2"><i class="fa fa-check"></i><b>1.3</b> Modelling Environment</a></li>
<li class="chapter" data-level="1.4" data-path="Introduction-1.html"><a href="Introduction-1.html#LimitationsandRecommendations-2"><i class="fa fa-check"></i><b>1.4</b> Limitations and Recommendations</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a>
<ul>
<li class="chapter" data-level="2.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#HowtoBuildYourFirstModel-2"><i class="fa fa-check"></i><b>2.1</b> How to Build Your First Model</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#TutorialModels-3"><i class="fa fa-check"></i><b>2.1.1</b> Tutorial Models</a></li>
<li class="chapter" data-level="2.1.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#ExampleModels-3"><i class="fa fa-check"></i><b>2.1.2</b> Example Models</a></li>
<li class="chapter" data-level="2.1.3" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#DemonstrationModels-3"><i class="fa fa-check"></i><b>2.1.3</b> Demonstration Models</a></li>
<li class="chapter" data-level="2.1.4" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#LicenceFreeDemoMode-3"><i class="fa fa-check"></i><b>2.1.4</b> Licence Free Demo Mode</a></li>
<li class="chapter" data-level="2.1.5" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#eLearningModules-3"><i class="fa fa-check"></i><b>2.1.5</b> eLearning Modules</a></li>
<li class="chapter" data-level="2.1.6" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#InstructorLedTUFLOWTrainingCourses-3"><i class="fa fa-check"></i><b>2.1.6</b> Instructor Led TUFLOW Training Courses</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#TheTUFLOWModellingConcept-2"><i class="fa fa-check"></i><b>2.2</b> The TUFLOW Modelling Concept</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#Notepad-3"><i class="fa fa-check"></i><b>2.2.1</b> Notepad++</a></li>
<li class="chapter" data-level="2.2.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#QGISTUFLOWViewer-3"><i class="fa fa-check"></i><b>2.2.2</b> QGIS / TUFLOW Viewer</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#InstallingandRunningTUFLOW-2"><i class="fa fa-check"></i><b>2.3</b> Installing and Running TUFLOW</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#TUFLOWDownloadsandInstallation-3"><i class="fa fa-check"></i><b>2.3.1</b> TUFLOW Downloads and Installation</a></li>
<li class="chapter" data-level="2.3.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#Licencing-3"><i class="fa fa-check"></i><b>2.3.2</b> Licencing</a></li>
<li class="chapter" data-level="2.3.3" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#PerformingSimulations-3"><i class="fa fa-check"></i><b>2.3.3</b> Performing Simulations</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#FoldersFileTypesandFileNaming-2"><i class="fa fa-check"></i><b>2.4</b> Folders, File Types and File Naming</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#FolderStructure-3"><i class="fa fa-check"></i><b>2.4.1</b> Folder Structure</a></li>
<li class="chapter" data-level="2.4.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#FileTypes-3"><i class="fa fa-check"></i><b>2.4.2</b> File Types</a></li>
<li class="chapter" data-level="2.4.3" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#NamingConventions-3"><i class="fa fa-check"></i><b>2.4.3</b> Naming Conventions</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#TipsandTricks-2"><i class="fa fa-check"></i><b>2.5</b> Tips and Tricks</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html"><i class="fa fa-check"></i><b>3</b> Hydraulic Modelling Fundamentals</a>
<ul>
<li class="chapter" data-level="3.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#Fundaments-Introduction-2"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#Schematisation-2"><i class="fa fa-check"></i><b>3.2</b> Schematisation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#GeneralGuidance-3"><i class="fa fa-check"></i><b>3.2.1</b> General Guidance</a></li>
<li class="chapter" data-level="3.2.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#id_1D2Dor3D-3"><i class="fa fa-check"></i><b>3.2.2</b> Model Dimensions: 1D, 2D or 3D?</a>
<ul>
<li class="chapter" data-level="3.2.2.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#one-dimensional-1d"><i class="fa fa-check"></i><b>3.2.2.1</b> One Dimensional (1D)</a></li>
<li class="chapter" data-level="3.2.2.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#two-dimensional-2d"><i class="fa fa-check"></i><b>3.2.2.2</b> Two Dimensional (2D)</a></li>
<li class="chapter" data-level="3.2.2.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#three-dimensional-3d"><i class="fa fa-check"></i><b>3.2.2.3</b> Three Dimensional (3D)</a></li>
</ul></li>
<li class="chapter" data-level="3.2.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#Coupled1D2D-3"><i class="fa fa-check"></i><b>3.2.3</b> Coupled 1D-2D</a></li>
<li class="chapter" data-level="3.2.4" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FixedGridorQuadtreeGrid-3"><i class="fa fa-check"></i><b>3.2.4</b> Quadtree Grid</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#ModelResolutionDiscretisation-2"><i class="fa fa-check"></i><b>3.3</b> Model Resolution (Discretisation)</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#id_1DNetworks-3"><i class="fa fa-check"></i><b>3.3.1</b> 1D Networks</a></li>
<li class="chapter" data-level="3.3.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#CellSizes-3"><i class="fa fa-check"></i><b>3.3.2</b> 2D Cell Sizes</a></li>
<li class="chapter" data-level="3.3.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#SubGridSamplingSGS-3"><i class="fa fa-check"></i><b>3.3.3</b> Sub-Grid Sampling (SGS)</a>
<ul>
<li class="chapter" data-level="3.3.3.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#SGS-benefits-4"><i class="fa fa-check"></i><b>3.3.3.1</b> Benefits of SGS</a></li>
</ul></li>
<li class="chapter" data-level="3.3.4" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#CellSizeResultsConvergence-3"><i class="fa fa-check"></i><b>3.3.4</b> Cell Size Results Convergence</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#SolutionAccuracy-2"><i class="fa fa-check"></i><b>3.4</b> Solution Accuracy</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FluidFlowPhysicalTerms-3"><i class="fa fa-check"></i><b>3.4.1</b> Fluid Flow Physical Terms</a>
<ul>
<li class="chapter" data-level="3.4.1.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#d-continuity-equation"><i class="fa fa-check"></i><b>3.4.1.1</b> 1D Continuity Equation</a></li>
<li class="chapter" data-level="3.4.1.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#d-momentum-equation"><i class="fa fa-check"></i><b>3.4.1.2</b> 1D Momentum Equation</a></li>
<li class="chapter" data-level="3.4.1.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#d-continuity-equation-1"><i class="fa fa-check"></i><b>3.4.1.3</b> 2D Continuity Equation</a></li>
<li class="chapter" data-level="3.4.1.4" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#d-momentum-equation-1"><i class="fa fa-check"></i><b>3.4.1.4</b> 2D Momentum Equation</a></li>
</ul></li>
<li class="chapter" data-level="3.4.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FormsoftheEquations-3"><i class="fa fa-check"></i><b>3.4.2</b> Forms of the Equations</a>
<ul>
<li class="chapter" data-level="3.4.2.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#diffusive-wave-equation"><i class="fa fa-check"></i><b>3.4.2.1</b> Diffusive Wave Equation</a></li>
<li class="chapter" data-level="3.4.2.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#kinematic-wave-equation"><i class="fa fa-check"></i><b>3.4.2.2</b> Kinematic Wave Equation</a></li>
</ul></li>
<li class="chapter" data-level="3.4.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#NumericalAccuracy-3"><i class="fa fa-check"></i><b>3.4.3</b> Numerical Accuracy</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#TimestepBackground-2"><i class="fa fa-check"></i><b>3.5</b> Timestep</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FixedVersusAdaptiveTimestepping-3"><i class="fa fa-check"></i><b>3.5.1</b> Fixed versus Adaptive Timestepping</a></li>
<li class="chapter" data-level="3.5.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#OneDDomainsTimestep-3"><i class="fa fa-check"></i><b>3.5.2</b> TUFLOW 1D (ESTRY) and EPA SWMM</a></li>
<li class="chapter" data-level="3.5.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#TUFLOWClassicTimestep-3"><i class="fa fa-check"></i><b>3.5.3</b> TUFLOW Classic 2D</a></li>
<li class="chapter" data-level="3.5.4" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#TUFLOWHPCTimestep-3"><i class="fa fa-check"></i><b>3.5.4</b> TUFLOW HPC 2D</a>
<ul>
<li class="chapter" data-level="3.5.4.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#TimesteppingEfficiencyOutput-4"><i class="fa fa-check"></i><b>3.5.4.1</b> Timestep Efficiency Output</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#SimulationTimes-2"><i class="fa fa-check"></i><b>3.6</b> Simulation Times</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html"><i class="fa fa-check"></i><b>4</b> Control Files and Input Layers</a>
<ul>
<li class="chapter" data-level="4.1" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#control-files"><i class="fa fa-check"></i><b>4.2</b> Control Files</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Notation-3"><i class="fa fa-check"></i><b>4.2.1</b> Rules and Notation</a></li>
<li class="chapter" data-level="4.2.2" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#FilePath-3"><i class="fa fa-check"></i><b>4.2.2</b> File Paths</a></li>
<li class="chapter" data-level="4.2.3" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Units-3"><i class="fa fa-check"></i><b>4.2.3</b> Units</a></li>
<li class="chapter" data-level="4.2.4" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TCF-3"><i class="fa fa-check"></i><b>4.2.4</b> TCF</a></li>
<li class="chapter" data-level="4.2.5" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#ECF-3"><i class="fa fa-check"></i><b>4.2.5</b> ECF</a></li>
<li class="chapter" data-level="4.2.6" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TBC-3"><i class="fa fa-check"></i><b>4.2.6</b> TBC</a></li>
<li class="chapter" data-level="4.2.7" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TGC-3"><i class="fa fa-check"></i><b>4.2.7</b> TGC</a></li>
<li class="chapter" data-level="4.2.8" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#QCF-3"><i class="fa fa-check"></i><b>4.2.8</b> QCF</a></li>
<li class="chapter" data-level="4.2.9" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TEF-3"><i class="fa fa-check"></i><b>4.2.9</b> TEF</a></li>
<li class="chapter" data-level="4.2.10" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TOC-3"><i class="fa fa-check"></i><b>4.2.10</b> TOC</a></li>
<li class="chapter" data-level="4.2.11" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TRFC-3"><i class="fa fa-check"></i><b>4.2.11</b> TRFC</a></li>
<li class="chapter" data-level="4.2.12" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TESF-3"><i class="fa fa-check"></i><b>4.2.12</b> TESF</a></li>
<li class="chapter" data-level="4.2.13" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#ADCF-3"><i class="fa fa-check"></i><b>4.2.13</b> ADCF</a></li>
<li class="chapter" data-level="4.2.14" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TSCF-3"><i class="fa fa-check"></i><b>4.2.14</b> TSCF</a></li>
<li class="chapter" data-level="4.2.15" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#ReadFile-3"><i class="fa fa-check"></i><b>4.2.15</b> Read File</a></li>
<li class="chapter" data-level="4.2.16" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Override-3"><i class="fa fa-check"></i><b>4.2.16</b> Override Files</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Databases-2"><i class="fa fa-check"></i><b>4.3</b> Databases</a></li>
<li class="chapter" data-level="4.4" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GISLayers-2"><i class="fa fa-check"></i><b>4.4</b> Input Layers</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GISFormats-3"><i class="fa fa-check"></i><b>4.4.1</b> Input Formats</a></li>
<li class="chapter" data-level="4.4.2" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GISCommands-3"><i class="fa fa-check"></i><b>4.4.2</b> GIS Commands</a>
<ul>
<li class="chapter" data-level="4.4.2.1" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Attributes-4"><i class="fa fa-check"></i><b>4.4.2.1</b> GIS Attribute Interpretation</a></li>
<li class="chapter" data-level="4.4.2.2" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Objects-4"><i class="fa fa-check"></i><b>4.4.2.2</b> GIS Object Interpretation</a></li>
</ul></li>
<li class="chapter" data-level="4.4.3" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GPKG-3"><i class="fa fa-check"></i><b>4.4.3</b> GeoPackage Commands</a>
<ul>
<li class="chapter" data-level="4.4.3.1" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GPKG-input-4"><i class="fa fa-check"></i><b>4.4.3.1</b> GPKG Input Commands</a></li>
<li class="chapter" data-level="4.4.3.2" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GPKG-output-4"><i class="fa fa-check"></i><b>4.4.3.2</b> GPKG Output Commands</a></li>
</ul></li>
<li class="chapter" data-level="4.4.4" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GRID-3"><i class="fa fa-check"></i><b>4.4.4</b> Grid Commands</a></li>
<li class="chapter" data-level="4.4.5" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TIN-3"><i class="fa fa-check"></i><b>4.4.5</b> TIN Commands</a></li>
<li class="chapter" data-level="4.4.6" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#RowCol-3"><i class="fa fa-check"></i><b>4.4.6</b> RowCol Commands (Legacy)</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#LayeringData-2"><i class="fa fa-check"></i><b>4.5</b> Layering Data</a></li>
<li class="chapter" data-level="4.6" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#XF-Files-2"><i class="fa fa-check"></i><b>4.6</b> XF Files</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html"><i class="fa fa-check"></i><b>5</b> 1D Network Domains - ESTRY</a>
<ul>
<li class="chapter" data-level="5.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#OneD-Introduction-2"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Scheme-2"><i class="fa fa-check"></i><b>5.2</b> Schematisation</a></li>
<li class="chapter" data-level="5.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#SolutionScheme-2"><i class="fa fa-check"></i><b>5.3</b> Solution Scheme</a></li>
<li class="chapter" data-level="5.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#OneD-nwk-2"><i class="fa fa-check"></i><b>5.4</b> 1d_nwk Attributes</a></li>
<li class="chapter" data-level="5.5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Channel-Intro-2"><i class="fa fa-check"></i><b>5.5</b> Channels Overview</a></li>
<li class="chapter" data-level="5.6" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Open-Channel-2"><i class="fa fa-check"></i><b>5.6</b> Open Channels</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#I-channels-3"><i class="fa fa-check"></i><b>5.6.1</b> Inertial Channels</a></li>
<li class="chapter" data-level="5.6.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#NI-channels-3"><i class="fa fa-check"></i><b>5.6.2</b> Non-Inertial Channels</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#XS-2"><i class="fa fa-check"></i><b>5.7</b> Cross-Sections</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#XS-flags-3"><i class="fa fa-check"></i><b>5.7.1</b> Type “XZ” Optional Flags</a>
<ul>
<li class="chapter" data-level="5.7.1.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#RR-4"><i class="fa fa-check"></i><b>5.7.1.1</b> Relative Resistance</a></li>
</ul></li>
<li class="chapter" data-level="5.7.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#HW-flags-3"><i class="fa fa-check"></i><b>5.7.2</b> Type “HW” Optional Flags</a>
<ul>
<li class="chapter" data-level="5.7.2.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#HW-A-4"><i class="fa fa-check"></i><b>5.7.2.1</b> Flow Area (A)</a></li>
<li class="chapter" data-level="5.7.2.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#HW-P-4"><i class="fa fa-check"></i><b>5.7.2.2</b> Wetted Perimeter (P)</a></li>
<li class="chapter" data-level="5.7.2.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#HW-N-4"><i class="fa fa-check"></i><b>5.7.2.3</b> Manning’s n Values (N)</a></li>
<li class="chapter" data-level="5.7.2.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#HW-F-4"><i class="fa fa-check"></i><b>5.7.2.4</b> Manning’s n Values (F)</a></li>
</ul></li>
<li class="chapter" data-level="5.7.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Parallel-Channel-3"><i class="fa fa-check"></i><b>5.7.3</b> Parallel Channel Analysis</a></li>
<li class="chapter" data-level="5.7.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Eff-vs-Total-3"><i class="fa fa-check"></i><b>5.7.4</b> Effective Area versus Total Area</a></li>
<li class="chapter" data-level="5.7.5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#XS-Mid-3"><i class="fa fa-check"></i><b>5.7.5</b> Mid Cross-Sections</a></li>
<li class="chapter" data-level="5.7.6" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#XS-End-3"><i class="fa fa-check"></i><b>5.7.6</b> End Cross-Sections</a></li>
<li class="chapter" data-level="5.7.7" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Interpolate-XS-3"><i class="fa fa-check"></i><b>5.7.7</b> Interpolated Cross-Section Protocols</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Structures-2"><i class="fa fa-check"></i><b>5.8</b> Structures</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#culverts-pipes-3"><i class="fa fa-check"></i><b>5.8.1</b> Culverts and Pipes</a>
<ul>
<li class="chapter" data-level="5.8.1.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Blockage-4"><i class="fa fa-check"></i><b>5.8.1.1</b> Blockage Matrix</a></li>
<li class="chapter" data-level="5.8.1.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#id_-4"><i class="fa fa-check"></i><b>5.8.1.2</b> Limitations</a></li>
</ul></li>
<li class="chapter" data-level="5.8.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Bridges-3"><i class="fa fa-check"></i><b>5.8.2</b> Bridges</a>
<ul>
<li class="chapter" data-level="5.8.2.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#BridgeIntro-4"><i class="fa fa-check"></i><b>5.8.2.1</b> Bridges Overview</a></li>
<li class="chapter" data-level="5.8.2.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#XSLoss-4"><i class="fa fa-check"></i><b>5.8.2.2</b> Bridge Cross-Section and Loss Tables</a></li>
<li class="chapter" data-level="5.8.2.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#B-Bridge-4"><i class="fa fa-check"></i><b>5.8.2.3</b> B Bridge Losses Approach</a></li>
<li class="chapter" data-level="5.8.2.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#BB-Bridge-4"><i class="fa fa-check"></i><b>5.8.2.4</b> BB Bridge Losses Approach</a></li>
</ul></li>
<li class="chapter" data-level="5.8.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#BArch-3"><i class="fa fa-check"></i><b>5.8.3</b> Arch Bridge</a>
<ul>
<li class="chapter" data-level="5.8.3.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#BArch-Editor-4"><i class="fa fa-check"></i><b>5.8.3.1</b> Arch Bridge Editor</a></li>
<li class="chapter" data-level="5.8.3.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#BArch-Min-Blc-4"><i class="fa fa-check"></i><b>5.8.3.2</b> Arch Minimum Blockage</a></li>
</ul></li>
<li class="chapter" data-level="5.8.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Weir-3"><i class="fa fa-check"></i><b>5.8.4</b> Weirs</a>
<ul>
<li class="chapter" data-level="5.8.4.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Weir-Intro-4"><i class="fa fa-check"></i><b>5.8.4.1</b> Weirs Overview</a></li>
<li class="chapter" data-level="5.8.4.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#W-Weir-4"><i class="fa fa-check"></i><b>5.8.4.2</b> Original Weirs (W)</a></li>
<li class="chapter" data-level="5.8.4.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Adv-Weir-4"><i class="fa fa-check"></i><b>5.8.4.3</b> Advanced Weirs (WB, WC, WD, WO, WR, WT, WV, WW)</a></li>
<li class="chapter" data-level="5.8.4.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Submerge-4"><i class="fa fa-check"></i><b>5.8.4.4</b> Advanced Weir Submergence Curves</a></li>
<li class="chapter" data-level="5.8.4.5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Auto-Weir-4"><i class="fa fa-check"></i><b>5.8.4.5</b> Automatically Created Weirs</a></li>
<li class="chapter" data-level="5.8.4.6" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#VW-Channel-4"><i class="fa fa-check"></i><b>5.8.4.6</b> VW Channels (Variable Geometry Weir)</a></li>
</ul></li>
<li class="chapter" data-level="5.8.5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#SP-3"><i class="fa fa-check"></i><b>5.8.5</b> Spillways (SP)</a></li>
<li class="chapter" data-level="5.8.6" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#SG-3"><i class="fa fa-check"></i><b>5.8.6</b> Sluice Gates (SG)</a></li>
<li class="chapter" data-level="5.8.7" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#LossAdjustment-3"><i class="fa fa-check"></i><b>5.8.7</b> Adjustment of Contraction and Expansion Losses</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Special-Channels-2"><i class="fa fa-check"></i><b>5.9</b> Special Channels</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#M-Channel-3"><i class="fa fa-check"></i><b>5.9.1</b> M Channels (User Defined Flow Matrix)</a></li>
<li class="chapter" data-level="5.9.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Q-Channels-3"><i class="fa fa-check"></i><b>5.9.2</b> Q Channels (Upstream Depth-Discharge Relationship)</a></li>
<li class="chapter" data-level="5.9.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#XConnect-3"><i class="fa fa-check"></i><b>5.9.3</b> X Connectors</a></li>
<li class="chapter" data-level="5.9.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Legacy-Channel-3"><i class="fa fa-check"></i><b>5.9.4</b> Legacy Channels</a></li>
<li class="chapter" data-level="5.9.5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#OneD-nwk-3"><i class="fa fa-check"></i><b>5.9.5</b> 1d_nwk Attributes (M, P, Q, SG, SP Channels)</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#OperationalChannels-2"><i class="fa fa-check"></i><b>5.10</b> Operational Channels</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#TOC-Logic-3"><i class="fa fa-check"></i><b>5.10.1</b> .toc File Commands and Logic</a>
<ul>
<li class="chapter" data-level="5.10.1.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#TOC-Define-4"><i class="fa fa-check"></i><b>5.10.1.1</b> Define Control Command</a></li>
<li class="chapter" data-level="5.10.1.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#UserDef-4"><i class="fa fa-check"></i><b>5.10.1.2</b> User Defined Variables</a></li>
<li class="chapter" data-level="5.10.1.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Logic-4"><i class="fa fa-check"></i><b>5.10.1.3</b> Logic Rules</a></li>
<li class="chapter" data-level="5.10.1.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Increment-Operate-4"><i class="fa fa-check"></i><b>5.10.1.4</b> Incremental Operators</a></li>
</ul></li>
<li class="chapter" data-level="5.10.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Pumps-3"><i class="fa fa-check"></i><b>5.10.2</b> Pumps (P and PO)</a></li>
<li class="chapter" data-level="5.10.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#QO-3"><i class="fa fa-check"></i><b>5.10.3</b> QO Channels</a></li>
<li class="chapter" data-level="5.10.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#RO-3"><i class="fa fa-check"></i><b>5.10.4</b> Gated Drowned Rectangular Culverts (RO)</a></li>
<li class="chapter" data-level="5.10.5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#SG-SGO-3"><i class="fa fa-check"></i><b>5.10.5</b> Sluice Gates (SG and SGO)</a></li>
<li class="chapter" data-level="5.10.6" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#SPO-3"><i class="fa fa-check"></i><b>5.10.6</b> Spillways with Gates (SPO)</a></li>
<li class="chapter" data-level="5.10.7" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Weirs-Operational-3"><i class="fa fa-check"></i><b>5.10.7</b> Weirs (WBO, WCO, WDO, WOO, WRO, WTO)</a></li>
<li class="chapter" data-level="5.10.8" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#PFDF-3"><i class="fa fa-check"></i><b>5.10.8</b> Piping and Dam Failure</a>
<ul>
<li class="chapter" data-level="5.10.8.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#PF-4"><i class="fa fa-check"></i><b>5.10.8.1</b> Piping Failure (PF)</a></li>
<li class="chapter" data-level="5.10.8.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#DF-4"><i class="fa fa-check"></i><b>5.10.8.2</b> Dam Failure (DF)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Pipes-2"><i class="fa fa-check"></i><b>5.11</b> Pipe Networks</a>
<ul>
<li class="chapter" data-level="5.11.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Pipes-3"><i class="fa fa-check"></i><b>5.11.1</b> Pipes</a></li>
<li class="chapter" data-level="5.11.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Pits-3"><i class="fa fa-check"></i><b>5.11.2</b> Pits</a>
<ul>
<li class="chapter" data-level="5.11.2.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#OneD-pit-nwk-4"><i class="fa fa-check"></i><b>5.11.2.1</b> 1d_nwk Pits</a></li>
<li class="chapter" data-level="5.11.2.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#OneD-pit-4"><i class="fa fa-check"></i><b>5.11.2.2</b> 1d_pit Pits</a></li>
<li class="chapter" data-level="5.11.2.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Conn-Pits-Nds-4"><i class="fa fa-check"></i><b>5.11.2.3</b> Connecting Pits and Nodes to 2D Domains</a></li>
</ul></li>
<li class="chapter" data-level="5.11.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#DD-Database-3"><i class="fa fa-check"></i><b>5.11.3</b> Pit Inlet and Depth/Stage vs Discharge Databases</a>
<ul>
<li class="chapter" data-level="5.11.3.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Xfall-4"><i class="fa fa-check"></i><b>5.11.3.1</b> Road Crossfall Options</a></li>
</ul></li>
<li class="chapter" data-level="5.11.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Manholes-3"><i class="fa fa-check"></i><b>5.11.4</b> Manholes</a>
<ul>
<li class="chapter" data-level="5.11.4.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Auto-MH-4"><i class="fa fa-check"></i><b>5.11.4.1</b> Automatically Assigned Manholes</a></li>
<li class="chapter" data-level="5.11.4.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#OneD-mh-4"><i class="fa fa-check"></i><b>5.11.4.2</b> Manually Assigned Manholes (1d_mh Layer)</a></li>
<li class="chapter" data-level="5.11.4.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#mh-direction-4"><i class="fa fa-check"></i><b>5.11.4.3</b> Digitising Culverts Connected to Manholes</a></li>
<li class="chapter" data-level="5.11.4.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Engelund-4"><i class="fa fa-check"></i><b>5.11.4.4</b> Engelund Manhole Loss Approach</a></li>
<li class="chapter" data-level="5.11.4.5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#FixedLoss-4"><i class="fa fa-check"></i><b>5.11.4.5</b> Fixed Manhole Loss Approach</a></li>
<li class="chapter" data-level="5.11.4.6" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#JunctionLoss-4"><i class="fa fa-check"></i><b>5.11.4.6</b> Discussion on Approaches to Modelling Pipe Junction Losses</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5.12" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Virtual-Pipes-2"><i class="fa fa-check"></i><b>5.12</b> Virtual Pipes</a></li>
<li class="chapter" data-level="5.13" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Nodes-2"><i class="fa fa-check"></i><b>5.13</b> Nodes</a>
<ul>
<li class="chapter" data-level="5.13.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Auto-Node-3"><i class="fa fa-check"></i><b>5.13.1</b> Automatically Defined Nodes</a>
<ul>
<li class="chapter" data-level="5.13.1.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#AutoStorageWidths-4"><i class="fa fa-check"></i><b>5.13.1.1</b> Storage Calculated Automatically from Channel Widths</a></li>
<li class="chapter" data-level="5.13.1.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#AutoStorageANA-4"><i class="fa fa-check"></i><b>5.13.1.2</b> Additional Storage Added from Len_or_ANA Attribute</a></li>
</ul></li>
<li class="chapter" data-level="5.13.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Manual-Node-3"><i class="fa fa-check"></i><b>5.13.2</b> Manually Defined Nodes</a>
<ul>
<li class="chapter" data-level="5.13.2.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#NA-Table-4"><i class="fa fa-check"></i><b>5.13.2.1</b> Storage Nodes (User Defined NA Tables)</a></li>
<li class="chapter" data-level="5.13.2.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#channel-invert-4"><i class="fa fa-check"></i><b>5.13.2.2</b> Using Nodes to Define Channel Inverts</a></li>
<li class="chapter" data-level="5.13.2.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Nd-Auto-Conn-4"><i class="fa fa-check"></i><b>5.13.2.3</b> Automatically Connecting Nodes to 2D domains</a></li>
</ul></li>
<li class="chapter" data-level="5.13.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Obvert-3"><i class="fa fa-check"></i><b>5.13.3</b> Storage Above Top of Channels</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html"><i class="fa fa-check"></i><b>6</b> 1D Network Domains - EPA SWMM</a>
<ul>
<li class="chapter" data-level="6.1" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMM-Introduction-2"><i class="fa fa-check"></i><b>6.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#TUFLOW-SWMM-Capabilities-3"><i class="fa fa-check"></i><b>6.1.1</b> TUFLOW-SWMM Capabilities</a></li>
<li class="chapter" data-level="6.1.2" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMM-UserResources-3"><i class="fa fa-check"></i><b>6.1.2</b> Additional SWMM User Resources</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#ModelSetup-2"><i class="fa fa-check"></i><b>6.2</b> Model Setup</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SwmmModel-3"><i class="fa fa-check"></i><b>6.2.1</b> SWMM Model</a></li>
<li class="chapter" data-level="6.2.2" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#TUFLOW-SWMM_Simulations-4"><i class="fa fa-check"></i><b>6.2.2</b> TUFLOW-SWMM Model Simulation</a></li>
<li class="chapter" data-level="6.2.3" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMM_ESTRY_Linking-3"><i class="fa fa-check"></i><b>6.2.3</b> Linking SWMM to TUFLOW 2D and ESTRY</a></li>
<li class="chapter" data-level="6.2.4" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMMSettings-3"><i class="fa fa-check"></i><b>6.2.4</b> SWMM Simulation Option Settings</a></li>
<li class="chapter" data-level="6.2.5" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMM-BCDB-3"><i class="fa fa-check"></i><b>6.2.5</b> Using the TUFLOW BC Database in SWMM</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMMGISTools-2"><i class="fa fa-check"></i><b>6.3</b> SWMM GIS Tools</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMMGPKGFormat-3"><i class="fa fa-check"></i><b>6.3.1</b> GeoPackage File Format</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMMOutputs-2"><i class="fa fa-check"></i><b>6.4</b> SWMM Outputs</a></li>
<li class="chapter" data-level="6.5" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMMInclusionTUFLOW-2"><i class="fa fa-check"></i><b>6.5</b> SWMM Inclusion in TUFLOW</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMMLibraryVersion-3"><i class="fa fa-check"></i><b>6.5.1</b> SWMM Library Version</a></li>
<li class="chapter" data-level="6.5.2" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMMCode-in-TUFLOW-3"><i class="fa fa-check"></i><b>6.5.2</b> Embedded SWMM Code in TUFLOW</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html"><i class="fa fa-check"></i><b>7</b> 2D Domains</a>
<ul>
<li class="chapter" data-level="7.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#introduction-1"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Solvers-2"><i class="fa fa-check"></i><b>7.2</b> Solvers</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#tuflow-hpc-2d-solver"><i class="fa fa-check"></i><b>7.2.1</b> TUFLOW HPC 2D Solver</a></li>
<li class="chapter" data-level="7.2.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#tuflow-classic-2d-solver"><i class="fa fa-check"></i><b>7.2.2</b> TUFLOW Classic 2D Solver</a></li>
<li class="chapter" data-level="7.2.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Schematisation-3"><i class="fa fa-check"></i><b>7.2.3</b> Cell Schematisation</a>
<ul>
<li class="chapter" data-level="7.2.3.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#computational-points-4"><i class="fa fa-check"></i><b>7.2.3.1</b> Computational Points</a></li>
</ul></li>
<li class="chapter" data-level="7.2.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#turbulence-overview"><i class="fa fa-check"></i><b>7.2.4</b> Turbulence</a>
<ul>
<li class="chapter" data-level="7.2.4.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Dry-Wall-4"><i class="fa fa-check"></i><b>7.2.4.1</b> Dry Wall Treatment</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Common-2"><i class="fa fa-check"></i><b>7.3</b> Common Functionality</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Domain-3"><i class="fa fa-check"></i><b>7.3.1</b> Defining the Domain</a></li>
<li class="chapter" data-level="7.3.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CellCodes-3"><i class="fa fa-check"></i><b>7.3.2</b> Active / Inactive Cells</a></li>
<li class="chapter" data-level="7.3.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#layering-3"><i class="fa fa-check"></i><b>7.3.3</b> Data Layering</a></li>
<li class="chapter" data-level="7.3.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#sampling-of-data-sets"><i class="fa fa-check"></i><b>7.3.4</b> Sampling of Data Sets</a>
<ul>
<li class="chapter" data-level="7.3.4.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#traditional-sampling-4"><i class="fa fa-check"></i><b>7.3.4.1</b> Traditional Sampling Approach</a></li>
</ul></li>
<li class="chapter" data-level="7.3.5" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#elevations-3"><i class="fa fa-check"></i><b>7.3.5</b> Elevations</a>
<ul>
<li class="chapter" data-level="7.3.5.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#DEMGrids-3"><i class="fa fa-check"></i><b>7.3.5.1</b> Direct Reading of DEM Grids</a></li>
<li class="chapter" data-level="7.3.5.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#zsh-4"><i class="fa fa-check"></i><b>7.3.5.2</b> Z Shape Layers (2d_zsh)</a></li>
<li class="chapter" data-level="7.3.5.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#vzsh-4"><i class="fa fa-check"></i><b>7.3.5.3</b> Variable Z Shape Layer (2d_vzsh)</a></li>
<li class="chapter" data-level="7.3.5.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#ztin-4"><i class="fa fa-check"></i><b>7.3.5.4</b> 3D TIN Layers (2d_ztin)</a></li>
<li class="chapter" data-level="7.3.5.5" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#zln-4"><i class="fa fa-check"></i><b>7.3.5.5</b> 3D Breakline Layers (2d_zln)</a></li>
<li class="chapter" data-level="7.3.5.6" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#zpt-4"><i class="fa fa-check"></i><b>7.3.5.6</b> Zpt Layers (2d_zpt)</a></li>
<li class="chapter" data-level="7.3.5.7" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#using-multiple-layers-and-points-layers"><i class="fa fa-check"></i><b>7.3.5.7</b> Using Multiple Layers and Points Layers</a></li>
</ul></li>
<li class="chapter" data-level="7.3.6" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Materials-2"><i class="fa fa-check"></i><b>7.3.6</b> Land Use (Materials)</a>
<ul>
<li class="chapter" data-level="7.3.6.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Bed-Resistance-4"><i class="fa fa-check"></i><b>7.3.6.1</b> Bed Resistance</a></li>
<li class="chapter" data-level="7.3.6.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#log-law-4"><i class="fa fa-check"></i><b>7.3.6.2</b> Log Law Depth Varying Bed Resistance</a></li>
<li class="chapter" data-level="7.3.6.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Materials-File-4"><i class="fa fa-check"></i><b>7.3.6.3</b> Materials File</a></li>
<li class="chapter" data-level="7.3.6.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Rainfall-Losses-4"><i class="fa fa-check"></i><b>7.3.6.4</b> Rainfall Losses</a></li>
</ul></li>
<li class="chapter" data-level="7.3.7" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Infiltration-2"><i class="fa fa-check"></i><b>7.3.7</b> Infiltration</a>
<ul>
<li class="chapter" data-level="7.3.7.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#infiltration-layer-4"><i class="fa fa-check"></i><b>7.3.7.1</b> Infiltration Layer</a></li>
<li class="chapter" data-level="7.3.7.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#tsoilf-4"><i class="fa fa-check"></i><b>7.3.7.2</b> Soils File (.tsoilf)</a></li>
</ul></li>
<li class="chapter" data-level="7.3.8" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#HydraulicStructures-3"><i class="fa fa-check"></i><b>7.3.8</b> Hydraulic Structures</a>
<ul>
<li class="chapter" data-level="7.3.8.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#introduction-2"><i class="fa fa-check"></i><b>7.3.8.1</b> Introduction</a></li>
<li class="chapter" data-level="7.3.8.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#bg-layer-4"><i class="fa fa-check"></i><b>7.3.8.2</b> 2D Bridge Structures (2d_bg)</a></li>
<li class="chapter" data-level="7.3.8.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#lfcsh-4"><i class="fa fa-check"></i><b>7.3.8.3</b> Layered Flow Constrictions (2d_lfcsh Layers)</a></li>
</ul></li>
<li class="chapter" data-level="7.3.9" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#cell-mods-3"><i class="fa fa-check"></i><b>7.3.9</b> Cell Modification</a>
<ul>
<li class="chapter" data-level="7.3.9.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#srf-3"><i class="fa fa-check"></i><b>7.3.9.1</b> Storage Reduction (2d_srf)</a></li>
<li class="chapter" data-level="7.3.9.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CWF-4"><i class="fa fa-check"></i><b>7.3.9.2</b> Cell Width Factor (CWF)</a></li>
<li class="chapter" data-level="7.3.9.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#flc-4"><i class="fa fa-check"></i><b>7.3.9.3</b> Form Loss Coefficient (FLC)</a></li>
<li class="chapter" data-level="7.3.9.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#mod-conveyance-4"><i class="fa fa-check"></i><b>7.3.9.4</b> Modify Conveyance</a></li>
</ul></li>
<li class="chapter" data-level="7.3.10" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#urban-areas-3"><i class="fa fa-check"></i><b>7.3.10</b> Modelling Urban Areas</a>
<ul>
<li class="chapter" data-level="7.3.10.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#buildings-4"><i class="fa fa-check"></i><b>7.3.10.1</b> Buildings</a></li>
<li class="chapter" data-level="7.3.10.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#roads-4"><i class="fa fa-check"></i><b>7.3.10.2</b> Roads</a></li>
<li class="chapter" data-level="7.3.10.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#fences-4"><i class="fa fa-check"></i><b>7.3.10.3</b> Fences and Walls</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#HPC-specific-2"><i class="fa fa-check"></i><b>7.4</b> TUFLOW HPC Specific</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Quadtree-3"><i class="fa fa-check"></i><b>7.4.1</b> Quadtree</a>
<ul>
<li class="chapter" data-level="7.4.1.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#qcf-commands-4"><i class="fa fa-check"></i><b>7.4.1.1</b> Quadtree .tcf Commands</a></li>
<li class="chapter" data-level="7.4.1.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#qcf-mandatory-4"><i class="fa fa-check"></i><b>7.4.1.2</b> Quadtree Control File (.qcf) – Mandatory Commands</a></li>
<li class="chapter" data-level="7.4.1.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#qcf-optional-4"><i class="fa fa-check"></i><b>7.4.1.3</b> Quadtree Control File (.qcf) – Optional Commands</a></li>
<li class="chapter" data-level="7.4.1.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#QDT-mesh-4"><i class="fa fa-check"></i><b>7.4.1.4</b> Defining Grid Refinement Polygons</a></li>
</ul></li>
<li class="chapter" data-level="7.4.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#HPC-Turbulence-3"><i class="fa fa-check"></i><b>7.4.2</b> HPC Turbulence</a>
<ul>
<li class="chapter" data-level="7.4.2.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#HPC-Turbulence-4"><i class="fa fa-check"></i><b>7.4.2.1</b> Overview</a></li>
<li class="chapter" data-level="7.4.2.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Constant-4"><i class="fa fa-check"></i><b>7.4.2.2</b> Constant Eddy Viscosity</a></li>
<li class="chapter" data-level="7.4.2.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Smagorinsky-4"><i class="fa fa-check"></i><b>7.4.2.3</b> Smagorinsky Approach</a></li>
<li class="chapter" data-level="7.4.2.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Wu-4"><i class="fa fa-check"></i><b>7.4.2.4</b> Wu Approach</a></li>
</ul></li>
<li class="chapter" data-level="7.4.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#SGS-3"><i class="fa fa-check"></i><b>7.4.3</b> Sub-Grid Sampling (SGS)</a>
<ul>
<li class="chapter" data-level="7.4.3.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#SGS-commands-4"><i class="fa fa-check"></i><b>7.4.3.1</b> SGS Methodology and Commands</a></li>
<li class="chapter" data-level="7.4.3.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#SGS-output-4"><i class="fa fa-check"></i><b>7.4.3.2</b> SGS Output Options</a></li>
</ul></li>
<li class="chapter" data-level="7.4.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#HPC-US-Controlled-3"><i class="fa fa-check"></i><b>7.4.4</b> 2D Upstream Controlled Flow (Weirs and Supercritical Flow)</a></li>
<li class="chapter" data-level="7.4.5" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#HPC-Groundwater-3"><i class="fa fa-check"></i><b>7.4.5</b> Groundwater Flow</a>
<ul>
<li class="chapter" data-level="7.4.5.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#implementation"><i class="fa fa-check"></i><b>7.4.5.1</b> Implementation</a></li>
<li class="chapter" data-level="7.4.5.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#top-gw-drying-4"><i class="fa fa-check"></i><b>7.4.5.2</b> Drying of Top Groundwater Layer</a></li>
</ul></li>
<li class="chapter" data-level="7.4.6" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#NN-3"><i class="fa fa-check"></i><b>7.4.6</b> Non-Newtonian Flow</a>
<ul>
<li class="chapter" data-level="7.4.6.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Implementation-4"><i class="fa fa-check"></i><b>7.4.6.1</b> Implementation</a></li>
<li class="chapter" data-level="7.4.6.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#NN-Mix-4"><i class="fa fa-check"></i><b>7.4.6.2</b> Non-Newtonian Mixing</a></li>
</ul></li>
<li class="chapter" data-level="7.4.7" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#HPC-Unsupported-3"><i class="fa fa-check"></i><b>7.4.7</b> Unsupported Features in TUFLOW HPC</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#tuflow-classic-specific"><i class="fa fa-check"></i><b>7.5</b> TUFLOW Classic Specific</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-Turbulence-3"><i class="fa fa-check"></i><b>7.5.1</b> Classic Turbulence</a>
<ul>
<li class="chapter" data-level="7.5.1.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-Constant-4"><i class="fa fa-check"></i><b>7.5.1.1</b> Constant</a></li>
<li class="chapter" data-level="7.5.1.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-Smagorinsky-4"><i class="fa fa-check"></i><b>7.5.1.2</b> Smagorinsky</a></li>
</ul></li>
<li class="chapter" data-level="7.5.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-US-Controlled-3"><i class="fa fa-check"></i><b>7.5.2</b> 2D Upstream Controlled Flow (Weirs and Supercritical Flow)</a></li>
<li class="chapter" data-level="7.5.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-mat-3"><i class="fa fa-check"></i><b>7.5.3</b> Land Use (Materials)</a></li>
<li class="chapter" data-level="7.5.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-2D2D-3"><i class="fa fa-check"></i><b>7.5.4</b> Multiple 2D Domain</a></li>
<li class="chapter" data-level="7.5.5" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-Coriolis-3"><i class="fa fa-check"></i><b>7.5.5</b> Coriolis Term</a></li>
<li class="chapter" data-level="7.5.6" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#legacy-structures"><i class="fa fa-check"></i><b>7.5.6</b> Legacy Structures</a>
<ul>
<li class="chapter" data-level="7.5.6.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-FC-4"><i class="fa fa-check"></i><b>7.5.6.1</b> 2D Flow Constrictions (2d_fcsh and 2d_fc)</a></li>
<li class="chapter" data-level="7.5.6.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#applying-form-energy-loss-in-2d-fc-and-fcsh-layers"><i class="fa fa-check"></i><b>7.5.6.2</b> Applying Form (Energy) Loss in 2D FC and FCSH Layers</a></li>
</ul></li>
<li class="chapter" data-level="7.5.7" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-Unsupported-3"><i class="fa fa-check"></i><b>7.5.7</b> Unsupported Features in TUFLOW Classic</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html"><i class="fa fa-check"></i><b>8</b> Boundaries and Initial Conditions</a>
<ul>
<li class="chapter" data-level="8.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#BC-Intro-2"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#BCArrangements-2"><i class="fa fa-check"></i><b>8.2</b> Recommended BC Arrangements</a></li>
<li class="chapter" data-level="8.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#BC-Solver-2"><i class="fa fa-check"></i><b>8.3</b> Solver Specific Considerations</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#ClassicBC-3"><i class="fa fa-check"></i><b>8.3.1</b> Classic Specific Boundaries / Options</a></li>
<li class="chapter" data-level="8.3.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#ClassicHPC-3"><i class="fa fa-check"></i><b>8.3.2</b> HPC Specific Boundaries / Options</a>
<ul>
<li class="chapter" data-level="8.3.2.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#HPCEnergyOptions-4"><i class="fa fa-check"></i><b>8.3.2.1</b> HPC Energy Options for 2D HT, HQ and QT Boundaries</a></li>
<li class="chapter" data-level="8.3.2.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#HpcHQApproach-4"><i class="fa fa-check"></i><b>8.3.2.2</b> HPC HQ Boundary Approach</a></li>
<li class="chapter" data-level="8.3.2.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#HpcHQFilter-4"><i class="fa fa-check"></i><b>8.3.2.3</b> HPC HQ Boundary Stability</a></li>
<li class="chapter" data-level="8.3.2.4" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#HpcBoundariesOther-4"><i class="fa fa-check"></i><b>8.3.2.4</b> HPC Additional Boundary Options</a></li>
<li class="chapter" data-level="8.3.2.5" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#HpcQuadtreeParallelInteria-4"><i class="fa fa-check"></i><b>8.3.2.5</b> Quadtree BC Parallel Inertia Approach</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#OneDBoundaries-2"><i class="fa fa-check"></i><b>8.4</b> 1D Boundaries (1d_bc Layers)</a></li>
<li class="chapter" data-level="8.5" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#TwoDBoundaries-2"><i class="fa fa-check"></i><b>8.5</b> 2D Boundaries (2d_bc, 2d_sa and 2d_rf Layers)</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#BC-Layers-3"><i class="fa fa-check"></i><b>8.5.1</b> Boundary Conditions (2d_bc)</a>
<ul>
<li class="chapter" data-level="8.5.1.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#id_2DBndSlopingLevel-3"><i class="fa fa-check"></i><b>8.5.1.1</b> Sloping Water Level Boundaries</a></li>
<li class="chapter" data-level="8.5.1.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#GT-4"><i class="fa fa-check"></i><b>8.5.1.2</b> Groundwater Boundaries</a></li>
</ul></li>
<li class="chapter" data-level="8.5.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#SA-Layers-3"><i class="fa fa-check"></i><b>8.5.2</b> Source Area Boundaries</a>
<ul>
<li class="chapter" data-level="8.5.2.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#SA-Option-4"><i class="fa fa-check"></i><b>8.5.2.1</b> Source Area Options (2d_sa)</a></li>
<li class="chapter" data-level="8.5.2.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#RFOption-4"><i class="fa fa-check"></i><b>8.5.2.2</b> Rainfall Option (2d_sa_rf)</a></li>
<li class="chapter" data-level="8.5.2.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#TriggerOption-4"><i class="fa fa-check"></i><b>8.5.2.3</b> Trigger Option (2d_sa_tr)</a></li>
<li class="chapter" data-level="8.5.2.4" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#FlowFeature-4"><i class="fa fa-check"></i><b>8.5.2.4</b> Flow Feature (2d_sa_po)</a></li>
<li class="chapter" data-level="8.5.2.5" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#OverlappingSA-4"><i class="fa fa-check"></i><b>8.5.2.5</b> Overlapping 2d_sa regions</a></li>
</ul></li>
<li class="chapter" data-level="8.5.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#Rainfall-3"><i class="fa fa-check"></i><b>8.5.3</b> Rainfall Boundaries</a>
<ul>
<li class="chapter" data-level="8.5.3.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#RainfallOverview-4"><i class="fa fa-check"></i><b>8.5.3.1</b> Rainfall Overview</a></li>
<li class="chapter" data-level="8.5.3.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#RainfallConsiderations-4"><i class="fa fa-check"></i><b>8.5.3.2</b> Considerations for Rainfall Modelling</a></li>
<li class="chapter" data-level="8.5.3.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#RF-Global-4"><i class="fa fa-check"></i><b>8.5.3.3</b> Global Rainfall</a></li>
<li class="chapter" data-level="8.5.3.4" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#RF-Layers-4"><i class="fa fa-check"></i><b>8.5.3.4</b> Rainfall Polygons (2d_rf)</a></li>
<li class="chapter" data-level="8.5.3.5" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#GriddedRainfall-4"><i class="fa fa-check"></i><b>8.5.3.5</b> Gridded Rainfall</a></li>
<li class="chapter" data-level="8.5.3.6" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#TRFC-File-4"><i class="fa fa-check"></i><b>8.5.3.6</b> Rainfall Control File (.trfc file)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#bcdbase-2"><i class="fa fa-check"></i><b>8.6</b> Boundary Condition (BC) Database</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#bcdbase-Example-3"><i class="fa fa-check"></i><b>8.6.1</b> BC Database Example</a></li>
<li class="chapter" data-level="8.6.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#BCEventName-3"><i class="fa fa-check"></i><b>8.6.2</b> BC Event Name Command</a></li>
<li class="chapter" data-level="8.6.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#BoundaryGenerators-3"><i class="fa fa-check"></i><b>8.6.3</b> TUFLOW Boundary Generators</a></li>
<li class="chapter" data-level="8.6.4" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#DelftFEWSBoundary-3"><i class="fa fa-check"></i><b>8.6.4</b> Delft FEWS Boundaries</a></li>
<li class="chapter" data-level="8.6.5" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#HECDSS-3"><i class="fa fa-check"></i><b>8.6.5</b> HEC-DSS Boundaries</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#Cyclones-2"><i class="fa fa-check"></i><b>8.7</b> Cyclones / Hurricanes / Typhoons</a></li>
<li class="chapter" data-level="8.8" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#ExternalStress-2"><i class="fa fa-check"></i><b>8.8</b> External Stress Boundaries</a></li>
<li class="chapter" data-level="8.9" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#InitialConditions-2"><i class="fa fa-check"></i><b>8.9</b> Initial Conditions</a>
<ul>
<li class="chapter" data-level="8.9.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#IWL-3"><i class="fa fa-check"></i><b>8.9.1</b> Initial Water Levels (IWL)</a>
<ul>
<li class="chapter" data-level="8.9.1.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#IWL-1D-4"><i class="fa fa-check"></i><b>8.9.1.1</b> 1D Domains</a></li>
<li class="chapter" data-level="8.9.1.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#IWL-2D-4"><i class="fa fa-check"></i><b>8.9.1.2</b> 2D Domains</a></li>
<li class="chapter" data-level="8.9.1.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#IWL-Auto-4"><i class="fa fa-check"></i><b>8.9.1.3</b> Automatic Initial Water Level</a></li>
</ul></li>
<li class="chapter" data-level="8.9.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#IGW-3"><i class="fa fa-check"></i><b>8.9.2</b> Initial Groundwater Levels</a></li>
<li class="chapter" data-level="8.9.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#RestartFiles-3"><i class="fa fa-check"></i><b>8.9.3</b> Restart Files</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="AD-1.html"><a href="AD-1.html"><i class="fa fa-check"></i><b>9</b> Advection Dispersion</a>
<ul>
<li class="chapter" data-level="9.1" data-path="AD-1.html"><a href="AD-1.html#AD-Overview-2"><i class="fa fa-check"></i><b>9.1</b> Overview</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="AD-1.html"><a href="AD-1.html#AD-Solution-3"><i class="fa fa-check"></i><b>9.1.1</b> 2D Depth Averaged Equation of Motion</a></li>
<li class="chapter" data-level="9.1.2" data-path="AD-1.html"><a href="AD-1.html#AD-Solution-2"><i class="fa fa-check"></i><b>9.1.2</b> Solution Method (TUFLOW Classic)</a></li>
<li class="chapter" data-level="9.1.3" data-path="AD-1.html"><a href="AD-1.html#AD-Solution-HPC-3"><i class="fa fa-check"></i><b>9.1.3</b> Solution Method (TUFLOW HPC)</a></li>
<li class="chapter" data-level="9.1.4" data-path="AD-1.html"><a href="AD-1.html#local-constituent-transformation"><i class="fa fa-check"></i><b>9.1.4</b> Local Constituent Transformation</a></li>
<li class="chapter" data-level="9.1.5" data-path="AD-1.html"><a href="AD-1.html#groundwater"><i class="fa fa-check"></i><b>9.1.5</b> Groundwater</a></li>
<li class="chapter" data-level="9.1.6" data-path="AD-1.html"><a href="AD-1.html#limitations-and-recommendations"><i class="fa fa-check"></i><b>9.1.6</b> Limitations and Recommendations</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="AD-1.html"><a href="AD-1.html#the-modelling-process"><i class="fa fa-check"></i><b>9.2</b> The Modelling Process</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="AD-1.html"><a href="AD-1.html#data-input-requirements"><i class="fa fa-check"></i><b>9.2.1</b> Data Input Requirements</a></li>
<li class="chapter" data-level="9.2.2" data-path="AD-1.html"><a href="AD-1.html#calibration-and-sensitivity"><i class="fa fa-check"></i><b>9.2.2</b> Calibration and Sensitivity</a></li>
<li class="chapter" data-level="9.2.3" data-path="AD-1.html"><a href="AD-1.html#model-resolution"><i class="fa fa-check"></i><b>9.2.3</b> Model Resolution</a></li>
<li class="chapter" data-level="9.2.4" data-path="AD-1.html"><a href="AD-1.html#AD-Computational-Timestep-3"><i class="fa fa-check"></i><b>9.2.4</b> Computational Timestep</a></li>
<li class="chapter" data-level="9.2.5" data-path="AD-1.html"><a href="AD-1.html#example-ad-models"><i class="fa fa-check"></i><b>9.2.5</b> Example AD Models</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="AD-1.html"><a href="AD-1.html#data-input"><i class="fa fa-check"></i><b>9.3</b> Data Input</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="AD-1.html"><a href="AD-1.html#simulation-control-file"><i class="fa fa-check"></i><b>9.3.1</b> Simulation Control File</a>
<ul>
<li class="chapter" data-level="9.3.1.1" data-path="AD-1.html"><a href="AD-1.html#ADControlFile-4"><i class="fa fa-check"></i><b>9.3.1.1</b> TUFLOW AD Control File (.adcf File)</a></li>
<li class="chapter" data-level="9.3.1.2" data-path="AD-1.html"><a href="AD-1.html#AD-inputs-4"><i class="fa fa-check"></i><b>9.3.1.2</b> GIS Input File Types and Naming Conventions</a></li>
</ul></li>
<li class="chapter" data-level="9.3.2" data-path="AD-1.html"><a href="AD-1.html#d-geometries"><i class="fa fa-check"></i><b>9.3.2</b> 1D Geometries</a></li>
<li class="chapter" data-level="9.3.3" data-path="AD-1.html"><a href="AD-1.html#ADConstituentProp-3"><i class="fa fa-check"></i><b>9.3.3</b> Specification of Constituent Properties</a></li>
<li class="chapter" data-level="9.3.4" data-path="AD-1.html"><a href="AD-1.html#ADBoundaryConditions-3"><i class="fa fa-check"></i><b>9.3.4</b> Boundary Conditions</a>
<ul>
<li class="chapter" data-level="9.3.4.1" data-path="AD-1.html"><a href="AD-1.html#boundary-condition-bc-database"><i class="fa fa-check"></i><b>9.3.4.1</b> Boundary Condition (BC) Database</a></li>
<li class="chapter" data-level="9.3.4.2" data-path="AD-1.html"><a href="AD-1.html#bc-database-example"><i class="fa fa-check"></i><b>9.3.4.2</b> BC Database Example</a></li>
</ul></li>
<li class="chapter" data-level="9.3.5" data-path="AD-1.html"><a href="AD-1.html#initial-conditions"><i class="fa fa-check"></i><b>9.3.5</b> Initial Conditions</a></li>
<li class="chapter" data-level="9.3.6" data-path="AD-1.html"><a href="AD-1.html#GW-initial-conditions"><i class="fa fa-check"></i><b>9.3.6</b> Groundwater Initial Conditions</a></li>
<li class="chapter" data-level="9.3.7" data-path="AD-1.html"><a href="AD-1.html#minimum-dispersion-coefficient"><i class="fa fa-check"></i><b>9.3.7</b> Minimum Dispersion Coefficient</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="AD-1.html"><a href="AD-1.html#data-output"><i class="fa fa-check"></i><b>9.4</b> Data Output</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="AD-1.html"><a href="AD-1.html#tuflow-ad-log-files"><i class="fa fa-check"></i><b>9.4.1</b> TUFLOW AD Log Files</a>
<ul>
<li class="chapter" data-level="9.4.1.1" data-path="AD-1.html"><a href="AD-1.html#AD-log-4"><i class="fa fa-check"></i><b>9.4.1.1</b> Simulation Log File</a></li>
<li class="chapter" data-level="9.4.1.2" data-path="AD-1.html"><a href="AD-1.html#ADCFLLogFile-4"><i class="fa fa-check"></i><b>9.4.1.2</b> CFL Log File</a></li>
<li class="chapter" data-level="9.4.1.3" data-path="AD-1.html"><a href="AD-1.html#ADLogMass-4"><i class="fa fa-check"></i><b>9.4.1.3</b> Mass Log File</a></li>
</ul></li>
<li class="chapter" data-level="9.4.2" data-path="AD-1.html"><a href="AD-1.html#check-files"><i class="fa fa-check"></i><b>9.4.2</b> Check Files</a></li>
<li class="chapter" data-level="9.4.3" data-path="AD-1.html"><a href="AD-1.html#result-files"><i class="fa fa-check"></i><b>9.4.3</b> Result Files</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html"><i class="fa fa-check"></i><b>10</b> Combining Domains and Solvers</a>
<ul>
<li class="chapter" data-level="10.1" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#Linked-1D2D-Models-Intro-2"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2dLinking-2"><i class="fa fa-check"></i><b>10.2</b> 1D and 2D Domain Linking Theory</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#HXBoundary-3"><i class="fa fa-check"></i><b>10.2.1</b> HX 2D Head Boundary</a></li>
<li class="chapter" data-level="10.2.2" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#SXBoundary-3"><i class="fa fa-check"></i><b>10.2.2</b> SX 2D Flow Boundary</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DLinking-Estry-2"><i class="fa fa-check"></i><b>10.3</b> TUFLOW 1D (ESTRY) to TUFLOW 2D Linking</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DESTRYChannel-3"><i class="fa fa-check"></i><b>10.3.1</b> 1D Open Channel and 2D Domain Linking</a></li>
<li class="chapter" data-level="10.3.2" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DESTRYCulverts-3"><i class="fa fa-check"></i><b>10.3.2</b> 1D Structures Embedded within 2D Domains</a></li>
<li class="chapter" data-level="10.3.3" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DESTRYPipeNetwork-3"><i class="fa fa-check"></i><b>10.3.3</b> 1D Pipe Network Pits linked to 2D Domains</a></li>
<li class="chapter" data-level="10.3.4" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#id_2DVirtualPits-3"><i class="fa fa-check"></i><b>10.3.4</b> Virtual Pits linked to 2D Domains</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DLinkingSWMM-2"><i class="fa fa-check"></i><b>10.4</b> SWMM to TUFLOW Linking</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DSWMMCulverts-5"><i class="fa fa-check"></i><b>10.4.1</b> 1D Culvert Connections to 2D Domains</a></li>
<li class="chapter" data-level="10.4.2" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DSWMMPipeNetwork-3"><i class="fa fa-check"></i><b>10.4.2</b> 1D Pipe Network Connections to 2D Domains</a></li>
<li class="chapter" data-level="10.4.3" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DLinkingSWMM1D-3"><i class="fa fa-check"></i><b>10.4.3</b> SWMM to TUFLOW 1D (ESTRY) Linking</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DLinkingFM-2"><i class="fa fa-check"></i><b>10.5</b> Flood Modeller to TUFLOW Linking</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#oneD2DFMLinking2D-3"><i class="fa fa-check"></i><b>10.5.1</b> Flood Modeller 1D to TUFLOW 2D Linking</a></li>
<li class="chapter" data-level="10.5.2" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#oneD2DFMLinking1D-3"><i class="fa fa-check"></i><b>10.5.2</b> Flood Modeller 1D to TUFLOW 1D (ESTRY) Linking</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#oneD2D12D-2"><i class="fa fa-check"></i><b>10.6</b> 12D-DDA to TUFLOW Linking</a></li>
<li class="chapter" data-level="10.7" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#TwoD2DLinking-2"><i class="fa fa-check"></i><b>10.7</b> Multiple 2D Domains</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#TwoD2DLinkingQDT-3"><i class="fa fa-check"></i><b>10.7.1</b> Classic’s M2D Feature versus HPC Quadtree</a></li>
<li class="chapter" data-level="10.7.2" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#TwoD2DLinkingM2D-3"><i class="fa fa-check"></i><b>10.7.2</b> TUFLOW Classic’s Multiple 2D Domains</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="Outputs-1.html"><a href="Outputs-1.html"><i class="fa fa-check"></i><b>11</b> Outputs</a>
<ul>
<li class="chapter" data-level="11.1" data-path="Outputs-1.html"><a href="Outputs-1.html#Location-2"><i class="fa fa-check"></i><b>11.1</b> Output Location</a></li>
<li class="chapter" data-level="11.2" data-path="Outputs-1.html"><a href="Outputs-1.html#Map-2"><i class="fa fa-check"></i><b>11.2</b> Map Outputs</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="Outputs-1.html"><a href="Outputs-1.html#TimeControl-3"><i class="fa fa-check"></i><b>11.2.1</b> Output Time Controls</a></li>
<li class="chapter" data-level="11.2.2" data-path="Outputs-1.html"><a href="Outputs-1.html#Format-3"><i class="fa fa-check"></i><b>11.2.2</b> Map Output Formats</a>
<ul>
<li class="chapter" data-level="11.2.2.1" data-path="Outputs-1.html"><a href="Outputs-1.html#MeshBased-4"><i class="fa fa-check"></i><b>11.2.2.1</b> Mesh Based Formats</a></li>
<li class="chapter" data-level="11.2.2.2" data-path="Outputs-1.html"><a href="Outputs-1.html#Grid-4"><i class="fa fa-check"></i><b>11.2.2.2</b> Grid Based Formats</a></li>
<li class="chapter" data-level="11.2.2.3" data-path="Outputs-1.html"><a href="Outputs-1.html#HRGrid-4"><i class="fa fa-check"></i><b>11.2.2.3</b> High-Resolution Grids</a></li>
<li class="chapter" data-level="11.2.2.4" data-path="Outputs-1.html"><a href="Outputs-1.html#Combined-4"><i class="fa fa-check"></i><b>11.2.2.4</b> Combined Format</a></li>
<li class="chapter" data-level="11.2.2.5" data-path="Outputs-1.html"><a href="Outputs-1.html#GISBased-4"><i class="fa fa-check"></i><b>11.2.2.5</b> GIS Based Format</a></li>
</ul></li>
<li class="chapter" data-level="11.2.3" data-path="Outputs-1.html"><a href="Outputs-1.html#DataTypes-3"><i class="fa fa-check"></i><b>11.2.3</b> Map Output Data Types</a>
<ul>
<li class="chapter" data-level="11.2.3.1" data-path="Outputs-1.html"><a href="Outputs-1.html#Hazards-4"><i class="fa fa-check"></i><b>11.2.3.1</b> Hazard Data Types</a></li>
</ul></li>
<li class="chapter" data-level="11.2.4" data-path="Outputs-1.html"><a href="Outputs-1.html#OneDMap-3"><i class="fa fa-check"></i><b>11.2.4</b> 1D Map Outputs</a>
<ul>
<li class="chapter" data-level="11.2.4.1" data-path="Outputs-1.html"><a href="Outputs-1.html#WLL-4"><i class="fa fa-check"></i><b>11.2.4.1</b> Water Level Lines</a></li>
<li class="chapter" data-level="11.2.4.2" data-path="Outputs-1.html"><a href="Outputs-1.html#WLLp-4"><i class="fa fa-check"></i><b>11.2.4.2</b> Water Level Line Points</a></li>
<li class="chapter" data-level="11.2.4.3" data-path="Outputs-1.html"><a href="Outputs-1.html#WLLtriangles-4"><i class="fa fa-check"></i><b>11.2.4.3</b> Adding Triangles into the 1d_WLL Layer</a></li>
</ul></li>
<li class="chapter" data-level="11.2.5" data-path="Outputs-1.html"><a href="Outputs-1.html#OutputZones-3"><i class="fa fa-check"></i><b>11.2.5</b> Output Zones</a></li>
<li class="chapter" data-level="11.2.6" data-path="Outputs-1.html"><a href="Outputs-1.html#GaugeLevel-3"><i class="fa fa-check"></i><b>11.2.6</b> Gauge Level Output</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="Outputs-1.html"><a href="Outputs-1.html#TimeSeries-2"><i class="fa fa-check"></i><b>11.3</b> Time-Series Outputs</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="Outputs-1.html"><a href="Outputs-1.html#OneDTS-3"><i class="fa fa-check"></i><b>11.3.1</b> 1D Time-Series Output</a></li>
<li class="chapter" data-level="11.3.2" data-path="Outputs-1.html"><a href="Outputs-1.html#TwoDTS-3"><i class="fa fa-check"></i><b>11.3.2</b> 2D Time-Series Output</a>
<ul>
<li class="chapter" data-level="11.3.2.1" data-path="Outputs-1.html"><a href="Outputs-1.html#PlotOutput-4"><i class="fa fa-check"></i><b>11.3.2.1</b> Plot Output</a></li>
<li class="chapter" data-level="11.3.2.2" data-path="Outputs-1.html"><a href="Outputs-1.html#LongProfile-4"><i class="fa fa-check"></i><b>11.3.2.2</b> Long Profile Output</a></li>
</ul></li>
<li class="chapter" data-level="11.3.3" data-path="Outputs-1.html"><a href="Outputs-1.html#ReportingLocation-3"><i class="fa fa-check"></i><b>11.3.3</b> Reporting Locations</a></li>
<li class="chapter" data-level="11.3.4" data-path="Outputs-1.html"><a href="Outputs-1.html#Structure-3"><i class="fa fa-check"></i><b>11.3.4</b> Structure Output</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="Outputs-1.html"><a href="Outputs-1.html#Specialised-2"><i class="fa fa-check"></i><b>11.4</b> Specialised Outputs</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="Outputs-1.html"><a href="Outputs-1.html#Receptors-3"><i class="fa fa-check"></i><b>11.4.1</b> Receptors</a></li>
<li class="chapter" data-level="11.4.2" data-path="Outputs-1.html"><a href="Outputs-1.html#EvaculationRoutes-3"><i class="fa fa-check"></i><b>11.4.2</b> Evacuation Routes</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="Outputs-1.html"><a href="Outputs-1.html#ChecksLogs-2"><i class="fa fa-check"></i><b>11.5</b> Check and Log Files</a></li>
<li class="chapter" data-level="11.6" data-path="Outputs-1.html"><a href="Outputs-1.html#Commands-2"><i class="fa fa-check"></i><b>11.6</b> Output Control Commands</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="Hardware-1.html"><a href="Hardware-1.html"><i class="fa fa-check"></i><b>12</b> Hardware and Operating System</a>
<ul>
<li class="chapter" data-level="12.1" data-path="Hardware-1.html"><a href="Hardware-1.html#HardwareIntro-2"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="Hardware-1.html"><a href="Hardware-1.html#OperatingSystems-2"><i class="fa fa-check"></i><b>12.2</b> Operating Systems</a></li>
<li class="chapter" data-level="12.3" data-path="Hardware-1.html"><a href="Hardware-1.html#TUFLOWClassic-2"><i class="fa fa-check"></i><b>12.3</b> TUFLOW Classic</a></li>
<li class="chapter" data-level="12.4" data-path="Hardware-1.html"><a href="Hardware-1.html#TUFLOWHPC-2"><i class="fa fa-check"></i><b>12.4</b> TUFLOW HPC (Including Quadtree)</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="Hardware-1.html"><a href="Hardware-1.html#HPC-CPU-3"><i class="fa fa-check"></i><b>12.4.1</b> TUFLOW HPC Solver on CPU</a></li>
<li class="chapter" data-level="12.4.2" data-path="Hardware-1.html"><a href="Hardware-1.html#HPC-GPU-3"><i class="fa fa-check"></i><b>12.4.2</b> TUFLOW HPC Solver on GPU</a></li>
<li class="chapter" data-level="12.4.3" data-path="Hardware-1.html"><a href="Hardware-1.html#GPUTypes-3"><i class="fa fa-check"></i><b>12.4.3</b> Types of GPU</a></li>
<li class="chapter" data-level="12.4.4" data-path="Hardware-1.html"><a href="Hardware-1.html#MultipleGPUs-3"><i class="fa fa-check"></i><b>12.4.4</b> Utilising Multiple GPUs for One Model</a></li>
<li class="chapter" data-level="12.4.5" data-path="Hardware-1.html"><a href="Hardware-1.html#MultipleModelsoneGPU-3"><i class="fa fa-check"></i><b>12.4.5</b> Running Multiple Models on a Single GPU</a></li>
<li class="chapter" data-level="12.4.6" data-path="Hardware-1.html"><a href="Hardware-1.html#differences-in-results-between-cpu-and-gpu"><i class="fa fa-check"></i><b>12.4.6</b> Differences in results between CPU and GPU</a></li>
<li class="chapter" data-level="12.4.7" data-path="Hardware-1.html"><a href="Hardware-1.html#HPCRAM-3"><i class="fa fa-check"></i><b>12.4.7</b> RAM</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="Hardware-1.html"><a href="Hardware-1.html#ProxiesforCPUandGPU-2"><i class="fa fa-check"></i><b>12.5</b> Proxies for CPU and GPU performance</a></li>
<li class="chapter" data-level="12.6" data-path="Hardware-1.html"><a href="Hardware-1.html#Virtualisation-2"><i class="fa fa-check"></i><b>12.6</b> Virtualisation</a></li>
<li class="chapter" data-level="12.7" data-path="Hardware-1.html"><a href="Hardware-1.html#CloudCompute-2"><i class="fa fa-check"></i><b>12.7</b> Cloud Compute</a></li>
<li class="chapter" data-level="12.8" data-path="Hardware-1.html"><a href="Hardware-1.html#HardwareCommands-2"><i class="fa fa-check"></i><b>12.8</b> Commands</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html"><i class="fa fa-check"></i><b>13</b> Managing and Starting Simulations</a>
<ul>
<li class="chapter" data-level="13.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#RunningSimulationsIntro-2"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#FileNaming-2"><i class="fa fa-check"></i><b>13.2</b> File Naming</a></li>
<li class="chapter" data-level="13.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#SimulationManagement-2"><i class="fa fa-check"></i><b>13.3</b> Simulation Management</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#Events-3"><i class="fa fa-check"></i><b>13.3.1</b> Events</a></li>
<li class="chapter" data-level="13.3.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#Scenarios-3"><i class="fa fa-check"></i><b>13.3.2</b> Scenarios</a></li>
<li class="chapter" data-level="13.3.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#Variables-3"><i class="fa fa-check"></i><b>13.3.3</b> Variables</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#TUFLOWExecDownload-2"><i class="fa fa-check"></i><b>13.4</b> TUFLOW Executable Download</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#InstallOverview-3"><i class="fa fa-check"></i><b>13.4.1</b> Overview and Where to Install</a></li>
<li class="chapter" data-level="13.4.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#iSPdSP-3"><i class="fa fa-check"></i><b>13.4.2</b> Single and Double Precision</a>
<ul>
<li class="chapter" data-level="13.4.2.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#iSPdSP-Classic"><i class="fa fa-check"></i><b>13.4.2.1</b> TUFLOW Classic</a></li>
<li class="chapter" data-level="13.4.2.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#iSPdSP-HPC"><i class="fa fa-check"></i><b>13.4.2.2</b> TUFLOW HPC</a></li>
</ul></li>
<li class="chapter" data-level="13.4.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#CustomingTUFLOW-3"><i class="fa fa-check"></i><b>13.4.3</b> Customising TUFLOW using TUFLOW_USER_DEFINED.dll</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#RunningSims-2"><i class="fa fa-check"></i><b>13.5</b> Running Simulations</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#DongleTypesandSetup-3"><i class="fa fa-check"></i><b>13.5.1</b> Dongle Types and Setup</a>
<ul>
<li class="chapter" data-level="13.5.1.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#DongleAccessProtocols-4"><i class="fa fa-check"></i><b>13.5.1.1</b> Protocols for Accessing Dongles</a></li>
<li class="chapter" data-level="13.5.1.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#DongleSettingsFile-4"><i class="fa fa-check"></i><b>13.5.1.2</b> TUFLOW_Licence_Settings.lcf File</a></li>
<li class="chapter" data-level="13.5.1.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#DongleFailure-4"><i class="fa fa-check"></i><b>13.5.1.3</b> Dongle Failure during a Simulation</a></li>
</ul></li>
<li class="chapter" data-level="13.5.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#StartingaSim-3"><i class="fa fa-check"></i><b>13.5.2</b> Starting a Simulation</a>
<ul>
<li class="chapter" data-level="13.5.2.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#BatchFileExamples-4"><i class="fa fa-check"></i><b>13.5.2.1</b> Batch File Example and Run Options (Switches)</a></li>
<li class="chapter" data-level="13.5.2.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#CopyModelBatchFiles-4"><i class="fa fa-check"></i><b>13.5.2.2</b> Copy/Package Model from Batch Files</a></li>
<li class="chapter" data-level="13.5.2.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#AdvancedBatchFiles-4"><i class="fa fa-check"></i><b>13.5.2.3</b> Advanced Batch Files</a></li>
</ul></li>
<li class="chapter" data-level="13.5.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#RunningHPC-3"><i class="fa fa-check"></i><b>13.5.3</b> Running TUFLOW HPC</a>
<ul>
<li class="chapter" data-level="13.5.3.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#HPCGPUCommands-4"><i class="fa fa-check"></i><b>13.5.3.1</b> TUFLOW HPC and GPU Module Commands</a></li>
<li class="chapter" data-level="13.5.3.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#GPUCompatibility-4"><i class="fa fa-check"></i><b>13.5.3.2</b> Compatible Graphics Cards</a></li>
<li class="chapter" data-level="13.5.3.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#UpdatingGPUDrivers-4"><i class="fa fa-check"></i><b>13.5.3.3</b> Updating NVIDIA Drivers</a></li>
<li class="chapter" data-level="13.5.3.4" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#GPUNVLink-4"><i class="fa fa-check"></i><b>13.5.3.4</b> NVLink – Multi-GPU Performance (HPC Only)</a></li>
<li class="chapter" data-level="13.5.3.5" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#GPUTroubleshooting-4"><i class="fa fa-check"></i><b>13.5.3.5</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="13.5.4" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#Running1D-3"><i class="fa fa-check"></i><b>13.5.4</b> Running TUFLOW 1D Only Simulations</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#TUFLOWExternalSchemes-2"><i class="fa fa-check"></i><b>13.6</b> Using TUFLOW with Flood Modeller, SWMM, XP-SWMM, 12D or from SMS</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#SWMMSimulations-3"><i class="fa fa-check"></i><b>13.6.1</b> Using TUFLOW with EPA SWMM</a></li>
<li class="chapter" data-level="13.6.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#FMSimulations-3"><i class="fa fa-check"></i><b>13.6.2</b> Using TUFLOW with Flood Modeller</a></li>
<li class="chapter" data-level="13.6.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#TwelveDSimulations-3"><i class="fa fa-check"></i><b>13.6.3</b> Using TUFLOW with 12D</a></li>
<li class="chapter" data-level="13.6.4" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#XPSWMMSimulations-3"><i class="fa fa-check"></i><b>13.6.4</b> Using TUFLOW with XP-SWMM</a></li>
<li class="chapter" data-level="13.6.5" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#SMSSimulations-3"><i class="fa fa-check"></i><b>13.6.5</b> Using TUFLOW with SMS</a></li>
<li class="chapter" data-level="13.6.6" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#OptimisingSims-3"><i class="fa fa-check"></i><b>13.6.6</b> Optimising Startup and Run Times</a>
<ul>
<li class="chapter" data-level="13.6.6.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#Improved1DInputs-4"><i class="fa fa-check"></i><b>13.6.6.1</b> Improved pre-processing of 1D Model Inputs</a></li>
<li class="chapter" data-level="13.6.6.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#SGSParallelProcessing-4"><i class="fa fa-check"></i><b>13.6.6.2</b> Parallel Processing for SGS initialisation</a></li>
<li class="chapter" data-level="13.6.6.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#OptimisingMultiGPUPerformance-4"><i class="fa fa-check"></i><b>13.6.6.3</b> Optimising Multi-GPU Performance (HPC Only)</a></li>
</ul></li>
<li class="chapter" data-level="13.6.7" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#AutoTerminateOptions-3"><i class="fa fa-check"></i><b>13.6.7</b> Auto Terminate (Simulation End) Options</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#ResultsReplication-3"><i class="fa fa-check"></i><b>13.7</b> Reproducibility of Results</a>
<ul>
<li class="chapter" data-level="13.7.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#ResultsReplicationClassic-3"><i class="fa fa-check"></i><b>13.7.1</b> TUFLOW Classic (CPU only)</a></li>
<li class="chapter" data-level="13.7.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#ResultsReplicationHPCCPU-3"><i class="fa fa-check"></i><b>13.7.2</b> TUFLOW HPC (incl. Quadtree) on CPU</a></li>
<li class="chapter" data-level="13.7.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#ResultsReplicationHPCGPU-3"><i class="fa fa-check"></i><b>13.7.3</b> TUFLOW HPC (incl. Quadtree) on GPU</a></li>
<li class="chapter" data-level="13.7.4" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#ResultsReplicationHPCMultiThread-3"><i class="fa fa-check"></i><b>13.7.4</b> TUFLOW HPC (incl. Quadtree) on multiple GPUs / CPU threads</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html"><i class="fa fa-check"></i><b>14</b> Checks and Log Files</a>
<ul>
<li class="chapter" data-level="14.1" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#Log-Introduction-1"><i class="fa fa-check"></i><b>14.1</b> Introduction</a></li>
<li class="chapter" data-level="14.2" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#ConsoleDisplay-2"><i class="fa fa-check"></i><b>14.2</b> Console (DOS) Window Display</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#Classic-3"><i class="fa fa-check"></i><b>14.2.1</b> TUFLOW Classic</a></li>
<li class="chapter" data-level="14.2.2" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#HPC-3"><i class="fa fa-check"></i><b>14.2.2</b> TUFLOW HPC</a></li>
<li class="chapter" data-level="14.2.3" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#ConsoleDisappear-3"><i class="fa fa-check"></i><b>14.2.3</b> The Console (DOS) Window Does Not Appear</a></li>
<li class="chapter" data-level="14.2.4" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#QuickEdit-3"><i class="fa fa-check"></i><b>14.2.4</b> Unexpected Simulation Pause (DOS Quick Edit Mode)</a></li>
<li class="chapter" data-level="14.2.5" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#ConsoleShortcut-3"><i class="fa fa-check"></i><b>14.2.5</b> Stopping the Console Window</a></li>
<li class="chapter" data-level="14.2.6" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#ConsoleCustomisation-3"><i class="fa fa-check"></i><b>14.2.6</b> Customisation of Console Window</a></li>
<li class="chapter" data-level="14.2.7" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#ErrorLevel-3"><i class="fa fa-check"></i><b>14.2.7</b> TUFLOW Windows ERROR LEVEL Reporting</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#MessageBox-2"><i class="fa fa-check"></i><b>14.3</b> Message Boxes</a></li>
<li class="chapter" data-level="14.4" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#SimLog-2"><i class="fa fa-check"></i><b>14.4</b> Simulations .log</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#LocalLog-3"><i class="fa fa-check"></i><b>14.4.1</b> Local .log File</a></li>
<li class="chapter" data-level="14.4.2" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#GlobalLog-3"><i class="fa fa-check"></i><b>14.4.2</b> Global .log File</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#SimLogFiles-2"><i class="fa fa-check"></i><b>14.5</b> Simulation Log Files</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#TLF-3"><i class="fa fa-check"></i><b>14.5.1</b> TLF</a>
<ul>
<li class="chapter" data-level="14.5.1.1" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#HPCTLF-4"><i class="fa fa-check"></i><b>14.5.1.1</b> HPC TLF and DT</a></li>
</ul></li>
<li class="chapter" data-level="14.5.2" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#TSF-3"><i class="fa fa-check"></i><b>14.5.2</b> TSF</a></li>
<li class="chapter" data-level="14.5.3" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#start-stats-3"><i class="fa fa-check"></i><b>14.5.3</b> Start Stats</a></li>
<li class="chapter" data-level="14.5.4" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#run-stats-3"><i class="fa fa-check"></i><b>14.5.4</b> Run Stats</a></li>
<li class="chapter" data-level="14.5.5" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#Messages-3"><i class="fa fa-check"></i><b>14.5.5</b> Messages</a></li>
<li class="chapter" data-level="14.5.6" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#Workspaces-2"><i class="fa fa-check"></i><b>14.5.6</b> GIS Workspaces</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#EOF-2"><i class="fa fa-check"></i><b>14.6</b> 1D Output File</a></li>
<li class="chapter" data-level="14.7" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#CheckLayers-2"><i class="fa fa-check"></i><b>14.7</b> Check Files</a></li>
<li class="chapter" data-level="14.8" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#MB-2"><i class="fa fa-check"></i><b>14.8</b> Mass Balance Output</a>
<ul>
<li class="chapter" data-level="14.8.1" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#OneD-MB-3"><i class="fa fa-check"></i><b>14.8.1</b> TUFLOW 1D Mass Balance</a></li>
<li class="chapter" data-level="14.8.2" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#MB-CLA-3"><i class="fa fa-check"></i><b>14.8.2</b> TUFLOW Classic Mass Balance</a></li>
<li class="chapter" data-level="14.8.3" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#MB-HPC-3"><i class="fa fa-check"></i><b>14.8.3</b> TUFLOW HPC Mass Balance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html"><i class="fa fa-check"></i><b>15</b> Viewing Outputs</a>
<ul>
<li class="chapter" data-level="15.1" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#Introduction-Viewing-2"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#Output-Folder-2"><i class="fa fa-check"></i><b>15.2</b> Folder Structure</a></li>
<li class="chapter" data-level="15.3" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#view-1D-2"><i class="fa fa-check"></i><b>15.3</b> 1D Output</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#view-tpc-3"><i class="fa fa-check"></i><b>15.3.1</b> TUFLOW Plot Control file (TPC)</a></li>
<li class="chapter" data-level="15.3.2" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#mm-4"><i class="fa fa-check"></i><b>15.3.2</b> Maximum and Minimum Output</a></li>
<li class="chapter" data-level="15.3.3" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#ccA-4"><i class="fa fa-check"></i><b>15.3.3</b> ccA GIS Layer</a></li>
<li class="chapter" data-level="15.3.4" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#TS-GIS-3"><i class="fa fa-check"></i><b>15.3.4</b> _TS GIS Layer</a></li>
<li class="chapter" data-level="15.3.5" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#Viewing-WLL-4"><i class="fa fa-check"></i><b>15.3.5</b> 1D Water Level Lines (WLL)</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#view-2D-2"><i class="fa fa-check"></i><b>15.4</b> 2D Output</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#view-mesh-3"><i class="fa fa-check"></i><b>15.4.1</b> Mesh Output</a></li>
<li class="chapter" data-level="15.4.2" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#view-raster-3"><i class="fa fa-check"></i><b>15.4.2</b> Raster Output</a></li>
<li class="chapter" data-level="15.4.3" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#View-PO-3"><i class="fa fa-check"></i><b>15.4.3</b> Plot Output</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#Post-Process-2"><i class="fa fa-check"></i><b>15.5</b> Post Processing</a></li>
<li class="chapter" data-level="15.6" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#Impact-Map-2"><i class="fa fa-check"></i><b>15.6</b> Impact Mapping</a></li>
<li class="chapter" data-level="15.7" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#Animations-2"><i class="fa fa-check"></i><b>15.7</b> Animations</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html"><i class="fa fa-check"></i><b>16</b> Quality Control and Troubleshooting</a>
<ul>
<li class="chapter" data-level="16.1" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#QAIntroduction-2"><i class="fa fa-check"></i><b>16.1</b> Introduction</a></li>
<li class="chapter" data-level="16.2" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#ModelHealth-2"><i class="fa fa-check"></i><b>16.2</b> Model Health</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#TUFLOWClassicModelHealth-3"><i class="fa fa-check"></i><b>16.2.1</b> TUFLOW Classic</a>
<ul>
<li class="chapter" data-level="16.2.1.1" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#TUFLOWClassicTimestep-4"><i class="fa fa-check"></i><b>16.2.1.1</b> Timestep</a></li>
</ul></li>
<li class="chapter" data-level="16.2.2" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#TUFLOWHPCModelHealth-3"><i class="fa fa-check"></i><b>16.2.2</b> TUFLOW HPC</a>
<ul>
<li class="chapter" data-level="16.2.2.1" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#TUFLOWHPCTimestep-4"><i class="fa fa-check"></i><b>16.2.2.1</b> Timestep</a></li>
</ul></li>
<li class="chapter" data-level="16.2.3" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#TUFLOWQAIndicators-3"><i class="fa fa-check"></i><b>16.2.3</b> Healthy Model Indicators</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#QATroubleshooting-2"><i class="fa fa-check"></i><b>16.3</b> Troubleshooting</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#QAGeneralComments-3"><i class="fa fa-check"></i><b>16.3.1</b> General Comments</a></li>
<li class="chapter" data-level="16.3.2" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#tuflowinstability-3"><i class="fa fa-check"></i><b>16.3.2</b> Instability Identification</a>
<ul>
<li class="chapter" data-level="16.3.2.1" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#onedinstability-4"><i class="fa fa-check"></i><b>16.3.2.1</b> 1D (ESTRY) Domains</a></li>
<li class="chapter" data-level="16.3.2.2" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#ClassicInstability-4"><i class="fa fa-check"></i><b>16.3.2.2</b> TUFLOW Classic</a></li>
<li class="chapter" data-level="16.3.2.3" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#HPCInstability-4"><i class="fa fa-check"></i><b>16.3.2.3</b> TUFLOW HPC</a></li>
<li class="chapter" data-level="16.3.2.4" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#onedtwodinstability-4"><i class="fa fa-check"></i><b>16.3.2.4</b> 1D/2D Links</a></li>
<li class="chapter" data-level="16.3.2.5" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#othertroublshooting-4"><i class="fa fa-check"></i><b>16.3.2.5</b> Other General Troubleshooting Recommendations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#QAchecklist-2"><i class="fa fa-check"></i><b>16.4</b> QA Check List and Simulation Logging</a></li>
<li class="chapter" data-level="16.5" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#ExceedingRAM-2"><i class="fa fa-check"></i><b>16.5</b> Models Exceeding Hardware RAM</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#ComputerRAM-3"><i class="fa fa-check"></i><b>16.5.1</b> Computer RAM</a></li>
<li class="chapter" data-level="16.5.2" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#TUFLOWVersion-3"><i class="fa fa-check"></i><b>16.5.2</b> TUFLOW Version</a></li>
<li class="chapter" data-level="16.5.3" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#QAmodeldesign-3"><i class="fa fa-check"></i><b>16.5.3</b> Model Design</a></li>
<li class="chapter" data-level="16.5.4" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#memoryusage-3"><i class="fa fa-check"></i><b>16.5.4</b> Memory Usage Reporting</a></li>
<li class="chapter" data-level="16.5.5" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#tempmemoryusage-3"><i class="fa fa-check"></i><b>16.5.5</b> Temporary Memory Usage</a></li>
<li class="chapter" data-level="16.5.6" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#GPURAM-3"><i class="fa fa-check"></i><b>16.5.6</b> TUFLOW HPC GPU Module and RAM requirements</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#backwardcompatibility-2"><i class="fa fa-check"></i><b>16.6</b> Past Release Version Backward Compatibility</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="Utilities-1.html"><a href="Utilities-1.html"><i class="fa fa-check"></i><b>17</b> Utilities</a>
<ul>
<li class="chapter" data-level="17.1" data-path="Utilities-1.html"><a href="Utilities-1.html#Util-Introduction-2"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="Utilities-1.html"><a href="Utilities-1.html#GIS-Utilities-2"><i class="fa fa-check"></i><b>17.2</b> GIS Based Utilities</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="Utilities-1.html"><a href="Utilities-1.html#QGIS-Plugin-3"><i class="fa fa-check"></i><b>17.2.1</b> QGIS TUFLOW Plugin</a></li>
<li class="chapter" data-level="17.2.2" data-path="Utilities-1.html"><a href="Utilities-1.html#ArcGIS-Toolbar-3"><i class="fa fa-check"></i><b>17.2.2</b> ArcGIS Pro Toolbar</a></li>
<li class="chapter" data-level="17.2.3" data-path="Utilities-1.html"><a href="Utilities-1.html#ArcMap-Toolbox-3"><i class="fa fa-check"></i><b>17.2.3</b> ArcMap Toolbox</a></li>
<li class="chapter" data-level="17.2.4" data-path="Utilities-1.html"><a href="Utilities-1.html#MiTools-3"><i class="fa fa-check"></i><b>17.2.4</b> MiTools</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="Utilities-1.html"><a href="Utilities-1.html#Console-2"><i class="fa fa-check"></i><b>17.3</b> Console Utilities</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="Utilities-1.html"><a href="Utilities-1.html#Processing-Utilites-3"><i class="fa fa-check"></i><b>17.3.1</b> Pre and Post Processing</a></li>
<li class="chapter" data-level="17.3.2" data-path="Utilities-1.html"><a href="Utilities-1.html#Convert-Utilties-3"><i class="fa fa-check"></i><b>17.3.2</b> Convert to TUFLOW</a></li>
<li class="chapter" data-level="17.3.3" data-path="Utilities-1.html"><a href="Utilities-1.html#Syntax-Highlighting-3"><i class="fa fa-check"></i><b>17.3.3</b> Textfile Syntax Highlighting</a></li>
<li class="chapter" data-level="17.3.4" data-path="Utilities-1.html"><a href="Utilities-1.html#PyTUFLOW-3"><i class="fa fa-check"></i><b>17.3.4</b> PyTUFLOW</a></li>
<li class="chapter" data-level="17.3.5" data-path="Utilities-1.html"><a href="Utilities-1.html#Excel-3"><i class="fa fa-check"></i><b>17.3.5</b> Excel Macros</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="Features-and-Changes-1.html"><a href="Features-and-Changes-1.html"><i class="fa fa-check"></i><b>18</b> Default Changes</a>
<ul>
<li class="chapter" data-level="18.1" data-path="Features-and-Changes-1.html"><a href="Features-and-Changes-1.html#changes-post-2018"><i class="fa fa-check"></i><b>18.1</b> Post 2018-03 Release</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="Features-and-Changes-1.html"><a href="Features-and-Changes-1.html#changes-from-2020-10"><i class="fa fa-check"></i><b>18.1.1</b> 2023-03 Release to 2020-10 Release</a></li>
<li class="chapter" data-level="18.1.2" data-path="Features-and-Changes-1.html"><a href="Features-and-Changes-1.html#changes-from-2020-01"><i class="fa fa-check"></i><b>18.1.2</b> 2020-10 Release to 2020-01 Release</a></li>
<li class="chapter" data-level="18.1.3" data-path="Features-and-Changes-1.html"><a href="Features-and-Changes-1.html#changes-from-2018-03"><i class="fa fa-check"></i><b>18.1.3</b> 2020-01 Release to 2018-03 Release</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="Features-and-Changes-1.html"><a href="Features-and-Changes-1.html#changes-pre-2018"><i class="fa fa-check"></i><b>18.2</b> Pre 2018-03 Release</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="TCFCommands-1.html"><a href="TCFCommands-1.html"><i class="fa fa-check"></i><b>A</b> TCF Commands</a></li>
<li class="chapter" data-level="B" data-path="ECFCommands-1.html"><a href="ECFCommands-1.html"><i class="fa fa-check"></i><b>B</b> ECF Commands</a></li>
<li class="chapter" data-level="C" data-path="TGCCommands-1.html"><a href="TGCCommands-1.html"><i class="fa fa-check"></i><b>C</b> TGC Commands</a></li>
<li class="chapter" data-level="D" data-path="TBCCommands-1.html"><a href="TBCCommands-1.html"><i class="fa fa-check"></i><b>D</b> TBC Commands</a></li>
<li class="chapter" data-level="E" data-path="TOCCommands-1.html"><a href="TOCCommands-1.html"><i class="fa fa-check"></i><b>E</b> TOC Commands</a></li>
<li class="chapter" data-level="F" data-path="TRFCCommands-1.html"><a href="TRFCCommands-1.html"><i class="fa fa-check"></i><b>F</b> TRFC Commands</a></li>
<li class="chapter" data-level="G" data-path="TESFCommands-1.html"><a href="TESFCommands-1.html"><i class="fa fa-check"></i><b>G</b> TESF Commands</a></li>
<li class="chapter" data-level="H" data-path="QCFCommands-1.html"><a href="QCFCommands-1.html"><i class="fa fa-check"></i><b>H</b> QCF Commands</a></li>
<li class="chapter" data-level="I" data-path="TSCFCommands-1.html"><a href="TSCFCommands-1.html"><i class="fa fa-check"></i><b>I</b> TSCF Commands</a></li>
<li class="chapter" data-level="J" data-path="ADCFCommands-1.html"><a href="ADCFCommands-1.html"><i class="fa fa-check"></i><b>J</b> ADCF Commands</a></li>
<li class="chapter" data-level="K" data-path="TEFCommands-1.html"><a href="TEFCommands-1.html"><i class="fa fa-check"></i><b>K</b> TEF Commands</a></li>
<li class="chapter" data-level="L" data-path="SWMMGeopackage-1.html"><a href="SWMMGeopackage-1.html"><i class="fa fa-check"></i><b>L</b> SWMM GeoPackage Format</a>
<ul>
<li class="chapter" data-level="L.1" data-path="SWMMGeopackage-1.html"><a href="SWMMGeopackage-1.html#swmm-geopackage-layer-list"><i class="fa fa-check"></i><b>L.1</b> SWMM GeoPackage Layer List</a></li>
<li class="chapter" data-level="L.2" data-path="SWMMGeopackage-1.html"><a href="SWMMGeopackage-1.html#swmm-geopackage-layer-descriptions"><i class="fa fa-check"></i><b>L.2</b> SWMM GeoPackage Layer Descriptions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://docs.tuflow.com/classic-hpc/manual/2023-03/"><img src="images/WQFooter.jpg" style="width:246px;height:10px;"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><h0 style="color:rgb(0,85,129);">TUFLOW Classic/HPC User Manual 2023-03</h0></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Boundaries-InitialConditions-1" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Section 8</span> Boundaries and Initial Conditions<a href="Boundaries-InitialConditions-1.html#Boundaries-InitialConditions-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<!-- PAR to EFC: need to add in negative rainfall boundaries are possible and that will remove water from wet cells. then link to 2D domains chapter where we discuss-->
<!--EFC: added comment in rainfall overview and linked to 2D domains section-->
<div id="BC-Intro-2" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Introduction<a href="Boundaries-InitialConditions-1.html#BC-Intro-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Boundary conditions are a crucial part of hydrodynamic modelling, providing the inputs where fluids can enter or leave the hydrodynamic model area. This chapter of the manual discusses the available boundary conditions
and the boundary condition database, where constant and time-series of boundary elements are specified. 1D and 2D boundaries are discussed
together in this chapter as both access the same boundary database (see Section
<a href="Boundaries-InitialConditions-1.html#bcdbase-2">8.6</a>), although separate databases can be set up if desired.</p>
<p>The options for applying initial conditions to the 1D and 2D domains of
the model are also discussed.</p>
</div>
<div id="BCArrangements-2" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Recommended BC Arrangements<a href="Boundaries-InitialConditions-1.html#BCArrangements-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This section discusses the recommended boundary condition arrangements for downstream, inflow and internal boundaries, summarised in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-BCArrangements">8.1</a>.</p>
<p>The recommended arrangements of downstream boundaries are:</p>
<ul>
<li>Where the downstream boundary is a well-defined water level (e.g. the ocean or a large lake), water level boundaries are typically specified using 1D or 2D HT (water level vs time) boundaries. Note that both outflow and inflow may occur with water level boundaries.<br />
</li>
<li>Where the downstream boundary is intended to represent a “reasonable continuation” of a river, a stage-discharge relationship may be specified using a 1D or 2D HQ (water level vs flow, also commonly referred to as a stage-discharge) boundary. Note that real rivers may exhibit a hysteresis in the stage-discharge relationship (sometimes termed a “looped rating curve”). When this occurs the discharge at a particular water level may be different at different stages in the flood, for example a higher flow may occur on the rising limb compared to the same gauge level on the falling limb. A single height-flow (HQ) curve is therefore an approximation of flood behaviour. Sensitivity testing of any downstream HQ boundaries is recommended, if results in the area of interest are sensitive to changes in HQ curve, consider moving the downstream boundary further from the area of interest.<br />
</li>
<li>In some situations, a hydraulic structure that is inlet controlled acts as the downstream control, in which case, the boundary specified downstream of the structure will have no influence on the results upstream of the structure. For such cases, a downstream water level (HT) boundary may be used with a water level defined below the ground level. In TUFLOW Classic, with a downstream boundary where a water level has been specified below the ground level, for a positive bed slope (based on slope from upstream cell centre to cell face), upstream friction based flow (which may be supercritical) is assumed based on the bed slope, whilst for negative (adverse) slope, weir flow is assumed. For TUFLOW HPC, with a downstream boundary with a defined water level below ground level, it becomes a ‘weir’ calculation - similar to a broad-crested weir. It is possible that subcritical flow just upstream of the boundary may become critical or supercritical at the face where the weir is. Flow that is already supercritical will remain supercritical.</li>
</ul>
<p>The recommended arrangements of inflow/internal boundaries are:</p>
<ul>
<li>For fluvial flood (river/streams breaking bank) models it is common to use an inflow boundary (flow vs time or QT). However, in some situations upstream levels may be known more accurately than flows (level gauges are common whereas cross-section integrated flow measurements are rare) and a water level boundary (HT) may be used instead - particularly during model calibration.<br />
</li>
<li>For 2D pluvial (rainfall exceeding drainage capacity) flood models, inflows may also be defined using 2D flow sources and sinks such as a Rainfall (RF) or SA boundaries.<br />
</li>
<li>For models where the rate of inflow changes dramatically, such as in a dam-break scenario, a QT boundary may have instability issues, in which case the flow vs time inflow may be defined using a area based Source-Area (SA) boundary. SA boundaries are typically more stable than QT boundaries. Alternatively the dam break can be modelled via representation of the storage upstream of the dam within the model with the failure being represented via either a dynamic 1D dambreak channel (DF or PF type channel - refer Section <a href="OneD-Domains-1.html#PFDF-3">5.10.8</a>) or 2D via variable geometry (variable 2D z shape) - refer Section <a href="TwoD-Domains-1.html#vzsh-4">7.3.5.3</a>.</li>
</ul>
<!-- CDH this is true, though is very specific and doesn't really fit in with the surrounding text. I feel like this commentary relates to a single problematic support query we struggled with. It's biasing us to focus on it too much. If we want to talk about this specifically I think we should discuss boundary condition data accuracy more broadly, not just for "recorded" flows.

When using recorded flow data for QT boundary inflows, or HQ boundary outflows, take care to ensure that you understand the source of the "Q" data. If there is inaccuracies in the flow data, these will be introduced to your TUFLOW model. For example, if using recorded flow data, understand that obtaining actual flow rate measurements is difficult in practice - it requires an accurate measurement of flow velocity at a number of locations over the cross-section. In the majority of cases, recorded flows are based on a measured water level (stage), and the flow rate data is derived from these using parallel flow analysis for the cross-section in question and with assumed bed friction values. There are many factors that can cause significant errors
with this approach: cross sections that are not at longitudinal equilibrium, or have multiple sub-channels, or have high turbulent eddy viscosity,
or are running near or beyond bank full, not to mention the accuracy of the bed-friction assumptions. These uncertainties should be kept in mind
when using flow vs time and stage vs flow data from a source where you are unsure of the origins of the flow rate data.  An alternative approach is to generate a rating curve based on spot flow measurements which is used to derive flow from the measured water level.  Due to practical reasons, these spot gauges rarely take place during flood events, and the extrapolation of the rating curve can introduce uncertainties. In fact hydrodynamic models have been used to assess the validity of, and extend, such rating curves. -->
<p>For both 1D and 2D models, it is critically important that the inflow and downstream boundary placement location does not affect the model results within the primary area of interest. It is an essential step during the early stages of model creation to sensitivity check the location of the boundary to confirm its location does not cause a material difference in water levels within the region of interest for the modelling. If a difference in result does occur, greater distance between the area of interest and the boundary location should be considered.</p>
<p>With regard to 2D boundaries, particular attention should be given to the placement of water level (HQ and HT) and flow (QT) boundaries. They should be:</p>
<ul>
<li>Digitised as line objects approximately perpendicular to the flow direction. The boundary can be digitised at any orientation to the 2D grid (i.e. does not need to be parallel to the grid) and can be defined using a line with multiple vertices and segments (i.e. it does not have to be a straight line). The reason these boundaries should be digitised perpendicular to flow is that the boundary, depending on type and options (refer Section <a href="Boundaries-InitialConditions-1.html#BC-Layers-3">8.5.1</a>), may force a uniform water level along the boundary cells. Spurious circulations can occur along the boundary if it is digitised along (as opposed to across) a waterway. This is often noticed by viewing the flow velocity vectors in the vicinity of the boundary or by an oscillating delta volume (dV) value in the output window (refer to Section <a href="Checks-and-Logs-1.html#ConsoleDisplay-2">14.2</a>).<br />
</li>
<li>Placed at the edge of the model active area boundary. To achieve this, snap the line vertices to those of the code polygon that defines the model active area. If the boundary is placed inside of the active area, bi-directional and/or recirculating flows are likely to occur. If the boundary line is significantly outside the active code polygon, then flow may not be able to reach the boundary and leave the model.<br />
</li>
<li>Have end points at sufficient elevation so that water levels at the boundary never reach the ends of the line.<br />
</li>
<li>Specifically for the stage-discharge (HQ) boundary, the boundary should only span one primary flow path. If the stage-discharge relationship is to be auto-calculated, the boundary end points should have elevations that are only just a bit above the highest expected water level, alternative the ‘d’ attribute can be used to set the maximum depth, see Table <a href="Boundaries-InitialConditions-1.html#tab:tab-ConditionsAttribute">8.6</a>. This is to ensure that the digitised stage-discharge table has sufficient resolution over the actual working range of the boundary. Further, HQ curves generated for very shallow surface elevation slopes may cause model stability challenges.</li>
</ul>
<p>A good check for the boundary locations is to compare peak flood extent (e.g. maximum water level grid) after a simulation with the active model area and associated boundary locations; typically water should not touch the edge of the model unless a boundary is defined. If water does occur at the edge of the domain, a process called ‘Glass-Walling’, boundaries of the active model area may need to be reviewed and added as appropriate.</p>
<p>Table <a href="Boundaries-InitialConditions-1.html#tab:tab-BCArrangements">8.1</a> provides an overview of the boundary types typically used for different locations.</p>
<table>
<caption>
<span id="tab:tab-BCArrangements">Table 8.1: </span><strong>Recommended BC Arrangements</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type of Boundary
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
1D
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
2D
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Ocean or Estuary
</td>
<td style="text-align:left;">
HT
</td>
<td style="text-align:left;">
HT
</td>
</tr>
<tr>
<td style="text-align:left;">
Lake
</td>
<td style="text-align:left;">
HT
</td>
<td style="text-align:left;">
HT
</td>
</tr>
<tr>
<td style="text-align:left;">
River/Creek Outflow
</td>
<td style="text-align:left;">
HQ or HT
</td>
<td style="text-align:left;">
HQ or HT
</td>
</tr>
<tr>
<td style="text-align:left;">
River/Creek Inflow
</td>
<td style="text-align:left;">
QT as point on inflow node.
</td>
<td style="text-align:left;">
QT line (preferred) or SA region
</td>
</tr>
<tr>
<td style="text-align:left;">
Local Catchment Inflows around the edge of model or within model.
</td>
<td style="text-align:left;">
QT as regions (flow is distributed between nodes within a region)
</td>
<td style="text-align:left;">
SA.<br />
Use SA with PITS option for directing inflows directly to 1d pits (also referred to as gully traps).
</td>
</tr>
<tr>
<td style="text-align:left;">
Direct Rainfall<br />
(No Hydrology Inflows)
</td>
<td style="text-align:left;">
No option at present
</td>
<td style="text-align:left;">
RF or possibly SA (with RF option).
</td>
</tr>
<tr>
<td style="text-align:left;">
Dambreak Hydrograph
</td>
<td style="text-align:left;">
QT
</td>
<td style="text-align:left;">
SA or QT. SA may offer greater stability and better mass error if mass errors occur using QT.
</td>
</tr>
<tr>
<td style="text-align:left;">
Pumps
</td>
<td style="text-align:left;">
P (Pump) channel
</td>
<td style="text-align:left;">
1D linked via SX preferred.<br />
SH possible
</td>
</tr>
<tr>
<td style="text-align:left;">
Infiltration
</td>
<td style="text-align:left;">
No option at present other than specifying a negative QT.
</td>
<td style="text-align:left;">
Specify rainfall losses on a materail basis (Section <a href="TwoD-Domains-1.html#Rainfall-Losses-4">7.3.6.4</a>) or use the soil infiltration feature (Section <a href="TwoD-Domains-1.html#Infiltration-2">7.3.7</a>). Alternatively, RF can be used by specifying negative values.
</td>
</tr>
<tr>
<td style="text-align:left;">
Groundwater Level
</td>
<td style="text-align:left;">
HT
</td>
<td style="text-align:left;">
2D HT if on the surface or specify a GT level when using Interflow functionality for sub-surface groundwater level.
</td>
</tr>
</tbody>
</table>
</div>
<div id="BC-Solver-2" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Solver Specific Considerations<a href="Boundaries-InitialConditions-1.html#BC-Solver-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="ClassicBC-3" class="section level3 hasAnchor" number="8.3.1">
<h3><span class="header-section-number">8.3.1</span> Classic Specific Boundaries / Options<a href="Boundaries-InitialConditions-1.html#ClassicBC-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are a number of boundary types that are considered legacy types, are not commonly used, nor recommended to be used. These boundary types are not supported in HPC/Quadtree and are not currently planned to be supported. These include:</p>
<ul>
<li>ST - Flow vs Time. For an alternative, use the 2d_sa layer (Section <a href="Boundaries-InitialConditions-1.html#SA-Layers-3">8.5.2</a>).</li>
<li>QH - Flow vs Water Level.</li>
<li>VG - Variable Geometry. For an alternative, use Variable Z Shapes (Section <a href="TwoD-Domains-1.html#vzsh-4">7.3.5.3</a>).</li>
<li>WT - Wind Stresses. For an alternative, use either an external stress boundary (Section <a href="Boundaries-InitialConditions-1.html#ExternalStress-2">8.8</a>) or cyclone boundary (Section <a href="Boundaries-InitialConditions-1.html#Cyclones-2">8.7</a>).</li>
<li>HS - Sinusoidal Water Level. In TUFLOW Classic these were initially a fixed field boundary where a number of tidal constituents (phase, amplitude and period) could be specified instead of a time-series. This was done initially in TUFLOW Classic in th 1990’s to be more memory efficient, however, memory (in particular time-series data) is typically no longer a limiting factor, so this approach has not been adopted for HPC. In TUFLOW Classic, HS and HT boundaries can be applied simultaneously to represent the different components of the boundary - for example a sinusoidal tide (HS) and a storm surge component (applied as HT), with the summation giving the overall storm tide. If multiple boundaries are to be applied to the same cells (e.g. to apply a storm surge on top of an ocean tide), these must be in <u>separate</u> GIS layers. In contrast, TUFLOW HPC does not support HS boundaries, or the combining of multiple water level boundaries on the same cells. Instead the tidal and surge components must be combined into a single HT time series.</li>
</ul>
<!-- PAR to EFC: test HS, QC (test QC to see if errors) and ST-->
<!-- EFC to PAR: yes QC errors. HS works in CLA, not HPC or QDT, ST works in CLA + HPC (not QDT), have submitted jira ticket-->
</div>
<div id="ClassicHPC-3" class="section level3 hasAnchor" number="8.3.2">
<h3><span class="header-section-number">8.3.2</span> HPC Specific Boundaries / Options<a href="Boundaries-InitialConditions-1.html#ClassicHPC-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="HPCEnergyOptions-4" class="section level4 hasAnchor" number="8.3.2.1">
<h4><span class="header-section-number">8.3.2.1</span> HPC Energy Options for 2D HT, HQ and QT Boundaries<a href="Boundaries-InitialConditions-1.html#HPCEnergyOptions-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Enforcing a uniform water level along the length of a boundary is not always realistic, and in some situations can lead to recirculating flow around the boundary (high velocity flow into the model towards one end of the boundary only for much of this flow to leave the model near the other end of the boundary). Historically, this could sometimes be remedied by increasing the viscosity applied along the boundary. For the TUFLOW HPC scheme we have however found a better approach (drawn from CFD modelling), to utilise a uniform total energy level along the boundary.</p>
<p>Consider the height vs time (HT) boundary, the approach is to utilise the user defined elevation as a total energy, and then apply a negative elevation correction to elevation on in-flowing cells (it is also permissible to apply an energy correction as a positive elevation adjustment on out-flowing cells, but generally this is not necessary for stabilising the boundary). This approach works well, however, it also means that for fast flowing inflow boundaries, a significant discrepancy will occur between the user-specified water elevation and the realised elevation in the model. This discrepancy is addressed by redefining the user-defined elevation as the water surface elevation corresponding to the Root Mean Squared (RMS) inflow velocity:</p>
<!--DRK to EFC: Does RMS stand for Root Mean Squared? If so, should the equation below have a square root within it? -->
<!--EFC to DRK: yes it does, have checked with GRC. The text and equation are correct-->
<p><span class="math display" id="eq:equ-RMS-inflow">\[\begin{equation}
h_{i} = H(t) + \frac{\bar{v^{2}} - v_{i}^{2}}{2g}
\tag{8.1}
\end{equation}\]</span></p>
<p>Where:</p>
<ul>
<li><span class="math inline">\(H(t)\)</span> is the user define height vs time boundary data<br />
</li>
<li><span class="math inline">\(\bar{v^{2}}\)</span> is the mean square flow velocity averaged over boundary cells that are inflowing<br />
</li>
<li><span class="math inline">\(v_{i}^{2}\)</span> is the magnitude squared of flow velocity at the boundary
cells<br />
</li>
<li><span class="math inline">\(h_{i}\)</span> is the applied water level at the boundary cells</li>
</ul>
<p>Note, that this energy correction is only applied on in-flowing cells. In practice this approach means that for an out-flowing boundary the water level is constant over the length of the boundary line, but for an inflowing boundary some variation in water level will be observed along the length of the boundary with slower flowing regions being slightly above the defined elevation and faster flowing regions being slightly below the defined elevation.</p>
<p>For a QT boundary, the user specifies the flow rate as a function of time, not an elevation. However, internal to the software a fixed elevation boundary is utilised (it is a HX boundary connected to 1D storage node – refer Section <a href="DomainLinking-1.html#HXBoundary-3">10.2.1</a> for a more detailed description of HX boundaries). Recirculation may also occur on the QT boundary (more so when it is digitised oblique to the flow path or digitised over highly irregular terrain), which again is addressed using the same energy correction described above.</p>
<p>Two new approaches have been introduced in the 2023-03 release and are available for HPC only (including Quadtree). The original approach (Method A) is the default for TUFLOW Classic, while Method B and Method C are new options for HPC. The extent of the energy corrections for the different approaches are detailed in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-HPCBoundaryDescriptions">8.2</a>. Note that Method C, which does not apply the correction to HX channel end boundaries is the default.</p>
<p><tcmd><a href="TCFCommands-1.html#tcfHPCBoundaryApproach">HPC Boundary Approach</a></tcmd><teq> == </teq><tblk>Method A | Method B | {Method C}</tblk></p>
<table>
<caption>
<span id="tab:tab-HPCBoundaryDescriptions">Table 8.2: </span><strong>HPC Boundary Approach Descriptions</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Method
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Method A
</td>
<td style="text-align:left;">
No energy corrections applied (backward compatible)
</td>
</tr>
<tr>
<td style="text-align:left;">
Method B
</td>
<td style="text-align:left;">
<p>Energy correction applied for:</p>
<ul>
<li>HT and HQ boundaries<br />
</li>
<li>QT boundaries<br />
</li>
<li>HX boundaries connected to a single 1D node (refer Section <a href="DomainLinking-1.html#HXBoundary-3">10.2.1</a>)
</td>
</tr>
<tr>
<td style="text-align:left;">
Method C (default)
</td>
<td style="text-align:left;">
Energy correction applied for:<br />
</li>
<li>HT and HQ boundaries<br />
</li>
<li>QT boundaries
</td>
</tr>
</tbody>
</table></li>
</ul>
</div>
<div id="HpcHQApproach-4" class="section level4 hasAnchor" number="8.3.2.2">
<h4><span class="header-section-number">8.3.2.2</span> HPC HQ Boundary Approach<a href="Boundaries-InitialConditions-1.html#HpcHQApproach-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The HQ boundary computes the flux across the entire boundary line and uses a rating curve to apply a water level to the model. Each line is treated as a separate boundary and has a stage-discharge relationship, this is consistent with the TUFLOW Classic approach to HQ boundaries. Earlier versions of TUFLOW HPC applied the water surface slope on a cell by cell basis. It is possible to revert to all model HQ boundaries using a cell by cell approach by specifying ‘Cell’ within the .tcf command:</p>
<p><tcmd><a href="TCFCommands-1.html#tcfHPCHQBoundaryApproach">HPC HQ Boundary Approach</a></tcmd><teq> == </teq><tblk>{Total} | Cell</tblk></p>
</div>
<div id="HpcHQFilter-4" class="section level4 hasAnchor" number="8.3.2.3">
<h4><span class="header-section-number">8.3.2.3</span> HPC HQ Boundary Stability<a href="Boundaries-InitialConditions-1.html#HpcHQFilter-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For cross-sections with a very low longitudinal slope, the stage vs flow (HQ) relationship can become unstable - a small change in flow causes a change in level that causes a similar but opposite change in flow. This manifests as high frequency noise on the HQ boundary levels and flows, but unless the model has fine temporal output resolution it can go unnoticed. Starting with release 2023-03-AD, the flow at all HQ boundaries is monitored for stability during the
simulation. A stability warning message will be printed if at any timestep the flow at a given HQ boundary is (1) greater than 0.1% of the maximum flow defined in the HQ table for that boundary, and (2) less than 80% of the flow at that boundary in the previous timestep. The instabilities are easily
addressed by calculating time-filtered flows and using these instead for the HQ table lookup and interpolation:</p>
<p><span class="math display">\[\begin{equation}
Q_{f,i} = \frac{(F - 1)Q_{f,i-1} + Q_i}{F}
\end{equation}\]</span></p>
<p>Where:</p>
<ul>
<li><span class="math inline">\(Q_{f,i}\)</span> is the filtered boundary flow at timestep <span class="math inline">\(i\)</span> (initialised as zero)</li>
<li><span class="math inline">\(Q_i\)</span> is the instantaneous boundary flow</li>
<li><span class="math inline">\(F\)</span> is the filtering factor (must be greater than or equal to 1.)</li>
</ul>
<p>Starting with release 2023-03-AD, the user may specify the global HQ boundary filter constant <span class="math inline">\(F\)</span> using the command below. The default value is 1, which
means no filtering (for backward compatibility).</p>
<p><tcmd><a href="TCFCommands-1.html#tcfHPCHQBoundaryFilterConstant">HPC HQ Boundary Filter Constant</a></tcmd><teq> ==</teq><tblk> &lt;float&gt; | {1}</tblk></p>
</div>
<div id="HpcBoundariesOther-4" class="section level4 hasAnchor" number="8.3.2.4">
<h4><span class="header-section-number">8.3.2.4</span> HPC Additional Boundary Options<a href="Boundaries-InitialConditions-1.html#HpcBoundariesOther-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A number of other commands are available for controlling the behaviour of boundaries which are specific to the HPC solver. In most instances, these can be left at the default value. Refer to the following Appendix links for further details on each of these commands:</p>
<ul>
<li><tcmd><a href="TCFCommands-1.html#tcfHPCInfiltrationDryingApproach">HPC Infiltration Drying Approach</a></tcmd><teq> == </teq><tblk>Method A | Method B</tblk><br />
</li>
<li><tcmd><a href="TCFCommands-1.html#tcfHPCSXMomentumApproach">HPC SX Momentum Approach</a> </tcmd><teq> == </teq><tblk>Method A | {Method B}</tblk></li>
</ul>
</div>
<div id="HpcQuadtreeParallelInteria-4" class="section level4 hasAnchor" number="8.3.2.5">
<h4><span class="header-section-number">8.3.2.5</span> Quadtree BC Parallel Inertia Approach<a href="Boundaries-InitialConditions-1.html#HpcQuadtreeParallelInteria-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Inflow boundaries should be perpendicular to inflow direction, but sometimes this is not possible and a slightly oblique boundary is required. For a momentum
conserving scheme is it important that the incoming flow brings with it the correct amount of transverse momentum. With the 2023-03-AA release, the
handling of transverse momentum, or parallel inertia, for Quadtree simulations (“QT”, “HT” and “HX” type 2d_bc layers) has been changed to
“Method B” to provide better consistency with TUFLOW Classic and HPC. To revert to the 2020 release method, use “Method A” with the following command:</p>
<p><tcmd><a href="TCFCommands-1.html#tcfQuadtreeBCParallelInertiaApproach">Quadtree BC Parallel Inertia Approach</a></tcmd><teq> == </teq><tblk>Method A | {Method B}</tblk></p>
</div>
</div>
</div>
<div id="OneDBoundaries-2" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> 1D Boundaries (1d_bc Layers)<a href="Boundaries-InitialConditions-1.html#OneDBoundaries-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Boundary conditions for 1D domains are defined using one or more 1d_bc GIS layers. The different types of boundaries and links are described in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-LinkTypes">8.3</a>.</p>
<p>GIS 1d_bc layer(s) generally contain points that are snapped to the 1D node in a 1d_nwk layer. Each point has several attributes, as described in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-BoundaryConditions">8.4</a>.</p>
<p>In addition to point GIS objects, regions can be specified for 1D QT boundaries. If a region is used, the QT hydrograph is equally distributed to all nodes falling within the region that are not assigned a water level (H) boundary (this includes nodes connected to the 2D domain via a 2D SX). If no suitable nodes are found within a QT region an ERROR occurs.</p>
<p>Note: It is not possible to assign both a flow type boundary and water level type boundary to the same 1D node. For example, a HT and QT boundary on the same node.</p>
<table>
<caption>
<span id="tab:tab-LinkTypes">Table 8.3: </span><strong>1D Boundary Condition and Link Types</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Comments
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Water Level
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>HQ</b>
</td>
<td style="text-align:left;">
Water Level (<b>H</b>ead) versus Flow (m)
</td>
<td style="text-align:left;">
<p>Assigns a water level to the node based on the flow entering the node. This boundary is normally applied at the downstream end of a model.</p>
<p>The water level versus flow (HQ) curve can be:</p>
<ul>
<li>Manually assigned using the 1d_bc GIS layer ““Name”” attribute (Table <a href="Boundaries-InitialConditions-1.html#tab:tab-BoundaryConditions">8.4</a>) and the boundary database (Section <a href="Boundaries-InitialConditions-1.html#bcdbase-2">8.6</a>).</li>
<li>An automatically generated HQ curve based on the cross-sectional properties and a specified friction slope. Specify “slope=friction_slope” (e.g. slope=0.01) for the “Name” attribute in the 1d_bc point layer (Table <a href="Boundaries-InitialConditions-1.html#tab:tab-BoundaryConditions">8.4</a>) defining the HQ boundary. As long as your boundary is sufficiently far from your area of interest, the friction slope can be estimated from the two nearest cross-sections to the downstream boundary. This feature requires a single channel connected to the node and does not work with channels using HW cross-sections with varying roughness. This functionality was added in the 2023-03-AD release.
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>HT</b>
</td>
<td style="text-align:left;">
Water Level (<b>H</b>ead) versus <b>T</b>ime (m)
</td>
<td style="text-align:left;">
Assigns a water level to the node based on a water level versus time curve using the 1d_bc GIS layer ““Name”” attribute (Table <a href="Boundaries-InitialConditions-1.html#tab:tab-BoundaryConditions">8.4</a>) and the boundary database (Section <a href="Boundaries-InitialConditions-1.html#bcdbase-2">8.6</a>). If other HT or HS boundaries are applied to the node, the water level is set to the sum of the water level boundaries.
</td>
</tr>
<tr>
<td style="text-align:left;">
Treatment
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
1D nodes can be wet or dry. If the water level is below the bed, computationally the bed level is assigned as the water level to the node.</li>
</ul>
As the water level in the node is defined by the boundary, the node’s storage has no bearing on the results.
</td>
</tr>
<tr>
<td style="text-align:left;">
Combinations
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<p>Any number of 1D water level boundaries can be assigned to the same node. The sum of the water levels is assigned as the boundary. For example, a storm tide may be specified as a combination of a tidal HS boundary, a HT boundary of the storm surge and another HT boundary of the wave set up. The HS boundary would be water elevations and the two HT boundaries water depths.</p>
<b>If you have a 2D SX boundary connected to a node and also have a HT and/or HS boundary at the same node, the 2D SX boundary prevails and no warning is given.</b>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Flow
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>QH</b>
</td>
<td style="text-align:left;">
Flow vs Water Level (<b>H</b>ead) (m<sup>3</sup>/s)
</td>
<td style="text-align:left;">
Assigns a flow to the node based on the water level of the node at the previous half timestep using the 1d_bc GIS layer ““Name”” attribute (Table <a href="Boundaries-InitialConditions-1.html#tab:tab-BoundaryConditions">8.4</a>) and the boundary database (Section <a href="Boundaries-InitialConditions-1.html#bcdbase-2">8.6</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>QT</b>
</td>
<td style="text-align:left;">
Flow versus <b>T</b>ime (m<sup>3</sup>/s)
</td>
<td style="text-align:left;">
<p>Assigns a flow into the node based on a flow versus time curve using the 1d_bc GIS layer ““Name”” attribute (Table <a href="Boundaries-InitialConditions-1.html#tab:tab-BoundaryConditions">8.4</a>) and the boundary database (Section <a href="Boundaries-InitialConditions-1.html#bcdbase-2">8.6</a>). A negative flow extracts water from the node.</p>
A region (polygon) can be used to equally distribute the flow hydrograph to all nodes that fall within the region. Any nodes that are an H boundary or are connected to a 2D SX cell are not included. Where pits are connected to the 2D domain, flow is applied to the bottom of the pit (bottom 1D node). The limit on the number of 1D QT regions assigned to a 1D node is ten (10).
</td>
</tr>
<tr>
<td style="text-align:left;">
Treatment
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<p>The 1D node can be wet or dry.</p>
The storage of the 1D node influences the results. If the node storage is made excessively large, the flow hydrograph is attenuated. Conversely, if it is under-sized the node is likely to be unstable.
</td>
</tr>
<tr>
<td style="text-align:left;">
Combinations
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<p>Any number of 1D flow boundaries can be assigned to the same node. The final flow is the sum of the flows assigned.</p>
A connection to a 2D HX boundary (automatically sets as a QX boundary at the node) can be applied in conjunction with other 1D Q boundaries.
</td>
</tr>
</tbody>
</table>
<!-- PAR - reviewed and removed QC from table, does QH boundary still work in 1D ??? -->
<!--EFC to PAR - yes it appears to-->
<table>
<caption>
<span id="tab:tab-BoundaryConditions">Table 8.4: </span><strong>1D Boundary Conditions (1d_bc) Attribute Descriptions</strong>
</caption>
<thead>
<tr>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
No. 
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Default GIS Attribute Name
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
The type of BC using one of the two letter flags described in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-LinkTypes">8.3</a>.
</td>
<td style="text-align:left;">
Char(2)
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Flags
</td>
<td style="text-align:left;">
<p>Available flags are:</p>
<p><b>S</b> Apply a cubic spline fit to the boundary values (HT, QT, HQ and QH only). Useful for simulating tidal HT boundaries.</p>
<p>The flags below are available for QT regions. Any combination of C, O and P can be used. If C, O or P are not specified, the flow is distributed to all non-H boundaries (1D H boundaries are any boundary starting with H or any 2D SX connections). Note, specifying CO is the same as specifying no flags.</p>
<p><b>QT regions only:</b></p>
<b>C</b> Only direct flow into closed nodes. Closed nodes are those that only have culverts/pipes (C, R or I channels) connected. Pits may or may not be connected to a closed node.<br />
<b>O</b> Only direct flow into nodes that have at least one open channel connected. An open channel is any channel besides C, R or I channels.<br />
<b>P</b> Only direct flow into the bottom of pits, i.e. all nodes with a pit connected.
</td>
<td style="text-align:left;">
Char(6)
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
The name of the BC in the BC Database (see Section <a href="Boundaries-InitialConditions-1.html#bcdbase-2">8.6</a>). An error will be generated if no name is specified.<br />
Note for automatic calculation of HQ boundary a slope can be specified with keyword “slope=slope in m/m”. Refer to Table <a href="Boundaries-InitialConditions-1.html#tab:tab-LinkTypes">8.3</a>.
</td>
<td style="text-align:left;">
Char(50)
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
Description
</td>
<td style="text-align:left;">
Optional field for entering comments. Not used.
</td>
<td style="text-align:left;">
Char(250)
</td>
</tr>
</tbody>
</table>
</div>
<div id="TwoDBoundaries-2" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> 2D Boundaries (2d_bc, 2d_sa and 2d_rf Layers)<a href="Boundaries-InitialConditions-1.html#TwoDBoundaries-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>2D boundary conditions and linkages between the 1D and 2D domains are defined using a combination of one or more 2d_bc, 2d_sa or 2d_rf GIS layers. The different types of boundaries and links are described in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-twoDBoundary">8.5</a>.</p>
<p>Conditions have been built into TUFLOW to ensure a cell can only be assigned one boundary from a single GIS layer (except for: pit SX connections; sink/source points or lines with two vertices only; and polygon boundaries such as SA and RF).</p>
<p>Error checks have been incorporated into TUFLOW during the input pre-processing of 2D boundary conditions, TUFLOW stops with an error if a cell is:</p>
<!-- PAR have removed some obsolete boundaries from the below, maybe we should check the below are actually true...-->
<!-- EFC to PAR: can we chat about the easiest way to test this?-->
<!-- PAR to EFC: very simple square model with overlapping boundaries, 1D node somewhere-->
<!-- EFC to PAR: duncan has done this, jira ticket submitted -->
<ul>
<li>Assigned a HT or HS that is already a QT, SX, ST or HX cell;<br />
</li>
<li>Assigned a 2D or HX that is already any other boundary; <!-- EFC to PAR: HX + RF work--></li>
<li>Assigned a QT that is already a SX or H boundary; and<br />
</li>
<li>Assigned a ST or SX that is already a QT or H boundary. <!-- EFC to PAR: RF works with QT, HT, HX, SX, SA. Therefore I've removed RF from this list --></li>
</ul>
<table>
<caption>
<span id="tab:tab-twoDBoundary">Table 8.5: </span><strong>2D Boundary Condition and Link Types </strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Comments
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Water Level Boundaries
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>HQ</b>
</td>
<td style="text-align:left;">
Water Level (<b>H</b>ead) versus Flow (<b>Q</b>)
</td>
<td style="text-align:left;">
Assigns a water level to the cell(s) based on a water level versus flow (stage-discharge) curve. Alternatively, TUFLOW can automatically generate the HQ curve if a slope is specified using the 2d_bc GIS layer “b” attribute (see Table <a href="Boundaries-InitialConditions-1.html#tab:tab-ConditionsAttribute">8.6</a>). The variation in Manning’s n with depth feature is taken into account if automatically calculating the stage-discharge curve.
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>HT</b>
</td>
<td style="text-align:left;">
Water Level (<b>H</b>ead) versus <b>T</b>ime
</td>
<td style="text-align:left;">
Assigns a water level to the cell(s) based on a water level versus time curve. Uses the 2d_bc GIS layer (See Section <a href="Boundaries-InitialConditions-1.html#BC-Layers-3">8.5.1</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>HX</b>
</td>
<td style="text-align:left;">
Water Level (<b>H</b>ead) from an e<b>X</b>ternal Source (i.e. a 1D model)
</td>
<td style="text-align:left;">
For linking 1D and 2D domains. One or two 1D nodes provide a water level to the 2D every half timestep. TUFLOW automatically creates 1D QX boundaries at the 1D node(s) (see Table <a href="Boundaries-InitialConditions-1.html#tab:tab-LinkTypes">8.3</a>), which also receives flow from the 2D domain every half timestep. 2D HX boundaries are linked to 1D nodes using CN connections (see below and Figure <a href="DomainLinking-1.html#fig:fig-HXSchematicSectionView">10.4</a>). Uses the 2d_bc GIS layer (See Section <a href="Boundaries-InitialConditions-1.html#BC-Layers-3">8.5.1</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>2D</b>
</td>
<td style="text-align:left;">
Links two 2D domains
</td>
<td style="text-align:left;">
Multiple domain boundary only available for TUFLOW Classic. Refer to Section <a href="DomainLinking-1.html#TwoD2DLinkingM2D-3">10.7.2</a>. Uses the 2d_bc GIS layer (See Section <a href="Boundaries-InitialConditions-1.html#BC-Layers-3">8.5.1</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>HS</b>
</td>
<td style="text-align:left;">
Sinusoidal (Tidal) Water Level (m)
</td>
<td style="text-align:left;">
Legacy boundary condition, available for Classic solver only. HT boundary is the recommended alternative. Refer to the <a href="https://downloads.tuflow.com/_archive/TUFLOW/Releases/2018-03/TUFLOW%20Manual.2018-03.pdf">2018 TUFLOW Manual</a> for further details.
</td>
</tr>
<tr>
<td style="text-align:left;">
Treatment
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<p>Cell(s) can be wet or dry. It is <u>not</u> a requirement that at least one cell is wet.</p>
<p>All H line types can be oblique to the X-Y axes.</p>
<p>The water level can vary in height along a line of cells.</p>
<b>Tip:</b> A common cause of instabilities at or near head boundaries at the start of a simulation is the initial water level specified at the adjacent cells is different to the head value. If your model immediately goes unstable or requires a very low timestep at the boundary, check your initial water levels. If it is a 2D HX boundary, the water levels in the 1D node and the 2D cells should be similar.
</td>
</tr>
<tr>
<td style="text-align:left;">
Combinations
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Multiple water level boundaries that select the same cell are not recommended. For TUFLOW Classic, multiple HT or HS boundaries can be applied and the water level used is the sum of the water levels assigned. This is not recommended, and is not supported in TUFLOW HPC.
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Groundwater Boundaries
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>GT</b>
</td>
<td style="text-align:left;">
Groundwater Level versus Time
</td>
<td style="text-align:left;">
<p>Assigns a groundwater level to the cell(s) based on a groundwater level versus time curve.</p>
The same groundwater level boundary applies to all vertical soil layers. If the specified groundwater level is below the elevation at the bottom of the layer, it is dry. If the specified groundwater level is above the elevation at the top of the layer, it is fully saturated. Uses the 2d_bc GIS layer (See Section <a href="Boundaries-InitialConditions-1.html#BC-Layers-3">8.5.1</a>).
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Flow Boundaries
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
(Directional)
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>QT</b>
</td>
<td style="text-align:left;">
Flow versus Time (m<sup>3</sup>/s)
</td>
<td style="text-align:left;">
<p>Distributes flow in quantity and direction across the cell(s) based on their topography, bed roughness and whether upstream or downstream controlled flow. The limiting assumption is that the water level along the line is constant, therefore, the line must be digitised roughly perpendicular to the flow and should avoid areas where significant super-elevation or other similar effects occur.</p>
<p>Cells can wet and dry, the line can be oblique to the grid.</p>
Multiple QT boundaries should not be applied to the same cell.
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Flow Boundaries
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
(non-Directional)
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>RF</b>
</td>
<td style="text-align:left;">
Rainfall versus Time (mm)<br />
Infiltration versus Time (mm)
</td>
<td style="text-align:left;">
<p>Applies a rainfall hyetograph. The rainfall time-series data must be in mm depth per timestep. It is converted to a hydrograph to smooth the transition from one rainfall period to another (the converted hydrograph appears in the .tlf file for cross-checking). <b>Note: the input curve is not mm/h versus timestep, but mm vs timestep (i.e. each rainfall value is the amount of rain that fell in mm between the previous time and the current time).</b></p>
Uses the 2d_rf GIS layer (see Section <a href="Boundaries-InitialConditions-1.html#Rainfall-3">8.5.3</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>SA</b>
</td>
<td style="text-align:left;">
Flow versus Time (m<sup>3</sup>/s) over an area,<br />
or<br />
Rainfall versus Time (mm)
</td>
<td style="text-align:left;">
<p>Applies the flow directly onto the cells within the polygon as a source. Negative values remove water directly from the cell(s). Most commonly used to model rainfall-runoff directly onto 2D domains with each polygon representing the sub-catchment of a hydrology model. SA boundaries have their own command, Read GIS SA, and own GIS layer, 2D_SA.</p>
Uses the 2d_sa GIS layer (see Section <a href="Boundaries-InitialConditions-1.html#SA-Layers-3">8.5.2</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>SD</b><br />
<b>SH</b>
</td>
<td style="text-align:left;">
Flow versus Depth or Head (m<sup>3</sup>/s)
</td>
<td style="text-align:left;">
<p>Extracts the flow directly from the cells based on the depth (SD) or water level (SH) of the cell. Used for modelling pumps or other water extraction. Flow values must not be negative. SD or SH boundaries can be connected to another 2D cell or a 1D node, to model the discharge of a pump from one location in a model to another. The connection is made using a “SC” line (see below). In the boundary condition database, the Column 1 data would be depth (SD) or water level (SH) values and the Column 2 data would be flow. The flow value is the rate per 2D cell. If the 2D cell becomes dry, no flow occurs. Uses the 2d_bc GIS layer (see Section <a href="Boundaries-InitialConditions-1.html#BC-Layers-3">8.5.1</a>).</p>
<p>An example 2D pump model is available in the <a href="https://wiki.tuflow.com/TUFLOW_Example_Models#Boundary_Condition_Options">Example Model Dataset</a> on the TUFLOW Wiki.</p>
This boundary is not supported when using Quadtree and <a href="https://wiki.tuflow.com/TUFLOW_Message_2815">ERROR 2815</a> will be reported.
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>ST</b>
</td>
<td style="text-align:left;">
Flow versus Time (m<sup>3</sup>/s)
</td>
<td style="text-align:left;">
Applies the flow directly to the cells as a source. Negative values remove water directly from the cell(s). Can be used to model concentrated inflows, pumps, springs, evaporation, etc. The flow specified in the boundary file is applied to each cell to which the boundary is connected. For example, if the boundary file specifies 2 m<sup>3</sup>/s and the ST is applied over four cells, then the total flow applied to the model would be 8 m<sup>3</sup>/s. If the total flow required is 2 m<sup>3</sup>/s, then an f attribute of 0.25 could be applied so that only 0.5 m<sup>3</sup>/s is applied to each cell. Uses the 2d_bc GIS layer (see Section <a href="Boundaries-InitialConditions-1.html#BC-Layers-3">8.5.1</a>).
Alternatively, the <a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA ALL</a> could be used to distribute a flow equally over a number of cells.
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>SX</b>
</td>
<td style="text-align:left;">
Source of flow from a 1D model.
</td>
<td style="text-align:left;">
<p>For linking 1D and 2D domains. 2D SX cell(s) are connected to a 1D node using a <b>single</b> CN connection (see below). The net flow into/out of the 1D node is applied as a source to the 2D cells. For example, a 1D pipe in the 2D domain “sucks” water out of the upstream cell(s) and “pours” water back out at the downstream cell(s) using 2D SX boundaries. Uses the 2d_bc GIS layer (see Section <a href="Boundaries-InitialConditions-1.html#BC-Layers-3">8.5.1</a>).</p>
If an SX cell falls on an inactive cell (Code -1 or 0), the cell is set as active (Code 1).
</td>
</tr>
<tr>
<td style="text-align:left;">
Treatment
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Sources are applied to all the specified cell(s) whether they are wet or dry, except for SA and SX, which apply only to wet cells, or the lowest dry cell if all the SA or SX cells are dry. Uses the 2d_bc GIS layer (see Section <a href="Boundaries-InitialConditions-1.html#BC-Layers-3">8.5.1</a>).
</td>
</tr>
<tr>
<td style="text-align:left;">
Combinations
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Any number of source boundaries can be assigned to the same cell(s) whether they are SA, SD, SH, ST or SX. The source rate applied is the sum of the individual sources.
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Connections
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>CN</b>
</td>
<td style="text-align:left;">
Connection of 2D HX and 2D SX boundaries to 1D nodes
</td>
<td style="text-align:left;">
<p>Used in GIS 2d_bc layers (see Section <a href="Boundaries-InitialConditions-1.html#BC-Layers-3">8.5.1</a>) to connect 2D HX and 2D SX boundaries to 1D nodes. A line is digitised that snaps the 2D HX or SX object to the 1D node. The direction or digitised length of the line is not important. The 1D node would be in a 1d_nwk layer. Note that if the 2D SX object is snapped to the 1D node, no CN object is required. However, 2D HX objects always require a CN object to connect to the 1D node. Alternatively, a CN point object can also be used instead of a line.</p>
<p>An ERROR occurs if a CN object is not snapped to a 2D HX or 2D SX object, or is redundant (i.e. not needed). For backward compatibility, use <a href="TCFCommands-1.html#tcfUnusedHXandSXConnections">Unused HX and SX Connections</a> (.tcf file) or <a href="TBCCommands-1.html#tbcUnusedHXandSXConnections">Unused HX and SX Connections</a> (.tbc file) to change the ERROR to a WARNING.</p>
<b>Note that for connections to 2D SX objects only one (1) CN object is required. Whereas 2D HX objects must have a minimum of two (2) CN objects – one at each end – with intermediate CN objects as needed to connect to any 1D nodes. The same node can be connected to each end of a HX line if the water level should not vary along the line.</b>
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>SC</b>
</td>
<td style="text-align:left;">
Connection of 2D SD and SH boundaries
</td>
<td style="text-align:left;">
<p>Used for connecting 2D SD and SH boundaries to another 2D cell or 1D node (e.g. modelling the pumping of water from one location to another). The direction of the line is important and should be digitised from the SH/SD pump towards the 2D cell or node which the water is to be transferred to. Uses the 2d_bc GIS layer (see Section <a href="Boundaries-InitialConditions-1.html#BC-Layers-3">8.5.1</a>).</p>
<p>An example 2D pump model is available in the <a href="https://wiki.tuflow.com/TUFLOW_Example_Models#Boundary_Condition_Options">Example Model Dataset</a> on the TUFLOW Wiki.</p>
This boundary is not supported when using Quadtree and <a href="https://wiki.tuflow.com/TUFLOW_Message_2815">ERROR 2815</a> will be reported.
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Wind
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>WT</b>
</td>
<td style="text-align:left;">
Modelling Wind Stresses as a force on the water column
</td>
<td style="text-align:left;">
<p>Legacy boundary condition and not recommended for use. Suggest use of the cyclone/hurricane (See Section <a href="Boundaries-InitialConditions-1.html#Cyclones-2">8.7</a>) or external stress boundary (See Section <a href="Boundaries-InitialConditions-1.html#ExternalStress-2">8.8</a>) instead.</p>
Refer to the <a href="https://downloads.tuflow.com/_archive/TUFLOW/Releases/2018-03/TUFLOW%20Manual.2018-03.pdf">2018 TUFLOW Manual</a> for details on WT boundary.
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Variable Geometry
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>VG</b>
</td>
<td style="text-align:left;">
Modelling of breaches, etc.
</td>
<td style="text-align:left;">
<p>Supported in TUFLOW Classic only. Not supported in TUFLOW HPC (including Quadtree).</p>
<p>Used for varying cell elevations over time. Each cell, or line of cells, needs to be assigned a time series of elevations in the same manner that other boundaries are applied.</p>
<p>Also see Section <a href="TwoD-Domains-1.html#vzsh-4">7.3.5.3</a> on Variable Z Shape layers as a simpler alternative.</p>
<p><b>Note: If varying the elevations of a HX cell, the elevation must not fall below the 1D bed value (see the attributes of the 1d_to_2d_check file for that cell). No run-time checks are made in this regard.</b></p>
Also see <a href="TCFCommands-1.html#tcfVGZAdjustment">VG Z Adjustment</a>.
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Other
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
<td style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>CD</b>
</td>
<td style="text-align:left;">
Code Polygon
</td>
<td style="text-align:left;">
<p>Objects in a GIS 2d_bc layer (see Section <a href="Boundaries-InitialConditions-1.html#BC-Layers-3">8.5.1</a>) used to define the grid’s cell codes using Read GIS Code BC as an alternative to Read GIS Code. The code value is set using the f attribute (see Table <a href="Boundaries-InitialConditions-1.html#tab:tab-ConditionsAttribute">8.6</a>).</p>
The boundary lines are snapped to “CD” regions so that if the boundary location is adjusted, the boundary line and code region can move together. See <a href="TGCCommands-1.html#tgcReadGISCode">Read GIS Code [{} | BC]</a>, note that this must be read into the TGC file for setting the cell code.
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>IG</b>
</td>
<td style="text-align:left;">
Ignore
</td>
<td style="text-align:left;">
An object in a GIS 2d_bc layer (see Section <a href="Boundaries-InitialConditions-1.html#BC-Layers-3">8.5.1</a>) can be elected to be ignored by using the “IG” type.
</td>
</tr>
<tr>
<td style="text-align:left;">
<b>ZP</b>
</td>
<td style="text-align:left;">
Elevation Point
</td>
<td style="text-align:left;">
Point objects that are used for setting elevations along HX lines. Only used by Read GIS Z HX Line which is specified in the geometry control file. See Section <a href="Boundaries-InitialConditions-1.html#BC-Layers-3">8.5.1</a>.
</td>
</tr>
</tbody>
</table>
<div id="BC-Layers-3" class="section level3 hasAnchor" number="8.5.1">
<h3><span class="header-section-number">8.5.1</span> Boundary Conditions (2d_bc)<a href="Boundaries-InitialConditions-1.html#BC-Layers-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>All boundary types listed in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-twoDBoundary">8.5</a> apart from SA and RF are digitised within a 2d_bc GIS layer. The SA and RF boundaries have their own GIS layer and commands, as discussed in Section <a href="Boundaries-InitialConditions-1.html#SA-Layers-3">8.5.2</a> and Section <a href="Boundaries-InitialConditions-1.html#Rainfall-3">8.5.3</a>.</p>
<p>The attributes of the 2d_bc layers are described in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-ConditionsAttribute">8.6</a>. 2d_bc layers are referenced in the .tbc file using the command <a href="TBCCommands-1.html#tbcReadGISBC">Read GIS BC</a>. The GIS layer for a 2d_bc format file may contain points, lines and regions. The method for selecting cells for each is described below:</p>
<p><strong>Points</strong> - When point objects are specified, this will select the cell that the point lies within. Snapping points to the cell sides or corners should be avoided as the selection may be unpredictable.</p>
<p><strong>Lines</strong> - A “cross-hair” approach shown in Figure <a href="Boundaries-InitialConditions-1.html#fig:fig-image120a">8.1</a> is the method for selecting boundary or link cells when line objects are used. Cells are only selected if the boundary or link line intersects the cell cross-hairs that extend from the cell’s mid-sides. As such, if a boundary or link line starts inside a cell, and does not intersect with the cross-hairs, that cell will not be selected.</p>
<p><strong>Regions</strong> - Region objects select all cells where the cell centroid lies within the region.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-image120a"></span>
<img src="images/image120a.png" alt=" Cell Cross-hair Selection Approach" width="60%" />
<p class="caption">
Figure 8.1:  Cell Cross-hair Selection Approach
</p>
</div>
<p>Up to 10 GIS layers are accepted in a single line for the <a href="TBCCommands-1.html#tbcReadGISBC">Read GIS BC</a> command. This is needed for where points and lines are both used (for example, if using HX lines and CN points), requiring multiple layers for the one command. The format is similar to the <a href="TGCCommands-1.html#tgcReadGISZShape">Read GIS Z Shape</a> command with the different GIS layers separated by the “|” character. For example:</p>
<p><tcmd>Read GIS BC</tcmd><teq> == </teq><tblk>gis\2d_bc_hx_L.shp | gis\2d_bc_hx_P.shp </tblk></p>
<p>Also note that <a href="TBCCommands-1.html#tbcBlankBCType">Blank BC Type</a> can be used to set the default BC type to apply when no BC type is specified for an object in the 2d_bc GIS layer. This command may be repeated throughout the .tbc file to change the default setting for different 2d_bc layers. See <a href="TBCCommands-1.html#tbcBlankBCType">Blank BC Type</a> for more details.</p>
<!-- PAR Review all optional flags, especially: 
confirm S flag for SD/SH data
“2” – can offer improved performance along HX lines
“S” – The “S” flag
-->
<!--EFC to PAR: S flag works for Classic, doesn't for HPC - no warnings or checks reported - see TPD20-476. Does the S flag work for HS, QT, VG, VT?-->
<!-- PAR to EFC: test S flag for QT in HPC + QDT. Already works for HT in CLA, HPC + QDT -->
<!-- EFC  to PAR: tested S flag for QT i HPC + QDT, the Q Vol In appears to differ between the S flag and non-S flag runs - assume this is working - no check or warning messages in tlf-->
<!-- EFC to DRK: Angelos is testing "2" flag FYI-->
<!--EFC: 2 flag works in CLA, not HPC or QDT. Have noted in below table-->
<table>
<caption>
<span id="tab:tab-ConditionsAttribute">Table 8.6: </span><strong>2D Boundary Conditions (2d_bc) Attribute Descriptions</strong>
</caption>
<thead>
<tr>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
No. 
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Default GIS Attribute Name
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Type
</td>
<td style="text-align:left;">
The type of BC using one of the two letter flags described in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-twoDBoundary">8.5</a>. Also see <a href="TBCCommands-1.html#tbcBlankBCType">Blank BC Type</a>.
</td>
<td style="text-align:left;">
Char(2)
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Flags
</td>
<td style="text-align:left;">
<p>Optional flags as follows:</p>
<p><b>HT</b>, <b>QT</b>, <b>SD</b>, <b>SH</b>, <b>VG</b>: “S” – Fit a cubic spline curve to the data. Note, the “S” flag is only supported by TUFLOW Classic.</p>
<p><b>HX</b>:<br />
“A” – Used to override the RIDGE, MAX or RAISE option in <a href="TGCCommands-1.html#tgcReadGISZHXLine">Read GIS Z HX Line</a>
“L” – Sets the ZU and ZV elevations to be the same as the ZC value only if they are lower. This can improve instabilities where the ZU and ZV values are significantly lower in elevation, and can cause a sudden increase in transfer of water to/from the cell when the cell wets.<br />
“2” – TUFLOW Classic only. Can offer improved performance along HX lines by attempting to more smartly allocate water levels along a HX line when there is a dry section (“hump”) between 1D nodes.<br />
“R” – Applies the RIDGE option when setting elevations along HX lines using Read GIS Z HX Line.<br />
“S” – The “S” flag is a legacy and is not recommended unless <a href="TCFCommands-1.html#tcfAdjustHeadatESTRYInterface">Adjust Head at ESTRY Interface</a> has been set to ON. Note, the “S” flag is only supported by TUFLOW Classic.<br />
“Z” – Adjust the ZC elevation at each cell at/along the 2D HX object to slightly above the 1D node bed elevation where the 2D HX ZC value is lower. The ZC elevation is set to 1mm above the interpolated 1D node bed less the Cell Wet/Dry Depth. An error occurs if the 2D cell ZC elevation is not above the interpolated 1D node bed. Also see <a href="tcfHXZCCheck">HX ZC Check</a>. It is not recommended to use the Z flag without first checking that the reason for the discrepancy in elevations between 1D and 2D domains is appropriate.</p>
<p><b>QT</b>:<br />
“A” – Do not use – not recommended or supported. Applies the original QT boundary, which required flow volume and direction inputs.</p>
<p><b>SX</b>:<br />
“Z” – Adjust the ZC elevation at each cell at/along/within the 2D SX object to below the 1D node bed elevation where ZC is higher. The ZC elevation is set to the Cell Wet/Dry Depth below the 1D node bed. An error occurs if the minimum ZC elevation plus the Cell Wet/Dry Depth at/along a SX object is not below the connected 1D node bed. Also see SX ZC Check permits the user to define a maximum change in ZC elevation. It is not recommended to use the Z flag without first checking that the reason for the discrepancy in elevations between 1D and 2D domains is appropriate.<br />
For SGS model, the minimum elevation inside a 2D cell is used to judge whether the 2D cell needs to be lowered or not.</p>
<p><b>SX</b>:<br />
“U” – No longer recommended or supported – replaced by the SD and SH boundary options. Was originally used to indicate that the 2D domain receives the flow (in or out) from the 1D domain, but does not set the water level at the 1D node. This allows pumps (modelled as a 1d_bc “QH” or other Q boundary at the 1D node) to discharge into or extract water from the 2D domain.</p>
<b>CD</b>, <b>CN</b>, <b>HS</b>, <b>QC</b>, <b>RF</b>, <b>VC</b>, <b>WT</b>, <b>ZP</b>, <b>GT</b>: Not used.
</td>
<td style="text-align:left;">
Char(3)
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
<p><b>HS</b>, <b>HT</b>, <b>QT</b>, <b>RF</b>, <b>SD</b>, <b>SH</b>, <b>ST</b>, <b>VG</b>, <b>WT</b>, <b>GT</b>: The name of the BC in the BC Database (see Section <a href="Boundaries-InitialConditions-1.html#bcdbase-2">8.6</a>).</p>
<p><b>HQ</b>: As per above, however, if using the HQ automatic stage-discharge curve generation (i.e. b attribute is greater than zero), this attribute is ignored.</p>
<b>CD</b>, <b>CN</b>, <b>HX</b>, <b>QC</b>, <b>SX</b>, <b>VC</b>, <b>ZP</b>: Not used.
</td>
<td style="text-align:left;">
Char(100)
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
f
</td>
<td style="text-align:left;">
<p><b>HT</b>, <b>QT</b>, <b>RF</b>, <b>ST</b>, <b>VG</b>: Multiplication factor applied to the boundary values. f is assigned a value of one (1) (which has no effect) if the absolute value is less than 0.0001. The values may also be factored using the ValueMult keyword (see Table <a href="Boundaries-InitialConditions-1.html#tab:tab-KeywordDescriptions">8.12</a>).</p>
<p><b>HS</b>: Multiplication factor applied to the amplitude. A value of one (1) is applied if the field is left blank.</p>
<p><b>CN</b>: When used in conjunction (snapped) with a 2D HX object, sets the proportion or weighting to be applied in distributing the water level from the 1D node to the 2D cell. One or two 1D nodes can be connected to the same point on a 2D HX object. <b>Checks are made that the sum of all CN f values connected to a 2D HX point or 2D HX line node equals one (1)</b>. If only one 1D node is connected, set f to one (1). An f value of zero (less than 0.001) is set to one (1).</p>
<p><b>CD</b>: The code value (see Table <a href="TwoD-Domains-1.html#tab:tab-CellCodes">7.2</a>) to be assigned to cells falling on or within the object.</p>
<p><b>SX</b>: An offset for determining cell invert levels for distributing flows.</p>
<p><b>ZP</b>: Used to set the elevation of the 2D cells selected by the HX line. To adjust the height of the HX cells (usually to represent the levee crest or overtopping height) use ZP points snapped to the vertices of the HX line. If there are no points snapped to the HX line a CHECK is issued and the Zpt elevations of the HX cells are unchanged. ZP points are only used by Read GIS Z HX Line.</p>
<b>HX</b>, <b>QC</b>, <b>VC</b>, <b>HQ</b>, <b>GT</b>: Not used.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
d
</td>
<td style="text-align:left;">
<p><b>2D</b>: The minimum distance between 2D2D water level control points between vertices along the 2D line. If set to zero, only the vertices along the 2D line are used. This value should not be less than the larger of the two 2D domains’ cell sizes.</p>
<p><b>HT</b>, <b>QT</b>, <b>RF</b>, <b>ST</b>, <b>VG</b>: Amount added to the boundary values after the multiplication factor f above. Values may also be adjusted using the ValueAdd keyword (see Table <a href="Boundaries-InitialConditions-1.html#tab:tab-KeywordDescriptions">8.12</a>).</p>
<p><b>HX</b>, <b>ZP</b>: Used to adjust the elevations up or down by the amount of the d attribute. Performs a similar function to the dZ attribute for 2d_zsh layers (see Table <a href="TwoD-Domains-1.html#tab:tab-ZShapeAttribute">7.5</a>). For example, to raise the 2D HX cells by 0.2 metres set d to 0.2 (note this only applies if ZP points are snapped to the HX line). Only used by Read GIS Z HX Line.</p>
<p><b>HQ</b>: Used to specify the max depth to be used for generating the curve (if less than 1m it is set to 1m).</p>
<p><b>QC</b>, <b>VC</b>: The value of constant velocity or flow.</p>
<p><b>SX</b>: Reserved – set to zero.</p>
<b>CD</b>, <b>CN</b>, <b>GT</b>: Not used.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
td
</td>
<td style="text-align:left;">
<p><b>HT, QT, RF, ST, VG</b>: Incremental amount added per cell to the boundary’s time values. Time values may also be adjusted using the TimeAdd keyword (see Table <a href="Boundaries-InitialConditions-1.html#tab:tab-KeywordDescriptions">8.12</a>).</p>
<p><b>HS</b>: Incremental phase lead or lag in degrees per cell along the boundary.</p>
<p><b>SX</b>: Reserved – set to zero.</p>
<b>CD, CN, HX, QC, VC, ZP, GT</b>: Not used.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
a
</td>
<td style="text-align:left;">
<p><b>2D</b>: Increasing this value from the default of 2 may improve stability, though may unacceptably attenuate results.</p>
<p><b>HT, VG</b>: Incremental adjustment of the multiplication factor per cell along the boundary. For the nth cell along the boundary the water level or cell elevation (h<sub>n</sub>) is adjusted according to:</p>
<p><span class="math display">\[h_{n} = h_{1}\:(1\:+\:a\:(n-1))+b\:(n-1)\]</span></p>
<p>where h1 is the water level at the first cell.</p>
<p><b>HS</b>: Incremental adjustment of the amplitude per cell along the boundary. For the n<sup>th</sup> cell along the boundary the amplitude (<span class="math inline">\(A\)</span>) is adjusted according to:</p>
<p><span class="math display">\[A_{n} = A_{n-1}+a\]</span></p>
<p><b>HX</b>: Used to add FLC value to all HX cells along the HX line. This can be useful for 1D/2D models where additional energy losses are needed to model the flow between a river (1D) and the floodplain (2D). Set to zero for backward compatibility. Alternatively, Read GIS FLC can be used.</p>
<p><b>QT</b>: Can be used to stabilise the boundary if needed by adding more “storage”. The default value is 5. Note: increasing this number by excessive amounts can unacceptably attenuate the hydrograph.</p>
<p><b>QC, QT (with A Flag), VC</b>: Angle of flow direction in degrees relative to the X-axis, (the X-axis left to right is 0°, Y-axis bottom to top is 90°).</p>
<p><b>SX</b>: Storage of the SX boundaries is based on the storage of the associated 1D node. The “a” attribute is a storage multiplier for the SX (but does not modify the associate 1D node storage). For example setting the value to 2 will double the storage. Note that an “a” value of 0.0 assumes a multiplier of 1.0.</p>
<b>CD, CN, RF ST, ZP</b>, <b>GT</b>: Not used.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
b
</td>
<td style="text-align:left;">
<p><b>HT, QT (with A Flag), RF, ST, VG</b>: Incremental amount added per cell to the boundary values after any incremental multiplication factor. Values may also be adjusted using the ValueAdd keyword (see Table <a href="Boundaries-InitialConditions-1.html#tab:tab-KeywordDescriptions">8.12</a>).</p>
<p><b>HQ</b>: Water surface slope in m/m for automatic calculation of the stage-discharge relationship. If b is greater than zero, the automatic approach is adopted irrespective of whether the Name attribute is blank or not.<br />
Also see Blank HQ Slope.</p>
<p><b>HS</b>: Incremental amount added per cell to the mean water level.</p>
<p><b>CD, CN, QC, SX, VC, ZP, GT</b>: Not used.</p>
<b>HX</b>: Adjusts the WrF value along HX lines to adjust or calibrate the flow rate across a 1D/2D HX link when upstream controlled weir flow occurs. This is compatible with TUFLOW Classic only. This field similar to using the “a” attribute for applying additional energy (form) loss along the HX line which is valid for TUFLOW Classic and HPC models.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
</tbody>
</table>
<div id="id_2DBndSlopingLevel-3" class="section level4 hasAnchor" number="8.5.1.1">
<h4><span class="header-section-number">8.5.1.1</span> Sloping Water Level Boundaries<a href="Boundaries-InitialConditions-1.html#id_2DBndSlopingLevel-3" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Temporally and spatially varied 2D water level boundary can be defined by combining some of the boundary types listed in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-twoDBoundary">8.5</a>. This feature is particularly useful for coastal models where the tidal boundary varies in height and phase along the boundary. To do this, digitise a 2d_bc HX line along the boundary. At the ends of the boundary, and at any vertices in between, digitise 1d_bc HT (or HS) boundaries (ensure they are snapped to the 2d_bc HX line). At each 1D HT boundary specify the water level versus time hydrograph at that location (or use a HS curve). The water levels along the 2D HX line are based on a linear interpolation of the 1D HT/HS hydrographs. An example of this set up is shown in Figure <a href="Boundaries-InitialConditions-1.html#fig:fig-slopingWL">8.2</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-slopingWL"></span>
<img src="images/sloping-water-levels.png" alt="Sloping Water Level Boundaries" width="80%" />
<p class="caption">
Figure 8.2: Sloping Water Level Boundaries
</p>
</div>
</div>
<div id="GT-4" class="section level4 hasAnchor" number="8.5.1.2">
<h4><span class="header-section-number">8.5.1.2</span> Groundwater Boundaries<a href="Boundaries-InitialConditions-1.html#GT-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>At the edges of the active model area, two boundary conditions are currently
supported for the groundwater layers:</p>
<ol style="list-style-type: decimal">
<li>Sealed boundary, no inflow or outflow (default in absence of defined
boundary); and<br />
</li>
<li>Groundwater level vs time (type “GT”) as detailed in
Table <a href="Boundaries-InitialConditions-1.html#tab:tab-twoDBoundary">8.5</a>.</li>
</ol>
<p>To specify a groundwater level vs time boundary, a “GT” type
boundary line can be digitised in the 2d_bc file format. The same
groundwater level boundary applies to all vertical layers. If the
specified groundwater level is below the elevation at the bottom of the
layer, it is dry. If the specified groundwater level is above the
elevation at the top of the layer, the layer is fully saturated.</p>
</div>
</div>
<div id="SA-Layers-3" class="section level3 hasAnchor" number="8.5.2">
<h3><span class="header-section-number">8.5.2</span> Source Area Boundaries<a href="Boundaries-InitialConditions-1.html#SA-Layers-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A 2d_sa layer is used to define a Source – Area boundary (flow or rainfall vs time), applying the flow directly onto the cells within the digitised polygon. Negative values remove water directly from the cell(s). There are multiple options regarding these boundaries:</p>
<ul>
<li>Source - Area boundary (2d_sa) - see Section <a href="Boundaries-InitialConditions-1.html#SA-Option-4">8.5.2.1</a>.</li>
<li>Source - Area Rainfall boundary (2d_sa_rf) - see Section <a href="Boundaries-InitialConditions-1.html#RFOption-4">8.5.2.2</a>.</li>
<li>Source - Area Trigger option (2d_sa_tr) - see Section <a href="Boundaries-InitialConditions-1.html#TriggerOption-4">8.5.2.3</a>.</li>
<li>Source - Area Flow option (2d_sa_po) - see Section <a href="Boundaries-InitialConditions-1.html#FlowFeature-4">8.5.2.4</a>.</li>
</ul>
<div id="SA-Option-4" class="section level4 hasAnchor" number="8.5.2.1">
<h4><span class="header-section-number">8.5.2.1</span> Source Area Options (2d_sa)<a href="Boundaries-InitialConditions-1.html#SA-Option-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>There are a number of options for distributing flows to cells within a SA region, these are:</p>
<ul>
<li>Distributed firstly to the lowest cell and then distributing between wet cells (<a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA</a>). This is the default option.<br />
</li>
<li>Distributed to 2D cells connected to 1D pits (<a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA <strong>PITS</strong></a>).<br />
</li>
<li>Distributed to all cells equally (<a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA <strong>ALL</strong></a>).<br />
</li>
<li>Distributed using to streamlines (<a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA <strong>STREAM ONLY</strong></a>).</li>
</ul>
<!--DRK: An image would help here.  I might have one, will check-->
<p>The cells that the SA polygons are applying flow to can be checked using the <a href="http://wiki.tuflow.com/Check_Files_2d_sac">_sac_check</a> layer.</p>
<p>When distributing the water between the cells there are two options that can be specified in the .tcf. These are:</p>
<ul>
<li><a href="TCFCommands-1.html#tcfSAminDepth">SA Minimum Depth</a>, this sets a minimum depth below
which flow will not be distributed to the cell (apart from the lowest
cell). The default minimum depth is -99999 (i.e. 0 depth,
representing a dry cell).<br />
</li>
<li><a href="TCFCommands-1.html#tcfSAPropDepth">SA Proportion to Depth</a>, this command proportions
the SA inflows according to the depth of water. The default is ON,
which proportions the flow according to the depth of water in the
cells with deeper cells getting more flow.</li>
</ul>
<p>The <strong>PITS</strong> option directs the inflow to 2D cells that are connected to a
1D pit or node connected to the 2D domain using “SX” for the Conn_1D_2D
(previously Topo_ID) 1d_nwk attribute. The inflow is spread equally over
the applicable 2D cells. An ERROR occurs if no 2D cells are found within
the region.</p>
<p>The <strong>ALL</strong> option is available to apply the flow/rainfall to all active cells (either wet or dry cells) within the region. Not including any inactive or cells that have a water level boundary or HX 1D/2D linkage applied. If
using the ALL option the double precision (see Section <a href="Running-Simulations-1.html#iSPdSP-3">13.4.2</a>) version may be needed when using TUFLOW Classic as this is a similar approach to direct rainfall modelling.</p>
<p>The <strong>STREAMS ONLY</strong> option is used in combination with the <a href="TBCCommands-1.html#tbcReadGISStreams">Read GIS Streams</a> command. It will only apply the SA inflows to the streamline cells (i.e. no non-streamline wet cells in the SA region will receive an inflow). This is discussed further in Section <a href="Boundaries-InitialConditions-1.html#Streamlines-4">8.5.2.1.1</a>.</p>
<p>Table <a href="Boundaries-InitialConditions-1.html#tab:tab-SACombined">8.7</a> lists the attributes for 2d_sa layers which are referenced in the .tbc file using the command <a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA</a> to read in flow hydrographs</p>
<table>
<caption>
<span id="tab:tab-SACombined">Table 8.7: </span><strong>2D Source over Area (2d_sa) Attribute Descriptions</strong>
</caption>
<thead>
<tr>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
No. 
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Default GIS Attribute Name
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
<p>The name of the BC in the BC Database (see Section <a href="Boundaries-InitialConditions-1.html#bcdbase-2">8.6</a>).</p>
The 2023-03 release changes the behaviour of HPC and Classic models that use multiple SA polygons with the same boundary name. In the 2023-03 release or newer, these boundaries are treated separately; as if they were different boundary names with the same hydrograph. Previously, these SA boundaries would be treated as a single boundary and the cells selected by each polygon would be grouped together. If duplicate SA boundary names are encountered, TUFLOW will issue <a href="https://wiki.tuflow.com/TUFLOW_Message_2492">CHECK 2492</a> in the 2023-03 Release.
</td>
<td style="text-align:left;">
Char(100)
</td>
</tr>
</tbody>
</table>
<div id="Streamlines-4" class="section level5 hasAnchor" number="8.5.2.1.1">
<h5><span class="header-section-number">8.5.2.1.1</span> Streamlines<a href="Boundaries-InitialConditions-1.html#Streamlines-4" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Streamlines allow the user to apply SA inflows along the waterways rather than to the lowest cell (when all cells are dry within the SA region). This approach can be useful to apply baseflows to a river channel for instance. If streamlines have been specified using the .tbc <a href="TBCCommands-1.html#tbcReadGISStreams">Read GIS Streams</a> command, SA inflows are distributed along the 2D cells selected by the stream lines within each SA region.</p>
<p><a href="TBCCommands-1.html#tbcReadGISStreams">Read GIS Streams</a> can be used one or more times in the .tbc file to define streamline cells. Streamlines are line objects, usually representing the path of the waterways. One attribute is required, which is the Stream Order as an integer type. Only objects with a Stream Order greater than zero (0) are used by TUFLOW. Therefore, streams that are not to be used for applying SA inflows can be assigned a stream order of 0 (or deleted from the layer). The 2D cells along a streamline are selected as a series of continuous cells in the same
manner as any other boundary line.</p>
<p>GIS and other software have the ability to generate streamlines from DEMs, and usually assign a stream order to each stream line. If needed, rearrange (or copy) the attributes so that the first attribute is the specified stream order.</p>
<p>By default, any wet cells that are not streamline cells are also included in the distribution of the SA inflow. The commands <a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA STREAM ONLY</a> and <a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA STREAM IGNORE</a> provide options for controlling streamline inflows.</p>
<p>The <a href="http://wiki.tuflow.com/Check_Files_2d_sac">_sac_check</a>
layer will show those cells selected as streamline cells.</p>
</div>
</div>
<div id="RFOption-4" class="section level4 hasAnchor" number="8.5.2.2">
<h4><span class="header-section-number">8.5.2.2</span> Rainfall Option (2d_sa_rf)<a href="Boundaries-InitialConditions-1.html#RFOption-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA <strong>RF</strong></a> (rainfall) option calculates flow from an input rainfall hyetograph based on catchment area, initial loss and continuing loss information specified in the 2d_sa_rf GIS file. Boundary condition inputs are specified as a rainfall hyetograph (mm versus hours) instead of flow hydrographs, which is required for the other <a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA</a> options.</p>
<p>Initial and continuing loss values applied through the Materials Definition file (.tmf or .csv format) are ignored when using the <a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA <strong>RF</strong></a> (rainfall) option.</p>
<table>
<caption>
<span id="tab:tab-SA-RF">Table 8.8: </span><strong>2D Source over Area Rainfall (2d_sa_rf) Attribute Descriptions</strong>
</caption>
<thead>
<tr>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
No. 
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Default GIS Attribute Name
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
<p>The name of the BC in the BC Database (see Section <a href="Boundaries-InitialConditions-1.html#bcdbase-2">8.6</a>).</p>
The 2023-03 release changes the behaviour of HPC and Classic models that use multiple SA polygons with the same boundary name. In the 2023-03 release or newer, these boundaries are treated separately; as if they were different boundary names with the same hydrograph. Previously, these SA boundaries would be treated as a single boundary and the cells selected by each polygon would be grouped together. If duplicate SA boundary names are encountered, TUFLOW will issue <a href="https://wiki.tuflow.com/TUFLOW_Message_2492">CHECK 2492</a> in the 2023-03 Release.
</td>
<td style="text-align:left;">
Char(100)
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Catchment_Area
</td>
<td style="text-align:left;">
<p>Additional attribute for the RF Option (<a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA RF</a> Command).</p>
<p>The contributing catchment area in m<sup>2</sup> (if using SI units) or miles<sup>2</sup> (if using <tcmd><a href="TCFCommands-1.html#tcfUnits">Units</a></tcmd> <teq>==</teq><tblk> US Customary</tblk>).</p>
<b>Note: This attribute is required as the polygon area is not used as the sub-catchment area because the rainfall area may be different to the polygon extent. A value of zero will trigger <a href="https://wiki.tuflow.com/TUFLOW_Message_2460">ERROR 2460</a>.</b>
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Rain_Gauge_Factor
</td>
<td style="text-align:left;">
<p>A multiplier that allows for adjusting the rainfall due to spatial variations in the total rainfall.</p>
A value of zero will cause <a href="https://wiki.tuflow.com/TUFLOW_Message_2460">ERROR 2460</a> and the simulation will halt, see also <a href="TCFCommands-1.html#tcfZeroRainfallCheck">Zero Rainfall Check</a> command.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
IL
</td>
<td style="text-align:left;">
The Initial Loss amount in mm on inches (if using <tcmd><a href="TCFCommands-1.html#tcfUnits">Units</a></tcmd> <teq>==</teq><tblk> US Customary</tblk>).
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
CL
</td>
<td style="text-align:left;">
The Continuing Loss rate in mm/hr or inches/hr (if using <tcmd><a href="TCFCommands-1.html#tcfUnits">Units</a></tcmd> <teq>==</teq><tblk> US Customary</tblk>).
</td>
<td style="text-align:left;">
Float
</td>
</tr>
</tbody>
</table>
</div>
<div id="TriggerOption-4" class="section level4 hasAnchor" number="8.5.2.3">
<h4><span class="header-section-number">8.5.2.3</span> Trigger Option (2d_sa_tr)<a href="Boundaries-InitialConditions-1.html#TriggerOption-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA <strong>TRIGGER</strong></a> option allows the initiation
of inflow hydrographs based on a flow or water level trigger. For
example, reservoir failures can be initiated based on when the flood
wave reaches the reservoir. An example of this option is:</p>
<p><tcmd>Read GIS SA Trigger</tcmd><teq> == </teq><tblk>gis\2d_sa_tr_dambreaks.shp</tblk></p>
<p>The 2d_sa_tr layer is a 2d_sa layer (with one attribute, Name), to which
three additional attributes are added, as listed in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-SA-TR">8.9</a>. These are:</p>
<ul>
<li>Trigger_Type<br />
</li>
<li>Trigger_Location<br />
</li>
<li>Trigger_Value</li>
</ul>
<p>Every timestep during the simulation, the flow (Q_) or water level
(H_) of the 2d_po object referenced by Trigger_Location is monitored.
When the 2d_po exceeds the Trigger_Value value the SA hydrograph
commences.</p>
<p>If applying the hydrograph as a dam break, when digitising the SA
trigger polygon, it should preferably be on the downstream side of the
dam wall, extending the width of the dam wall and possibly be several
cells thick (in the direction of flow). If there are stability issues,
enlarging the SA polygon will help, however applications have indicated
the feature typically performs well with the SA polygon a few cells
thick.</p>
<p>The 2d_po line (flow) or point (water level) referred to by
Trigger_Location can be located anywhere in the model. For cascade
reservoir failure modelling it would usually be modelled using a 2d_po
flow line, or for a 2d_po water level point just upstream of the dam.</p>
<p><strong>Note: 2d_po flow lines MUST be digitised from LEFT to RIGHT looking
downstream (if not, the flow across the 2d_po line will be negative and
the trigger value will never be reached).</strong></p>
<table>
<caption>
<span id="tab:tab-SA-TR">Table 8.9: </span><strong>2D Source over Area Trigger (2d_sa_tr) Attribute Descriptions</strong>
</caption>
<thead>
<tr>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
No. 
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Default GIS Attribute Name
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
<p>The name of the BC in the BC Database (see Section <a href="Boundaries-InitialConditions-1.html#bcdbase-2">8.6</a>).</p>
The 2023-03 release changes the behaviour of HPC and Classic models that use multiple SA polygons with the same boundary name. In the 2023-03 release or newer, these boundaries are treated separately; as if they were different boundary names with the same hydrograph. Previously, these SA boundaries would be treated as a single boundary and the cells selected by each polygon would be grouped together. If duplicate SA boundary names are encountered, TUFLOW will issue <a href="https://wiki.tuflow.com/TUFLOW_Message_2492">CHECK 2492</a> in the 2023-03 Release.
</td>
<td style="text-align:left;">
Char(100)
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Trigger_Type
</td>
<td style="text-align:left;">
Trigger_Type must be set to “Q_” or “Flow” for a trigger based on a flow rate, or “H_” or “Level” for a trigger based on a water level.
</td>
<td style="text-align:left;">
Char(40)
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Trigger_Location
</td>
<td style="text-align:left;">
Trigger_Location is the PO Label in a 2d_po layer (see Section <a href="Outputs-1.html#PlotOutput-4">11.3.2.1</a>). The 2d_po Type attribute must also be compatible with the Trigger_Type (i.e. it must include Q_ or H_ as appropriate).
</td>
<td style="text-align:left;">
Char(40)
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
Trigger_Value
</td>
<td style="text-align:left;">
Trigger_Value is the flow or water level value that triggers the start of the SA hydrograph.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
</tbody>
</table>
</div>
<div id="FlowFeature-4" class="section level4 hasAnchor" number="8.5.2.4">
<h4><span class="header-section-number">8.5.2.4</span> Flow Feature (2d_sa_po)<a href="Boundaries-InitialConditions-1.html#FlowFeature-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<!-- EFC to PAR: do any updates need to be made here now we have interflow?-->
<!-- PAR to EFC: test-->
<!-- EFC to DRK: have asked AL to do this-->
<!-- EFC: Rusty tested. Works in Classic but not HPC/QDT -->
<p>The <a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA <strong>PO</strong></a> option models seepage or
infiltration based on a varying water level or flow rate elsewhere in
the model. This functionality is available when using TUFLOW Classic only. For example, modelling the seepage of groundwater into a
coastal lagoon that is dependent on the water level in the lagoon.</p>
<p>The feature is set up as follows:</p>
<ol style="list-style-type: decimal">
<li>Create a 2d_po point object of Type “H_” at the water level location.<br />
</li>
<li>Add “<tcmd><a href="TCFCommands-1.html#tcfReadGISPO">Read GIS PO</a> </tcmd><teq>==</teq><tblk> …</tblk>” to the .tcf file if not
already there.<br />
</li>
<li>Create a new 2d_sa_po layer, as listed in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-SA-PO">8.10</a>. As of the 2023-03-AF release this layer is automatically created when using the <a href="TCFCommands-1.html#tcfWriteEmptyGISFiles">Write Empty GIS Files</a> command, previously this layer had to be created manually by adding the two following attributes to a 2d_sa layer:
<ol style="list-style-type: decimal">
<li>PO_Type: Char of length 16<br />
</li>
<li>PO_Label: Char of max length 40<br />
</li>
</ol></li>
<li>Digitise the SA polygon(s) covering the area of seepage or
infiltration and for the attributes:
<ol style="list-style-type: decimal">
<li>Set the Name attribute to the name of the water level vs flow
curve in the BC database.<br />
</li>
<li>Set PO_Type to “H_”.<br />
</li>
<li>Set PO_Label to the PO Label of the relevant 2d_po “H_” point
to be used to determine the flow from the h vs Q curve.<br />
</li>
</ol></li>
<li>Add “<tcmd><a href="TBCCommands-1.html#tbcReadGISSA">Read GIS SA PO</a> </tcmd><teq>==</teq><tblk> …</tblk>” to the .tbc file.</li>
</ol>
<p>Alternatively, to base the SA flow on the flow elsewhere in the model,
use a 2d_po line object of Type “Q_”. To check the SA in/outflow:</p>
<ol style="list-style-type: decimal">
<li>View the _MB.csv files. The SA in/outflow from the seepage or infiltration will be part/all of the SS columns.<br />
</li>
<li>Add “SS” to the <a href="TCFCommands-1.html#tcfMapOutputDataTypes">Map Output Data Types</a> command. This outputs the net in/outflow from all source flows (ST, SA, SX and rainfalls) over time.</li>
</ol>
<table>
<caption>
<span id="tab:tab-SA-PO">Table 8.10: </span><strong>2D Source over Area Flow Feature (2d_sa_po) Attribute Descriptions</strong>
</caption>
<thead>
<tr>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
No. 
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Default GIS Attribute Name
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
<p>The name of the BC in the BC Database (see Section <a href="Boundaries-InitialConditions-1.html#bcdbase-2">8.6</a>).</p>
The 2023-03 release changes the behaviour of HPC and Classic models that use multiple SA polygons with the same boundary name. In the 2023-03 release or newer, these boundaries are treated separately; as if they were different boundary names with the same hydrograph. Previously, these SA boundaries would be treated as a single boundary and the cells selected by each polygon would be grouped together. If duplicate SA boundary names are encountered, TUFLOW will issue <a href="https://wiki.tuflow.com/TUFLOW_Message_2492">CHECK 2492</a> in the 2023-03 Release.
</td>
<td style="text-align:left;">
Char(100)
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
PO_Type
</td>
<td style="text-align:left;">
PO_Type must be set to “Q_” to set the SA flow in/out of a model based on a flow rate, or “H_” to base it on a water level.
</td>
<td style="text-align:left;">
Char(16)
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
PO_Label
</td>
<td style="text-align:left;">
PO_Label is the Label attribute in a 2d_po layer (see Section <a href="Outputs-1.html#PlotOutput-4">11.3.2.1</a>). The 2d_po Type attribute must also be compatible with the PO_Type (i.e. it must include Q_ or H_ as appropriate).
</td>
<td style="text-align:left;">
Char(40)
</td>
</tr>
</tbody>
</table>
</div>
<div id="OverlappingSA-4" class="section level4 hasAnchor" number="8.5.2.5">
<h4><span class="header-section-number">8.5.2.5</span> Overlapping 2d_sa regions<a href="Boundaries-InitialConditions-1.html#OverlappingSA-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>SA regions may overlap and their respective source terms apply
cumulatively on a cell by cell basis. With the TUFLOW Classic solution
scheme there is no limit to the number of regions that stack up (i.e.
overlap) at a given location. However, for the TUFLOW HPC scheme, the
number of 2d_sa regions that apply at a given cell is limited to 4. If
the model also utilises 2d_rf rainfall regions (Section <a href="Boundaries-InitialConditions-1.html#Rainfall-3">8.5.3</a>),
then these are also included in this limit (i.e. the maximum stacking
depth of 2d_sa <em>and</em> 2d_rf regions is limited to 4). For HPC and
Quadtree, the stack depth is checked at each cell and
<a href="https://wiki.tuflow.com/TUFLOW_Message_2443">ERROR 2443</a>
will result if the limit is exceeded.</p>
</div>
</div>
<div id="Rainfall-3" class="section level3 hasAnchor" number="8.5.3">
<h3><span class="header-section-number">8.5.3</span> Rainfall Boundaries<a href="Boundaries-InitialConditions-1.html#Rainfall-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="RainfallOverview-4" class="section level4 hasAnchor" number="8.5.3.1">
<h4><span class="header-section-number">8.5.3.1</span> Rainfall Overview<a href="Boundaries-InitialConditions-1.html#RainfallOverview-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Four approaches are available for applying rainfall directly to the 2D cells. These are listed below and described in the following sections.</p>
<ul>
<li>Global rainfall: the same rainfall applies spatially over the model.</li>
<li>2d_rf layers: polygons are assigned a rainfall gauge and spatial and temporal adjustment factors.</li>
<li>Gridded rainfall: rainfall distribution over time as a series of grid files (.tif, .flt, .asc) or in a NetCDF file.</li>
<li>A rainfall control (.trfc) file: allows the user to specify
rainfall gauges/points over the model and a series of commands to
control how the rainfall is interpolated. This approach generates a
series of rainfall grids available to the user for display or
checking.</li>
</ul>
</div>
<div id="RainfallConsiderations-4" class="section level4 hasAnchor" number="8.5.3.2">
<h4><span class="header-section-number">8.5.3.2</span> Considerations for Rainfall Modelling<a href="Boundaries-InitialConditions-1.html#RainfallConsiderations-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>When using rainfall as a principal source of the water within a model the following considerations should be made:</p>
<!-- EFC to PAR: can you please fill this section out? We could link to this page https://wiki.tuflow.com/Direct_Rainfall_(Rain_on_Grid)_Modelling_Guidance


- Need to include entire catchment in active area
- Suggest HPC for direct rainfall and maybe link to paper / preso on the importance of SGS for direct rainfall
- Losses as rainfall or soil losses

-<!- PAR to EFC: have a go at writing this, https://www.tuflow.com/media/7545/2022-direct-rainfall-hydraulic-model-validation-ryan-et-al-hwrs.pdf
-->
<ul>
<li>The entire catchment area should be included in the active code area.</li>
<li>It is highly recommended to use HPC, and sub-grid sampling (SGS), when modelling using direct rainfall. SGS has been found to significantly improve direct rainfall modelling by low flow transmission of water with minimal retention or blocking of flows <span class="citation">(<a href="#ref-Ryan2022">Ryan et al., 2022</a>)</span> plus significantly reduced sensitivity to cell size <span class="citation">(<a href="#ref-Kitts2020">Kitts et al., 2020</a>)</span>.<!-- DRK: Add Kitts et al reference--><!--done--><br />
</li>
<li>TUFLOW supports a range of rainfall loss and soil infiltration options, for a comparison of these approaches, see the <a href="https://wiki.tuflow.com/Direct_Rainfall_(Rain_on_Grid)_Modelling_Guidance#What_is_the_difference_between_rainfall_excess_and_soil_infiltration.3F">TUFLOW Wiki</a>. These are split into two broad categories, defined by their respective calculation methods:
<ul>
<li>Rainfall Excess Losses: This initial and continuing loss approach is a simplistic calculation method comparable to the rainfall excess loss methods included in traditional hydrology models.<br />
</li>
<li>Soil Infiltration Losses: This approach is a more realistic representation of the actual physics associated with water infiltration into the soil and is recommended when using direct rainfall modelling.</li>
</ul></li>
<li>Evaporation is typically implemented with a global negative rainfall. The 2023-03 release allows for negative rainfall to draw from the topmost groundwater layer under surface layer cells that are dry, thus mimicking evapotranspiration. See Section <a href="TwoD-Domains-1.html#top-gw-drying-4">7.4.5.2</a>. Prior to the 2023-03 release this would only decrement the water in wet cells - until they dry – and would not draw from the cumulative infiltration layer.</li>
<li>Choice of wet-dry depth threshold. For models with intense
rainfall, the water depths usually quickly exceed the default <a href="TCFCommands-1.html#tcfCellWetDryDepth">Cell
Wet/Dry Depth</a> of 0.002 m (SI units), but for models with long
periods of light to moderate rates of rainfall or steap slopes, the water depths may be
close to the threshold causing the the cells to alternate between wet
and dry status as the “sheet flow” moves in waves over the terrain. This
behaviour is not desirable, and is avoided by reducing the wet-dry depth
threshold. For models with rainfall, a <a href="TCFCommands-1.html#tcfCellWetDryDepth">Cell
Wet/Dry Depth</a> of 0.0002 m (or 0.0007ft if using <tcmd><a href="TCFCommands-1.html#tcfUnits">Units</a></tcmd><teq> == </teq><tblk> US Customary</tblk>) is
recommended for both Classic and HPC solution schemes, unless using SGS. For HPC models with SGS enabled, lowering the <a href="TCFCommands-1.html#tcfCellWetDryDepth">Cell
Wet/Dry Depth</a> is not necessary, as the wetting/drying occurs in the SGS storage curve.</li>
<li>Model Precision: TUFLOW Classic uses an implicit finite difference solver for which the
primary state variable is the water elevation. The use of water
elevation as the primary variable can have limitations when run in
single precision. When computing differences in water elevations between
adjoining cells, numerical precision errors arise when the model has
high altitude DEM data, or very thin sheet flow (i.e. rainfall models).
When using TUFLOW Classic for models with high altitude and/or rainfall,
it is therefore advisable to run the model with the double precision
executable, see Section <a href="Running-Simulations-1.html#iSPdSP-3">13.4.2</a>.The .tcf command
<tcmd><a href="TCFCommands-1.html#tcfModelPrecision">Model Precision</a></tcmd><teq> == </teq><tblk>Double</tblk> can be used to ensure
that only a double precision version of TUFLOW is used.
TUFLOW HPC (including Quadtree) uses an explicit finite volume scheme
based on water depth, and the single precision executable generally
works well for models with high altitude and/or rainfall. If in doubt,
or even just curious, the user may re-run the same model in double
precision and compare the results.</li>
</ul>
</div>
<div id="RF-Global-4" class="section level4 hasAnchor" number="8.5.3.3">
<h4><span class="header-section-number">8.5.3.3</span> Global Rainfall<a href="Boundaries-InitialConditions-1.html#RF-Global-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To apply a uniform rainfall to all active cells, the .tbc command <a href="TBCCommands-1.html#tbcGlobalRainfallBC">Global Rainfall BC</a> may be used. The <a href="TBCCommands-1.html#tbcGlobalRainfallBC">Global Rainfall BC</a> command applies a rainfall depth to every active cell within the 2d_code layer based on the input hyetograph. The input hyetograph must be in mm versus time (or inches versus time if using <tcmd><a href="TCFCommands-1.html#tcfUnits">Units</a></tcmd><teq> == </teq><tblk> US Customary</tblk>), and is applied using a stepped approach. The stepped approach holds the rainfall constant for the time interval (i.e. the rainfall has a histogram stair-step shape). This means, for example, the second rainfall value in the time-series is applied as a constant rainfall from the first time value to the second time value. As with all rainfall boundaries, the first and last rainfall entries should be set to zero, otherwise these rainfall values are applied as a constant rainfall if the simulation starts before or extends beyond the first and last time values in the rainfall time-series. The hyetograph information is converted to a flow, and the flow then applied at each cell. The histogram conversion takes into account any losses and can be found in the TLF file (search ‘Global Rainfall histogram’).</p>
<p>As of the 2020-10 release, for TUFLOW Classic models, if rainfall losses have been applied in a materials file (see Section <a href="TwoD-Domains-1.html#Materials-File-4">7.3.6.3</a>) they will be applied to the global rainfall. Prior to the 2020-10 release, for TUFLOW Classic, they weren’t applied. In TUFLOW HPC models they were already applied in releases prior to 2020-10. In both solvers, if rainfall losses have been specified in the materials file (.csv or .tmf) in conjunction with the <a href="TBCCommands-1.html#tbcGlobalRainfallInitialLoss">Global Rainfall Initial Loss</a> or <a href="TBCCommands-1.html#tbcGlobalRainfallContinuingLoss">Global Rainfall Continuing Loss</a> commands, the losses in the materials file are applied and the global rainfall loss commands ignored (and <a href="https://wiki.tuflow.com/TUFLOW_Message_2244">WARNING 2244</a> reported). Alternatively, Soil infiltration losses can be used (see Section <a href="TwoD-Domains-1.html#Infiltration-2">7.3.7</a>).</p>
<p>The <a href="TCFCommands-1.html#tcfMapOutputDataTypes">Map Output Data Types</a> RFR and RFC may be used to view the rainfall rate (mm/hr or inch/hr) and cumulative rainfall (mm or inch) over time respectively (see Table <a href="Outputs-1.html#tab:tab-ExcludingHazard">11.4</a>).</p>
<p>An example of global direct rainfall model is provided in <a href="https://wiki.tuflow.com/Tutorial_M06#Part_1_-_Global_Rainfall">Module 6 - Part 1</a>.</p>
</div>
<div id="RF-Layers-4" class="section level4 hasAnchor" number="8.5.3.4">
<h4><span class="header-section-number">8.5.3.4</span> Rainfall Polygons (2d_rf)<a href="Boundaries-InitialConditions-1.html#RF-Layers-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The 2d_rf GIS layer applies a rainfall depth to every active cell within the
digitised polygon, based on an input rainfall hyetograph. Table <a href="Boundaries-InitialConditions-1.html#tab:tab-DirectRainfall">8.11</a> lists the attributes in 2d_rf layers which are referenced in the .tbc file using the <a href="TBCCommands-1.html#tbcReadGISRF">Read GIS RF</a> command. The rainfall time-series data must be in mm versus time in hours (or inches versus time if using <tcmd><a href="TCFCommands-1.html#tcfUnits">Units</a></tcmd><teq> == </teq><tblk> US Customary</tblk>). It is applied using a STEPPED approach. The STEPPED approach holds the rainfall
constant for the time interval (i.e. the rainfall has a histogram
stair-step shape). This means, for example, the second rainfall value in
the time-series is applied as a constant rainfall from the first time
value to the second time value. As with all rainfall boundaries, the
first and last rainfall entries should be set to zero (otherwise these
rainfall values are applied as a constant rainfall if the simulation
starts before or extends beyond the first and last time values in the
rainfall time-series).</p>
<p>The <a href="TCFCommands-1.html#tcfMapOutputDataTypes">Map Output Data Types</a> RFR and RFC may be used to view the rainfall rate (mm/hr or inch/hr) and cumulative rainfall (mm or inch) over time respectively (see Table <a href="Outputs-1.html#tab:tab-ExcludingHazard">11.4</a>).</p>
<p>Initial and continuing losses can be applied on a material-by-material basis (see Section <a href="TwoD-Domains-1.html#Rainfall-Losses-4">7.3.6.4</a>). Initial and continuing losses are not applied to negative rainfall values (to model infiltration/evaporation). Alternatively, Soil infiltration losses can be used (see Section <a href="TwoD-Domains-1.html#Infiltration-2">7.3.7</a>)</p>
<p>If the same rainfall is to be applied to all active cells in the model,
the .tbc command <a href="TBCCommands-1.html#tbcGlobalRainfallBC">Global Rainfall BC</a> may be used
in lieu of digitising a 2d_rf layer (see Section <a href="Boundaries-InitialConditions-1.html#RF-Global-4">8.5.3.3</a>).</p>
<p>RF regions may overlap and their respective source terms apply
cumulatively on a cell by cell basis. For TUFLOW Classic there is no limit to the number of regions that stack up (i.e. overlap)
at a given location. However, for TUFLOW HPC (both uniform grid and
Quadtree grid), the number of 2d_rf regions that apply at a given cell
is limited to 4. If the model also utilises 2d_sa source regions
(Section <a href="Boundaries-InitialConditions-1.html#SA-Layers-3">8.5.2</a>), then these are also included in this limit (i.e. the maximum stacking count of 2d_sa <em>and</em> 2d_rf regions is limited
to 4). For HPC and Quadtree, the stack depth is checked at each cell and
<a href="https://wiki.tuflow.com/TUFLOW_Message_2443">ERROR 2443</a> will result if
the limit is exceeded.</p>
<p>An example direct rainfall model using rainfall polygons is provided in <a href="https://wiki.tuflow.com/Tutorial_M06#Part_2_-_Rainfall_Polygons">Module 6 - Part 2</a>.</p>
<table>
<caption>
<span id="tab:tab-DirectRainfall">Table 8.11: </span><strong>2D Direct Rainfall over Area (2d_rf) Attribute Descriptions</strong>
</caption>
<thead>
<tr>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
No. 
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Default GIS Attribute Name
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
<p>The name of the rainfall1 BC in the BC Database (see Section <a href="Boundaries-InitialConditions-1.html#bcdbase-2">8.6</a>).</p>
<b>Note: If two or more RF inflows of the same Name cover the same cell, only the first RF inflow is used. It is recommended that each polygon has a unique Name and they do not overlap.</b>
</td>
<td style="text-align:left;">
Char(100)
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
f1
</td>
<td style="text-align:left;">
<p>A multiplier that allows for adjusting the rainfall due to spatial variations in the total rainfall. To vary the rainfall spatially, either apply different f1 and/or f2 attribute values to each polygon.</p>
<p>Values of f1 greater than 1 are permitted when using 2d_rf polygons or points in a <a href="TCFCommands-1.html#tcfRainfallControlFile">Rainfall Control File</a> (.trfc).</p>
A value of zero will cause <a href="https://wiki.tuflow.com/TUFLOW_Message_2460">ERROR 2460</a> and the simulation will halt, see also <a href="TCFCommands-1.html#tcfZeroRainfallCheck">Zero Rainfall Check</a> command.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
f2
</td>
<td style="text-align:left;">
<p>A second multiplier that allows for adjusting the rainfall spatially. A value of zero will cause zero rainfall to be applied.</p>
<p>Values of f2 greater than 1 are permitted when using 2d_rf polygons or points in a <a href="TCFCommands-1.html#tcfRainfallControlFile">Rainfall Control File</a> (.trfc).</p>
A value of zero will cause <a href="https://wiki.tuflow.com/TUFLOW_Message_2460">ERROR 2460</a> and the simulation will halt, see also <a href="TCFCommands-1.html#tcfZeroRainfallCheck">Zero Rainfall Check</a> command.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
</tbody>
</table>
</div>
<div id="GriddedRainfall-4" class="section level4 hasAnchor" number="8.5.3.5">
<h4><span class="header-section-number">8.5.3.5</span> Gridded Rainfall<a href="Boundaries-InitialConditions-1.html#GriddedRainfall-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Rainfall may also be applied to the model using the .tcf command <a href="TCFCommands-1.html#tcfReadGridRF">Read
Grid RF</a>. The command references a .csv index containing
links to rainfall grids or a NetCDF file containing the time-varying data. This allows the applied rainfall to vary spatially across the
model without the need to digitise multiple polygons within a 2d_rf GIS
layer. If using the .csv file index the rainfall grids may be in any TUFLOW supported grid format (.tif, .flt, .asc), noting that .tif and .flt are much faster for TUFLOW to process than .asc.</p>
<p>For the .csv format the rainfall database contains two columns, the
first being time (in simulation hours) and the second being the rainfall
grid. There is no interpolation between times, so a stepped approach is
applied. Each rainfall grid applies from the time of the previous
rainfall grid in the .csv file up to the current time . Time increments do not
have to be a constant interval. An example of a rainfall database is shown
in Figure <a href="Boundaries-InitialConditions-1.html#fig:fig-image124">8.3</a>. The values within rainfall grid should be the rainfall depth in mm (or inches if using <tcmd><a href="TCFCommands-1.html#tcfUnits">Units</a></tcmd><teq> == </teq><tblk> US Customary</tblk>) that
have fallen over the previous period. In the example below the values in
the 2<sup>nd</sup> rainfall grid should be the total rainfall depths
from time 0 to time 3 hours (i.e. not the rainfall intensity in
mm/h or inch/h).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-image124"></span>
<img src="images/image124.png" alt="Example Rainfall Database"  />
<p class="caption">
Figure 8.3: Example Rainfall Database
</p>
</div>
<p>An example direct rainfall model using rainfall grids is provided in <a href="https://wiki.tuflow.com/Tutorial_M06#Gridded_Rainfall_.28Optional.29">Tutorial Module 6 - Optional</a>.</p>
</div>
<div id="TRFC-File-4" class="section level4 hasAnchor" number="8.5.3.6">
<h4><span class="header-section-number">8.5.3.6</span> Rainfall Control File (.trfc file)<a href="Boundaries-InitialConditions-1.html#TRFC-File-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Rainfall can be temporally and spatially controlled, including interpolation of rainfall gauges over time, using a series of commands in a <a href="TCFCommands-1.html#tcfRainfallControlFile">Rainfall Control File</a> (.trfc).</p>
<p>The .trfc commands generate rainfall grids based on point rainfall
gauges, with three methods available for spatial interpolation of the
rainfall distribution. The rainfall distribution varies over time
according to the rainfall at the gauges. The three methods for spatially
interpolating the rainfall are:</p>
<ul>
<li>IDW (Inverse Distance Weighting)<br />
</li>
<li>Polygons<br />
</li>
<li>TIN (Triangulation)</li>
</ul>
<p>When the rainfall control file is processed during model initialisation
a series of rainfall grids are output, which are then used by the
simulation to vary the rainfall over the 2D domain(s). This feature may
also be useful simply to generate the series of rainfall grids for other
purposes or display. The rainfall grids are pre-processed to reduce
memory usage whilst TUFLOW is running.</p>
<p>Note, only one .trfc file per 2D domain can be specified in the .tcf file
using the <a href="TCFCommands-1.html#tcfRainfallControlFile">Rainfall Control File</a> command.</p>
<p>An example of a total rainfall depth grid, output when using the .trfc IDW approach and four rainfall gauges, is shown in Figure <a href="Boundaries-InitialConditions-1.html#fig:fig-imageIDW">8.4</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-imageIDW"></span>
<img src="images/rf_total_IDW.png" alt="Example Depth Total Grid"  />
<p class="caption">
Figure 8.4: Example Depth Total Grid
</p>
</div>
<p>Of note is that the polygon approach is similar to using a series of
rainfall polygons read in via the .tbc <a href="TBCCommands-1.html#tbcReadGISRF">Read GIS RF</a>
command. However, the .trfc file approach is significantly more
memory efficient.</p>
<p>Whilst there isn’t a specific check file for the rainfall distribution
when using generated rainfall grids, another advantage of the
pre-processing of rainfall grids using this feature is that the grids it produces can be interrogated prior
to the end of the simulation for checking purposes. Note, the
generated rainfall grids are inclusive of adjustments made in the <a href="TCFCommands-1.html#tcfBCDatabase">BC Database</a> (e.g. multiplication factors used for climate change) and of adjustment factors in the input GIS
layer’s attributes, but not inclusive of rainfall losses that may be
specified in a materials file. The generated grids, together with a csv file for non NETcdf formats, can be utilised as gridded rainfall as per section <a href="Boundaries-InitialConditions-1.html#GriddedRainfall-4">8.5.3.5</a> for subsequent simulations.</p>
<p><a href="TCFCommands-1.html#tcfMapOutputDataTypes">Map Output Data Types</a> RFR or RFC can also be specified (see Table <a href="Outputs-1.html#tab:tab-ExcludingHazard">11.4</a>), these are inclusive of rainfall losses, however these results are output as the simulation progresses.</p>
<p>Example .trfc files are available in the <a href="https://wiki.tuflow.com/TUFLOW_Rainfall_Control_File_Examples">TUFLOW
Wiki Example Models</a> and in <a href="https://wiki.tuflow.com/Tutorial_M06#Part_3_-_Rainfall_Control_File">Tutorial Module 6 - Part 3</a>.</p>
<p>Appendix <a href="TRFCCommands-1.html#TRFCCommands-1">F</a> lists and describes the available .trfc commands.</p>
</div>
</div>
</div>
<div id="bcdbase-2" class="section level2 hasAnchor" number="8.6">
<h2><span class="header-section-number">8.6</span> Boundary Condition (BC) Database<a href="Boundaries-InitialConditions-1.html#bcdbase-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A boundary condition (BC) database is created using spreadsheet software
such as Microsoft Excel. Two types of files are required:</p>
<ol style="list-style-type: decimal">
<li>A database or list of BC events, including information on where to
find the BC data.<br />
</li>
<li>One or more files containing the boundary data (e.g. flow, level,
rainfall data).</li>
</ol>
<p>The database file must be .csv (comma delimited) formatted, or HEC-DSS (see Section <a href="Boundaries-InitialConditions-1.html#HECDSS-3">8.6.5</a>). It must contain a row with the pre-defined keywords ‘Name’ and ‘Source’, as listed in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-KeywordDescriptions">8.12</a>. Other keywords control how data is extracted from the Source.</p>
<p>The BC data files can be in a variety of formats, as described for the
‘Source’ keyword in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-KeywordDescriptions">8.12</a>. Additional formats can be incorporated upon
request. It is recommended that all .csv files originate from
<strong>one</strong> spreadsheet with a worksheet dedicated to each .csv file.
The Excel TUFLOW Tools.xlm macros can be used to export the worksheets
to .csv format, see Section <a href="Utilities-1.html#Excel-3">17.3.5</a>.</p>
<p>The active BC database is specified using the <a href="TCFCommands-1.html#tcfBCDatabase">BC Database</a> (.tcf file),
<a href="ECFCommands-1.html#ecfBCDatabase">BC Database</a> (.ecf file) and/or <a href="TBCCommands-1.html#tbcBCDatabase">BC Database</a> (.tbc file) commands.
Note, specifying <a href="TCFCommands-1.html#tcfBCDatabase">BC Database</a> in the
.tcf file automatically applies to both 1D and 2D domains (i.e. there is
no need to specify the command in the .ecf or .tbc files). The active
database can be changed at any point by repeating the command in any of
these files.</p>
<p>The maximum line length (i.e. number of characters including spaces and
tabs) in a single line of a source file is 100,000 characters. If the keyword is not found in the “Name, Source” line, the default column is used to define the column of data for that keyword.</p>
<table>
<caption>
<span id="tab:tab-KeywordDescriptions">Table 8.12: </span><strong>BC Database Keyword Descriptions</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Keyword
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Default Column
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
<p>The name of a BC data location. The name must be the same name as used in the GIS 1d_bc, 2d_bc, 2d_sa, 2d_sa_rf or 2d_rf layers. It may contain spaces and other characters, though must not contain any commas. It is not case sensitive.</p>
<p>The name of a group of boundaries can be used for RAFTS (.loc and .tot files) and WBNM (via the .ts1 file format) hydrographs. For example, if “N1|Local” is the boundary Name in a 1d_bc or 2d_bc layer, then the group is interpreted as the text to the right of the “|” symbol (i.e. Local), and the text to the left is the ID (i.e. N1) of the time-series data in the file containing the hydrographs. In this example, TUFLOW:</p>
<ul>
<li>Searches for an entry “Local” in the Name column of the BC database.<br />
</li>
<li>Opens the file in the Source column, say Q100.ts1.<br />
</li>
<li>Extracts the hydrograph for node N1 from Q100.ts1.</li>
</ul>
Using this approach, the size of the BC Database .csv file can be reduced from several hundred lines for large hydrologic models to a couple of lines.
</td>
<td style="text-align:left;">
N/A
</td>
</tr>
<tr>
<td style="text-align:left;">
Source
</td>
<td style="text-align:left;">
<p>The file from which to extract the BC data. Acceptable formats are:</p>
<ul>
<li>Blank – if left blank, the BC data is assumed constant over time at the value specified under the Column 2 (Value) column (see Column 2 keyword below).<br />
</li>
<li>Comma delimited (.csv) files. Must have a .csv extension.<br />
</li>
<li>RAFTS-XP .tot and .loc files. 12, 16 and 20 field output is supported.<br />
</li>
<li>TUFLOW .ts1 time-series boundary data format. This format is fast to process and should be used for input of large numbers of hydrographs. See the convert_to_ts1.exe utility (Section <a href="Utilities-1.html#Processing-Utilites-3">17.3.1</a>) for converting output from RAFTS, RORB, URBS and WBNM to .ts1 format). The ts1 is a comma separated file, which has additional header data to increase its read efficiency. The .ts1 file format is outlined on the TUFLOW Wiki on the <a href="http://wiki.tuflow.com/TS1_File_Format">TS1 file format page</a> should you wish to use a script to write data using this format.<br />
</li>
<li>FEWS files (.csv and .xml) for FEWS boundaries the source column should contain the keyword “FEWS” to indicate the .csv file format is a FEWS file and not a standard .csv file, followed by a vertical bar “|” and then the filename. For example:<br />
<img src="images/image125.png"><br />
</li>
<li>WBNM _Meta.out files. The flow data is read from the 9<sup>th</sup> data column in the hydrographs section of the _Meta.out file, this is the Qout_OS column.</li>
<li>XP .int and .ext interface formats.<br />
</li>
<li>Other file formats are included upon request.</li>
</ul>
<b>Note, the type of file is determined by the extension, therefore, ensure the file has the correct extension.</b>
</td>
<td style="text-align:left;">
N/A
</td>
</tr>
<tr>
<td style="text-align:left;">
Column 1 or Time
</td>
<td style="text-align:left;">
<p>For .csv files, the name of the first column of data (usually time values in simulation hours) in the .csv Source File. Other examples besides Time are Flow for a HQ (stage-discharge) boundary, or Mean Water Level for each wave component in a 2D HS (sinusoidal wave) boundary.</p>
For all other types of Source entry (including FEWS .csv), leave this field blank.
</td>
<td style="text-align:left;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Column 2 or Value or ID
</td>
<td style="text-align:left;">
<p>For .csv files, the name of the second column of data in the .csv Source File. For example, water levels in a HT boundary, flows for a QT boundary or water levels for a HQ boundary.</p>
<p>For a Blank Source entry, the constant value to be applied. For example, to apply a mean water level to a HT boundary the source can be left blank and the water level entered in this column.</p>
<p>For RAFTS-XP (.tot or .loc), WBNM _Meta.out and TUFLOW/ESTRY .ts1 files, the name of the hydrograph location to extract.</p>
<p>For FEWS .csv and .xml boundaries the Location ID and Parameter ID need to be defined, separated by a vertical bar. The FEWS .csv file also supports event ensembles. For this an optional 3<sup>rd</sup> argument can be specified defining the ensemble ID. In the 1<sup>st</sup> boundary database entries below a FEWS .csv file is specified with the location ID “Location1” and the parameter ID “Q.sim.hist”. The 2<sup>nd</sup> boundary entry includes a boundary ensemble number 1.<br />
<img src="images/image125.png"></p>
<p>For external wind stress boundaries (.tesf), used to define the wind speed (m/s)</p>
<b>Note: it is NOT possible to combine the Value and ID keywords in the column label, for example “Value or ID”. If they are combined, the default column number of 4 is used.</b>
</td>
<td style="text-align:left;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Add Col 1 or TimeAdd
</td>
<td style="text-align:left;">
<p>An amount to add to all Column 1 (normally time) values (e.g. a time shift) for the BC data event. If left blank or zero, there is no change to the time values.</p>
<p>For external wind stress boundaries (.tesf), used to define the wind direction (degrees relative to East, ie. East = 0º, North = 90º, etc.).</p>
This field is ignored for Blank Source entries.
</td>
<td style="text-align:left;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Mult Col 2 or ValueMult
</td>
<td style="text-align:left;">
<p>A multiplication factor to apply to the Column 2 values. If left blank or one (1), there is no change to the values. Note, Mult Col 2 is applied before Add Col 2 below.</p>
This field is ignored for Blank Source entries.
</td>
<td style="text-align:left;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Add Col 2 or ValueAdd
</td>
<td style="text-align:left;">
<p>An amount to add to Column 2 values. If left blank or zero, there is no change to the values. Note, Add Col 2 is applied after Mult Col 2. For example, this could be used to add a base flow to a QT boundary or sea level rise allowance for a HT boundary.</p>
This field is ignored for Blank Source entries.
</td>
<td style="text-align:left;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
Column 3
</td>
<td style="text-align:left;">
<p>For .csv files, the name of the third column of data when a third column of data is required. For example, the phase difference for each wave component in a 2D HS (sinusoidal wave) boundary.</p>
For all other types of Source entries, leave this field blank.
</td>
<td style="text-align:left;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Column 4
</td>
<td style="text-align:left;">
<p>For .csv files, the name of the fourth column of data when a fourth column of data is required. For example, the period for each wave component in a 2D HS (sinusoidal wave) boundary.</p>
For all other types of Source entries, leave this field blank.
</td>
<td style="text-align:left;">
9
</td>
</tr>
</tbody>
</table>
<div id="bcdbase-Example-3" class="section level3 hasAnchor" number="8.6.1">
<h3><span class="header-section-number">8.6.1</span> BC Database Example<a href="Boundaries-InitialConditions-1.html#bcdbase-Example-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Figure <a href="Boundaries-InitialConditions-1.html#fig:fig-image126">8.5</a> shows a simple example of a BC database setup in a worksheet that is exported as a .csv file for use by TUFLOW.</p>
<p>TUFLOW searches through the file until a row is found with the two keywords <strong>Name</strong> and <strong>Source</strong>. <strong>Name</strong> and <strong>Source</strong> do not have to be located in Columns 1 and 2 (although this is recommended).</p>
<p>Table <a href="Boundaries-InitialConditions-1.html#tab:tab-KeywordDescriptions">8.12</a> describes the purpose of each keyword and the default column where
applicable. At present a range of formats are accepted, and other formats can be incorporated upon request.</p>
<p>The example above is interpreted as follows:</p>
<ul>
<li>A boundary condition data location named “Level” is found in a boundary condition GIS file (eg. 2d_bc, 2d_sa, 2d_rf etc.). The boundary condition time-series data associated with it are found in the file <em>heads.csv</em>. Within the csv file, the time values are located under a column called “Time” and the BC values are located under a column “Lake Level”.<br />
</li>
<li>As an alternative to “Level” above, a boundary condition data location “Level (alternative)” is set a constant value of 2.<br />
</li>
<li>A boundary condition data location named “River Inflow” is found in a boundary condition GIS file. The time-series data associated with it is availabl in <em>flows.csv</em>. Within <em>flows.csv</em>, time details are found in the column titled “Time 1”. Boundary condition values are found in the column titled “River Flow”. Similarly, “Creek Inflow” and “Base Flow” are also located in flows.csv.<br />
</li>
<li>A boundary condition data location named “RAFTS Inflow” extracts the hydrograph from a RAFTS-XP .tot file named “rafts.tot” for RAFTS node “IN”.</li>
</ul>
<p>The heads.csv and flows.csv files are created by saving the worksheets
“heads.csv” and “flows.csv” as .csv files (see Figure <a href="Boundaries-InitialConditions-1.html#fig:fig-image127">8.6</a> and Figure <a href="Boundaries-InitialConditions-1.html#fig:fig-image128">8.7</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-image126"></span>
<img src="images/image126a.png" alt="Simple BC Database Example (bc_dbase.csv)"  />
<p class="caption">
Figure 8.5: Simple BC Database Example (bc_dbase.csv)
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-image127"></span>
<img src="images/image127a.png" alt="Example BC Database Source Files (heads.csv)"  />
<p class="caption">
Figure 8.6: Example BC Database Source Files (heads.csv)
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-image128"></span>
<img src="images/image128a.png" alt="Example BC Database Source Files (flows.csv)"  />
<p class="caption">
Figure 8.7: Example BC Database Source Files (flows.csv)
</p>
</div>
</div>
<div id="BCEventName-3" class="section level3 hasAnchor" number="8.6.2">
<h3><span class="header-section-number">8.6.2</span> BC Event Name Command<a href="Boundaries-InitialConditions-1.html#BCEventName-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>The ability to model multiple events using an <a href="TCFCommands-1.html#tcfEventFile">Event File</a> (.tef) file offers even more power and flexibility to using <a href="TCFCommands-1.html#tcfBCEventText">BC Event Text</a> and <a href="TCFCommands-1.html#tcfBCEventName">BC Event Name</a>, as discussed below. This avoids the need to have a separate .tcf file for each simulation. See Section <a href="Running-Simulations-1.html#Events-3">13.3.1</a> for details on using an event file. The <a href="TCFCommands-1.html#tcfBCEventName">BC Event Name</a> will continue to be supported although users are encouraged to use the event file instead.</strong></p>
<p>The <a href="TCFCommands-1.html#tcfBCEventText">BC Event Text</a> and <a href="TCFCommands-1.html#tcfBCEventName">BC Event Name</a> commands (.tcf file) minimise data repetition by removing the need to create a separate BC database .csv file for each event. These commands are also available in the .ecf file for 1D only models (<a href="ECFCommands-1.html#ecfBCEventText">BC Event Text</a> and <a href="ECFCommands-1.html#ecfBCEventName">BC Event Name</a>) and .tbc file (<a href="TBCCommands-1.html#tbcBCEventText">BC Event Text</a> and <a href="TBCCommands-1.html#tbcBCEventName">BC Event Name</a>). The commands allow a wildcard to be set in the BC database and the text to replace the wildcard. How the commands work is illustrated in the example below.</p>
<p>A BC database file worksheet is created, as illustrated in Figure <a href="Boundaries-InitialConditions-1.html#fig:fig-image129">8.8</a>, and the following lines are included in all .tcf files.</p>
<p><tcmd><a href="TCFCommands-1.html#tcfBCDatabase">BC Database</a></tcmd><teq> == </teq><tblk>..\bcdbase\PR_bc_dbase.csv</tblk><br />
<tcmd><a href="TCFCommands-1.html#tcfBCEventText">BC Event Text</a></tcmd><teq> == </teq><tblk>__event__</tblk></p>
<p>These lines can be specified in a separate file. The file can be read using the <a href="TCFCommands-1.html#tcfReadFile">Read File</a> command in
all the .tcf files, see Section <a href="ControlFiles-and-Inputs-1.html#ReadFile-3">4.2.15</a>. This saves repeating these lines, and other common commands to all .tcf files.</p>
<p>The above commands set the active BC Database to ..\bcdbase\PR_bc_dbase.csv, and defines the text “__event__” as a wildcard to be replaced by the <a href="TCFCommands-1.html#tcfBCEventName">BC Event Name</a>. The following command is added to the .tcf file for the 100-year flood simulation:</p>
<p><tcmd><a href="TCFCommands-1.html#tcfBCEventName">BC Event Name</a></tcmd><teq> == </teq><tblk>Q100</tblk></p>
<p>TUFLOW replaces <strong><u>every</u></strong> occurrence of “__event__” with “Q100” in each line of the BC database. If “__event__” does not occur the line remains unchanged. In the example below, the following occurs:</p>
<ul>
<li>For the BC event “Oxley Ck Inflow”, the BC data is read from file “Q100.csv” rather than “__event__.csv” as indicated in the spreadsheet.<br />
</li>
<li>Similarly, the same applies for “h Downstream” and “Paradise Ck Inflow” BC events.</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-image129"></span>
<img src="images/image129a.png" alt="Example BC Database Using Event Text"  />
<p class="caption">
Figure 8.8: Example BC Database Using Event Text
</p>
</div>
<p>The file Q100.csv is created from the worksheet “Q100.csv” as shown below.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-image130"></span>
<img src="images/image130a.png" alt="Example BC Database Source Files Using Event Text"  />
<p class="caption">
Figure 8.9: Example BC Database Source Files Using Event Text
</p>
</div>
<p>To create other simulations, for example a five year flood simulation, it is simply a process of creating the Q005.csv file, saving a copy of the “Q100.tcf” file as “Q005.tcf” and changing <a href="TCFCommands-1.html#tcfBCEventName">BC Event Name</a> to “Q005”:</p>
<p><tcmd><a href="TCFCommands-1.html#tcfBCEventText">BC Event Name</a></tcmd><teq> == </teq><tblk>Q005</tblk></p>
<p>There is no need to create another BC database file. As discussed earlier, the newer <a href="TCFCommands-1.html#tcfEventFile">Event File</a> option eliminates the need for a separate control file (.tcf) and is the preferred approach, see Section <a href="Running-Simulations-1.html#Events-3">13.3.1</a> for details on using the event file approach.</p>
</div>
<div id="BoundaryGenerators-3" class="section level3 hasAnchor" number="8.6.3">
<h3><span class="header-section-number">8.6.3</span> TUFLOW Boundary Generators<a href="Boundaries-InitialConditions-1.html#BoundaryGenerators-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- DRK: Needs a short section on the tools available within QGIS which generate the bc-dbase, time-series files and TEF for ARR/ReFH2 and SCS.  Small description and signpost to the wiki pages-->
<p>The development of boundary conditions is usually model specific, although there are some common regional approaches to flow and rainfall generation. To assist with this, a number of boundary generator tools have been created within QGIS which allow the modeller to semi-automate the production of the <a href="TCFCommands-1.html#tcfBCDatabase">BC Database</a>, boundary data files for different events, patterns and storm duration and also an associated TUFLOW <a href="TCFCommands-1.html#tcfEventFile">Event File</a>. Currently, these exists for 3 regional hydrological approaches. For a description of each, the reader is referred to the relevant Wiki page:</p>
<ul>
<li><a href="https://wiki.tuflow.com/QGIS_ARR_to_TUFLOW">Australian Rainfall and Runoff 2019 Tool (ARR to TUFLOW tool)</a>: The ARR to TUFLOW tool interacts with the Australian Bureau of Meteorology website, in conjunction with ARR input parameters, to generate rainfall hyetographs together with optional soil loss files depending on the method (tsoilf or material.csv).</li>
<li><a href="https://wiki.tuflow.com/QGIS_ReFH2_to_TUFLOW">UK Revitalised Flood Estimation Handbook 2 (ReFH2 to TUFLOW tool)</a>: This allows both flow hydrographs and rainfall hyetographs to be developed for a TUFLOW simulation for a range of events and storm durations based on imported FEH Catchment or point descriptors.</li>
<li><a href="https://wiki.tuflow.com/QGIS_SCS_to_TUFLOW">Auckland Region SCS to TUFLOW tool</a>. This tool allows flow hydrographs to be developed for the Auckland, New Zealand region using the U.S. Soil Conservation Service (SCS) (now known as the Natural Resources Conservation Service, part of the U.S. Department of Agriculture) rainfall-runoff model. The implemented approach complies with Auckland City Council’s TP108 policy.</li>
</ul>
<p>Please let <a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a> know if you have suggestions for a boundary conditions generators</p>
</div>
<div id="DelftFEWSBoundary-3" class="section level3 hasAnchor" number="8.6.4">
<h3><span class="header-section-number">8.6.4</span> Delft FEWS Boundaries<a href="Boundaries-InitialConditions-1.html#DelftFEWSBoundary-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Boundary timeseries in the Delft FEWS boundary format are supported, as shown in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-KeywordDescriptions">8.12</a>.</p>
<p>Delft FEWS .csv and .xml files are TUFLOW compatible. In both cases the keyword “FEWS” is required in the ‘Source’ field of the BC Database followed by a vertical bar “|” and then the Delft FEWS filename (for example FEWS | &lt;sourcefile.csv&gt;). Following ‘Source’ in the BC Database:</p>
<ul>
<li>‘Column 1’ is not required. This is due to TUFLOW sourcing time information directly from the Delft FEWS file.<br />
</li>
<li>‘Column 2’ is needed to define the Location ID, Parameter ID, and when using the .csv format, the Ensemble ID. Each parameter is separated by a vertical bar. For example:
<center>
<img src="images/image125.png" />
</center></li>
</ul>
<p>Note, ensemble ID information is only possible using the Delft FEWS .csv format. It is not possible using Delft FEWS xml format.</p>
<p>The header section for an input .xml is shown below. Any data in the timeseries with the value equal to that defined by the &lt;missVal&gt; in the header are ignored. Additional header tags are ignored by TUFLOW.</p>
<center>
<img src="images/image131.png" style="width:4.84914in;height:2.60504in" />
</center>
<p>The <a href="TCFCommands-1.html#tcfFEWSInputfile">FEWS Input File</a> command can be used to set the duration of the TUFLOW simulation and the <a href="TCFCommands-1.html#tcfNetCDFOutputStartDate">NetCDF Output Start Date</a> based on information within the FEWS boundary file. <a href="TCFCommands-1.html#tcfFEWSInputfile">FEWS Input File</a> can refer to either a FEWS .csv or FEWS .xml file. Using this command, the duration and <a href="TCFCommands-1.html#tcfEndTime">End Time</a> value of the TUFLOW simulation is determined from the Delft FEWS input file. If using this approach, no <a href="TCFCommands-1.html#tcfEndTime">End Time</a> command should be included in the .tcf file. The start date defined in the FEWS input file is used to set the NetCDF output start date (e.g. <a href="TCFCommands-1.html#tcfNetCDFOutputStartDate">NetCDF Output Start Date</a>).</p>
</div>
<div id="HECDSS-3" class="section level3 hasAnchor" number="8.6.5">
<h3><span class="header-section-number">8.6.5</span> HEC-DSS Boundaries<a href="Boundaries-InitialConditions-1.html#HECDSS-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The 2023-03 release introduced support for time-series data from HEC-DSS files within a boundary condition database.
HEC-DSS is a database system for time series, curve, gridded data and more, developed by the U.S. Army Corps of Engineers Hydrologic Engineering Center (HEC). See their website at <a href="https://www.hec.usace.army.mil/software/hec-dss/" class="uri">https://www.hec.usace.army.mil/software/hec-dss/</a> for more information. It is used by the HEC developed models for data input and output. Rather than convert HEC-DSS time-series curves for use in TUFLOW, this data can be accessed directly.
HEC-DSS files organise data into paths with six parts (Part A – Part F) that resemble how files are organised on disk. Figure <a href="Boundaries-InitialConditions-1.html#fig:fig-HEC-DSSfiles">8.10</a> shows an example DSS file with a single path, with the curve plotted below.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-HEC-DSSfiles"></span>
<img src="images/HEC-DSSfiles.png" alt="**Example DSS File**" width="65%" />
<p class="caption">
Figure 8.10: <strong>Example DSS File</strong>
</p>
</div>
</center>
<p>To use a HEC-DSS time-series curve within a TUFLOW boundary condition database:</p>
<ol style="list-style-type: decimal">
<li>Provide the filename in the “Source” column.</li>
<li>Leave “Column 1”, which is used for time, blank (DSS files store the time with the curve values).</li>
<li>Identify the pathname in “Column 2.” Event placeholders such as <strong>event</strong> can be used as part of the pathname. Wildcards (*) can be used for parts of the path, however, ensure the wildcards will not select more than one path within the file.</li>
<li>The “Add” and “Mult” columns can be used to offset or scale the time-series values, the same as non-DSS time-series curves.</li>
</ol>
<p>Figure <a href="Boundaries-InitialConditions-1.html#fig:fig-PartDWildCard">8.11</a> shows how the time-series curve above could be included in a boundary condition database. A wildcard is used for Part D of the pathname (date range). Note that the pathname must start with a forward slash (/).</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-PartDWildCard"></span>
<img src="images/PartDWildCard.png" alt="**Time-series Curve Example**" width="50%" />
<p class="caption">
Figure 8.11: <strong>Time-series Curve Example</strong>
</p>
</div>
</center>
<p>By default, TUFLOW uses the first point in the time-series curve as TUFLOW time-zero. This can be changed using the new command “<tcmd><a href="tcfHEC-DSSStartDate">HEC-DSS Start Date</a></tcmd>” to identify the date/time that should be used for time-zero. The date should be in the isodate format: yyyy-mm-dd hh:mm:ss, where the time portions are optional. For example:</p>
<p><tcmd><a href="TCFCommands-1.html#tcfHEC-DSSStartDate">HEC-DSS Start Date</a></tcmd> <teq>==</teq> <tblk>2022-01-01</tblk></p>
<p>Note: Non-time series data such as gridded data from a HEC-DSS file is not supported.</p>
</div>
</div>
<div id="Cyclones-2" class="section level2 hasAnchor" number="8.7">
<h2><span class="header-section-number">8.7</span> Cyclones / Hurricanes / Typhoons<a href="Boundaries-InitialConditions-1.html#Cyclones-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Wind and pressure fields created by severe storms can affected flooding and inundation in coastal areas. It is possible to apply a cyclone / hurricane / typhoon boundary within TUFLOW to capture these affects. Cyclone / hurricane / typhoon wind and pressure fields with the Holland parametric model <span class="citation">(<a href="#ref-Holland1980">Holland, 1980</a>)</span> can be read in with either of the .tcf commands below (which are treated identically):</p>
<p><tcmd><a href="TCFCommands-1.html#tcfReadGISCyclone">Read GIS Cyclone</a></tcmd> <teq>==</teq> <tblk><span class="math inline">\(\langle\)</span>gis layer<span class="math inline">\(\rangle\)</span></tblk><br />
<tcmd><a href="TCFCommands-1.html#tcfReadGISCyclone">Read GIS Hurricane</a></tcmd> <teq>==</teq> <tblk><span class="math inline">\(\langle\)</span>gis layer<span class="math inline">\(\rangle\)</span></tblk></p>
<p>This command can be used to read a cyclone, hurricane or typhoon track. The attributes of the GIS layer are listed in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-CycloneAttributes">8.13</a> and are all float values. Only the first line in the layer is read and used for the track. Points are snapped to the line wherever attribute data are to be assigned. It is not necessary to have points snapped to every vertex of the line – values will be interpolated between the digitised points. There must be points with attribute data snapped to the start and end of the polyline track.</p>
<p>The optional <tcmd>No Pressure</tcmd> and <tcmd>No Wind</tcmd> options deactivate the pressure/wind fields respectively. E.g. <tcmd><a href="TCFCommands-1.html#tcfReadGISCyclone">Read GIS Cyclone No Wind</a></tcmd> <teq>==</teq> <tblk><span class="math inline">\(\langle\)</span>gis layer<span class="math inline">\(\rangle\)</span></tblk> will only apply the pressure field and ignore the wind.</p>
<table>
<caption>
<span id="tab:tab-CycloneAttributes">Table 8.13: </span><strong>GIS Attribute Details for Cyclone (2d_cyc) layer</strong>
</caption>
<thead>
<tr>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
No. 
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Default GIS Attribute Name
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Time
</td>
<td style="text-align:left;">
Time in hours.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
p0
</td>
<td style="text-align:left;">
Pressure at the eye (hPa).
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
pn
</td>
<td style="text-align:left;">
Pressure of surrounds (hPa).
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
R
</td>
<td style="text-align:left;">
Radius to maximum winds (m) (or ft if using <tcmd><a href="TCFCommands-1.html#tcfUnits">Units</a></tcmd> <teq>==</teq><tblk> US Customary</tblk>).
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
See <span class="citation">Queensland Government (<a href="#ref-QG2001">2001</a>)</span>.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
<span class="math inline">\(\rho_{air}\)</span>
</td>
<td style="text-align:left;">
Density of Air (kg/m<sup>3</sup>) (or lb/ft<sup>3</sup> if using <tcmd><a href="TCFCommands-1.html#tcfUnits">Units</a></tcmd> <teq>==</teq><tblk> US Customary</tblk>). If zero, <a href="TCFCommands-1.html#tcfDensityofAir">Density of Air</a> is used.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
km
</td>
<td style="text-align:left;">
Density of Air (kg/m<sup>3</sup>) (or lb/ft<sup>3</sup> if using <tcmd><a href="TCFCommands-1.html#tcfUnits">Units</a></tcmd> <teq>==</teq><tblk> US Customary</tblk>). If zero, <a href="TCFCommands-1.html#tcfDensityofAir">Density of Air</a> is used.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
ThetaMax
</td>
<td style="text-align:left;">
See <span class="citation">Queensland Government (<a href="#ref-QG2001">2001</a>)</span>.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
DeltaFM
</td>
<td style="text-align:left;">
See <span class="citation">Queensland Government (<a href="#ref-QG2001">2001</a>)</span>.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
bw_speed
</td>
<td style="text-align:left;">
Background wind speed in m/s (or ft/s if using <tcmd><a href="TCFCommands-1.html#tcfUnits">Units</a></tcmd> <teq>==</teq><tblk> US Customary</tblk>). Ignored if less than or equal to zero.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
bw_dirn
</td>
<td style="text-align:left;">
Background wind direction in degrees relative to East (0°), North (90°), etc..
</td>
<td style="text-align:left;">
Float
</td>
</tr>
</tbody>
</table>
<p>The generation of the wind and pressure fields are based on Appendix C of “Queensland Climate Change and Community Vulnerability to Tropical Cyclones – Ocean Hazards Assessment – Stage 1” <span class="citation">(<a href="#ref-QG2001">Queensland Government, 2001</a>)</span>.</p>
<p>The wind and pressure fields can be output using the <tblk>WI10</tblk> and <tblk>AP</tblk> options for <tcmd><a href="TCFCommands-1.html#tcfMapOutputDataTypes">Map Output Data Types</a></tcmd>.
The background wind is applied outside R (the radius of maximum winds), if it exceeds the cyclone/hurricane wind speed.</p>
<p>Note: that Latitude must be specified (via .tcf command “<tcmd><a href="TCFCommands-1.html#tcfLatitude">Latitude</a></tcmd> <teq>==</teq> <tblk><span class="math inline">\(\langle\)</span>latitude value<span class="math inline">\(\rangle\)</span></tblk>”).</p>
</div>
<div id="ExternalStress-2" class="section level2 hasAnchor" number="8.8">
<h2><span class="header-section-number">8.8</span> External Stress Boundaries<a href="Boundaries-InitialConditions-1.html#ExternalStress-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The external stress control file (.tesf) allows the definition of time varying global or spatially varying external forcing such as wind or wave radiation stresses. This allows the user to specify one of the following types of wind / stress boundary:</p>
<ul>
<li>Global wind (i.e. temporally but not spatially varying wind field is applied).<br />
</li>
<li>Grid Interpolation. Point winds are applied at locations within / near the model, these point winds are interpolated to gridded stresses across the model.<br />
</li>
<li>User specified time varying gridded datasets.</li>
</ul>
<p>The wind time-series curve is entered as three columns of data (using
Column 1, 2 and 3 labels in the bc_dbase). The three columns are:</p>
<ol style="list-style-type: decimal">
<li>Time (h)<br />
</li>
<li>Wind (m/s)<br />
</li>
<li>Direction (degrees relative to East, i.e. East = 0º, North = 90º,
etc.).</li>
</ol>
<p>Prior to the simulation the wind boundaries are converted into a shear
stress boundary and this shear stress is applied to the model. The shear stress is calculated based on equation <a href="Boundaries-InitialConditions-1.html#eq:equ-shear-stress">(8.2)</a>.</p>
<p><span class="math display" id="eq:equ-shear-stress">\[\begin{equation}
\tau = C_{10}\ \rho_{air}\  U_{10}
\tag{8.2}
\end{equation}\]</span></p>
<p>Where:</p>
<ul>
<li><span class="math inline">\(\tau\)</span> = shear stress in N/m<sup>2</sup>.</li>
<li><span class="math inline">\(ρ_{air}\)</span> = density of air in kg/m<sup>3</sup>.</li>
<li><span class="math inline">\(U_{10}\)</span> = wind velocity at 10m above the mean water surface in m/s.</li>
<li><span class="math inline">\(C_{10}\)</span> = wind stress coefficient and is calculated using equation <a href="Boundaries-InitialConditions-1.html#eq:equ-wind-stress">(8.3)</a> based on <span class="citation">J. Wu (<a href="#ref-Wu1980">1980</a>)</span> and <span class="citation">J. Wu (<a href="#ref-Wu1982">1982</a>)</span>.</li>
</ul>
<p><span class="math display" id="eq:equ-wind-stress">\[\begin{equation}
C_{10} = \left( 0.8 + 0.065\ U_{10} \right)\ \times 10^{- 3}
\tag{8.3}
\end{equation}\]</span></p>
<p>For US Customary units, wind velocity (<span class="math inline">\(U_{10}\)</span>) is specified in ft/s, density (<span class="math inline">\(ρ_{air}\)</span>) is specified in lb/ft<sup>3</sup> and shear stress (<span class="math inline">\(\tau\)</span> ) is calculated / output in lbf/ft<sup>2</sup>.</p>
<p>For the interpolated stress grids, these are output to disk at model
start-up and then loaded in during the model simulation as required. The
grids can be used as a “check” file as they are written prior to the
simulation starting. For each time in the specified boundary series two
stress grids are produced, shear stress in the x direction (<span class="math inline">\(\tau_x\)</span>) and
shear stress in the Y direction (<span class="math inline">\(\tau_y\)</span>). When interpolating grids from
point data the wind boundary at each point is converted to <span class="math inline">\(\tau_x\)</span> and <span class="math inline">\(\tau_y\)</span>
and these x and y component stresses are interpolated using the selected
method (as described below).</p>
<p>Alternatively, a series of <span class="math inline">\(\tau_x\)</span> and <span class="math inline">\(\tau_y\)</span> grids can be directly read into
the simulation. The input grids must be in a format TUFLOW supports for reading (see Section <a href="ControlFiles-and-Inputs-1.html#GISFormats-3">4.4.1</a>). For all formats except NetCDF, an index .csv file is input containing the time data in Column 1, and the filenames for the x and y component stresses in Columns 2 and 3 respectively. For the NetCDF format, time, <span class="math inline">\(\tau_x\)</span> and <span class="math inline">\(\tau_y\)</span> must all be variables in the same NetCDF file. The format of the user specified external grids is the same as produced by TUFLOW when interpolating from
points to grids.</p>
<center>
<img src="images/image132.png"
style="width:6.26806in;height:0.91944in" />
</center>
<p>As the user specified gridded stresses are applied as a stress term
(rather than a wind boundary) these could potentially be used for
external stress forcing other than winds, for example wave radiation
stresses.</p>
<p>All stress related commands (see Appendix <a href="TESFCommands-1.html#TESFCommands-1">G</a>) are specified in the External Stress File
(.tesf), which is referred to in the .tcf using the command, <a href="TCFCommands-1.html#tcfExternalStressFile">External
Stress File</a>. If this command is included TUFLOW
automatically invokes the external stress functionality. Other .tcf
commands relevant to the wind stress functionality are <a href="TCFCommands-1.html#tcfDensityofAir">Density of
Air</a>, <a href="TCFCommands-1.html#tcfDensityofWater">Density of Water</a>,
<a href="TCFCommands-1.html#tcfWindWaveShallowDepths">Wind/Wave Shallow Depths</a>.</p>
<p>In the .tesf one of the following commands is required to apply global, interpolated from point or gridded stresses.</p>
<ul>
<li><a href="TESFCommands-1.html#tesfGlobalWindBC">Global Wind BC</a>: Used to invokes a global wind
boundary.<br />
</li>
<li><a href="TESFCommands-1.html#tesfReadGISWindPoint">Read GIS Wind Point</a> and <a href="TESFCommands-1.html#tesfReadGISWindPoly">Read GIS Wind
Poly</a> invokes grid interpolation.<br />
</li>
<li><a href="TESFCommands-1.html#tesfReadGriddedTau">Read Gridded Tau</a> invokes the use of a user
specified grid.</li>
</ul>
<p>If applying a global wind boundary, no additional .tesf file commands
are required.</p>
<p>For the grid interpolation the following commands are applicable:</p>
<ul>
<li><a href="TESFCommands-1.html#tesfGridInterpolationMethod">Grid Interpolation Method</a></li>
<li><a href="TESFCommands-1.html#tesfOutputGridFormat">Output Grid Format</a><br />
</li>
<li><a href="TESFCommands-1.html#tesfOutputGridCellSize">Output Grid Cell Size</a></li>
<li><a href="TESFCommands-1.html#tesfOutputGridOrigin">Output Grid Origin</a></li>
<li><a href="TESFCommands-1.html#tesfIDWExponent">IDWExponent</a></li>
<li><a href="TESFCommands-1.html#tesfIDWMaximumDistance">IDW Maximum Distance</a></li>
<li><a href="TESFCommands-1.html#tesfIDWMaximumPoint">IDW Maximum Point</a></li>
</ul>
<p>The GIS attribute format associated with the inputs called by the <a href="TESFCommands-1.html#tesfReadGISWindPoint">Read GIS Wind Point</a> and <a href="TESFCommands-1.html#tesfReadGISWindPoly">Read GIS Wind Poly</a> commands is provided in Table <a href="Boundaries-InitialConditions-1.html#tab:tab-WindStress">8.14</a>.</p>
<table>
<caption>
<span id="tab:tab-WindStress">Table 8.14: </span><strong>2D External Wind Stress (2d_ws) Attribute Descriptions</strong>
</caption>
<thead>
<tr>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
No
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Default GIS Attribute Name
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
The name of the BC in the BC Database (see Section <a href="Boundaries-InitialConditions-1.html#bcdbase-2">8.6</a>).
</td>
<td style="text-align:left;">
Char(100)
</td>
</tr>
</tbody>
</table>
</div>
<div id="InitialConditions-2" class="section level2 hasAnchor" number="8.9">
<h2><span class="header-section-number">8.9</span> Initial Conditions<a href="Boundaries-InitialConditions-1.html#InitialConditions-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Two options are available for setting initial conditions in the model.
Initial Water Levels (IWLs) can be defined in the 1D and 2D domains to
set a global constant or spatially-varying water level. Alternatively,
the use of restart files sets initial water levels, flow velocities and
flow regime based on a previous simulation of the model.</p>
<div id="IWL-3" class="section level3 hasAnchor" number="8.9.1">
<h3><span class="header-section-number">8.9.1</span> Initial Water Levels (IWL)<a href="Boundaries-InitialConditions-1.html#IWL-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="IWL-1D-4" class="section level4 hasAnchor" number="8.9.1.1">
<h4><span class="header-section-number">8.9.1.1</span> 1D Domains<a href="Boundaries-InitialConditions-1.html#IWL-1D-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For 1D domains, initial water levels (IWL) can be set globally as a constant using the .ecf command <a href="ECFCommands-1.html#ecfSetIWL">Set IWL</a>. IWLs can also be set to vary spatially using one or more GIS layers. The default initial water level at 1D nodes is zero metres above datum (0 mAD).</p>
<p>To set up a GIS IWL layer for the 1D domains:</p>
<ol style="list-style-type: decimal">
<li>Create a 1d_iwl layer using an empty layer created by <a href="TCFCommands-1.html#tcfWriteEmptyGISFiles">Write Empty
GIS Files</a>.<br />
</li>
<li>Digitise points snapped to nodes and assign each point an initial
water level value, alternatively points can be copied from the
<a href="https://wiki.tuflow.com/Check_Files_1d_nwk_N">_nwk_N_check</a> files and assigned an IWL.<br />
</li>
<li>Save the GIS layer.<br />
</li>
<li>Use the <a href="ECFCommands-1.html#ecfReadGISIWL">Read GIS IWL</a> command to read in the IWL values.</li>
</ol>
<p>Any number of IWL layers may be used, noting that if a node’s IWL occurs
more than once, the last occurrence prevails (i.e. TUFLOW or ESTRY
overwrites any previous IWL already set).</p>
<p>Differences in initial water levels for related features in the 1D and
2D domain can cause model instabilities at the start of a model
simulation. If your model becomes unstable in the first few timesteps,
review the initial water level values to ensure they are consistent in
both domains and also match the water level of any head boundaries that
they are be connected to.</p>
<table>
<caption>
<span id="tab:tab-WaterLevel">Table 8.15: </span><strong>1D Initial Water Level (1d_iwl) Attribute Descriptions</strong>
</caption>
<thead>
<tr>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
No
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Default GIS Attribute Name
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
IWL
</td>
<td style="text-align:left;">
Initial water level of object relative to model datum (m).
</td>
<td style="text-align:left;">
Float
</td>
</tr>
</tbody>
</table>
</div>
<div id="IWL-2D-4" class="section level4 hasAnchor" number="8.9.1.2">
<h4><span class="header-section-number">8.9.1.2</span> 2D Domains<a href="Boundaries-InitialConditions-1.html#IWL-2D-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>2D IWLs can be set globally as a constant using the <a href="TCFCommands-1.html#tcfSetIWL">Set IWL</a> (.tcf file) or <a href="TGCCommands-1.html#tgcSet">Set IWL</a> (.tgc file) commands. The default initial water level is zero metres above the model datum (or 0ft if <tcmd><a href="TCFCommands-1.html#tcfUnits">Units</a></tcmd><teq> == </teq><tblk> US Customary</tblk>). IWLs can also vary spatially using one or more GIS and/or grid layers. The (<a href="TCFCommands-1.html#tcfReadGISIWL">Read GIS IWL</a> can be read into both the .tcf or the .tgc, shown in <a href="https://wiki.tuflow.com/TUFLOW_Example_Models">Example Model</a> EG06_001. The <a href="TGCCommands-1.html#tgcReadGridIWL">Read Grid IWL</a>) can be read into the .tgc file, shown in <a href="https://wiki.tuflow.com/TUFLOW_Example_Models">Example Model</a> EG06_002. This is particularly useful for setting initial water levels in lakes, dams, etc.</p>
<p>The easiest way to set up a GIS IWL layer is to:</p>
<ol style="list-style-type: decimal">
<li>Create a 2d_iwl layer using an empty layer created by <a href="#tcfWriteEmptyMIFiles">Write Empty GIS Files</a>.<br />
</li>
<li>Digitise regions or points and assign each object an initial water level value.<br />
</li>
<li>Save the GIS layer.<br />
</li>
<li>Use the .tcf <a href="TCFCommands-1.html#tcfReadGISIWL">Read GIS IWL</a> command or tgc <a href="TGCCommands-1.html#tgcReadGISIWL">Read GIS IWL</a> command to read in the IWL values.</li>
</ol>
<p>The <a href="TGCCommands-1.html#tgcReadGridIWL">Read Grid IWL</a> .tgc command is used to read the IWL from a grid (.tif, .flt or .asc). This can be used to set the IWL based on the water level in a previous simulation, if TIF, FLT or ASC is specified in the <a href="TCFCommands-1.html#tcfMapOutputFormat">Map Output Format</a>. The results from one simulation can be directly read by another.</p>
<p>Any number of IWL layers may be used, noting that if a cell’s IWL occurs
more than once, the last occurrence prevails (i.e. TUFLOW overwrites any
previous IWL already set).</p>
<table>
<caption>
<span id="tab:tab-InitialWater">Table 8.16: </span><strong>2D Initial Water Level (2d_iwl) Attribute Descriptions</strong>
</caption>
<thead>
<tr>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
No
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Default GIS Attribute Name
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
IWL
</td>
<td style="text-align:left;">
Initial water level of object relative to model datum (m).
</td>
<td style="text-align:left;">
Float
</td>
</tr>
</tbody>
</table>
</div>
<div id="IWL-Auto-4" class="section level4 hasAnchor" number="8.9.1.3">
<h4><span class="header-section-number">8.9.1.3</span> Automatic Initial Water Level<a href="Boundaries-InitialConditions-1.html#IWL-Auto-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>It is possible to automatically set the model’s initial water level to the downstream boundary water level using
<tcmd><a href="TCFCommands-1.html#tcfSetIWL">Set IWL</a></tcmd><teq> == </teq><tblk>AUTO</tblk>. This command is very useful when performing a Monte Carlo assessment that requires a large number of simulations with each simulation having a unique initial water level!</p>
</div>
</div>
<div id="IGW-3" class="section level3 hasAnchor" number="8.9.2">
<h3><span class="header-section-number">8.9.2</span> Initial Groundwater Levels<a href="Boundaries-InitialConditions-1.html#IGW-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- EFC is confirming with PAR if this is the best spot for IWG commands. Need to confirm how to split this with the GWD/GWL vs IGW/IGD commands -->
<!--confirmed it is-->
<p>This section discusses available commands to set initial conditions in groundwater layers. As of the 2023-03 release, when using TUFLOW HPC, it is possible to have numerous groundwater layers in the vertical (see Section <a href="TwoD-Domains-1.html#HPC-Groundwater-3">7.4.5</a>). If using this functionality the initial water levels can also be set per layer by using ‘Layer N’. If using only one layer, the syntax may be either ‘Set IGW Depth’ or Set IGW Depth Layer 1’.</p>
<p>The initial water level in the groundwater layer(s) can be set globally in the .tgc using the following commands:</p>
<ul>
<li><a href="TGCCommands-1.html#tgcSetIGWDepth">Set IGW Depth [ {} | &lt;Layer N&gt; ]</a><br />
</li>
<li><a href="TGCCommands-1.html#tgcSetIGWLevel">Set IGW Level [ {} | &lt;Layer N&gt; ]</a></li>
</ul>
<p>They can also be set on a spatial basis using:</p>
<ul>
<li><a href="TGCCommands-1.html#tgcReadGISIGWDepth">Read GIS IGW Depth [ {} | &lt;Layer N&gt; ]</a><br />
</li>
<li><a href="TGCCommands-1.html#tgcReadGridIGWDepth">Read Grid IGW Depth [ {} | &lt;Layer N&gt; ]</a></li>
<li><a href="TGCCommands-1.html#tgcReadGISIGWLevel">Read GIS IGW Level [ {} | &lt;Layer N&gt; ]</a></li>
<li><a href="TGCCommands-1.html#tgcReadGridIGWLevel">Read Grid IGW Level [ {} | &lt;Layer N&gt; ]</a></li>
</ul>
<p>“IGW Depth” is assumed to be the depth of water in the soil (water content divided by porosity). “IGW Level” is assumed to be the level of the water table in each layer. If both methods are specified for a given grid cell, the highest initial condition will be adopted. The input units should be in meters or feet (if using <tcmd><a href="TCFCommands-1.html#tcfUnits">Units</a></tcmd><teq> == </teq><tblk> US Customary</tblk>). Note, the initial conditions do not automatically cascade into layers below (i.e. setting the initial water level in the top layer will not automatically set the layers below to be 100% saturated).</p>
<p>Setting the initial conditions in the .tgc for any given grid cell will override the “Initial Moisture” parameter set in the .tsoilf. The difference between the methods is that the .tsoilf sets the initial moisture by soil type, whereas setting the initial conditions in the .tgc allows spatial distribution. If no initial conditions are set in the .tgc for a given grid cell, the initial conditions will be determined by the “Initial Moisture” defined in the .tsoilf.</p>
<p>In previous releases, the groundwater initial conditions could be set using the following commands. For backward compatibility, it is still possible to use these commands, though only if using one groundwater (soil) layer in the vertical:</p>
<ul>
<li><a href="TGCCommands-1.html#tgcSetGWD">Set GWD</a> or <a href="TGCCommands-1.html#tgcSetGWL">Set GWL</a></li>
<li><a href="TGCCommands-1.html#tgcReadGISGWD">Read GIS GWD</a> or <a href="TGCCommands-1.html#tgcReadGISGWL">Read GIS GWL</a></li>
<li><a href="TGCCommands-1.html#tgcReadGridGWD">Read Grid GWD</a> or <a href="TGCCommands-1.html#tgcReadGridGWL">Read Grid GWL</a></li>
</ul>
<p>If the above commands are used with the multiple vertical layers (Convective layers), <a href="https://wiki.tuflow.com/TUFLOW_Message_2588">ERROR 2588</a> will be produced.</p>
<p>The groundwater feature may only be used in conjunction with at least one of the soils infiltration methods described in Section <a href="TwoD-Domains-1.html#Infiltration-2">7.3.7</a>. Consequently, the .tgc commands used to define the groundwater depth / level must be read in following (below) at least one of the commands used to define the soil type: <a href="TGCCommands-1.html#tgcSetSoil">Set Soil</a>, <a href="TGCCommands-1.html#tgcReadGISSoil">Read GIS Soil</a> or <a href="TGCCommands-1.html#tgcReadGridSoil">Read Grid Soil</a>.</p>
<!-- EFC to PAR: is the 2d_gw still used by set IGW commands? If so, assume I should move this to initial groundwater levels section?-->
<!-- yes-->
<table>
<caption>
<span id="tab:tab-Groundwater">Table 8.17: </span><strong>2D Groundwater (2d_gw) GIS Attribute Descriptions</strong>
</caption>
<thead>
<tr>
<th style="text-align:right;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
No. 
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Default GIS Attribute Name
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Groundwater
</td>
<td style="text-align:left;">
The ground water level in metres above datum (if using the command Read GIS GWL) or depth below ground surface in metres (if using the command Read GIS GWD) of the groundwater table at the start of the model simulation. The units are feet if using <tcmd><a href="TCFCommands-1.html#tcfUnits">Units</a></tcmd> <teq>==</teq><tblk> US Customary</tblk>.
</td>
<td style="text-align:left;">
Float
</td>
</tr>
</tbody>
</table>
</div>
<div id="RestartFiles-3" class="section level3 hasAnchor" number="8.9.3">
<h3><span class="header-section-number">8.9.3</span> Restart Files<a href="Boundaries-InitialConditions-1.html#RestartFiles-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Gradually varying water surface initial water level conditions are best defined using a restart file. This is achieved by running the model for a warm-up period prior to the main event to create a restart file which establishes the initial water levels and flow velocities. This is achieved using the following commands:</p>
<ul>
<li><a href="TCFCommands-1.html#tcfWriteRestartFileatTime">Write Restart File at Time</a>: Sets when to write the restart file in hours.</li>
<li><a href="TCFCommands-1.html#tcfWriteRestartFileInterval">Write Restart File Interval</a>: Sets the interval in hours between writing the restart file.</li>
<li><a href="TCFCommands-1.html#tcfReadRestartFile">Read Restart File</a>: Reads a restart file written from a previous simulation.</li>
<li><a href="TCFCommands-1.html#tcfWriteRestartFilename">Write Restart Filename</a>: Controls whether restart files are overwritten or are time-stamped.</li>
</ul>
<p>The 1D and 2D restart files use a .erf and .trf extension respectively and are written to the results folder.</p>
<p>The restart file contains information on the water levels, velocities and flow regimes for the 1D and 2D parts of the model. Therefore, the number of 2D cells and 1D channels must be the same between the original model and the model using the restart file. Permitted changes between runs could include different boundary conditions, cell elevation increases (cell elevation decreases may cause issue) and roughness values.</p>
<p>An example of writing and reading restart files is provided in <a href="https://wiki.tuflow.com/TUFLOW_Example_Models">Example Models</a> EG02_009 and EG06_004 respectively.</p>
<p>The 2023-03-AD build added functionality to allow restart data fields to be ignored. To specify which fields to ignore the command “<tcmd><a href="TCFCommands-1.html#tcfRestartFileIgnoreFields">Restart File Ignore Fields</a></tcmd> <teq> ==</teq>” can be set in the .tcf where the fields are any combination of:</p>
<ul>
<li>Geometry (elevations and Manning’s n values)</li>
<li>Groundwater (groundwater depths and groundwater tracer concentrations)</li>
<li>Maximum (scalar and vector maximums; both values and times, minimum timestep)</li>
<li>Rainfall (cumulative rainfall, cumulative rainfall material losses and cumulative cell wet time)</li>
<li>TimeOutputCutoff (Time Output Cutoff; time of first inundation and cumulative time inundated)</li>
<li>Tracer (surface and groundwater tracer concentrations)</li>
<li>Velocity (velocity and turbulence values)</li>
<li>WaterLevel (water level)</li>
</ul>
<p>For example: “<tcmd>Restart File Ignore Fields</tcmd><teq> == </teq><tblk>Geometry Groundwater</tblk>” will ignore the geometry and groundwater information in the restart file (for these, the values set in the control files are used).</p>
<p>By default (without the command above) the geometry information in the restart file is ignored and the .tgc information is used instead. See also <tcmd><a href="TCFCommands-1.html#tcfHPCRestartGeometry">HPC Restart Geometry</a></tcmd><teq> == </teq><tblk>Restart File | {TGC} </tblk> command. If the “<tcmd>Restart File Ignore Fields</tcmd> <teq>==</teq>” command is included, but does not include geometry then message “<a href="https://wiki.tuflow.com/TUFLOW_Message_2902">WARNING 2902</a> -‘Restart File Ignore Field’ does not include geometry, overwriting geometry in .tgc with restart file” is issued.</p>
<p>Note: Only one of “<tcmd><a href="TCFCommands-1.html#tcfRestartFileIgnoreFields">Restart File Ignore Fields</a></tcmd>” or “<tcmd><a href="TCFCommands-1.html#tcfHPCRestartGeometry">HPC Restart Geometry</a></tcmd>” should be used, an error is given if both commands are present in a control file.</p>
<p><img src="images/WQFooter.jpg" width="100%" /></p>

</div>
</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="1" line-spacing="2">
<div id="ref-Holland1980" class="csl-entry">
Holland, G. J. (1980). An Analytic Model of the Wind and Pressure Profiles in Hurricanes. <em>Monthly Weather Review</em>, <em>108</em>(8), 1212–1218. <a href="https://doi.org/10.1175/1520-0493(1980)108&lt;1212:AAMOTW&gt;2.0.CO;2">https://doi.org/10.1175/1520-0493(1980)108&lt;1212:AAMOTW&gt;2.0.CO;2</a>
</div>
<div id="ref-Kitts2020" class="csl-entry">
Kitts, D., Syme, W., Gao, S., Collecutt, G., &amp; Ryan, P. (2020). Mesh Orientation and Cell Size Sensitivity in 2D SWE Solvers. <em>IAHR River Flow Conference</em>. <a href="https://tuflow.com/media/5022/2020-mesh-orientation-and-cell-size-sensitivity-in-2d-swe-solvers-kitts-et-al-iahr-river-flow-delft.pdf">https://tuflow.com/media/5022/2020-mesh-orientation-and-cell-size-sensitivity-in-2d-swe-solvers-kitts-et-al-iahr-river-flow-delft.pdf</a>
</div>
<div id="ref-QG2001" class="csl-entry">
Queensland Government. (2001). <em>Queensland Climate Change and Community Vulnerability to Tropical Cyclones - Ocean Hazrds Assessment</em>. <a href="https://www.systemsengineeringaustralia.com.au/download/Ocean_Hazards_Assess_Stage1A_revised.pdf">https://www.systemsengineeringaustralia.com.au/download/Ocean_Hazards_Assess_Stage1A_revised.pdf</a>
</div>
<div id="ref-Ryan2022" class="csl-entry">
Ryan, P., Syme, W., Gao, S., &amp; Collecutt, G. (2022). Irect Rainfall Hydraulic Model Validation. <em>Hydrology &amp; Water Resources Symposium</em>. <a href="https://www.tuflow.com/media/7545/2022-direct-rainfall-hydraulic-model-validation-ryan-et-al-hwrs.pdf">https://www.tuflow.com/media/7545/2022-direct-rainfall-hydraulic-model-validation-ryan-et-al-hwrs.pdf</a>
</div>
<div id="ref-Wu1980" class="csl-entry">
Wu, J. (1980). Wind-Stress Coefficients over Sea Surface Near Neutral Conditions—a Revisit. <em>Journal of Physical Oceanography</em>, <em>Vol. 10</em>(5), pp. 727–740. https://doi.org/<a href="https://doi.org/10.1175/1520-0485(1980)010&lt;0727:WSCOSS&gt;2.0.CO;2">https://doi.org/10.1175/1520-0485(1980)010&lt;0727:WSCOSS&gt;2.0.CO;2</a>
</div>
<div id="ref-Wu1982" class="csl-entry">
Wu, J. (1982). Wind-Stress Coefficients over Sea Surface from Breeze to Hurricane. <em>Journal of Geophysical Research</em>, <em>Vol. 87</em>(C12), pp. 9704–9706. https://doi.org/<a href="https://doi.org/10.1029/JC087iC12p09704">https://doi.org/10.1029/JC087iC12p09704</a>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="TwoD-Domains-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="AD-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": false,
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
