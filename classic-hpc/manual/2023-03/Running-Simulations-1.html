<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 13 Managing and Starting Simulations | TUFLOW Classic/HPC User Manual 2023-03</title>
  <meta name="description" content="Section 13 Managing and Starting Simulations | TUFLOW Classic/HPC User Manual 2023-03" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 13 Managing and Starting Simulations | TUFLOW Classic/HPC User Manual 2023-03" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://docs.tuflow.com/classic-hpc/manual/2023-03/images/TUFLOW_Manual_SEO_006.PNG" />
  <meta property="og:description" content="Section 13 Managing and Starting Simulations | TUFLOW Classic/HPC User Manual 2023-03" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 13 Managing and Starting Simulations | TUFLOW Classic/HPC User Manual 2023-03" />
  
  <meta name="twitter:description" content="Section 13 Managing and Starting Simulations | TUFLOW Classic/HPC User Manual 2023-03" />
  <meta name="twitter:image" content="https://docs.tuflow.com/classic-hpc/manual/2023-03/images/TUFLOW_Manual_SEO_006.PNG" />

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/TUFLOW.ico" type="image/x-icon" />
<link rel="prev" href="Hardware-1.html"/>
<link rel="next" href="Checks-and-Logs-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 1em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css\style.css" type="text/css" />
<link rel="stylesheet" href="css\toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://docs.tuflow.com/classic-hpc/manual/2023-03/"><img src="images/TUFLOW-Manual-2023-03.png" style="width:270px" ></a></li>

<li class="divider"></li>
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i>Overview</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#how-to-use-this-manual"><i class="fa fa-check"></i>How to use this Manual</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#navigation"><i class="fa fa-check"></i>Navigation</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#searching"><i class="fa fa-check"></i>Searching</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#about-this-manual"><i class="fa fa-check"></i>About this Manual</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#glossary-and-notation"><i class="fa fa-check"></i>Glossary and Notation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="contents.html"><a href="contents.html"><i class="fa fa-check"></i>Contents</a>
<ul>
<li class="chapter" data-level="" data-path="contents.html"><a href="contents.html#list-of-figures"><i class="fa fa-check"></i>List of Figures</a></li>
<li class="chapter" data-level="" data-path="contents.html"><a href="contents.html#list-of-tables"><i class="fa fa-check"></i>List of Tables</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Introduction-1.html"><a href="Introduction-1.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="Introduction-1.html"><a href="Introduction-1.html#TUFLOWProducts-2"><i class="fa fa-check"></i><b>1.1</b> TUFLOW Products</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="Introduction-1.html"><a href="Introduction-1.html#TUFLOW-CLA-3"><i class="fa fa-check"></i><b>1.1.1</b> TUFLOW Classic – 2D Semi-Implicit Solver</a></li>
<li class="chapter" data-level="1.1.2" data-path="Introduction-1.html"><a href="Introduction-1.html#TUFLOW-HPC-3"><i class="fa fa-check"></i><b>1.1.2</b> TUFLOW HPC – 2D GPU Accelerated Solver</a></li>
<li class="chapter" data-level="1.1.3" data-path="Introduction-1.html"><a href="Introduction-1.html#TUFLOW1D-3"><i class="fa fa-check"></i><b>1.1.3</b> TUFLOW 1D (ESTRY) – 1D Solver</a></li>
<li class="chapter" data-level="1.1.4" data-path="Introduction-1.html"><a href="Introduction-1.html#SWMM1D-3"><i class="fa fa-check"></i><b>1.1.4</b> EPA SWMM – 1D Solver</a></li>
<li class="chapter" data-level="1.1.5" data-path="Introduction-1.html"><a href="Introduction-1.html#AddonModules-3"><i class="fa fa-check"></i><b>1.1.5</b> Add-on Modules</a>
<ul>
<li class="chapter" data-level="1.1.5.1" data-path="Introduction-1.html"><a href="Introduction-1.html#ADModule-4"><i class="fa fa-check"></i><b>1.1.5.1</b> Advection Dispersion (AD) Module</a></li>
<li class="chapter" data-level="1.1.5.2" data-path="Introduction-1.html"><a href="Introduction-1.html#TUFLOWCATCH-4"><i class="fa fa-check"></i><b>1.1.5.2</b> TUFLOW CATCH Module</a></li>
<li class="chapter" data-level="1.1.5.3" data-path="Introduction-1.html"><a href="Introduction-1.html#GPUHardware-4"><i class="fa fa-check"></i><b>1.1.5.3</b> GPU Hardware (GPU) Module</a></li>
<li class="chapter" data-level="1.1.5.4" data-path="Introduction-1.html"><a href="Introduction-1.html#QDTorM2DModule-4"><i class="fa fa-check"></i><b>1.1.5.4</b> Quadtree or Multiple 2D Domain (M2D) Module</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="Introduction-1.html"><a href="Introduction-1.html#TUFLOWWebinars-2"><i class="fa fa-check"></i><b>1.2</b> TUFLOW Webinars</a></li>
<li class="chapter" data-level="1.3" data-path="Introduction-1.html"><a href="Introduction-1.html#ModellingEnvironment-2"><i class="fa fa-check"></i><b>1.3</b> Modelling Environment</a></li>
<li class="chapter" data-level="1.4" data-path="Introduction-1.html"><a href="Introduction-1.html#LimitationsandRecommendations-2"><i class="fa fa-check"></i><b>1.4</b> Limitations and Recommendations</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a>
<ul>
<li class="chapter" data-level="2.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#HowtoBuildYourFirstModel-2"><i class="fa fa-check"></i><b>2.1</b> How to Build Your First Model</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#TutorialModels-3"><i class="fa fa-check"></i><b>2.1.1</b> Tutorial Models</a></li>
<li class="chapter" data-level="2.1.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#ExampleModels-3"><i class="fa fa-check"></i><b>2.1.2</b> Example Models</a></li>
<li class="chapter" data-level="2.1.3" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#DemonstrationModels-3"><i class="fa fa-check"></i><b>2.1.3</b> Demonstration Models</a></li>
<li class="chapter" data-level="2.1.4" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#LicenceFreeDemoMode-3"><i class="fa fa-check"></i><b>2.1.4</b> Licence Free Demo Mode</a></li>
<li class="chapter" data-level="2.1.5" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#eLearningModules-3"><i class="fa fa-check"></i><b>2.1.5</b> eLearning Modules</a></li>
<li class="chapter" data-level="2.1.6" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#InstructorLedTUFLOWTrainingCourses-3"><i class="fa fa-check"></i><b>2.1.6</b> Instructor Led TUFLOW Training Courses</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#TheTUFLOWModellingConcept-2"><i class="fa fa-check"></i><b>2.2</b> The TUFLOW Modelling Concept</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#Notepad-3"><i class="fa fa-check"></i><b>2.2.1</b> Notepad++</a></li>
<li class="chapter" data-level="2.2.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#QGISTUFLOWViewer-3"><i class="fa fa-check"></i><b>2.2.2</b> QGIS / TUFLOW Viewer</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#InstallingandRunningTUFLOW-2"><i class="fa fa-check"></i><b>2.3</b> Installing and Running TUFLOW</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#TUFLOWDownloadsandInstallation-3"><i class="fa fa-check"></i><b>2.3.1</b> TUFLOW Downloads and Installation</a></li>
<li class="chapter" data-level="2.3.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#Licencing-3"><i class="fa fa-check"></i><b>2.3.2</b> Licencing</a></li>
<li class="chapter" data-level="2.3.3" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#PerformingSimulations-3"><i class="fa fa-check"></i><b>2.3.3</b> Performing Simulations</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#FoldersFileTypesandFileNaming-2"><i class="fa fa-check"></i><b>2.4</b> Folders, File Types and File Naming</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#FolderStructure-3"><i class="fa fa-check"></i><b>2.4.1</b> Folder Structure</a></li>
<li class="chapter" data-level="2.4.2" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#FileTypes-3"><i class="fa fa-check"></i><b>2.4.2</b> File Types</a></li>
<li class="chapter" data-level="2.4.3" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#NamingConventions-3"><i class="fa fa-check"></i><b>2.4.3</b> Naming Conventions</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="GettingStarted-1.html"><a href="GettingStarted-1.html#TipsandTricks-2"><i class="fa fa-check"></i><b>2.5</b> Tips and Tricks</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html"><i class="fa fa-check"></i><b>3</b> Hydraulic Modelling Fundamentals</a>
<ul>
<li class="chapter" data-level="3.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#Fundaments-Introduction-2"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#Schematisation-2"><i class="fa fa-check"></i><b>3.2</b> Schematisation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#GeneralGuidance-3"><i class="fa fa-check"></i><b>3.2.1</b> General Guidance</a></li>
<li class="chapter" data-level="3.2.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#id_1D2Dor3D-3"><i class="fa fa-check"></i><b>3.2.2</b> Model Dimensions: 1D, 2D or 3D?</a>
<ul>
<li class="chapter" data-level="3.2.2.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#one-dimensional-1d"><i class="fa fa-check"></i><b>3.2.2.1</b> One Dimensional (1D)</a></li>
<li class="chapter" data-level="3.2.2.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#two-dimensional-2d"><i class="fa fa-check"></i><b>3.2.2.2</b> Two Dimensional (2D)</a></li>
<li class="chapter" data-level="3.2.2.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#three-dimensional-3d"><i class="fa fa-check"></i><b>3.2.2.3</b> Three Dimensional (3D)</a></li>
</ul></li>
<li class="chapter" data-level="3.2.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#Coupled1D2D-3"><i class="fa fa-check"></i><b>3.2.3</b> Coupled 1D-2D</a></li>
<li class="chapter" data-level="3.2.4" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FixedGridorQuadtreeGrid-3"><i class="fa fa-check"></i><b>3.2.4</b> Quadtree Grid</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#ModelResolutionDiscretisation-2"><i class="fa fa-check"></i><b>3.3</b> Model Resolution (Discretisation)</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#id_1DNetworks-3"><i class="fa fa-check"></i><b>3.3.1</b> 1D Networks</a></li>
<li class="chapter" data-level="3.3.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#CellSizes-3"><i class="fa fa-check"></i><b>3.3.2</b> 2D Cell Sizes</a></li>
<li class="chapter" data-level="3.3.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#SubGridSamplingSGS-3"><i class="fa fa-check"></i><b>3.3.3</b> Sub-Grid Sampling (SGS)</a>
<ul>
<li class="chapter" data-level="3.3.3.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#SGS-benefits-4"><i class="fa fa-check"></i><b>3.3.3.1</b> Benefits of SGS</a></li>
</ul></li>
<li class="chapter" data-level="3.3.4" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#CellSizeResultsConvergence-3"><i class="fa fa-check"></i><b>3.3.4</b> Cell Size Results Convergence</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#SolutionAccuracy-2"><i class="fa fa-check"></i><b>3.4</b> Solution Accuracy</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FluidFlowPhysicalTerms-3"><i class="fa fa-check"></i><b>3.4.1</b> Fluid Flow Physical Terms</a>
<ul>
<li class="chapter" data-level="3.4.1.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#d-continuity-equation"><i class="fa fa-check"></i><b>3.4.1.1</b> 1D Continuity Equation</a></li>
<li class="chapter" data-level="3.4.1.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#d-momentum-equation"><i class="fa fa-check"></i><b>3.4.1.2</b> 1D Momentum Equation</a></li>
<li class="chapter" data-level="3.4.1.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#d-continuity-equation-1"><i class="fa fa-check"></i><b>3.4.1.3</b> 2D Continuity Equation</a></li>
<li class="chapter" data-level="3.4.1.4" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#d-momentum-equation-1"><i class="fa fa-check"></i><b>3.4.1.4</b> 2D Momentum Equation</a></li>
</ul></li>
<li class="chapter" data-level="3.4.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FormsoftheEquations-3"><i class="fa fa-check"></i><b>3.4.2</b> Forms of the Equations</a>
<ul>
<li class="chapter" data-level="3.4.2.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#diffusive-wave-equation"><i class="fa fa-check"></i><b>3.4.2.1</b> Diffusive Wave Equation</a></li>
<li class="chapter" data-level="3.4.2.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#kinematic-wave-equation"><i class="fa fa-check"></i><b>3.4.2.2</b> Kinematic Wave Equation</a></li>
</ul></li>
<li class="chapter" data-level="3.4.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#NumericalAccuracy-3"><i class="fa fa-check"></i><b>3.4.3</b> Numerical Accuracy</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#TimestepBackground-2"><i class="fa fa-check"></i><b>3.5</b> Timestep</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#FixedVersusAdaptiveTimestepping-3"><i class="fa fa-check"></i><b>3.5.1</b> Fixed versus Adaptive Timestepping</a></li>
<li class="chapter" data-level="3.5.2" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#OneDDomainsTimestep-3"><i class="fa fa-check"></i><b>3.5.2</b> TUFLOW 1D (ESTRY) and EPA SWMM</a></li>
<li class="chapter" data-level="3.5.3" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#TUFLOWClassicTimestep-3"><i class="fa fa-check"></i><b>3.5.3</b> TUFLOW Classic 2D</a></li>
<li class="chapter" data-level="3.5.4" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#TUFLOWHPCTimestep-3"><i class="fa fa-check"></i><b>3.5.4</b> TUFLOW HPC 2D</a>
<ul>
<li class="chapter" data-level="3.5.4.1" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#TimesteppingEfficiencyOutput-4"><i class="fa fa-check"></i><b>3.5.4.1</b> Timestep Efficiency Output</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="Fundamentals-1.html"><a href="Fundamentals-1.html#SimulationTimes-2"><i class="fa fa-check"></i><b>3.6</b> Simulation Times</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html"><i class="fa fa-check"></i><b>4</b> Control Files and Input Layers</a>
<ul>
<li class="chapter" data-level="4.1" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#control-files"><i class="fa fa-check"></i><b>4.2</b> Control Files</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Notation-3"><i class="fa fa-check"></i><b>4.2.1</b> Rules and Notation</a></li>
<li class="chapter" data-level="4.2.2" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#FilePath-3"><i class="fa fa-check"></i><b>4.2.2</b> File Paths</a></li>
<li class="chapter" data-level="4.2.3" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Units-3"><i class="fa fa-check"></i><b>4.2.3</b> Units</a></li>
<li class="chapter" data-level="4.2.4" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TCF-3"><i class="fa fa-check"></i><b>4.2.4</b> TCF</a></li>
<li class="chapter" data-level="4.2.5" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#ECF-3"><i class="fa fa-check"></i><b>4.2.5</b> ECF</a></li>
<li class="chapter" data-level="4.2.6" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TBC-3"><i class="fa fa-check"></i><b>4.2.6</b> TBC</a></li>
<li class="chapter" data-level="4.2.7" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TGC-3"><i class="fa fa-check"></i><b>4.2.7</b> TGC</a></li>
<li class="chapter" data-level="4.2.8" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#QCF-3"><i class="fa fa-check"></i><b>4.2.8</b> QCF</a></li>
<li class="chapter" data-level="4.2.9" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TEF-3"><i class="fa fa-check"></i><b>4.2.9</b> TEF</a></li>
<li class="chapter" data-level="4.2.10" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TOC-3"><i class="fa fa-check"></i><b>4.2.10</b> TOC</a></li>
<li class="chapter" data-level="4.2.11" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TRFC-3"><i class="fa fa-check"></i><b>4.2.11</b> TRFC</a></li>
<li class="chapter" data-level="4.2.12" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TESF-3"><i class="fa fa-check"></i><b>4.2.12</b> TESF</a></li>
<li class="chapter" data-level="4.2.13" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#ADCF-3"><i class="fa fa-check"></i><b>4.2.13</b> ADCF</a></li>
<li class="chapter" data-level="4.2.14" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TSCF-3"><i class="fa fa-check"></i><b>4.2.14</b> TSCF</a></li>
<li class="chapter" data-level="4.2.15" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#ReadFile-3"><i class="fa fa-check"></i><b>4.2.15</b> Read File</a></li>
<li class="chapter" data-level="4.2.16" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Override-3"><i class="fa fa-check"></i><b>4.2.16</b> Override Files</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Databases-2"><i class="fa fa-check"></i><b>4.3</b> Databases</a></li>
<li class="chapter" data-level="4.4" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GISLayers-2"><i class="fa fa-check"></i><b>4.4</b> Input Layers</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GISFormats-3"><i class="fa fa-check"></i><b>4.4.1</b> Input Formats</a></li>
<li class="chapter" data-level="4.4.2" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GISCommands-3"><i class="fa fa-check"></i><b>4.4.2</b> GIS Commands</a>
<ul>
<li class="chapter" data-level="4.4.2.1" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Attributes-4"><i class="fa fa-check"></i><b>4.4.2.1</b> GIS Attribute Interpretation</a></li>
<li class="chapter" data-level="4.4.2.2" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#Objects-4"><i class="fa fa-check"></i><b>4.4.2.2</b> GIS Object Interpretation</a></li>
</ul></li>
<li class="chapter" data-level="4.4.3" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GPKG-3"><i class="fa fa-check"></i><b>4.4.3</b> GeoPackage Commands</a>
<ul>
<li class="chapter" data-level="4.4.3.1" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GPKG-input-4"><i class="fa fa-check"></i><b>4.4.3.1</b> GPKG Input Commands</a></li>
<li class="chapter" data-level="4.4.3.2" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GPKG-output-4"><i class="fa fa-check"></i><b>4.4.3.2</b> GPKG Output Commands</a></li>
</ul></li>
<li class="chapter" data-level="4.4.4" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#GRID-3"><i class="fa fa-check"></i><b>4.4.4</b> Grid Commands</a></li>
<li class="chapter" data-level="4.4.5" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#TIN-3"><i class="fa fa-check"></i><b>4.4.5</b> TIN Commands</a></li>
<li class="chapter" data-level="4.4.6" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#RowCol-3"><i class="fa fa-check"></i><b>4.4.6</b> RowCol Commands (Legacy)</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#LayeringData-2"><i class="fa fa-check"></i><b>4.5</b> Layering Data</a></li>
<li class="chapter" data-level="4.6" data-path="ControlFiles-and-Inputs-1.html"><a href="ControlFiles-and-Inputs-1.html#XF-Files-2"><i class="fa fa-check"></i><b>4.6</b> XF Files</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html"><i class="fa fa-check"></i><b>5</b> 1D Network Domains - ESTRY</a>
<ul>
<li class="chapter" data-level="5.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#OneD-Introduction-2"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Scheme-2"><i class="fa fa-check"></i><b>5.2</b> Schematisation</a></li>
<li class="chapter" data-level="5.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#SolutionScheme-2"><i class="fa fa-check"></i><b>5.3</b> Solution Scheme</a></li>
<li class="chapter" data-level="5.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#OneD-nwk-2"><i class="fa fa-check"></i><b>5.4</b> 1d_nwk Attributes</a></li>
<li class="chapter" data-level="5.5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Channel-Intro-2"><i class="fa fa-check"></i><b>5.5</b> Channels Overview</a></li>
<li class="chapter" data-level="5.6" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Open-Channel-2"><i class="fa fa-check"></i><b>5.6</b> Open Channels</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#I-channels-3"><i class="fa fa-check"></i><b>5.6.1</b> Inertial Channels</a></li>
<li class="chapter" data-level="5.6.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#NI-channels-3"><i class="fa fa-check"></i><b>5.6.2</b> Non-Inertial Channels</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#XS-2"><i class="fa fa-check"></i><b>5.7</b> Cross-Sections</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#XS-flags-3"><i class="fa fa-check"></i><b>5.7.1</b> Type “XZ” Optional Flags</a>
<ul>
<li class="chapter" data-level="5.7.1.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#RR-4"><i class="fa fa-check"></i><b>5.7.1.1</b> Relative Resistance</a></li>
</ul></li>
<li class="chapter" data-level="5.7.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#HW-flags-3"><i class="fa fa-check"></i><b>5.7.2</b> Type “HW” Optional Flags</a>
<ul>
<li class="chapter" data-level="5.7.2.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#HW-A-4"><i class="fa fa-check"></i><b>5.7.2.1</b> Flow Area (A)</a></li>
<li class="chapter" data-level="5.7.2.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#HW-P-4"><i class="fa fa-check"></i><b>5.7.2.2</b> Wetted Perimeter (P)</a></li>
<li class="chapter" data-level="5.7.2.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#HW-N-4"><i class="fa fa-check"></i><b>5.7.2.3</b> Manning’s n Values (N)</a></li>
<li class="chapter" data-level="5.7.2.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#HW-F-4"><i class="fa fa-check"></i><b>5.7.2.4</b> Manning’s n Values (F)</a></li>
</ul></li>
<li class="chapter" data-level="5.7.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Parallel-Channel-3"><i class="fa fa-check"></i><b>5.7.3</b> Parallel Channel Analysis</a></li>
<li class="chapter" data-level="5.7.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Eff-vs-Total-3"><i class="fa fa-check"></i><b>5.7.4</b> Effective Area versus Total Area</a></li>
<li class="chapter" data-level="5.7.5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#XS-Mid-3"><i class="fa fa-check"></i><b>5.7.5</b> Mid Cross-Sections</a></li>
<li class="chapter" data-level="5.7.6" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#XS-End-3"><i class="fa fa-check"></i><b>5.7.6</b> End Cross-Sections</a></li>
<li class="chapter" data-level="5.7.7" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Interpolate-XS-3"><i class="fa fa-check"></i><b>5.7.7</b> Interpolated Cross-Section Protocols</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Structures-2"><i class="fa fa-check"></i><b>5.8</b> Structures</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#culverts-pipes-3"><i class="fa fa-check"></i><b>5.8.1</b> Culverts and Pipes</a>
<ul>
<li class="chapter" data-level="5.8.1.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Blockage-4"><i class="fa fa-check"></i><b>5.8.1.1</b> Blockage Matrix</a></li>
<li class="chapter" data-level="5.8.1.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#id_-4"><i class="fa fa-check"></i><b>5.8.1.2</b> Limitations</a></li>
</ul></li>
<li class="chapter" data-level="5.8.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Bridges-3"><i class="fa fa-check"></i><b>5.8.2</b> Bridges</a>
<ul>
<li class="chapter" data-level="5.8.2.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#BridgeIntro-4"><i class="fa fa-check"></i><b>5.8.2.1</b> Bridges Overview</a></li>
<li class="chapter" data-level="5.8.2.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#XSLoss-4"><i class="fa fa-check"></i><b>5.8.2.2</b> Bridge Cross-Section and Loss Tables</a></li>
<li class="chapter" data-level="5.8.2.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#B-Bridge-4"><i class="fa fa-check"></i><b>5.8.2.3</b> B Bridge Losses Approach</a></li>
<li class="chapter" data-level="5.8.2.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#BB-Bridge-4"><i class="fa fa-check"></i><b>5.8.2.4</b> BB Bridge Losses Approach</a></li>
</ul></li>
<li class="chapter" data-level="5.8.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#BArch-3"><i class="fa fa-check"></i><b>5.8.3</b> Arch Bridge</a>
<ul>
<li class="chapter" data-level="5.8.3.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#BArch-Editor-4"><i class="fa fa-check"></i><b>5.8.3.1</b> Arch Bridge Editor</a></li>
<li class="chapter" data-level="5.8.3.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#BArch-Min-Blc-4"><i class="fa fa-check"></i><b>5.8.3.2</b> Arch Minimum Blockage</a></li>
</ul></li>
<li class="chapter" data-level="5.8.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Weir-3"><i class="fa fa-check"></i><b>5.8.4</b> Weirs</a>
<ul>
<li class="chapter" data-level="5.8.4.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Weir-Intro-4"><i class="fa fa-check"></i><b>5.8.4.1</b> Weirs Overview</a></li>
<li class="chapter" data-level="5.8.4.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#W-Weir-4"><i class="fa fa-check"></i><b>5.8.4.2</b> Original Weirs (W)</a></li>
<li class="chapter" data-level="5.8.4.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Adv-Weir-4"><i class="fa fa-check"></i><b>5.8.4.3</b> Advanced Weirs (WB, WC, WD, WO, WR, WT, WV, WW)</a></li>
<li class="chapter" data-level="5.8.4.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Submerge-4"><i class="fa fa-check"></i><b>5.8.4.4</b> Advanced Weir Submergence Curves</a></li>
<li class="chapter" data-level="5.8.4.5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Auto-Weir-4"><i class="fa fa-check"></i><b>5.8.4.5</b> Automatically Created Weirs</a></li>
<li class="chapter" data-level="5.8.4.6" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#VW-Channel-4"><i class="fa fa-check"></i><b>5.8.4.6</b> VW Channels (Variable Geometry Weir)</a></li>
</ul></li>
<li class="chapter" data-level="5.8.5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#SP-3"><i class="fa fa-check"></i><b>5.8.5</b> Spillways (SP)</a></li>
<li class="chapter" data-level="5.8.6" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#SG-3"><i class="fa fa-check"></i><b>5.8.6</b> Sluice Gates (SG)</a></li>
<li class="chapter" data-level="5.8.7" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#LossAdjustment-3"><i class="fa fa-check"></i><b>5.8.7</b> Adjustment of Contraction and Expansion Losses</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Special-Channels-2"><i class="fa fa-check"></i><b>5.9</b> Special Channels</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#M-Channel-3"><i class="fa fa-check"></i><b>5.9.1</b> M Channels (User Defined Flow Matrix)</a></li>
<li class="chapter" data-level="5.9.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Q-Channels-3"><i class="fa fa-check"></i><b>5.9.2</b> Q Channels (Upstream Depth-Discharge Relationship)</a></li>
<li class="chapter" data-level="5.9.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#XConnect-3"><i class="fa fa-check"></i><b>5.9.3</b> X Connectors</a></li>
<li class="chapter" data-level="5.9.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Legacy-Channel-3"><i class="fa fa-check"></i><b>5.9.4</b> Legacy Channels</a></li>
<li class="chapter" data-level="5.9.5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#OneD-nwk-3"><i class="fa fa-check"></i><b>5.9.5</b> 1d_nwk Attributes (M, P, Q, SG, SP Channels)</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#OperationalChannels-2"><i class="fa fa-check"></i><b>5.10</b> Operational Channels</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#TOC-Logic-3"><i class="fa fa-check"></i><b>5.10.1</b> .toc File Commands and Logic</a>
<ul>
<li class="chapter" data-level="5.10.1.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#TOC-Define-4"><i class="fa fa-check"></i><b>5.10.1.1</b> Define Control Command</a></li>
<li class="chapter" data-level="5.10.1.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#UserDef-4"><i class="fa fa-check"></i><b>5.10.1.2</b> User Defined Variables</a></li>
<li class="chapter" data-level="5.10.1.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Logic-4"><i class="fa fa-check"></i><b>5.10.1.3</b> Logic Rules</a></li>
<li class="chapter" data-level="5.10.1.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Increment-Operate-4"><i class="fa fa-check"></i><b>5.10.1.4</b> Incremental Operators</a></li>
</ul></li>
<li class="chapter" data-level="5.10.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Pumps-3"><i class="fa fa-check"></i><b>5.10.2</b> Pumps (P and PO)</a></li>
<li class="chapter" data-level="5.10.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#QO-3"><i class="fa fa-check"></i><b>5.10.3</b> QO Channels</a></li>
<li class="chapter" data-level="5.10.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#RO-3"><i class="fa fa-check"></i><b>5.10.4</b> Gated Drowned Rectangular Culverts (RO)</a></li>
<li class="chapter" data-level="5.10.5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#SG-SGO-3"><i class="fa fa-check"></i><b>5.10.5</b> Sluice Gates (SG and SGO)</a></li>
<li class="chapter" data-level="5.10.6" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#SPO-3"><i class="fa fa-check"></i><b>5.10.6</b> Spillways with Gates (SPO)</a></li>
<li class="chapter" data-level="5.10.7" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Weirs-Operational-3"><i class="fa fa-check"></i><b>5.10.7</b> Weirs (WBO, WCO, WDO, WOO, WRO, WTO)</a></li>
<li class="chapter" data-level="5.10.8" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#PFDF-3"><i class="fa fa-check"></i><b>5.10.8</b> Piping and Dam Failure</a>
<ul>
<li class="chapter" data-level="5.10.8.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#PF-4"><i class="fa fa-check"></i><b>5.10.8.1</b> Piping Failure (PF)</a></li>
<li class="chapter" data-level="5.10.8.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#DF-4"><i class="fa fa-check"></i><b>5.10.8.2</b> Dam Failure (DF)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Pipes-2"><i class="fa fa-check"></i><b>5.11</b> Pipe Networks</a>
<ul>
<li class="chapter" data-level="5.11.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Pipes-3"><i class="fa fa-check"></i><b>5.11.1</b> Pipes</a></li>
<li class="chapter" data-level="5.11.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Pits-3"><i class="fa fa-check"></i><b>5.11.2</b> Pits</a>
<ul>
<li class="chapter" data-level="5.11.2.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#OneD-pit-nwk-4"><i class="fa fa-check"></i><b>5.11.2.1</b> 1d_nwk Pits</a></li>
<li class="chapter" data-level="5.11.2.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#OneD-pit-4"><i class="fa fa-check"></i><b>5.11.2.2</b> 1d_pit Pits</a></li>
<li class="chapter" data-level="5.11.2.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Conn-Pits-Nds-4"><i class="fa fa-check"></i><b>5.11.2.3</b> Connecting Pits and Nodes to 2D Domains</a></li>
</ul></li>
<li class="chapter" data-level="5.11.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#DD-Database-3"><i class="fa fa-check"></i><b>5.11.3</b> Pit Inlet and Depth/Stage vs Discharge Databases</a>
<ul>
<li class="chapter" data-level="5.11.3.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Xfall-4"><i class="fa fa-check"></i><b>5.11.3.1</b> Road Crossfall Options</a></li>
</ul></li>
<li class="chapter" data-level="5.11.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Manholes-3"><i class="fa fa-check"></i><b>5.11.4</b> Manholes</a>
<ul>
<li class="chapter" data-level="5.11.4.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Auto-MH-4"><i class="fa fa-check"></i><b>5.11.4.1</b> Automatically Assigned Manholes</a></li>
<li class="chapter" data-level="5.11.4.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#OneD-mh-4"><i class="fa fa-check"></i><b>5.11.4.2</b> Manually Assigned Manholes (1d_mh Layer)</a></li>
<li class="chapter" data-level="5.11.4.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#mh-direction-4"><i class="fa fa-check"></i><b>5.11.4.3</b> Digitising Culverts Connected to Manholes</a></li>
<li class="chapter" data-level="5.11.4.4" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Engelund-4"><i class="fa fa-check"></i><b>5.11.4.4</b> Engelund Manhole Loss Approach</a></li>
<li class="chapter" data-level="5.11.4.5" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#FixedLoss-4"><i class="fa fa-check"></i><b>5.11.4.5</b> Fixed Manhole Loss Approach</a></li>
<li class="chapter" data-level="5.11.4.6" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#JunctionLoss-4"><i class="fa fa-check"></i><b>5.11.4.6</b> Discussion on Approaches to Modelling Pipe Junction Losses</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5.12" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Virtual-Pipes-2"><i class="fa fa-check"></i><b>5.12</b> Virtual Pipes</a></li>
<li class="chapter" data-level="5.13" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Nodes-2"><i class="fa fa-check"></i><b>5.13</b> Nodes</a>
<ul>
<li class="chapter" data-level="5.13.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Auto-Node-3"><i class="fa fa-check"></i><b>5.13.1</b> Automatically Defined Nodes</a>
<ul>
<li class="chapter" data-level="5.13.1.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#AutoStorageWidths-4"><i class="fa fa-check"></i><b>5.13.1.1</b> Storage Calculated Automatically from Channel Widths</a></li>
<li class="chapter" data-level="5.13.1.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#AutoStorageANA-4"><i class="fa fa-check"></i><b>5.13.1.2</b> Additional Storage Added from Len_or_ANA Attribute</a></li>
</ul></li>
<li class="chapter" data-level="5.13.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Manual-Node-3"><i class="fa fa-check"></i><b>5.13.2</b> Manually Defined Nodes</a>
<ul>
<li class="chapter" data-level="5.13.2.1" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#NA-Table-4"><i class="fa fa-check"></i><b>5.13.2.1</b> Storage Nodes (User Defined NA Tables)</a></li>
<li class="chapter" data-level="5.13.2.2" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#channel-invert-4"><i class="fa fa-check"></i><b>5.13.2.2</b> Using Nodes to Define Channel Inverts</a></li>
<li class="chapter" data-level="5.13.2.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Nd-Auto-Conn-4"><i class="fa fa-check"></i><b>5.13.2.3</b> Automatically Connecting Nodes to 2D domains</a></li>
</ul></li>
<li class="chapter" data-level="5.13.3" data-path="OneD-Domains-1.html"><a href="OneD-Domains-1.html#Obvert-3"><i class="fa fa-check"></i><b>5.13.3</b> Storage Above Top of Channels</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html"><i class="fa fa-check"></i><b>6</b> 1D Network Domains - EPA SWMM</a>
<ul>
<li class="chapter" data-level="6.1" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMM-Introduction-2"><i class="fa fa-check"></i><b>6.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#TUFLOW-SWMM-Capabilities-3"><i class="fa fa-check"></i><b>6.1.1</b> TUFLOW-SWMM Capabilities</a></li>
<li class="chapter" data-level="6.1.2" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMM-UserResources-3"><i class="fa fa-check"></i><b>6.1.2</b> Additional SWMM User Resources</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#ModelSetup-2"><i class="fa fa-check"></i><b>6.2</b> Model Setup</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SwmmModel-3"><i class="fa fa-check"></i><b>6.2.1</b> SWMM Model</a></li>
<li class="chapter" data-level="6.2.2" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#TUFLOW-SWMM_Simulations-4"><i class="fa fa-check"></i><b>6.2.2</b> TUFLOW-SWMM Model Simulation</a></li>
<li class="chapter" data-level="6.2.3" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMM_ESTRY_Linking-3"><i class="fa fa-check"></i><b>6.2.3</b> Linking SWMM to TUFLOW 2D and ESTRY</a></li>
<li class="chapter" data-level="6.2.4" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMMSettings-3"><i class="fa fa-check"></i><b>6.2.4</b> SWMM Simulation Option Settings</a></li>
<li class="chapter" data-level="6.2.5" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMM-BCDB-3"><i class="fa fa-check"></i><b>6.2.5</b> Using the TUFLOW BC Database in SWMM</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMMGISTools-2"><i class="fa fa-check"></i><b>6.3</b> SWMM GIS Tools</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMMGPKGFormat-3"><i class="fa fa-check"></i><b>6.3.1</b> GeoPackage File Format</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMMOutputs-2"><i class="fa fa-check"></i><b>6.4</b> SWMM Outputs</a></li>
<li class="chapter" data-level="6.5" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMMInclusionTUFLOW-2"><i class="fa fa-check"></i><b>6.5</b> SWMM Inclusion in TUFLOW</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMMLibraryVersion-3"><i class="fa fa-check"></i><b>6.5.1</b> SWMM Library Version</a></li>
<li class="chapter" data-level="6.5.2" data-path="OneD-SWMM-1.html"><a href="OneD-SWMM-1.html#SWMMCode-in-TUFLOW-3"><i class="fa fa-check"></i><b>6.5.2</b> Embedded SWMM Code in TUFLOW</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html"><i class="fa fa-check"></i><b>7</b> 2D Domains</a>
<ul>
<li class="chapter" data-level="7.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#introduction-1"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Solvers-2"><i class="fa fa-check"></i><b>7.2</b> Solvers</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#tuflow-hpc-2d-solver"><i class="fa fa-check"></i><b>7.2.1</b> TUFLOW HPC 2D Solver</a></li>
<li class="chapter" data-level="7.2.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#tuflow-classic-2d-solver"><i class="fa fa-check"></i><b>7.2.2</b> TUFLOW Classic 2D Solver</a></li>
<li class="chapter" data-level="7.2.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Schematisation-3"><i class="fa fa-check"></i><b>7.2.3</b> Cell Schematisation</a>
<ul>
<li class="chapter" data-level="7.2.3.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#computational-points-4"><i class="fa fa-check"></i><b>7.2.3.1</b> Computational Points</a></li>
</ul></li>
<li class="chapter" data-level="7.2.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#turbulence-overview"><i class="fa fa-check"></i><b>7.2.4</b> Turbulence</a>
<ul>
<li class="chapter" data-level="7.2.4.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Dry-Wall-4"><i class="fa fa-check"></i><b>7.2.4.1</b> Dry Wall Treatment</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Common-2"><i class="fa fa-check"></i><b>7.3</b> Common Functionality</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Domain-3"><i class="fa fa-check"></i><b>7.3.1</b> Defining the Domain</a></li>
<li class="chapter" data-level="7.3.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CellCodes-3"><i class="fa fa-check"></i><b>7.3.2</b> Active / Inactive Cells</a></li>
<li class="chapter" data-level="7.3.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#layering-3"><i class="fa fa-check"></i><b>7.3.3</b> Data Layering</a></li>
<li class="chapter" data-level="7.3.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#sampling-of-data-sets"><i class="fa fa-check"></i><b>7.3.4</b> Sampling of Data Sets</a>
<ul>
<li class="chapter" data-level="7.3.4.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#traditional-sampling-4"><i class="fa fa-check"></i><b>7.3.4.1</b> Traditional Sampling Approach</a></li>
</ul></li>
<li class="chapter" data-level="7.3.5" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#elevations-3"><i class="fa fa-check"></i><b>7.3.5</b> Elevations</a>
<ul>
<li class="chapter" data-level="7.3.5.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#DEMGrids-3"><i class="fa fa-check"></i><b>7.3.5.1</b> Direct Reading of DEM Grids</a></li>
<li class="chapter" data-level="7.3.5.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#zsh-4"><i class="fa fa-check"></i><b>7.3.5.2</b> Z Shape Layers (2d_zsh)</a></li>
<li class="chapter" data-level="7.3.5.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#vzsh-4"><i class="fa fa-check"></i><b>7.3.5.3</b> Variable Z Shape Layer (2d_vzsh)</a></li>
<li class="chapter" data-level="7.3.5.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#ztin-4"><i class="fa fa-check"></i><b>7.3.5.4</b> 3D TIN Layers (2d_ztin)</a></li>
<li class="chapter" data-level="7.3.5.5" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#zln-4"><i class="fa fa-check"></i><b>7.3.5.5</b> 3D Breakline Layers (2d_zln)</a></li>
<li class="chapter" data-level="7.3.5.6" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#zpt-4"><i class="fa fa-check"></i><b>7.3.5.6</b> Zpt Layers (2d_zpt)</a></li>
<li class="chapter" data-level="7.3.5.7" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#using-multiple-layers-and-points-layers"><i class="fa fa-check"></i><b>7.3.5.7</b> Using Multiple Layers and Points Layers</a></li>
</ul></li>
<li class="chapter" data-level="7.3.6" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Materials-2"><i class="fa fa-check"></i><b>7.3.6</b> Land Use (Materials)</a>
<ul>
<li class="chapter" data-level="7.3.6.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Bed-Resistance-4"><i class="fa fa-check"></i><b>7.3.6.1</b> Bed Resistance</a></li>
<li class="chapter" data-level="7.3.6.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#log-law-4"><i class="fa fa-check"></i><b>7.3.6.2</b> Log Law Depth Varying Bed Resistance</a></li>
<li class="chapter" data-level="7.3.6.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Materials-File-4"><i class="fa fa-check"></i><b>7.3.6.3</b> Materials File</a></li>
<li class="chapter" data-level="7.3.6.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Rainfall-Losses-4"><i class="fa fa-check"></i><b>7.3.6.4</b> Rainfall Losses</a></li>
</ul></li>
<li class="chapter" data-level="7.3.7" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Infiltration-2"><i class="fa fa-check"></i><b>7.3.7</b> Infiltration</a>
<ul>
<li class="chapter" data-level="7.3.7.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#infiltration-layer-4"><i class="fa fa-check"></i><b>7.3.7.1</b> Infiltration Layer</a></li>
<li class="chapter" data-level="7.3.7.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#tsoilf-4"><i class="fa fa-check"></i><b>7.3.7.2</b> Soils File (.tsoilf)</a></li>
</ul></li>
<li class="chapter" data-level="7.3.8" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#HydraulicStructures-3"><i class="fa fa-check"></i><b>7.3.8</b> Hydraulic Structures</a>
<ul>
<li class="chapter" data-level="7.3.8.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#introduction-2"><i class="fa fa-check"></i><b>7.3.8.1</b> Introduction</a></li>
<li class="chapter" data-level="7.3.8.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#bg-layer-4"><i class="fa fa-check"></i><b>7.3.8.2</b> 2D Bridge Structures (2d_bg)</a></li>
<li class="chapter" data-level="7.3.8.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#lfcsh-4"><i class="fa fa-check"></i><b>7.3.8.3</b> Layered Flow Constrictions (2d_lfcsh Layers)</a></li>
</ul></li>
<li class="chapter" data-level="7.3.9" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#cell-mods-3"><i class="fa fa-check"></i><b>7.3.9</b> Cell Modification</a>
<ul>
<li class="chapter" data-level="7.3.9.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#srf-3"><i class="fa fa-check"></i><b>7.3.9.1</b> Storage Reduction (2d_srf)</a></li>
<li class="chapter" data-level="7.3.9.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CWF-4"><i class="fa fa-check"></i><b>7.3.9.2</b> Cell Width Factor (CWF)</a></li>
<li class="chapter" data-level="7.3.9.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#flc-4"><i class="fa fa-check"></i><b>7.3.9.3</b> Form Loss Coefficient (FLC)</a></li>
<li class="chapter" data-level="7.3.9.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#mod-conveyance-4"><i class="fa fa-check"></i><b>7.3.9.4</b> Modify Conveyance</a></li>
</ul></li>
<li class="chapter" data-level="7.3.10" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#urban-areas-3"><i class="fa fa-check"></i><b>7.3.10</b> Modelling Urban Areas</a>
<ul>
<li class="chapter" data-level="7.3.10.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#buildings-4"><i class="fa fa-check"></i><b>7.3.10.1</b> Buildings</a></li>
<li class="chapter" data-level="7.3.10.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#roads-4"><i class="fa fa-check"></i><b>7.3.10.2</b> Roads</a></li>
<li class="chapter" data-level="7.3.10.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#fences-4"><i class="fa fa-check"></i><b>7.3.10.3</b> Fences and Walls</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#HPC-specific-2"><i class="fa fa-check"></i><b>7.4</b> TUFLOW HPC Specific</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Quadtree-3"><i class="fa fa-check"></i><b>7.4.1</b> Quadtree</a>
<ul>
<li class="chapter" data-level="7.4.1.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#qcf-commands-4"><i class="fa fa-check"></i><b>7.4.1.1</b> Quadtree .tcf Commands</a></li>
<li class="chapter" data-level="7.4.1.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#qcf-mandatory-4"><i class="fa fa-check"></i><b>7.4.1.2</b> Quadtree Control File (.qcf) – Mandatory Commands</a></li>
<li class="chapter" data-level="7.4.1.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#qcf-optional-4"><i class="fa fa-check"></i><b>7.4.1.3</b> Quadtree Control File (.qcf) – Optional Commands</a></li>
<li class="chapter" data-level="7.4.1.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#QDT-mesh-4"><i class="fa fa-check"></i><b>7.4.1.4</b> Defining Grid Refinement Polygons</a></li>
</ul></li>
<li class="chapter" data-level="7.4.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#HPC-Turbulence-3"><i class="fa fa-check"></i><b>7.4.2</b> HPC Turbulence</a>
<ul>
<li class="chapter" data-level="7.4.2.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#HPC-Turbulence-4"><i class="fa fa-check"></i><b>7.4.2.1</b> Overview</a></li>
<li class="chapter" data-level="7.4.2.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Constant-4"><i class="fa fa-check"></i><b>7.4.2.2</b> Constant Eddy Viscosity</a></li>
<li class="chapter" data-level="7.4.2.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Smagorinsky-4"><i class="fa fa-check"></i><b>7.4.2.3</b> Smagorinsky Approach</a></li>
<li class="chapter" data-level="7.4.2.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Wu-4"><i class="fa fa-check"></i><b>7.4.2.4</b> Wu Approach</a></li>
</ul></li>
<li class="chapter" data-level="7.4.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#SGS-3"><i class="fa fa-check"></i><b>7.4.3</b> Sub-Grid Sampling (SGS)</a>
<ul>
<li class="chapter" data-level="7.4.3.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#SGS-commands-4"><i class="fa fa-check"></i><b>7.4.3.1</b> SGS Methodology and Commands</a></li>
<li class="chapter" data-level="7.4.3.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#SGS-output-4"><i class="fa fa-check"></i><b>7.4.3.2</b> SGS Output Options</a></li>
</ul></li>
<li class="chapter" data-level="7.4.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#HPC-US-Controlled-3"><i class="fa fa-check"></i><b>7.4.4</b> 2D Upstream Controlled Flow (Weirs and Supercritical Flow)</a></li>
<li class="chapter" data-level="7.4.5" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#HPC-Groundwater-3"><i class="fa fa-check"></i><b>7.4.5</b> Groundwater Flow</a>
<ul>
<li class="chapter" data-level="7.4.5.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#implementation"><i class="fa fa-check"></i><b>7.4.5.1</b> Implementation</a></li>
<li class="chapter" data-level="7.4.5.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#top-gw-drying-4"><i class="fa fa-check"></i><b>7.4.5.2</b> Drying of Top Groundwater Layer</a></li>
</ul></li>
<li class="chapter" data-level="7.4.6" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#NN-3"><i class="fa fa-check"></i><b>7.4.6</b> Non-Newtonian Flow</a>
<ul>
<li class="chapter" data-level="7.4.6.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#Implementation-4"><i class="fa fa-check"></i><b>7.4.6.1</b> Implementation</a></li>
<li class="chapter" data-level="7.4.6.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#NN-Mix-4"><i class="fa fa-check"></i><b>7.4.6.2</b> Non-Newtonian Mixing</a></li>
</ul></li>
<li class="chapter" data-level="7.4.7" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#HPC-Unsupported-3"><i class="fa fa-check"></i><b>7.4.7</b> Unsupported Features in TUFLOW HPC</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#tuflow-classic-specific"><i class="fa fa-check"></i><b>7.5</b> TUFLOW Classic Specific</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-Turbulence-3"><i class="fa fa-check"></i><b>7.5.1</b> Classic Turbulence</a>
<ul>
<li class="chapter" data-level="7.5.1.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-Constant-4"><i class="fa fa-check"></i><b>7.5.1.1</b> Constant</a></li>
<li class="chapter" data-level="7.5.1.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-Smagorinsky-4"><i class="fa fa-check"></i><b>7.5.1.2</b> Smagorinsky</a></li>
</ul></li>
<li class="chapter" data-level="7.5.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-US-Controlled-3"><i class="fa fa-check"></i><b>7.5.2</b> 2D Upstream Controlled Flow (Weirs and Supercritical Flow)</a></li>
<li class="chapter" data-level="7.5.3" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-mat-3"><i class="fa fa-check"></i><b>7.5.3</b> Land Use (Materials)</a></li>
<li class="chapter" data-level="7.5.4" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-2D2D-3"><i class="fa fa-check"></i><b>7.5.4</b> Multiple 2D Domain</a></li>
<li class="chapter" data-level="7.5.5" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-Coriolis-3"><i class="fa fa-check"></i><b>7.5.5</b> Coriolis Term</a></li>
<li class="chapter" data-level="7.5.6" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#legacy-structures"><i class="fa fa-check"></i><b>7.5.6</b> Legacy Structures</a>
<ul>
<li class="chapter" data-level="7.5.6.1" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-FC-4"><i class="fa fa-check"></i><b>7.5.6.1</b> 2D Flow Constrictions (2d_fcsh and 2d_fc)</a></li>
<li class="chapter" data-level="7.5.6.2" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#applying-form-energy-loss-in-2d-fc-and-fcsh-layers"><i class="fa fa-check"></i><b>7.5.6.2</b> Applying Form (Energy) Loss in 2D FC and FCSH Layers</a></li>
</ul></li>
<li class="chapter" data-level="7.5.7" data-path="TwoD-Domains-1.html"><a href="TwoD-Domains-1.html#CLA-Unsupported-3"><i class="fa fa-check"></i><b>7.5.7</b> Unsupported Features in TUFLOW Classic</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html"><i class="fa fa-check"></i><b>8</b> Boundaries and Initial Conditions</a>
<ul>
<li class="chapter" data-level="8.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#BC-Intro-2"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#BCArrangements-2"><i class="fa fa-check"></i><b>8.2</b> Recommended BC Arrangements</a></li>
<li class="chapter" data-level="8.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#BC-Solver-2"><i class="fa fa-check"></i><b>8.3</b> Solver Specific Considerations</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#ClassicBC-3"><i class="fa fa-check"></i><b>8.3.1</b> Classic Specific Boundaries / Options</a></li>
<li class="chapter" data-level="8.3.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#ClassicHPC-3"><i class="fa fa-check"></i><b>8.3.2</b> HPC Specific Boundaries / Options</a>
<ul>
<li class="chapter" data-level="8.3.2.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#HPCEnergyOptions-4"><i class="fa fa-check"></i><b>8.3.2.1</b> HPC Energy Options for 2D HT, HQ and QT Boundaries</a></li>
<li class="chapter" data-level="8.3.2.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#HpcHQApproach-4"><i class="fa fa-check"></i><b>8.3.2.2</b> HPC HQ Boundary Approach</a></li>
<li class="chapter" data-level="8.3.2.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#HpcHQFilter-4"><i class="fa fa-check"></i><b>8.3.2.3</b> HPC HQ Boundary Stability</a></li>
<li class="chapter" data-level="8.3.2.4" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#HpcBoundariesOther-4"><i class="fa fa-check"></i><b>8.3.2.4</b> HPC Additional Boundary Options</a></li>
<li class="chapter" data-level="8.3.2.5" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#HpcQuadtreeParallelInteria-4"><i class="fa fa-check"></i><b>8.3.2.5</b> Quadtree BC Parallel Inertia Approach</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#OneDBoundaries-2"><i class="fa fa-check"></i><b>8.4</b> 1D Boundaries (1d_bc Layers)</a></li>
<li class="chapter" data-level="8.5" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#TwoDBoundaries-2"><i class="fa fa-check"></i><b>8.5</b> 2D Boundaries (2d_bc, 2d_sa and 2d_rf Layers)</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#BC-Layers-3"><i class="fa fa-check"></i><b>8.5.1</b> Boundary Conditions (2d_bc)</a>
<ul>
<li class="chapter" data-level="8.5.1.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#id_2DBndSlopingLevel-3"><i class="fa fa-check"></i><b>8.5.1.1</b> Sloping Water Level Boundaries</a></li>
<li class="chapter" data-level="8.5.1.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#GT-4"><i class="fa fa-check"></i><b>8.5.1.2</b> Groundwater Boundaries</a></li>
</ul></li>
<li class="chapter" data-level="8.5.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#SA-Layers-3"><i class="fa fa-check"></i><b>8.5.2</b> Source Area Boundaries</a>
<ul>
<li class="chapter" data-level="8.5.2.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#SA-Option-4"><i class="fa fa-check"></i><b>8.5.2.1</b> Source Area Options (2d_sa)</a></li>
<li class="chapter" data-level="8.5.2.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#RFOption-4"><i class="fa fa-check"></i><b>8.5.2.2</b> Rainfall Option (2d_sa_rf)</a></li>
<li class="chapter" data-level="8.5.2.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#TriggerOption-4"><i class="fa fa-check"></i><b>8.5.2.3</b> Trigger Option (2d_sa_tr)</a></li>
<li class="chapter" data-level="8.5.2.4" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#FlowFeature-4"><i class="fa fa-check"></i><b>8.5.2.4</b> Flow Feature (2d_sa_po)</a></li>
<li class="chapter" data-level="8.5.2.5" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#OverlappingSA-4"><i class="fa fa-check"></i><b>8.5.2.5</b> Overlapping 2d_sa regions</a></li>
</ul></li>
<li class="chapter" data-level="8.5.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#Rainfall-3"><i class="fa fa-check"></i><b>8.5.3</b> Rainfall Boundaries</a>
<ul>
<li class="chapter" data-level="8.5.3.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#RainfallOverview-4"><i class="fa fa-check"></i><b>8.5.3.1</b> Rainfall Overview</a></li>
<li class="chapter" data-level="8.5.3.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#RainfallConsiderations-4"><i class="fa fa-check"></i><b>8.5.3.2</b> Considerations for Rainfall Modelling</a></li>
<li class="chapter" data-level="8.5.3.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#RF-Global-4"><i class="fa fa-check"></i><b>8.5.3.3</b> Global Rainfall</a></li>
<li class="chapter" data-level="8.5.3.4" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#RF-Layers-4"><i class="fa fa-check"></i><b>8.5.3.4</b> Rainfall Polygons (2d_rf)</a></li>
<li class="chapter" data-level="8.5.3.5" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#GriddedRainfall-4"><i class="fa fa-check"></i><b>8.5.3.5</b> Gridded Rainfall</a></li>
<li class="chapter" data-level="8.5.3.6" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#TRFC-File-4"><i class="fa fa-check"></i><b>8.5.3.6</b> Rainfall Control File (.trfc file)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#bcdbase-2"><i class="fa fa-check"></i><b>8.6</b> Boundary Condition (BC) Database</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#bcdbase-Example-3"><i class="fa fa-check"></i><b>8.6.1</b> BC Database Example</a></li>
<li class="chapter" data-level="8.6.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#BCEventName-3"><i class="fa fa-check"></i><b>8.6.2</b> BC Event Name Command</a></li>
<li class="chapter" data-level="8.6.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#BoundaryGenerators-3"><i class="fa fa-check"></i><b>8.6.3</b> TUFLOW Boundary Generators</a></li>
<li class="chapter" data-level="8.6.4" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#DelftFEWSBoundary-3"><i class="fa fa-check"></i><b>8.6.4</b> Delft FEWS Boundaries</a></li>
<li class="chapter" data-level="8.6.5" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#HECDSS-3"><i class="fa fa-check"></i><b>8.6.5</b> HEC-DSS Boundaries</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#Cyclones-2"><i class="fa fa-check"></i><b>8.7</b> Cyclones / Hurricanes / Typhoons</a></li>
<li class="chapter" data-level="8.8" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#ExternalStress-2"><i class="fa fa-check"></i><b>8.8</b> External Stress Boundaries</a></li>
<li class="chapter" data-level="8.9" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#InitialConditions-2"><i class="fa fa-check"></i><b>8.9</b> Initial Conditions</a>
<ul>
<li class="chapter" data-level="8.9.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#IWL-3"><i class="fa fa-check"></i><b>8.9.1</b> Initial Water Levels (IWL)</a>
<ul>
<li class="chapter" data-level="8.9.1.1" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#IWL-1D-4"><i class="fa fa-check"></i><b>8.9.1.1</b> 1D Domains</a></li>
<li class="chapter" data-level="8.9.1.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#IWL-2D-4"><i class="fa fa-check"></i><b>8.9.1.2</b> 2D Domains</a></li>
<li class="chapter" data-level="8.9.1.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#IWL-Auto-4"><i class="fa fa-check"></i><b>8.9.1.3</b> Automatic Initial Water Level</a></li>
</ul></li>
<li class="chapter" data-level="8.9.2" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#IGW-3"><i class="fa fa-check"></i><b>8.9.2</b> Initial Groundwater Levels</a></li>
<li class="chapter" data-level="8.9.3" data-path="Boundaries-InitialConditions-1.html"><a href="Boundaries-InitialConditions-1.html#RestartFiles-3"><i class="fa fa-check"></i><b>8.9.3</b> Restart Files</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="AD-1.html"><a href="AD-1.html"><i class="fa fa-check"></i><b>9</b> Advection Dispersion</a>
<ul>
<li class="chapter" data-level="9.1" data-path="AD-1.html"><a href="AD-1.html#AD-Overview-2"><i class="fa fa-check"></i><b>9.1</b> Overview</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="AD-1.html"><a href="AD-1.html#AD-Solution-3"><i class="fa fa-check"></i><b>9.1.1</b> 2D Depth Averaged Equation of Motion</a></li>
<li class="chapter" data-level="9.1.2" data-path="AD-1.html"><a href="AD-1.html#AD-Solution-2"><i class="fa fa-check"></i><b>9.1.2</b> Solution Method (TUFLOW Classic)</a></li>
<li class="chapter" data-level="9.1.3" data-path="AD-1.html"><a href="AD-1.html#AD-Solution-HPC-3"><i class="fa fa-check"></i><b>9.1.3</b> Solution Method (TUFLOW HPC)</a></li>
<li class="chapter" data-level="9.1.4" data-path="AD-1.html"><a href="AD-1.html#local-constituent-transformation"><i class="fa fa-check"></i><b>9.1.4</b> Local Constituent Transformation</a></li>
<li class="chapter" data-level="9.1.5" data-path="AD-1.html"><a href="AD-1.html#groundwater"><i class="fa fa-check"></i><b>9.1.5</b> Groundwater</a></li>
<li class="chapter" data-level="9.1.6" data-path="AD-1.html"><a href="AD-1.html#limitations-and-recommendations"><i class="fa fa-check"></i><b>9.1.6</b> Limitations and Recommendations</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="AD-1.html"><a href="AD-1.html#the-modelling-process"><i class="fa fa-check"></i><b>9.2</b> The Modelling Process</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="AD-1.html"><a href="AD-1.html#data-input-requirements"><i class="fa fa-check"></i><b>9.2.1</b> Data Input Requirements</a></li>
<li class="chapter" data-level="9.2.2" data-path="AD-1.html"><a href="AD-1.html#calibration-and-sensitivity"><i class="fa fa-check"></i><b>9.2.2</b> Calibration and Sensitivity</a></li>
<li class="chapter" data-level="9.2.3" data-path="AD-1.html"><a href="AD-1.html#model-resolution"><i class="fa fa-check"></i><b>9.2.3</b> Model Resolution</a></li>
<li class="chapter" data-level="9.2.4" data-path="AD-1.html"><a href="AD-1.html#AD-Computational-Timestep-3"><i class="fa fa-check"></i><b>9.2.4</b> Computational Timestep</a></li>
<li class="chapter" data-level="9.2.5" data-path="AD-1.html"><a href="AD-1.html#example-ad-models"><i class="fa fa-check"></i><b>9.2.5</b> Example AD Models</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="AD-1.html"><a href="AD-1.html#data-input"><i class="fa fa-check"></i><b>9.3</b> Data Input</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="AD-1.html"><a href="AD-1.html#simulation-control-file"><i class="fa fa-check"></i><b>9.3.1</b> Simulation Control File</a>
<ul>
<li class="chapter" data-level="9.3.1.1" data-path="AD-1.html"><a href="AD-1.html#ADControlFile-4"><i class="fa fa-check"></i><b>9.3.1.1</b> TUFLOW AD Control File (.adcf File)</a></li>
<li class="chapter" data-level="9.3.1.2" data-path="AD-1.html"><a href="AD-1.html#gis-input-file-types-and-naming-conventions"><i class="fa fa-check"></i><b>9.3.1.2</b> GIS Input File Types and Naming Conventions</a></li>
</ul></li>
<li class="chapter" data-level="9.3.2" data-path="AD-1.html"><a href="AD-1.html#d-geometries"><i class="fa fa-check"></i><b>9.3.2</b> 1D Geometries</a></li>
<li class="chapter" data-level="9.3.3" data-path="AD-1.html"><a href="AD-1.html#ADConstituentProp-3"><i class="fa fa-check"></i><b>9.3.3</b> Specification of Constituent Properties</a></li>
<li class="chapter" data-level="9.3.4" data-path="AD-1.html"><a href="AD-1.html#ADBoundaryConditions-3"><i class="fa fa-check"></i><b>9.3.4</b> Boundary Conditions</a>
<ul>
<li class="chapter" data-level="9.3.4.1" data-path="AD-1.html"><a href="AD-1.html#boundary-condition-bc-database"><i class="fa fa-check"></i><b>9.3.4.1</b> Boundary Condition (BC) Database</a></li>
<li class="chapter" data-level="9.3.4.2" data-path="AD-1.html"><a href="AD-1.html#bc-database-example"><i class="fa fa-check"></i><b>9.3.4.2</b> BC Database Example</a></li>
</ul></li>
<li class="chapter" data-level="9.3.5" data-path="AD-1.html"><a href="AD-1.html#initial-conditions"><i class="fa fa-check"></i><b>9.3.5</b> Initial Conditions</a></li>
<li class="chapter" data-level="9.3.6" data-path="AD-1.html"><a href="AD-1.html#GW-initial-conditions"><i class="fa fa-check"></i><b>9.3.6</b> Groundwater Initial Conditions</a></li>
<li class="chapter" data-level="9.3.7" data-path="AD-1.html"><a href="AD-1.html#minimum-dispersion-coefficient"><i class="fa fa-check"></i><b>9.3.7</b> Minimum Dispersion Coefficient</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="AD-1.html"><a href="AD-1.html#data-output"><i class="fa fa-check"></i><b>9.4</b> Data Output</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="AD-1.html"><a href="AD-1.html#tuflow-ad-log-files"><i class="fa fa-check"></i><b>9.4.1</b> TUFLOW AD Log Files</a>
<ul>
<li class="chapter" data-level="9.4.1.1" data-path="AD-1.html"><a href="AD-1.html#AD-log-4"><i class="fa fa-check"></i><b>9.4.1.1</b> Simulation Log File</a></li>
<li class="chapter" data-level="9.4.1.2" data-path="AD-1.html"><a href="AD-1.html#ADCFLLogFile-4"><i class="fa fa-check"></i><b>9.4.1.2</b> CFL Log File</a></li>
<li class="chapter" data-level="9.4.1.3" data-path="AD-1.html"><a href="AD-1.html#ADLogMass-4"><i class="fa fa-check"></i><b>9.4.1.3</b> Mass Log File</a></li>
</ul></li>
<li class="chapter" data-level="9.4.2" data-path="AD-1.html"><a href="AD-1.html#check-files"><i class="fa fa-check"></i><b>9.4.2</b> Check Files</a></li>
<li class="chapter" data-level="9.4.3" data-path="AD-1.html"><a href="AD-1.html#result-files"><i class="fa fa-check"></i><b>9.4.3</b> Result Files</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html"><i class="fa fa-check"></i><b>10</b> Combining Domains and Solvers</a>
<ul>
<li class="chapter" data-level="10.1" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#Linked-1D2D-Models-Intro-2"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2dLinking-2"><i class="fa fa-check"></i><b>10.2</b> 1D and 2D Domain Linking Theory</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#HXBoundary-3"><i class="fa fa-check"></i><b>10.2.1</b> HX 2D Head Boundary</a></li>
<li class="chapter" data-level="10.2.2" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#SXBoundary-3"><i class="fa fa-check"></i><b>10.2.2</b> SX 2D Flow Boundary</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DLinking-Estry-2"><i class="fa fa-check"></i><b>10.3</b> TUFLOW 1D (ESTRY) to TUFLOW 2D Linking</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DESTRYChannel-3"><i class="fa fa-check"></i><b>10.3.1</b> 1D Open Channel and 2D Domain Linking</a></li>
<li class="chapter" data-level="10.3.2" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DESTRYCulverts-3"><i class="fa fa-check"></i><b>10.3.2</b> 1D Structures Embedded within 2D Domains</a></li>
<li class="chapter" data-level="10.3.3" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DESTRYPipeNetwork-3"><i class="fa fa-check"></i><b>10.3.3</b> 1D Pipe Network Pits linked to 2D Domains</a></li>
<li class="chapter" data-level="10.3.4" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#id_2DVirtualPits-3"><i class="fa fa-check"></i><b>10.3.4</b> Virtual Pits linked to 2D Domains</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DLinkingSWMM-2"><i class="fa fa-check"></i><b>10.4</b> SWMM to TUFLOW Linking</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DSWMMCulverts-5"><i class="fa fa-check"></i><b>10.4.1</b> 1D Culvert Connections to 2D Domains</a></li>
<li class="chapter" data-level="10.4.2" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DSWMMPipeNetwork-3"><i class="fa fa-check"></i><b>10.4.2</b> 1D Pipe Network Connections to 2D Domains</a></li>
<li class="chapter" data-level="10.4.3" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DLinkingSWMM1D-3"><i class="fa fa-check"></i><b>10.4.3</b> SWMM to TUFLOW 1D (ESTRY) Linking</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#OneD2DLinkingFM-2"><i class="fa fa-check"></i><b>10.5</b> Flood Modeller to TUFLOW Linking</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#oneD2DFMLinking2D-3"><i class="fa fa-check"></i><b>10.5.1</b> Flood Modeller 1D to TUFLOW 2D Linking</a></li>
<li class="chapter" data-level="10.5.2" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#oneD2DFMLinking1D-3"><i class="fa fa-check"></i><b>10.5.2</b> Flood Modeller 1D to TUFLOW 1D (ESTRY) Linking</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#oneD2D12D-2"><i class="fa fa-check"></i><b>10.6</b> 12D-DDA to TUFLOW Linking</a></li>
<li class="chapter" data-level="10.7" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#TwoD2DLinking-2"><i class="fa fa-check"></i><b>10.7</b> Multiple 2D Domains</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#TwoD2DLinkingQDT-3"><i class="fa fa-check"></i><b>10.7.1</b> Classic’s M2D Feature versus HPC Quadtree</a></li>
<li class="chapter" data-level="10.7.2" data-path="DomainLinking-1.html"><a href="DomainLinking-1.html#TwoD2DLinkingM2D-3"><i class="fa fa-check"></i><b>10.7.2</b> TUFLOW Classic’s Multiple 2D Domains</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="Outputs-1.html"><a href="Outputs-1.html"><i class="fa fa-check"></i><b>11</b> Outputs</a>
<ul>
<li class="chapter" data-level="11.1" data-path="Outputs-1.html"><a href="Outputs-1.html#Location-2"><i class="fa fa-check"></i><b>11.1</b> Output Location</a></li>
<li class="chapter" data-level="11.2" data-path="Outputs-1.html"><a href="Outputs-1.html#Map-2"><i class="fa fa-check"></i><b>11.2</b> Map Outputs</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="Outputs-1.html"><a href="Outputs-1.html#TimeControl-3"><i class="fa fa-check"></i><b>11.2.1</b> Output Time Controls</a></li>
<li class="chapter" data-level="11.2.2" data-path="Outputs-1.html"><a href="Outputs-1.html#Format-3"><i class="fa fa-check"></i><b>11.2.2</b> Map Output Formats</a>
<ul>
<li class="chapter" data-level="11.2.2.1" data-path="Outputs-1.html"><a href="Outputs-1.html#MeshBased-4"><i class="fa fa-check"></i><b>11.2.2.1</b> Mesh Based Formats</a></li>
<li class="chapter" data-level="11.2.2.2" data-path="Outputs-1.html"><a href="Outputs-1.html#Grid-4"><i class="fa fa-check"></i><b>11.2.2.2</b> Grid Based Formats</a></li>
<li class="chapter" data-level="11.2.2.3" data-path="Outputs-1.html"><a href="Outputs-1.html#HRGrid-4"><i class="fa fa-check"></i><b>11.2.2.3</b> High-Resolution Grids</a></li>
<li class="chapter" data-level="11.2.2.4" data-path="Outputs-1.html"><a href="Outputs-1.html#Combined-4"><i class="fa fa-check"></i><b>11.2.2.4</b> Combined Format</a></li>
<li class="chapter" data-level="11.2.2.5" data-path="Outputs-1.html"><a href="Outputs-1.html#GISBased-4"><i class="fa fa-check"></i><b>11.2.2.5</b> GIS Based Format</a></li>
</ul></li>
<li class="chapter" data-level="11.2.3" data-path="Outputs-1.html"><a href="Outputs-1.html#DataTypes-3"><i class="fa fa-check"></i><b>11.2.3</b> Map Output Data Types</a>
<ul>
<li class="chapter" data-level="11.2.3.1" data-path="Outputs-1.html"><a href="Outputs-1.html#Hazards-4"><i class="fa fa-check"></i><b>11.2.3.1</b> Hazard Data Types</a></li>
</ul></li>
<li class="chapter" data-level="11.2.4" data-path="Outputs-1.html"><a href="Outputs-1.html#OneDMap-3"><i class="fa fa-check"></i><b>11.2.4</b> 1D Map Outputs</a>
<ul>
<li class="chapter" data-level="11.2.4.1" data-path="Outputs-1.html"><a href="Outputs-1.html#WLL-4"><i class="fa fa-check"></i><b>11.2.4.1</b> Water Level Lines</a></li>
<li class="chapter" data-level="11.2.4.2" data-path="Outputs-1.html"><a href="Outputs-1.html#WLLp-4"><i class="fa fa-check"></i><b>11.2.4.2</b> Water Level Line Points</a></li>
<li class="chapter" data-level="11.2.4.3" data-path="Outputs-1.html"><a href="Outputs-1.html#WLLtriangles-4"><i class="fa fa-check"></i><b>11.2.4.3</b> Adding Triangles into the 1d_WLL Layer</a></li>
</ul></li>
<li class="chapter" data-level="11.2.5" data-path="Outputs-1.html"><a href="Outputs-1.html#OutputZones-3"><i class="fa fa-check"></i><b>11.2.5</b> Output Zones</a></li>
<li class="chapter" data-level="11.2.6" data-path="Outputs-1.html"><a href="Outputs-1.html#GaugeLevel-3"><i class="fa fa-check"></i><b>11.2.6</b> Gauge Level Output</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="Outputs-1.html"><a href="Outputs-1.html#TimeSeries-2"><i class="fa fa-check"></i><b>11.3</b> Time-Series Outputs</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="Outputs-1.html"><a href="Outputs-1.html#OneDTS-3"><i class="fa fa-check"></i><b>11.3.1</b> 1D Time-Series Output</a></li>
<li class="chapter" data-level="11.3.2" data-path="Outputs-1.html"><a href="Outputs-1.html#TwoDTS-3"><i class="fa fa-check"></i><b>11.3.2</b> 2D Time-Series Output</a>
<ul>
<li class="chapter" data-level="11.3.2.1" data-path="Outputs-1.html"><a href="Outputs-1.html#PlotOutput-4"><i class="fa fa-check"></i><b>11.3.2.1</b> Plot Output</a></li>
<li class="chapter" data-level="11.3.2.2" data-path="Outputs-1.html"><a href="Outputs-1.html#LongProfile-4"><i class="fa fa-check"></i><b>11.3.2.2</b> Long Profile Output</a></li>
</ul></li>
<li class="chapter" data-level="11.3.3" data-path="Outputs-1.html"><a href="Outputs-1.html#ReportingLocation-3"><i class="fa fa-check"></i><b>11.3.3</b> Reporting Locations</a></li>
<li class="chapter" data-level="11.3.4" data-path="Outputs-1.html"><a href="Outputs-1.html#Structure-3"><i class="fa fa-check"></i><b>11.3.4</b> Structure Output</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="Outputs-1.html"><a href="Outputs-1.html#Specialised-2"><i class="fa fa-check"></i><b>11.4</b> Specialised Outputs</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="Outputs-1.html"><a href="Outputs-1.html#Receptors-3"><i class="fa fa-check"></i><b>11.4.1</b> Receptors</a></li>
<li class="chapter" data-level="11.4.2" data-path="Outputs-1.html"><a href="Outputs-1.html#EvaculationRoutes-3"><i class="fa fa-check"></i><b>11.4.2</b> Evacuation Routes</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="Outputs-1.html"><a href="Outputs-1.html#ChecksLogs-2"><i class="fa fa-check"></i><b>11.5</b> Check and Log Files</a></li>
<li class="chapter" data-level="11.6" data-path="Outputs-1.html"><a href="Outputs-1.html#Commands-2"><i class="fa fa-check"></i><b>11.6</b> Output Control Commands</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="Hardware-1.html"><a href="Hardware-1.html"><i class="fa fa-check"></i><b>12</b> Hardware and Operating System</a>
<ul>
<li class="chapter" data-level="12.1" data-path="Hardware-1.html"><a href="Hardware-1.html#HardwareIntro-2"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="Hardware-1.html"><a href="Hardware-1.html#OperatingSystems-2"><i class="fa fa-check"></i><b>12.2</b> Operating Systems</a></li>
<li class="chapter" data-level="12.3" data-path="Hardware-1.html"><a href="Hardware-1.html#TUFLOWClassic-2"><i class="fa fa-check"></i><b>12.3</b> TUFLOW Classic</a></li>
<li class="chapter" data-level="12.4" data-path="Hardware-1.html"><a href="Hardware-1.html#TUFLOWHPC-2"><i class="fa fa-check"></i><b>12.4</b> TUFLOW HPC (Including Quadtree)</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="Hardware-1.html"><a href="Hardware-1.html#HPC-CPU-3"><i class="fa fa-check"></i><b>12.4.1</b> TUFLOW HPC Solver on CPU</a></li>
<li class="chapter" data-level="12.4.2" data-path="Hardware-1.html"><a href="Hardware-1.html#HPC-GPU-3"><i class="fa fa-check"></i><b>12.4.2</b> TUFLOW HPC Solver on GPU</a></li>
<li class="chapter" data-level="12.4.3" data-path="Hardware-1.html"><a href="Hardware-1.html#GPUTypes-3"><i class="fa fa-check"></i><b>12.4.3</b> Types of GPU</a></li>
<li class="chapter" data-level="12.4.4" data-path="Hardware-1.html"><a href="Hardware-1.html#MultipleGPUs-3"><i class="fa fa-check"></i><b>12.4.4</b> Utilising Multiple GPUs for One Model</a></li>
<li class="chapter" data-level="12.4.5" data-path="Hardware-1.html"><a href="Hardware-1.html#MultipleModelsoneGPU-3"><i class="fa fa-check"></i><b>12.4.5</b> Running Multiple Models on a Single GPU</a></li>
<li class="chapter" data-level="12.4.6" data-path="Hardware-1.html"><a href="Hardware-1.html#differences-in-results-between-cpu-and-gpu"><i class="fa fa-check"></i><b>12.4.6</b> Differences in results between CPU and GPU</a></li>
<li class="chapter" data-level="12.4.7" data-path="Hardware-1.html"><a href="Hardware-1.html#HPCRAM-3"><i class="fa fa-check"></i><b>12.4.7</b> RAM</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="Hardware-1.html"><a href="Hardware-1.html#ProxiesforCPUandGPU-2"><i class="fa fa-check"></i><b>12.5</b> Proxies for CPU and GPU performance</a></li>
<li class="chapter" data-level="12.6" data-path="Hardware-1.html"><a href="Hardware-1.html#Virtualisation-2"><i class="fa fa-check"></i><b>12.6</b> Virtualisation</a></li>
<li class="chapter" data-level="12.7" data-path="Hardware-1.html"><a href="Hardware-1.html#CloudCompute-2"><i class="fa fa-check"></i><b>12.7</b> Cloud Compute</a></li>
<li class="chapter" data-level="12.8" data-path="Hardware-1.html"><a href="Hardware-1.html#HardwareCommands-2"><i class="fa fa-check"></i><b>12.8</b> Commands</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html"><i class="fa fa-check"></i><b>13</b> Managing and Starting Simulations</a>
<ul>
<li class="chapter" data-level="13.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#RunningSimulationsIntro-2"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#FileNaming-2"><i class="fa fa-check"></i><b>13.2</b> File Naming</a></li>
<li class="chapter" data-level="13.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#SimulationManagement-2"><i class="fa fa-check"></i><b>13.3</b> Simulation Management</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#Events-3"><i class="fa fa-check"></i><b>13.3.1</b> Events</a></li>
<li class="chapter" data-level="13.3.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#Scenarios-3"><i class="fa fa-check"></i><b>13.3.2</b> Scenarios</a></li>
<li class="chapter" data-level="13.3.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#Variables-3"><i class="fa fa-check"></i><b>13.3.3</b> Variables</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#TUFLOWExecDownload-2"><i class="fa fa-check"></i><b>13.4</b> TUFLOW Executable Download</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#InstallOverview-3"><i class="fa fa-check"></i><b>13.4.1</b> Overview and Where to Install</a></li>
<li class="chapter" data-level="13.4.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#iSPdSP-3"><i class="fa fa-check"></i><b>13.4.2</b> Single and Double Precision</a>
<ul>
<li class="chapter" data-level="13.4.2.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#iSPdSP-Classic"><i class="fa fa-check"></i><b>13.4.2.1</b> TUFLOW Classic</a></li>
<li class="chapter" data-level="13.4.2.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#iSPdSP-HPC"><i class="fa fa-check"></i><b>13.4.2.2</b> TUFLOW HPC</a></li>
</ul></li>
<li class="chapter" data-level="13.4.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#CustomingTUFLOW-3"><i class="fa fa-check"></i><b>13.4.3</b> Customising TUFLOW using TUFLOW_USER_DEFINED.dll</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#RunningSims-2"><i class="fa fa-check"></i><b>13.5</b> Running Simulations</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#DongleTypesandSetup-3"><i class="fa fa-check"></i><b>13.5.1</b> Dongle Types and Setup</a>
<ul>
<li class="chapter" data-level="13.5.1.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#DongleAccessProtocols-4"><i class="fa fa-check"></i><b>13.5.1.1</b> Protocols for Accessing Dongles</a></li>
<li class="chapter" data-level="13.5.1.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#DongleSettingsFile-4"><i class="fa fa-check"></i><b>13.5.1.2</b> TUFLOW_Licence_Settings.lcf File</a></li>
<li class="chapter" data-level="13.5.1.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#DongleFailure-4"><i class="fa fa-check"></i><b>13.5.1.3</b> Dongle Failure during a Simulation</a></li>
</ul></li>
<li class="chapter" data-level="13.5.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#StartingaSim-3"><i class="fa fa-check"></i><b>13.5.2</b> Starting a Simulation</a>
<ul>
<li class="chapter" data-level="13.5.2.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#BatchFileExamples-4"><i class="fa fa-check"></i><b>13.5.2.1</b> Batch File Example and Run Options (Switches)</a></li>
<li class="chapter" data-level="13.5.2.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#CopyModelBatchFiles-4"><i class="fa fa-check"></i><b>13.5.2.2</b> Copy/Package Model from Batch Files</a></li>
<li class="chapter" data-level="13.5.2.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#AdvancedBatchFiles-4"><i class="fa fa-check"></i><b>13.5.2.3</b> Advanced Batch Files</a></li>
</ul></li>
<li class="chapter" data-level="13.5.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#RunningHPC-3"><i class="fa fa-check"></i><b>13.5.3</b> Running TUFLOW HPC</a>
<ul>
<li class="chapter" data-level="13.5.3.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#HPCGPUCommands-4"><i class="fa fa-check"></i><b>13.5.3.1</b> TUFLOW HPC and GPU Module Commands</a></li>
<li class="chapter" data-level="13.5.3.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#GPUCompatibility-4"><i class="fa fa-check"></i><b>13.5.3.2</b> Compatible Graphics Cards</a></li>
<li class="chapter" data-level="13.5.3.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#UpdatingGPUDrivers-4"><i class="fa fa-check"></i><b>13.5.3.3</b> Updating NVIDIA Drivers</a></li>
<li class="chapter" data-level="13.5.3.4" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#GPUNVLink-4"><i class="fa fa-check"></i><b>13.5.3.4</b> NVLink – Multi-GPU Performance (HPC Only)</a></li>
<li class="chapter" data-level="13.5.3.5" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#GPUTroubleshooting-4"><i class="fa fa-check"></i><b>13.5.3.5</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="13.5.4" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#Running1D-3"><i class="fa fa-check"></i><b>13.5.4</b> Running TUFLOW 1D Only Simulations</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#TUFLOWExternalSchemes-2"><i class="fa fa-check"></i><b>13.6</b> Using TUFLOW with Flood Modeller, SWMM, XP-SWMM, 12D or from SMS</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#SWMMSimulations-3"><i class="fa fa-check"></i><b>13.6.1</b> Using TUFLOW with EPA SWMM</a></li>
<li class="chapter" data-level="13.6.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#FMSimulations-3"><i class="fa fa-check"></i><b>13.6.2</b> Using TUFLOW with Flood Modeller</a></li>
<li class="chapter" data-level="13.6.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#TwelveDSimulations-3"><i class="fa fa-check"></i><b>13.6.3</b> Using TUFLOW with 12D</a></li>
<li class="chapter" data-level="13.6.4" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#XPSWMMSimulations-3"><i class="fa fa-check"></i><b>13.6.4</b> Using TUFLOW with XP-SWMM</a></li>
<li class="chapter" data-level="13.6.5" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#SMSSimulations-3"><i class="fa fa-check"></i><b>13.6.5</b> Using TUFLOW with SMS</a></li>
<li class="chapter" data-level="13.6.6" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#OptimisingSims-3"><i class="fa fa-check"></i><b>13.6.6</b> Optimising Startup and Run Times</a>
<ul>
<li class="chapter" data-level="13.6.6.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#Improved1DInputs-4"><i class="fa fa-check"></i><b>13.6.6.1</b> Improved pre-processing of 1D Model Inputs</a></li>
<li class="chapter" data-level="13.6.6.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#SGSParallelProcessing-4"><i class="fa fa-check"></i><b>13.6.6.2</b> Parallel Processing for SGS initialisation</a></li>
<li class="chapter" data-level="13.6.6.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#OptimisingMultiGPUPerformance-4"><i class="fa fa-check"></i><b>13.6.6.3</b> Optimising Multi-GPU Performance (HPC Only)</a></li>
</ul></li>
<li class="chapter" data-level="13.6.7" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#AutoTerminateOptions-3"><i class="fa fa-check"></i><b>13.6.7</b> Auto Terminate (Simulation End) Options</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#ResultsReplication-3"><i class="fa fa-check"></i><b>13.7</b> Reproducibility of Results</a>
<ul>
<li class="chapter" data-level="13.7.1" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#ResultsReplicationClassic-3"><i class="fa fa-check"></i><b>13.7.1</b> TUFLOW Classic (CPU only)</a></li>
<li class="chapter" data-level="13.7.2" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#ResultsReplicationHPCCPU-3"><i class="fa fa-check"></i><b>13.7.2</b> TUFLOW HPC (incl. Quadtree) on CPU</a></li>
<li class="chapter" data-level="13.7.3" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#ResultsReplicationHPCGPU-3"><i class="fa fa-check"></i><b>13.7.3</b> TUFLOW HPC (incl. Quadtree) on GPU</a></li>
<li class="chapter" data-level="13.7.4" data-path="Running-Simulations-1.html"><a href="Running-Simulations-1.html#ResultsReplicationHPCMultiThread-3"><i class="fa fa-check"></i><b>13.7.4</b> TUFLOW HPC (incl. Quadtree) on multiple GPUs / CPU threads</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html"><i class="fa fa-check"></i><b>14</b> Checks and Log Files</a>
<ul>
<li class="chapter" data-level="14.1" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#Log-Introduction-1"><i class="fa fa-check"></i><b>14.1</b> Introduction</a></li>
<li class="chapter" data-level="14.2" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#ConsoleDisplay-2"><i class="fa fa-check"></i><b>14.2</b> Console (DOS) Window Display</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#Classic-3"><i class="fa fa-check"></i><b>14.2.1</b> TUFLOW Classic</a></li>
<li class="chapter" data-level="14.2.2" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#HPC-3"><i class="fa fa-check"></i><b>14.2.2</b> TUFLOW HPC</a></li>
<li class="chapter" data-level="14.2.3" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#ConsoleDisappear-3"><i class="fa fa-check"></i><b>14.2.3</b> The Console (DOS) Window Does Not Appear</a></li>
<li class="chapter" data-level="14.2.4" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#QuickEdit-3"><i class="fa fa-check"></i><b>14.2.4</b> Unexpected Simulation Pause (DOS Quick Edit Mode)</a></li>
<li class="chapter" data-level="14.2.5" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#ConsoleShortcut-3"><i class="fa fa-check"></i><b>14.2.5</b> Stopping the Console Window</a></li>
<li class="chapter" data-level="14.2.6" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#ConsoleCustomisation-3"><i class="fa fa-check"></i><b>14.2.6</b> Customisation of Console Window</a></li>
<li class="chapter" data-level="14.2.7" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#ErrorLevel-3"><i class="fa fa-check"></i><b>14.2.7</b> TUFLOW Windows ERROR LEVEL Reporting</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#MessageBox-2"><i class="fa fa-check"></i><b>14.3</b> Message Boxes</a></li>
<li class="chapter" data-level="14.4" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#SimLog-2"><i class="fa fa-check"></i><b>14.4</b> Simulations .log</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#LocalLog-3"><i class="fa fa-check"></i><b>14.4.1</b> Local .log File</a></li>
<li class="chapter" data-level="14.4.2" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#GlobalLog-3"><i class="fa fa-check"></i><b>14.4.2</b> Global .log File</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#SimLogFiles-2"><i class="fa fa-check"></i><b>14.5</b> Simulation Log Files</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#TLF-3"><i class="fa fa-check"></i><b>14.5.1</b> TLF</a>
<ul>
<li class="chapter" data-level="14.5.1.1" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#HPCTLF-4"><i class="fa fa-check"></i><b>14.5.1.1</b> HPC TLF and DT</a></li>
</ul></li>
<li class="chapter" data-level="14.5.2" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#TSF-3"><i class="fa fa-check"></i><b>14.5.2</b> TSF</a></li>
<li class="chapter" data-level="14.5.3" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#start-stats-3"><i class="fa fa-check"></i><b>14.5.3</b> Start Stats</a></li>
<li class="chapter" data-level="14.5.4" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#run-stats-3"><i class="fa fa-check"></i><b>14.5.4</b> Run Stats</a></li>
<li class="chapter" data-level="14.5.5" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#Messages-3"><i class="fa fa-check"></i><b>14.5.5</b> Messages</a></li>
<li class="chapter" data-level="14.5.6" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#Workspaces-2"><i class="fa fa-check"></i><b>14.5.6</b> GIS Workspaces</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#EOF-2"><i class="fa fa-check"></i><b>14.6</b> 1D Output File</a></li>
<li class="chapter" data-level="14.7" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#CheckLayers-2"><i class="fa fa-check"></i><b>14.7</b> Check Files</a></li>
<li class="chapter" data-level="14.8" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#MB-2"><i class="fa fa-check"></i><b>14.8</b> Mass Balance Output</a>
<ul>
<li class="chapter" data-level="14.8.1" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#OneD-MB-3"><i class="fa fa-check"></i><b>14.8.1</b> TUFLOW 1D Mass Balance</a></li>
<li class="chapter" data-level="14.8.2" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#MB-CLA-3"><i class="fa fa-check"></i><b>14.8.2</b> TUFLOW Classic Mass Balance</a></li>
<li class="chapter" data-level="14.8.3" data-path="Checks-and-Logs-1.html"><a href="Checks-and-Logs-1.html#MB-HPC-3"><i class="fa fa-check"></i><b>14.8.3</b> TUFLOW HPC Mass Balance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html"><i class="fa fa-check"></i><b>15</b> Viewing Outputs</a>
<ul>
<li class="chapter" data-level="15.1" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#Introduction-Viewing-2"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#Output-Folder-2"><i class="fa fa-check"></i><b>15.2</b> Folder Structure</a></li>
<li class="chapter" data-level="15.3" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#view-1D-2"><i class="fa fa-check"></i><b>15.3</b> 1D Output</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#view-tpc-3"><i class="fa fa-check"></i><b>15.3.1</b> TUFLOW Plot Control file (TPC)</a></li>
<li class="chapter" data-level="15.3.2" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#mm-4"><i class="fa fa-check"></i><b>15.3.2</b> Maximum and Minimum Output</a></li>
<li class="chapter" data-level="15.3.3" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#ccA-4"><i class="fa fa-check"></i><b>15.3.3</b> ccA GIS Layer</a></li>
<li class="chapter" data-level="15.3.4" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#TS-GIS-3"><i class="fa fa-check"></i><b>15.3.4</b> _TS GIS Layer</a></li>
<li class="chapter" data-level="15.3.5" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#Viewing-WLL-4"><i class="fa fa-check"></i><b>15.3.5</b> 1D Water Level Lines (WLL)</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#view-2D-2"><i class="fa fa-check"></i><b>15.4</b> 2D Output</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#view-mesh-3"><i class="fa fa-check"></i><b>15.4.1</b> Mesh Output</a></li>
<li class="chapter" data-level="15.4.2" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#view-raster-3"><i class="fa fa-check"></i><b>15.4.2</b> Raster Output</a></li>
<li class="chapter" data-level="15.4.3" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#View-PO-3"><i class="fa fa-check"></i><b>15.4.3</b> Plot Output</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#Post-Process-2"><i class="fa fa-check"></i><b>15.5</b> Post Processing</a></li>
<li class="chapter" data-level="15.6" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#Impact-Map-2"><i class="fa fa-check"></i><b>15.6</b> Impact Mapping</a></li>
<li class="chapter" data-level="15.7" data-path="Viewing-Output-1.html"><a href="Viewing-Output-1.html#Animations-2"><i class="fa fa-check"></i><b>15.7</b> Animations</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html"><i class="fa fa-check"></i><b>16</b> Quality Control and Troubleshooting</a>
<ul>
<li class="chapter" data-level="16.1" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#QAIntroduction-2"><i class="fa fa-check"></i><b>16.1</b> Introduction</a></li>
<li class="chapter" data-level="16.2" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#ModelHealth-2"><i class="fa fa-check"></i><b>16.2</b> Model Health</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#TUFLOWClassicModelHealth-3"><i class="fa fa-check"></i><b>16.2.1</b> TUFLOW Classic</a>
<ul>
<li class="chapter" data-level="16.2.1.1" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#TUFLOWClassicTimestep-4"><i class="fa fa-check"></i><b>16.2.1.1</b> Timestep</a></li>
</ul></li>
<li class="chapter" data-level="16.2.2" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#TUFLOWHPCModelHealth-3"><i class="fa fa-check"></i><b>16.2.2</b> TUFLOW HPC</a>
<ul>
<li class="chapter" data-level="16.2.2.1" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#TUFLOWHPCTimestep-4"><i class="fa fa-check"></i><b>16.2.2.1</b> Timestep</a></li>
</ul></li>
<li class="chapter" data-level="16.2.3" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#TUFLOWQAIndicators-3"><i class="fa fa-check"></i><b>16.2.3</b> Healthy Model Indicators</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#QATroubleshooting-2"><i class="fa fa-check"></i><b>16.3</b> Troubleshooting</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#QAGeneralComments-3"><i class="fa fa-check"></i><b>16.3.1</b> General Comments</a></li>
<li class="chapter" data-level="16.3.2" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#tuflowinstability-3"><i class="fa fa-check"></i><b>16.3.2</b> Instability Identification</a>
<ul>
<li class="chapter" data-level="16.3.2.1" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#onedinstability-4"><i class="fa fa-check"></i><b>16.3.2.1</b> 1D (ESTRY) Domains</a></li>
<li class="chapter" data-level="16.3.2.2" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#ClassicInstability-4"><i class="fa fa-check"></i><b>16.3.2.2</b> TUFLOW Classic</a></li>
<li class="chapter" data-level="16.3.2.3" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#HPCInstability-4"><i class="fa fa-check"></i><b>16.3.2.3</b> TUFLOW HPC</a></li>
<li class="chapter" data-level="16.3.2.4" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#onedtwodinstability-4"><i class="fa fa-check"></i><b>16.3.2.4</b> 1D/2D Links</a></li>
<li class="chapter" data-level="16.3.2.5" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#othertroublshooting-4"><i class="fa fa-check"></i><b>16.3.2.5</b> Other General Troubleshooting Recommendations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#QAchecklist-2"><i class="fa fa-check"></i><b>16.4</b> QA Check List and Simulation Logging</a></li>
<li class="chapter" data-level="16.5" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#ExceedingRAM-2"><i class="fa fa-check"></i><b>16.5</b> Models Exceeding Hardware RAM</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#ComputerRAM-3"><i class="fa fa-check"></i><b>16.5.1</b> Computer RAM</a></li>
<li class="chapter" data-level="16.5.2" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#TUFLOWVersion-3"><i class="fa fa-check"></i><b>16.5.2</b> TUFLOW Version</a></li>
<li class="chapter" data-level="16.5.3" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#QAmodeldesign-3"><i class="fa fa-check"></i><b>16.5.3</b> Model Design</a></li>
<li class="chapter" data-level="16.5.4" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#memoryusage-3"><i class="fa fa-check"></i><b>16.5.4</b> Memory Usage Reporting</a></li>
<li class="chapter" data-level="16.5.5" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#tempmemoryusage-3"><i class="fa fa-check"></i><b>16.5.5</b> Temporary Memory Usage</a></li>
<li class="chapter" data-level="16.5.6" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#GPURAM-3"><i class="fa fa-check"></i><b>16.5.6</b> TUFLOW HPC GPU Module and RAM requirements</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="QualityControl-and-Troubleshooting-1.html"><a href="QualityControl-and-Troubleshooting-1.html#backwardcompatibility-2"><i class="fa fa-check"></i><b>16.6</b> Past Release Version Backward Compatibility</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="Utilities-1.html"><a href="Utilities-1.html"><i class="fa fa-check"></i><b>17</b> Utilities</a>
<ul>
<li class="chapter" data-level="17.1" data-path="Utilities-1.html"><a href="Utilities-1.html#Util-Introduction-2"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="Utilities-1.html"><a href="Utilities-1.html#GIS-Utilities-2"><i class="fa fa-check"></i><b>17.2</b> GIS Based Utilities</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="Utilities-1.html"><a href="Utilities-1.html#QGIS-Plugin-3"><i class="fa fa-check"></i><b>17.2.1</b> QGIS TUFLOW Plugin</a></li>
<li class="chapter" data-level="17.2.2" data-path="Utilities-1.html"><a href="Utilities-1.html#ArcGIS-Toolbar-3"><i class="fa fa-check"></i><b>17.2.2</b> ArcGIS Pro Toolbar</a></li>
<li class="chapter" data-level="17.2.3" data-path="Utilities-1.html"><a href="Utilities-1.html#ArcMap-Toolbox-3"><i class="fa fa-check"></i><b>17.2.3</b> ArcMap Toolbox</a></li>
<li class="chapter" data-level="17.2.4" data-path="Utilities-1.html"><a href="Utilities-1.html#MiTools-3"><i class="fa fa-check"></i><b>17.2.4</b> MiTools</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="Utilities-1.html"><a href="Utilities-1.html#Console-2"><i class="fa fa-check"></i><b>17.3</b> Console Utilities</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="Utilities-1.html"><a href="Utilities-1.html#Processing-Utilites-3"><i class="fa fa-check"></i><b>17.3.1</b> Pre and Post Processing</a></li>
<li class="chapter" data-level="17.3.2" data-path="Utilities-1.html"><a href="Utilities-1.html#Convert-Utilties-3"><i class="fa fa-check"></i><b>17.3.2</b> Convert to TUFLOW</a></li>
<li class="chapter" data-level="17.3.3" data-path="Utilities-1.html"><a href="Utilities-1.html#Syntax-Highlighting-3"><i class="fa fa-check"></i><b>17.3.3</b> Textfile Syntax Highlighting</a></li>
<li class="chapter" data-level="17.3.4" data-path="Utilities-1.html"><a href="Utilities-1.html#PyTUFLOW-3"><i class="fa fa-check"></i><b>17.3.4</b> PyTUFLOW</a></li>
<li class="chapter" data-level="17.3.5" data-path="Utilities-1.html"><a href="Utilities-1.html#Excel-3"><i class="fa fa-check"></i><b>17.3.5</b> Excel Macros</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="Features-and-Changes-1.html"><a href="Features-and-Changes-1.html"><i class="fa fa-check"></i><b>18</b> Default Changes</a>
<ul>
<li class="chapter" data-level="18.1" data-path="Features-and-Changes-1.html"><a href="Features-and-Changes-1.html#changes-post-2018"><i class="fa fa-check"></i><b>18.1</b> Post 2018-03 Release</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="Features-and-Changes-1.html"><a href="Features-and-Changes-1.html#changes-from-2020-10"><i class="fa fa-check"></i><b>18.1.1</b> 2023-03 Release to 2020-10 Release</a></li>
<li class="chapter" data-level="18.1.2" data-path="Features-and-Changes-1.html"><a href="Features-and-Changes-1.html#changes-from-2020-01"><i class="fa fa-check"></i><b>18.1.2</b> 2020-10 Release to 2020-01 Release</a></li>
<li class="chapter" data-level="18.1.3" data-path="Features-and-Changes-1.html"><a href="Features-and-Changes-1.html#changes-from-2018-03"><i class="fa fa-check"></i><b>18.1.3</b> 2020-01 Release to 2018-03 Release</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="Features-and-Changes-1.html"><a href="Features-and-Changes-1.html#changes-pre-2018"><i class="fa fa-check"></i><b>18.2</b> Pre 2018-03 Release</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="TCFCommands-1.html"><a href="TCFCommands-1.html"><i class="fa fa-check"></i><b>A</b> TCF Commands</a></li>
<li class="chapter" data-level="B" data-path="ECFCommands-1.html"><a href="ECFCommands-1.html"><i class="fa fa-check"></i><b>B</b> ECF Commands</a></li>
<li class="chapter" data-level="C" data-path="TGCCommands-1.html"><a href="TGCCommands-1.html"><i class="fa fa-check"></i><b>C</b> TGC Commands</a></li>
<li class="chapter" data-level="D" data-path="TBCCommands-1.html"><a href="TBCCommands-1.html"><i class="fa fa-check"></i><b>D</b> TBC Commands</a></li>
<li class="chapter" data-level="E" data-path="TOCCommands-1.html"><a href="TOCCommands-1.html"><i class="fa fa-check"></i><b>E</b> TOC Commands</a></li>
<li class="chapter" data-level="F" data-path="TRFCCommands-1.html"><a href="TRFCCommands-1.html"><i class="fa fa-check"></i><b>F</b> TRFC Commands</a></li>
<li class="chapter" data-level="G" data-path="TESFCommands-1.html"><a href="TESFCommands-1.html"><i class="fa fa-check"></i><b>G</b> TESF Commands</a></li>
<li class="chapter" data-level="H" data-path="QCFCommands-1.html"><a href="QCFCommands-1.html"><i class="fa fa-check"></i><b>H</b> QCF Commands</a></li>
<li class="chapter" data-level="I" data-path="TSCFCommands-1.html"><a href="TSCFCommands-1.html"><i class="fa fa-check"></i><b>I</b> TSCF Commands</a></li>
<li class="chapter" data-level="J" data-path="ADCFCommands-1.html"><a href="ADCFCommands-1.html"><i class="fa fa-check"></i><b>J</b> ADCF Commands</a></li>
<li class="chapter" data-level="K" data-path="TEFCommands-1.html"><a href="TEFCommands-1.html"><i class="fa fa-check"></i><b>K</b> TEF Commands</a></li>
<li class="chapter" data-level="L" data-path="SWMMGeopackage-1.html"><a href="SWMMGeopackage-1.html"><i class="fa fa-check"></i><b>L</b> SWMM GeoPackage Format</a>
<ul>
<li class="chapter" data-level="L.1" data-path="SWMMGeopackage-1.html"><a href="SWMMGeopackage-1.html#swmm-geopackage-layer-list"><i class="fa fa-check"></i><b>L.1</b> SWMM GeoPackage Layer List</a></li>
<li class="chapter" data-level="L.2" data-path="SWMMGeopackage-1.html"><a href="SWMMGeopackage-1.html#swmm-geopackage-layer-descriptions"><i class="fa fa-check"></i><b>L.2</b> SWMM GeoPackage Layer Descriptions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://docs.tuflow.com/classic-hpc/manual/2023-03/"><img src="images/WQFooter.jpg" style="width:246px;height:10px;"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><h0 style="color:rgb(0,85,129);">TUFLOW Classic/HPC User Manual 2023-03</h0></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Running-Simulations-1" class="section level1 hasAnchor" number="13">
<h1><span class="header-section-number">Section 13</span> Managing and Starting Simulations<a href="Running-Simulations-1.html#Running-Simulations-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="RunningSimulationsIntro-2" class="section level2 hasAnchor" number="13.1">
<h2><span class="header-section-number">13.1</span> Introduction<a href="Running-Simulations-1.html#RunningSimulationsIntro-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This chapter provides guidance on model naming conventions
and how TUFLOW’s powerful Variables, Events and Scenarios functionalities may be used to
simulate any number of scenarios and events from a single control (.tcf) file.</p>
<p>The latter part of the chapter discusses the installation of TUFLOW, the
different TUFLOW dongle types and how to start a simulation, both as a standalone TUFLOW simulation and in conjunction with third-party software.</p>
<p>Finally, there is a section on the reproducibility of results when using different hardware.</p>
</div>
<div id="FileNaming-2" class="section level2 hasAnchor" number="13.2">
<h2><span class="header-section-number">13.2</span> File Naming<a href="Running-Simulations-1.html#FileNaming-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Each hydraulic modelling study can easily generate hundreds, if not thousands, of model
input files in addition to a large number of check and result files.
Devising a sound naming convention as part of the modelling process is
key to modelling that is easily interpreted, logical, efficient, quick to
error check and quality control, and provide traceability for quality assurance.</p>
<p>The examples below are presented as guidance only. They demonstrate the
progression of a simple model naming convention to a more complex
version that incorporates different flood events and scenarios. The
examples focus on the name of the .tcf control file, as this
determines the prefix assigned to both the 1D and 2D check and result
files.</p>
<p><em>Tip: A general recommendation is to avoid long filenames and use acronyms where
possible. For example, for a simulation of the Brisbane River for the existing topography for the 1 in 100, 12 hour duration flood event, “BR_Exg_100yr_12hr_001.tcf” is preferable to “Brisbane_River_Existing_100year_12hour_001.tcf”.</em></p>
<p><strong>Example 1: Basic</strong></p>
<p><em>MODEL_001.tcf</em></p>
<p>In its simplest form, the names of the majority of TUFLOW models consist
of a few characters denoting the study name and a version number. The
characters denoting the study name are typically included in all input
files to specify that the files are unique or created for this study.
The numbering is used to denote different versions of the model, where
each time a change is made and the model re-simulated, the version
number is incremented. Use of a model version numbering system ensures
it is clear which model input files generated which model output files.
This is particularly important when troubleshooting or quality controlling a model.</p>
<p><strong>Example 2: Event Naming</strong></p>
<p><em>MODEL_0100F_001.tcf</em></p>
<p><em>MODEL_1000F_001.tcf</em></p>
<p>Most hydraulic modelling studies require the simulation of more than one
event. In these cases, it is preferable to include the name of the
event within the simulation name rather than simply incrementing the
model version number. Note that the same number of characters is
retained for the 100-year (0100F) and 1000-year (1000F) events and, in this case, the use of ‘F’ to
denote the simulation is a fluvial flood event. Retaining the same number of characters (for example, by using preceding zeroes) ensures when the files are viewed in Windows Explorer, they are
presented in ascending order. The model version number is the same in
this example and tells the user that the same version of the model has
been simulated for two different flood events.</p>
<p>Refer to Section <a href="Running-Simulations-1.html#Events-3">13.3.1</a> which presents a method to model numerous
hydraulic events using a single .tcf control file.</p>
<p><strong>Example 3: Scenario Naming</strong></p>
<p><em>MODEL_0100F_EXG_001.tcf</em></p>
<p><em>MODEL_0100F_PRP_001.tcf</em></p>
<p>Many hydraulic modelling studies require the simulation of multiple
scenarios, such as pre- and post-development topography scenarios or sensitivity
testing where one or more model parameters are varied. Incorporating the
name of the modelled scenario into the .tcf filename easily differentiates the
output files associated with each scenario. The characters used to
denote the scenario are typically also used for model input files
specific to the scenario. For example, the post-development scenario
‘PRP’ may involve the raising of flood defences, hence the GIS layer used to raise the defences
might be named ‘2d_zsh_MODEL_PRP_defence_001.shp’. The presence of this
layer in a model simulation of the pre-development scenario ‘EXG’, will
immediately highlight to the user that a mistake has been made.</p>
<p>Refer to Section <a href="Running-Simulations-1.html#Scenarios-3">13.3.2</a> which presents a method to model one or
more scenarios using a single .tcf control file.</p>
</div>
<div id="SimulationManagement-2" class="section level2 hasAnchor" number="13.3">
<h2><span class="header-section-number">13.3</span> Simulation Management<a href="Running-Simulations-1.html#SimulationManagement-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>TUFLOW incorporates powerful functionality to manage the simulation of
multiple events and multiple scenarios. The flexibility offered allows
the user the ability to initiate all simulations using the one .tcf file should they so desire. Rather than create a new .tcf file for every simulation
and a new .tgc and/or .ecf file for every different model scenario, it
is possible to just have one of each of these files, or at least
markedly reduce the number of these files. An example application using a single set of control files to simulate 328,986 combinations of different model domains, events and scenarios is published in the <a href="https://www.tuflow.com/insights/2021_12-scenarios-events-and-variables/">TUFLOW Insights Library</a>.</p>
Numerous tutorial examples (with associated data downloads) are available which demonstrate these powerful features:
<ol>
<li>
<a href="https://www.tuflow.com/training/training-catalogue/tt105e-bulk-simulation-management-scenarios-user-defined-variables-and-events-elearning/">eLearning - Bulk Simulation Management Scenarios, Events and Variables</a>
<li>
<a href="https://wiki.tuflow.com/Tutorial_M08">TUFLOW Wiki Tutorial 8 - Scenario Management</a>
<li>
<a href="https://wiki.tuflow.com/Tutorial_M09">TUFLOW Wiki Tutorial 9 - Event Management</a>
<li>
<a href="https://wiki.tuflow.com/TUFLOW_Example_Models#Bulk_Simulation_Management">TUFLOW Wiki Example Models - Scenarios, Events and Variables</a>
</ol>
<p>The following sections of the manual discuss the available options.</p>
<div id="Events-3" class="section level3 hasAnchor" number="13.3.1">
<h3><span class="header-section-number">13.3.1</span> Events<a href="Running-Simulations-1.html#Events-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Most hydraulic modelling studies require the simulation of different
probabilistic events. For example, a flood study may have to consider the
2, 5, 10, 20, 50, 100, 200 and 500 year Average Recurrence Interval
events, and one or two extreme floods. Each, or most of these, may have to
be simulated using a range of different duration rainfalls. A downstream
boundary such as the ocean may also need to be varied to model different
probability storm tides or climate change scenarios. The final number of
simulations can easily be in the hundreds, if not thousands.</p>
<p>The ability to simulate
multiple events using a single .tcf control file not only makes
management of the model easier, it also ensures consistency between the
simulations and supports better project quality control.</p>
<p>Multiple events are set up through the creation of a TUFLOW Event File
(recommended extension .tef) containing .tcf and .ecf commands that are
particular to a specific event. The event specific commands are
contained between <a href="#tefDefineEvent">Define Event</a> and <a href="#tefEndDefine">End
Define</a> commands. Global .tcf and .ecf commands can also
be used by placing these commands outside the <a href="#tefDefineEvent">Define
Event</a> blocks (normally at the top). The .tef file is referenced in the .tcf file using the <a href="TCFCommands-1.html#tcfEventFile">Event File</a> command. The TUFLOW Event File is typically the last line in a .tcf file. Placing it in this location ensures it will be the final .tcf command that is read, and any global .tcf and .ecf commands within it will take precedence over conflicting commands in the parent .tcf and .ecf files.</p>
<p>Up to nine (9) different event groups can be
specified for a single simulation. Unlimited events can be defined within an event group. Example event groups and associated events could be:</p>
<ul>
<li>Flood event magnitude: 2, 5, 10, 20, 50, 100, 200 and 500 year Average Recurrence Interval storms.</li>
<li>Storm Duration: 1hr, 2hr, 3hr, 4hr, 6hr, 9hr, 12hr etc.</li>
<li>Design event temporal pattern: TP01, TP02, TP03, TP04, TP05, TP06, TP07, TP08, TP09, TP10.<br />
</li>
<li>Downstream boundary condition: LAT, HAT, 5 year, 10 year.</li>
<li>Climate change time horizon: 2025, 2050, 2100.</li>
</ul>
<p>Since the .tef file typically lists all available event options, the file can be viewed as a database of all available event possibilities. This is useful for model peer review purposes.</p>
<p>To automatically insert the event name(s) into the output filenames, making them unique, place “~e~” or “~e&lt;X&gt;~” (where &lt;X&gt; is from 1 to 9) into the .tcf filename.<br>
<em>Note ~e~ is effectively the same as ~e1~ and is typically used if there is only one event type being varied.</em></p>
<p>For example,</p>
<p>MODEL_~e1~_~e2~_EXG_001.tcf can be configured to run any number of events within the e1 and e2 event groups, such as:</p>
<ul>
<li>e1=0100F and e2=12h results in MODEL_0100F_12h_EXG_001<br />
</li>
<li>e1=0100F and e2=24h results in MODEL_0100F_24h_EXG_001<br />
</li>
<li>e1=1000F and e2=12h results in MODEL_1000F_12h_EXG_001<br />
</li>
<li>e1=1000F and e2=24h results in MODEL_1000F_24h_EXG_001</li>
</ul>
<p>Two options are available to define the event choice for a model simulation:</p>
<ol style="list-style-type: decimal">
<li>Using a batch file (.bat): Specify the –e or –eX options (see Table
<a href="Running-Simulations-1.html#tab:tab-TUFLOWOptions">13.2</a>) to run the multiple events using the same .tcf file – refer to the examples below. This option is best suited to executing bulk simulations.<br />
</li>
<li>Using the <a href="TCFCommands-1.html#tcfModelEvents">Model Events</a> command: Change the events manually
before each simulation within the .tcf file. Note that if using the
–e or -ex option, this will override any events defined
using <a href="TCFCommands-1.html#tcfModelEvents">Model Events</a> in the .tcf file. This option is useful for carrying out quick what-if or sensitivity simulations. It is not practical for bulk simulation.</li>
</ol>
<p>The examples below demonstrate two approaches for running simulations of a 20
and 50 year flood and 1 and 2 hour duration storms.</p>
<ul>
<li>Example 1 uses a single event group.</li>
<li>Example 2 achieves the same outcome as Example 1, though by using two event groups (~e1~ and ~e2~) it avoids some of the command repetition required for Example 1.</li>
</ul>
<p>In the examples, note how the same command (in this case <a href="TCFCommands-1.html#tcfEndTime">End
Time</a>) is used within the event blocks to assign a
different simulation end time depending on the duration of the event. Also note the use of <a href="TCFCommands-1.html#tcfBCEventSource">BC Event Source</a>, which is a much more powerful alternative to using <a href="TCFCommands-1.html#tcfBCEventText">BC Event Text</a> and <a href="TCFCommands-1.html#tcfBCEventName">BC Event Name</a>, in that it can be used to define
up to 100 different event text / name combinations instead of being
limited to one. The key text field linkages with the <a href="TCFCommands-1.html#tcfBCDatabase">BC Database</a> file
are highlighted in yellow.
<br><br></p>
<p><strong>Events Example 1: One Event Group</strong></p>
<p>Within the BC Database file:</p>
<p>Name,Source,Column 1,Column 2,Add Col 1,Mult Col 2,Add Col 2,<br>
C001,..\Inflows\<em><mark>~ARI~</mark>_<mark>~DUR~</mark>.csv,Time,C001<br>
C002,..\Inflows\</em><mark>~ARI~</mark>_<mark>~DUR~</mark>.csv,Time,C002<br>
…</p>
<p>Include “~e~” in the .tcf filename, for example “Nile_~e~.tcf”, and
add the following line at the bottom of the file:</p>
<p><tcmd><a href="TCFCommands-1.html#tcfEventFile">Event File</a></tcmd><teq> ==</teq><tblk> Nile_Events.tef</tblk></p>
<p>The “Nile_Events.tef” file contains lines such as the below:</p>
<p><tgrn>!____ Global Default Settings_______________________</tgrn></p>
<p><tcmd><a href="TCFCommands-1.html#tcfStartTime">Start Time</a></tcmd><teq> ==</teq><tblk> 0</tblk> <tgrn>! Global value, unless specified below</tgrn></p>
<p><tgrn>!____ 20 year event definitions______________________</tgrn></p>
<div class="line-block"><tcmd><a href="#tefDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 020y_01h</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~ARI~</mark> | 020y</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~DUR~</mark> | 01h</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfEndTime">End Time</a></tcmd><teq> ==</teq><tblk> 3</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfOutputFolder">Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\2d\020y</tblk><br />
      <tcmd><a href="ECFCommands-1.html#ecfOutputFolder">1D Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\1d\020y</tblk><br />
<tcmd><a href="#tefEndDefine">End Define</a></tcmd></div>
<div class="line-block"><tcmd><a href="#tefDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 020y_02h</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~ARI~</mark> | 020y</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~DUR~</mark> | 02h</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfEndTime">End Time</a></tcmd><teq> ==</teq><tblk> 4</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfOutputFolder">Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\2d\020y</tblk><br />
      <tcmd><a href="ECFCommands-1.html#ecfOutputFolder">1D Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\1d\020y</tblk><br />
<tcmd><a href="#tefEndDefine">End Define</a></tcmd></div>
<p><tgrn>!____ 50 year event definitions______________________</tgrn></p>
<div class="line-block"><tcmd><a href="#tefDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 050y_01h</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~ARI~</mark> | 050y</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~DUR~</mark> | 01h</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfEndTime">End Time</a></tcmd><teq> ==</teq><tblk> 3</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfOutputFolder">Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\2d\050y</tblk><br />
      <tcmd><a href="ECFCommands-1.html#ecfOutputFolder">1D Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\1d\050y</tblk><br />
<tcmd><a href="#tefEndDefine">End Define</a></tcmd></div>
<div class="line-block"><tcmd><a href="#tefDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 050y_02h</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~ARI~</mark> | 050y</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~DUR~</mark> | 02h</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfEndTime">End Time</a></tcmd><teq> ==</teq><tblk> 4</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfOutputFolder">Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\2d\050y</tblk><br />
      <tcmd><a href="ECFCommands-1.html#ecfOutputFolder">1D Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\1d\050y</tblk><br />
<tcmd><a href="#tefEndDefine">End Define</a></tcmd></div>
<p> <br />
Multiple events can be simulated from a single .tcf file using a batch
file. Refer to Section <a href="Running-Simulations-1.html#StartingaSim-3">13.5.2</a> for details how to create a batch
file. Below is an events batch file example in its simplest form, without looping.</p>
<p><tblk><strong>set</strong> TUFLOWEXE=C:\Program Files\TUFLOW\TUFLOW_iSP_w64.exe<br />
<strong>set</strong> RUN=start “TUFLOW” /low /wait /min “<strong>%TUFLOWEXE%</strong>” -b<br />
<strong>%RUN%</strong> –e1 020y_01h Nile_~e~.tcf<br />
<strong>%RUN%</strong> –e1 020y_02h Nile_~e~.tcf<br />
<strong>%RUN%</strong> –e1 050y_01h Nile_~e~.tcf<br />
<strong>%RUN%</strong> –e1 050y_02h Nile_~e~.tcf<br />
</tblk>
<br></p>
<p><strong>Events Example 2: Two Event Groups</strong></p>
<p>Within the BC Database file:</p>
<p>Name,Source,Column 1,Column 2,Add Col 1,Mult Col 2,Add Col 2,<br>
C001,..\Inflows\Nile\<em><mark>~ARI~</mark>_<mark>~DUR~</mark>.csv,Time,C001<br>
C002,..\Inflows\Nile\</em><mark>~ARI~</mark>_<mark>~DUR~</mark>.csv,Time,C002<br>
…</p>
<p>Include “~e1~” and “~e2” in the .tcf filename, for example
“Nile_~e1~_~e2~.tcf”, and add the following line:</p>
<p><tcmd><a href="TCFCommands-1.html#tcfEventFile">Event File</a></tcmd><teq> == </teq><tblk>Nile_Events.tef</tblk></p>
<p>The “Nile_Events.tef” file would contain lines such as the below:</p>
<p><tgrn>!____ Global Default Settings_______________________</tgrn></p>
<p><tcmd><a href="TCFCommands-1.html#tcfStartTime">Start Time</a></tcmd><teq> ==</teq><tblk> 0</tblk><tgrn>!! Global value, unless specified below</tgrn></p>
<p><tgrn>!____ ARI Definitions___________________________</tgrn></p>
<div class="line-block"><tcmd><a href="#tefDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 020y</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~ARI~</mark> | 020y</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfOutputFolder">Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\2d\020y</tblk><br />
      <tcmd><a href="ECFCommands-1.html#ecfOutputFolder">1D Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\1d\020y</tblk><br />
<tcmd><a href="#tefEndDefine">End Define</a></tcmd><br />
<tcmd><a href="#tefDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 050y</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~ARI~</mark> | 050y</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfOutputFolder">Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\2d\050y</tblk><br />
      <tcmd><a href="ECFCommands-1.html#ecfOutputFolder">1D Output Folder</a></tcmd><teq> ==</teq><tblk> ..\Results\1d\050y</tblk><br />
<tcmd><a href="#tefEndDefine">End Define</a></tcmd></div>
<p><tgrn>!____ DUR Definitions___________________________</tgrn></p>
<div class="line-block"><tcmd><a href="#tefDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 01h</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~DUR~</mark> | 01h</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfEndTime">End Time</a></tcmd><teq> ==</teq><tblk> 3</tblk><br />
<tcmd><a href="#tefEndDefine">End Define</a></tcmd></div>
<div class="line-block"><tcmd><a href="#tefDefineEvent">Define Event</a></tcmd><teq> ==</teq><tblk> 02h</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfBCEventSource">BC Event Source</a></tcmd><teq> ==</teq><tblk> <mark>~DUR~</mark> | 02h</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfEndTime">End Time</a></tcmd><teq> ==</teq><tblk> 4</tblk><br />
<tcmd><a href="#tefEndDefine">End Define</a></tcmd></div>
<p>To run multiple events from the one .tcf file a .bat file may be used, such as below
(see Section <a href="Running-Simulations-1.html#StartingaSim-3">13.5.2</a>):</p>
<p><tblk><strong>set</strong> TUFLOWEXE=C:\Program Files\TUFLOW\TUFLOW_iSP_w64.exe<br />
<strong>set</strong> RUN=start “TUFLOW” /low /wait /min “<strong>%TUFLOWEXE%</strong>” -b<br />
<strong>%RUN%</strong> –e1 020y -e2 01h Nile_~e1~_~e2~.tcf<br />
<strong>%RUN%</strong> –e1 020y -e2 02h Nile_~e1~_~e2~.tcf<br />
<strong>%RUN%</strong> –e1 050y -e2 01h Nile_~e1~_~e2~.tcf<br />
<strong>%RUN%</strong> –e1 050y -e3 02h Nile_~e1~_~e2~.tcf<br />
</tblk></p>
<p><a href="TCFCommands-1.html#tcfIfEvent">If Event</a> logic blocks are also permitted in the same
manner as the <a href="TCFCommands-1.html#tcfIfScenario">If Scenario</a> command. Refer to
Section <a href="Running-Simulations-1.html#Scenarios-3">13.3.2</a> for further information. Also, events are automatically defined as variables and can be used, for example, to set the output folder name. See Section <a href="Running-Simulations-1.html#Variables-3">13.3.3</a> for information on “Variables”.</p>
<p><em><strong>Reminder: The location of <a href="TCFCommands-1.html#tcfEventFile">Event File</a> within the .tcf
file and the location of the commands within the .tef file are
important.</strong> If, for example <a href="TCFCommands-1.html#tcfEndTime">End Time</a> occurs in the
.tcf file after where <a href="TCFCommands-1.html#tcfEventFile">Event File</a> occurs, this latter
occurrence of <a href="TCFCommands-1.html#tcfEndTime">End Time</a> will prevail over those specified
in the .tef file. Essentially, the commands from the .tef file (for the
events specified using the –e or -e<X> run options or <a href="TCFCommands-1.html#tcfModelEvents">Model
Events</a>) are inserted into the .tcf at the location of
the <a href="TCFCommands-1.html#tcfEventFile">Event File</a> command, and are processed as if they
are embedded into the .tcf file at that location. </em></p>
<p><em>Tip: To distinguish between 1D and 2D commands in a .tef file, prefix
.ecf commands by “1D” followed by a space. In the examples below, the
.ecf <a href="ECFCommands-1.html#ecfOutputFolder">Output Folder</a> command is used to set different
folders for the 1D results depending on the event.</em></p>
</div>
<div id="Scenarios-3" class="section level3 hasAnchor" number="13.3.2">
<h3><span class="header-section-number">13.3.2</span> Scenarios<a href="Running-Simulations-1.html#Scenarios-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Using <a href="TCFCommands-1.html#tcfIfScenario">If Scenario</a> is similar to
using <em>If…Else If… Else…End If</em> constructs in a programming or macro
language. This feature enables control of the commands to include or exclude depending on the scenario or combination of scenarios specified by the user at the time of simulation execution.</p>
<p>Scenarios can be added into most of TUFLOW’s control files. The only control files not supporting scenarios are the TUFLOW Rainfall Control File (.trcf), TUFLOW External Stress File (.tesf), Advection Control File (.adcf) or within a <a href="TOCCommands-1.html#tocDefineControl">Define Control</a> command inside a TUFLOW Operational Control (.toc) file. Similar to “events”, 9 scenario groups can be specified. Unlimited scenario variations can be defined within each scenario group.</p>
<p>In Example 1 below, an <a href="TCFCommands-1.html#tcfIfScenario">If Scenario</a> logic block has
been inserted into a .tgc file:
<br><br></p>
<p><strong>Scenarios Example 1:</strong></p>
<p><tgrn>!____ MAT Definitions___________________________</tgrn></p>
<div class="line-block"><tcmd><a href="TGCCommands-1.html#tgcSet">Set Mat</a></tcmd><teq> ==</teq><tblk> 1</tblk> <tgrn>! Set unspecified materials to default of 1</tgrn><br />
<tcmd><a href="TGCCommands-1.html#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_existing.shp</tblk> <tgrn>! Apply existing materials</tgrn><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">If Scenario</a></tcmd><teq> ==</teq><tblk> opA</tblk><br />
      <tcmd><a href="TGCCommands-1.html#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_opA.shp</tblk> <tgrn>! Option A materials</tgrn><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">End If</a></tcmd></div>
<p><br></p>
<p>TUFLOW will carry out the following steps:</p>
<ol style="list-style-type: decimal">
<li>Set all material values over the entire 2D domain to a value of 1.<br />
</li>
<li>Process the 2d_mat_existing.shp layer to assign material values from
a layer of land-use polygons representing the existing situation.<br />
</li>
<li>One of the following will then occur:
<ol style="list-style-type: decimal">
<li>If either “–s1 opA” was specified as a run selection in a batch file, or “<a href="TCFCommands-1.html#tcfModelScenarios">Model Scenarios</a> <teq>==</teq> opA” was
specified in the .tcf file, then the 2d_mat_opA.shp layer would be
processed to modify the material values affected by the Option A scenario. If “~s1~” occurs within the .tcf
filename, it is replaced by “opA” in the output filenames,
otherwise “opA” is appended to the end of the .tcf filename for
the output filenames.<br />
</li>
<li>If opA was not specified as the chosen scenario for a simulation, 2d_mat_opA.shp would be ignored. For example, that option would be required if modelling the existing scenario.</li>
</ol></li>
</ol>
<p>Example 1 can be extended to include an Option B, where Option B is an extension of Option A, and also Option C, which is a complete alternative to Option A and the combined Option A and B design. The <a href="TCFCommands-1.html#tcfIfScenario">If Scenario</a> logic block for this situation is shown in Example 2a below:
<br><br></p>
<p><strong>Scenarios Example 2a:</strong></p>
<div class="line-block"><tcmd><a href="TGCCommands-1.html#tgcSet">Set Mat</a></tcmd><teq> ==</teq><tblk> 1</tblk> <tgrn>! Set unspecified materials to default of 1</tgrn><br />
<tcmd><a href="TGCCommands-1.html#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_existing.shp</tblk> <tgrn>! Apply existing materials</tgrn><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">If Scenario</a></tcmd><teq> ==</teq><tblk> opA | opB</tblk><br />
      <tcmd><a href="TGCCommands-1.html#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_opA.shp</tblk> <tgrn>! Option A materials</tgrn><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">Else If Scenario</a></tcmd><teq> ==</teq><tblk> opB</tblk><br />
      <tcmd><a href="TGCCommands-1.html#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_opB.shp</tblk> <tgrn>! Option B materials</tgrn><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">Else If Scenario</a></tcmd><teq> ==</teq><tblk> opC</tblk><br />
      <tcmd><a href="TGCCommands-1.html#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_opC.shp</tblk> <tgrn>! Option C materials</tgrn><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">End If</a></tcmd></div>
<p><br></p>
<p>In the above example:</p>
<ul>
<li>If “–s1 opA” is selected as the scenario for simulation, only 2d_mat_opA.shp will be read.</li>
<li>If “–s1 opB” is selected as the scenario for simulation, 2d_mat_opA.shp and 2d_mat_opB.shp will be read.</li>
<li>If “–s1 opC” is selected as the scenario for simulation, only 2d_mat_opC.shp will be read.</li>
</ul>
<p>Example 2b has been expanded further to include an <a href="TCFCommands-1.html#tcfIfScenario">Else</a> and <a href="TCFCommands-1.html#tcfPause">Pause</a> command in 2c. The command in the <a href="TCFCommands-1.html#tcfIfScenario">Else</a> section will apply if any scenario except opA, opB or opC is called. The <a href="TCFCommands-1.html#tcfPause">Pause</a> command will halt the simulation initialisation and display the specified message in the DOS window. The user then has the option to continue or discontinue the simulation. It is good practice to include Pause commands as a way to avoid accidental use of unspecified scenarios.
<br><br></p>
<p><strong>Scenarios Example 2c:</strong></p>
<div class="line-block"><tcmd><a href="TGCCommands-1.html#tgcSet">Set Mat</a></tcmd><teq> ==</teq><tblk> 1</tblk> <tgrn>! Set unspecified materials to default of 1</tgrn><br />
<tcmd><a href="TGCCommands-1.html#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_existing.shp</tblk> <tgrn>! Apply existing materials</tgrn><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">If Scenario</a></tcmd><teq> ==</teq><tblk> opA | opB</tblk><br />
      <tcmd><a href="TGCCommands-1.html#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_opA.shp</tblk> <tgrn>! Option A materials</tgrn><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">Else If Scenario</a></tcmd><teq> ==</teq><tblk> opB</tblk><br />
      <tcmd><a href="TGCCommands-1.html#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_opB.shp</tblk> <tgrn>! Option B materials</tgrn><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">Else If Scenario</a></tcmd><teq> ==</teq><tblk> opC</tblk><br />
      <tcmd><a href="TGCCommands-1.html#tgcReadGIS">Read GIS Mat</a></tcmd><teq> ==</teq><tblk> shp\2d_mat_opC.shp</tblk> <tgrn>! Option C materials</tgrn><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">Else</a></tcmd><br />
      <tcmd><a href="TCFCommands-1.html#tcfPause">Pause</a></tcmd><teq> == </teq><tblk> Invalid op Scenario</tblk><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">End If</a></tcmd></div>
<p><br></p>
<p>In the example above, the batch file used to run the Option A, Option B and Option C
scenarios may look like this:</p>
<p><tblk><strong>set</strong> TUFLOWEXE=C:\Program Files\TUFLOW\TUFLOW_iSP_w64.exe<br />
<strong>set</strong> RUN=start “TUFLOW” /low /wait /min “<strong>%TUFLOWEXE%</strong>” -b<br />
<strong>%RUN%</strong> –b -s1 opA Nile_~s1~_001.tcf<br />
<strong>%RUN%</strong> –b –s1 opB Nile_~s1~_001.tcf<br />
<strong>%RUN%</strong> –b –s1 opC Nile_~s1~_001.tcf<br />
</tblk></p>
<p>As demonstrated above, it is recommended that scenario group placeholders be used (~s1~, ~s2~ etc.) in the .tcf file name. This provides the modeller with increased output file name control. Above, ~s1~ in the .tcf file name will be substituted with the chosen scenario in all result, log and check files. For example, for the first simulation in the queue, Nile_~s1~__001.tcf would become M01_opA_001 for all output files.</p>
<p>The <a href="TCFCommands-1.html#tcfIfScenario">If Scenario</a> command can be nested up to 10 levels. An example is provided in Scenario Example 3.
<br><br></p>
<p><strong>Scenarios Example 3:</strong></p>
<div class="line-block"><tcmd><a href="TCFCommands-1.html#tcfIfScenario">If Scenario</a></tcmd><teq> ==</teq><tblk> CLA </tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfSolutionScheme">Solution Scheme</a> </tcmd><teq> ==</teq><tblk> CLASSIC </tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfMapOutputDataTypes">Map Output Data Types</a> </tcmd><teq> ==</teq><tblk> h V q d MB1 MB2 </tblk><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">Else If Scenario</a></tcmd><teq> ==</teq><tblk> HPC </tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfSolutionScheme">Solution Scheme</a> </tcmd><teq> ==</teq><tblk> HPC </tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfHardware">Hardware</a> </tcmd><teq> ==</teq><tblk> GPU </tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfMapOutputDataTypes">Map Output Data Types</a> </tcmd><teq> ==</teq><tblk> h V q d dt </tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfIfScenario">If Scenario</a></tcmd><teq> ==</teq><tblk> SGS </tblk><br />
          <tcmd><a href="TCFCommands-1.html#tcfSGS">SGS</a> </tcmd><teq> ==</teq><tblk> ON </tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfIfScenario">Else If Scenario</a></tcmd><teq> ==</teq><tblk> noSGS </tblk><br />
          <tcmd><a href="TCFCommands-1.html#tcfSGS">SGS</a> </tcmd><teq> ==</teq><tblk> OFF </tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfIfScenario">Else</a></tcmd> </tblk><br />
          <tcmd><a href="TCFCommands-1.html#tcfPause">Pause</a></tcmd><teq> == </teq><tblk> Error: Invalid SGS Scenario </tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfIfScenario">End If</a></tcmd><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">Else</a></tcmd><br />
      <tcmd><a href="TCFCommands-1.html#tcfPause">Pause</a></tcmd><teq> == </teq><tblk> Error: Invalid Solver Scenario<br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">End If</a></tcmd></div>
<p><br>
Scenarios are automatically defined as “Variables” and can be used, for example, to set the output folder name. See Section <a href="Running-Simulations-1.html#Variables-3">13.3.3</a> for information on Variables.</p>
</div>
<div id="Variables-3" class="section level3 hasAnchor" number="13.3.3">
<h3><span class="header-section-number">13.3.3</span> Variables<a href="Running-Simulations-1.html#Variables-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <a href="TCFCommands-1.html#tcfSetVariable">Set Variable</a> command can be used to assign different
values for the same variable in different parts of the various TUFLOW control files. It is an efficient way to centralise information. It is regularly used to consolidate the definition of multiple variables in a single logic block rather than having multiple <em>If..Else If.. End If</em>
command blocks in different locations or control files.</p>
<p>The <a href="TCFCommands-1.html#tcfSetVariable">Set Variable</a> command can only be specified in the .tcf or
within a read file (.trd) referenced from the .tcf. The variables can then be
used in all control files (.tcf, .tgc, .tbc, .ecf, etc). The variables are referenced within the control files by being enclosing the character string within “&lt;&lt;” and “&gt;&gt;”.</p>
<p>An example is provided below. Variables associated with modelling at different cell sizes are defined in the .tcf within a single logic block.</p>
<div class="line-block"><tcmd><a href="TCFCommands-1.html#tcfIfScenario">If Scenario</a></tcmd><teq> ==</teq><tblk> 2m</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfSetVariable">Set Variable</a></tcmd> 2D_CELL_SIZE <teq>==</teq><tblk> 2</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfSetVariable">Set Variable</a></tcmd> 2D_TIMESTEP <teq>==</teq><tblk> 1.0</tblk><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">Else If Scenario</a></tcmd> <teq>==</teq><tblk> 5m</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfSetVariable">Set Variable</a></tcmd> 2D_CELL_SIZE <teq>==</teq><tblk> 5</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfSetVariable">Set Variable</a></tcmd> 2D_TIMESTEP <teq>==</teq><tblk> 2.5</tblk><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">Else If Scenario</a></tcmd> <teq>==</teq><tblk> 10m</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfSetVariable">Set Variable</a></tcmd> 2D_CELL_SIZE <teq>==</teq><tblk> 10</tblk><br />
      <tcmd><a href="TCFCommands-1.html#tcfSetVariable">Set Variable</a></tcmd> 2D_TIMESTEP <teq>==</teq><tblk> 5.0</tblk><br />
<tcmd><a href="TCFCommands-1.html#tcfIfScenario">End If</a></tcmd></div>
<p><br>
Along with this variable definition, the following is used in the respective control files:</p>
<ul>
<li>.tcf: <a href="TCFCommands-1.html#tcfTimestep">Timestep</a> <teq>==</teq><tblk> &lt;&lt;2D_TIMESTEP&gt;&gt;</tblk></li>
<li>.tcf: <a href="TCFCommands-1.html#tcfGridOutputCellSize">Grid Output Cell Size</a> <teq>==</teq><tblk> &lt;&lt;2D_CELL_SIZE&gt;&gt;</tblk><br></li>
<li>.tgc: <a href="TGCCommands-1.html#tgcCellSize">Cell Size</a> <teq>==</teq><tblk> &lt;&lt;2D_CELL_SIZE&gt;&gt;</tblk></li>
</ul>
<p>Refer to <a href="https://wiki.tuflow.com/TUFLOW_Example_Models#Bulk_Simulation_Management">TUFLOW Wiki Example Models - Variables</a> for various examples of variables in a working model.</p>
<p><em>Note: Set Variable scenario blocks are often contained within “read files”, referenced in the .tcf using the <a href="TCFCommands-1.html#tcfReadFile">Read File</a> command.</em></p>
<p>All events and scenarios are automatically set as a variable that can be
used within your control files. For example, if your model results are
to be output to different folders depending on Scenario 1 (~s1~), enter
the following into the .tcf file noting the use of &lt;&lt; and &gt;&gt; to
delineate the variable name.</p>
<p><a href="TCFCommands-1.html#tcfOutputFolder">Output Folder</a> <teq>==</teq><tblk> ..\results\&lt;&lt;~s1~&gt;&gt;</tblk></p>
<p>In the case above, if Scenario ~s1~ is set to “OpA”, TUFLOW
automatically sets a variable named “~s1~” to a value of “OpA”, and the
output will be directed to ..\results\OpA.</p>
<p>As an extension to the example above, if the output folder is to also
include the first event name, which, for example, is the return period
of the flood, the following could be used:</p>
<p><a href="TCFCommands-1.html#tcfOutputFolder">Output Folder</a> <teq>==</teq><tblk>..\results\&lt;&lt;~e1~&gt;&gt;_&lt;&lt;~s1~&gt;&gt;</tblk></p>
<p>If Event ~e1~ is set to “Q100”, the output will be directed to
..\results\Q100_OpA.</p>
</div>
</div>
<div id="TUFLOWExecDownload-2" class="section level2 hasAnchor" number="13.4">
<h2><span class="header-section-number">13.4</span> TUFLOW Executable Download<a href="Running-Simulations-1.html#TUFLOWExecDownload-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="InstallOverview-3" class="section level3 hasAnchor" number="13.4.1">
<h3><span class="header-section-number">13.4.1</span> Overview and Where to Install<a href="Running-Simulations-1.html#InstallOverview-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The TUFLOW release consists of two different versions of the executable
as follows:</p>
<ul>
<li>TUFLOW_iSP_w64.exe<br />
</li>
<li>TUFLOW_iDP_w64.exe</li>
</ul>
<p>The naming convention for each executable is explained in Table <a href="Running-Simulations-1.html#tab:tab-TUFLOWVersions">13.1</a>. Each version
has associated TUFLOW .dll and .ptx files, and several system .dll files.</p>
<p>For each version all .exe, .dll and .ptx files must be placed in the same
folder and kept together at all times. Older versions of TUFLOW may not have any .ptx files (these are associated with GPU based simulations. When replacing with a new build,
archive the files by creating a folder of the same name as the Build ID
(e.g. 2023-03-AD), and place all files in this folder.</p>
<p>The Build ID includes the acronym and appears in the top bar of the
Console window, in the .tlf file and elsewhere. For example, if running
the single precision, Windows 64-bit version, the Build ID would be
“2023-03-AD-iSP-w64”.</p>
<p>Older builds can always be setup in a similar manner by placing the
build in its own folder, if they are needed for running legacy models.</p>
<p><a href="TCFCommands-1.html#tcfModelTUFLOWBuild">Model TUFLOW Build</a> or a combination of <a href="TCFCommands-1.html#tcfModelTUFLOWRelease">Model
TUFLOW Release</a>, <a href="TCFCommands-1.html#tcfModelPrecision">Model
Precision</a> and <a href="TCFCommands-1.html#tcfModelPlatform">Model Platform</a>
can be used to force a simulation to use a specific TUFLOW build,
release, or precision (SP or DP). This can be
very useful for ensuring a consistent TUFLOW build/release/version is
used for a project.</p>
<p>It is recommended that a folder structure such as that shown in Figure <a href="Running-Simulations-1.html#fig:fig-TUFLOWEngineFiles">13.1</a> is used.
If an update (patch) is issued, archive the old build by moving all
files to a separate folder or .zip file, and copy in the new TUFLOW
files. This way, batch files, text editors and GIS packages that are
used to start TUFLOW simulations will access the latest build. Previous
versions can still be used if required.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-TUFLOWEngineFiles"></span>
<img src="images/image176a.png" alt="**TUFLOW Engine Files**"  />
<p class="caption">
Figure 13.1: <strong>TUFLOW Engine Files</strong>
</p>
</div>
</center>
<!-- WJS
Above image might need to be clearer/higher resolution
-->
<!--EFC: I've updated this-->
<table>
<caption>
<span id="tab:tab-TUFLOWVersions">Table 13.1: </span><strong>TUFLOW Versions (iSP, iDP, w64)</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Version
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Single Precision<br />
(iSP)
</td>
<td style="text-align:left;">
Compiled using single precision (4-byte) real numbers that typically have around 7 significant figures. This version is recommended for the majority of TUFLOW simulations. See Section <a href="Running-Simulations-1.html#iSPdSP-3">13.4.2</a> for discussion on precision.
</td>
</tr>
<tr>
<td style="text-align:left;">
Double Precision<br />
(iDP)
</td>
<td style="text-align:left;">
<p>Compiled using double precision (8-byte) real numbers that typically have around 16 significant figures. See Section <a href="Running-Simulations-1.html#iSPdSP-3">13.4.2</a> for discussion on precision.</p>
<p>For TUFLOW Classic, this version should be used for models with high ground elevations (greater than 100 to 1,000m) and for direct rainfall models. If a model falls into these categories and is experiencing mass errors when using the single precision version, re-run using the double precision version and should the mass errors reduce to acceptable levels, continue to use double precision, otherwise contact <a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a>.</p>
<p>For TUFLOW HPC, due to its depth based formulation (rather than using elevation as required for implicit schemes like Classic), it double precision rarely needs to be used. However, for long-running simulations involving millions of timesteps, subsurface water levels can be subject to round-off errors during the integration process. Should mass volume errors occur, or if you are concerned about the accuracy of ground water levels, run in double precision and compare with single precision. Should the mass errors reduce to acceptable levels, continue to use double precision, otherwise contact <a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a>.</p>
<p><a href="TCFCommands-1.html#tcfModelPrecision">Model Precision</a> can be used to ensure that a simulation is started using the single or double precision version. For example, a single precision version of TUFLOW will generate an error if used to start the simulation if the command below is included in the .tcf:</p>
<a href="TCFCommands-1.html#tcfModelPrecision">Model Precision</a> <teq>==</teq> Double
</td>
</tr>
<tr>
<td style="text-align:left;">
Windows 32-bit<br />
(w32)
</td>
<td style="text-align:left;">
Legacy builds that were compiled as a 32-bit process. w32 TUFLOW builds can be run on Windows 32-bit and 64-bit platforms. All builds/releases prior to the 2010-10 release (except for the 2009-07-XX-iDP-64 build) are 32-bit. 32-bit programs are unable to access as much memory (RAM) as 64-bit versions of TUFLOW. For large models TUFLOW may generate an error that it is unable to allocate enough memory. Typically, when the memory requirement is ~1.5GB per simulation the 32-bit version of TUFLOW will not be able to allocate enough RAM.<br />
The 32-bit version of TUFLOW is only available for pre 2017-09 releases. Users should use the 64-bit versions where possible.
</td>
</tr>
<tr>
<td style="text-align:left;">
Windows 64-bit<br />
(w64)
</td>
<td style="text-align:left;">
<p>Compiled as a 64-bit process. w64 TUFLOW builds can only be run on Windows 64-bit platforms.</p>
<p>w64 2010-10 builds have been found to reduce simulation times by 20 to 50% compared with the 2009-07 (32-bit) release. Slightly different results (mostly fractions of a mm) will occur between w32 and w64 for the same model.</p>
<p><a href="TCFCommands-1.html#tcfModelPlatform">Model Platform</a> can be used to force a simulation to use a w32 or w64 version.</p>
<b>Note that the 64-bit versions of TUFLOW may only be run using a WIBU dongle </b> .
</td>
</tr>
</tbody>
</table>
<!-- WJS
Greg, please review comment on HPC needing DP in above table.
-->
<!--EFC: Greg has done this-->
<p>Running TUFLOW is carried out by initiating the TUFLOW_X.exe file using
one of the approaches discussed in Section <a href="Running-Simulations-1.html#StartingaSim-3">13.5.2</a>. The system
.dll files are required for the following purposes:</p>
<ul>
<li>TUFLOW_LINK_X.dll allows other schemes such as 12D DDA, FloodModeller 1D, EPA SWMM and XPSWMM to dynamically link with TUFLOW.<br />
</li>
<li>TUFLOW_USER_DEFINED_X.dll allows users to customise TUFLOW to suit
their purposes (see Section <a href="Running-Simulations-1.html#CustomingTUFLOW-3">13.4.3</a>).<br />
</li>
<li>TUFLOW_AD_X.dll contains the AD (advection-dispersion) module
algorithms.<br />
</li>
<li>TUFLOW_MORPHOLOGY_X.dll contains the morphology module algorithms. These are deprecated and retained for backward compatibility.<br />
</li>
<li>Other supplied .dlls are system DLLs required by TUFLOW.</li>
</ul>
<p>A number of .ptx files are required to run TUFLOW HPC/Quadtree simulations on a GPU card, these are:</p>
<ul>
<li>hpcKernels_nSP.ptx</li>
<li>hpcKernels_nDP.ptx<br />
</li>
<li>qpcKernels_nSP.ptx<br />
</li>
<li>qpcKernels_nDP.ptx</li>
</ul>
<p><strong>As a general rule, once a build is over three years old, it is no
longer supported.</strong> It can still be used, but there is no guarantee that
older builds will recognise newer dongles or are updated with bug fixes.</p>
</div>
<div id="iSPdSP-3" class="section level3 hasAnchor" number="13.4.2">
<h3><span class="header-section-number">13.4.2</span> Single and Double Precision<a href="Running-Simulations-1.html#iSPdSP-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When storing floating point values on a computer, a certain number of
bytes per value is needed. Single precision numbers use 4 bytes and
double precision 8 bytes. This will yield from 6 to 9 digits
of precision for single precision and 15 to 17 digits for double. TUFLOW Classic and TUFLOW HPC are available in both single precision and double precision, however, the reasons why you would use double precision instead of single are somewhat different for the two solvers.</p>
<div id="iSPdSP-Classic" class="section level4 hasAnchor" number="13.4.2.1">
<h4><span class="header-section-number">13.4.2.1</span> TUFLOW Classic<a href="Running-Simulations-1.html#iSPdSP-Classic" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Being an implicit matrix based solution, TUFLOW Classic solves for water levels rather than depths. The affect of this is best illustrated by an example. Consider a model where the highest ground level is under 10mAD. If a tiny amount of rainfall falls on the cell, this might raise the water level in the cell to 5.000001mAD. Both single and double precision will handle the accuracy needed as the resulting water level falls within the acceptable number of significant figures for both precisions.</p>
<p>However, consider another model with much higher elevations, and a cell that has a water level of 1000.000mAD. If this cell receives 0.000001m of rainfall in one timestep, for single precision the resulting water level will be 1000.000mAD (i.e. the added rainfall has disappeared resulting in an incorrect calculation and associated mass error). However, for double precision the resulting water level is 1000.00000100000, which is the correct water level and mass is conserved.</p>
<p>The need to use double precision for Classic also depends on other factors such as cell size and timestep. As there is no simple rule-of-thumb, the recommended action is to run the model in single and double precision modes. If the results are unacceptably different, and especially if the mass error is significantly lower in double precision, then double precision should be used.</p>
<p>Note that the choice of single or double precision also impacts on
simulation times and RAM allocation. iDP versions of TUFLOW Classic will take
approximately 25% longer to run and require up to twice as much memory,
limiting the ability to run concurrent simulations. Therefore, if the results of a model run in both iSP and iDP versions are consistent, the iSP version of TUFLOW is recommended to take advantage of the faster
simulation times and smaller memory footprint.</p>
</div>
<div id="iSPdSP-HPC" class="section level4 hasAnchor" number="13.4.2.2">
<h4><span class="header-section-number">13.4.2.2</span> TUFLOW HPC<a href="Running-Simulations-1.html#iSPdSP-HPC" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Being an explicit solution, the calculation method in TUFLOW HPC uses depth, unlike TUFLOW Classic which uses water level as discussed above. This means that precision issues associated with, for example, applying a very small rainfall to a high elevation are not applicable in TUFLOW HPC, resulting in most models being accurately solved using single precision. However, carrying out simulations in single and double precision and checking for consistency is still a recommended task, especially if the simulation is using for example, very small inflows or other metrics that are unusually fine-scale.</p>
<p>Unless testing shows otherwise, use the single precision version for all TUFLOW HPC simulations. <strong>Note: Double precision solutions on GPU cards can be four times slower than single precision on some GPU devices!</strong> If the TUFLOW HPC simulation is started with the single precision version of TUFLOW, the HPC solver will utilise a single precision version. If the simulation is started with the double precision version of TUFLOW, error message <a href="https://wiki.tuflow.com/TUFLOW_Message_2420">ERROR 2420</a> will be output by default stating that the single precision version should be used. This can be overridden by using the <a href="TCFCommands-1.html#tcfHPCDPCheck">HPC DP Check</a> <teq>==</teq><tblk> OFF</tblk> command.</p>
</div>
</div>
<div id="CustomingTUFLOW-3" class="section level3 hasAnchor" number="13.4.3">
<h3><span class="header-section-number">13.4.3</span> Customising TUFLOW using TUFLOW_USER_DEFINED.dll<a href="Running-Simulations-1.html#CustomingTUFLOW-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The TUFLOW_USER_DEFINED.dll is a legacy feature for TUFLOW Classic that was primarily used for customising hazard category outputs and is no longer supported as the same service cannot be offered for HPC given its GPU code base.</p>
<p><strong>Note: For customising hazard category outputs, see Section <a href="Outputs-1.html#Hazards-4">11.2.3.1</a>.</strong></p>
<!-- WJS
I've assumed we're no longer supporting above? So, I've deleted and changed to no longer supported. Please add link to user defined hazard feature.
-->
<!--EFC: added-->
</div>
</div>
<div id="RunningSims-2" class="section level2 hasAnchor" number="13.5">
<h2><span class="header-section-number">13.5</span> Running Simulations<a href="Running-Simulations-1.html#RunningSims-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<!-- EFC: put in chapter of what to do when sim not starting correctly and link to https://wiki.tuflow.com/TUFLOW_crashing -->
<div id="DongleTypesandSetup-3" class="section level3 hasAnchor" number="13.5.1">
<h3><span class="header-section-number">13.5.1</span> Dongle Types and Setup<a href="Running-Simulations-1.html#DongleTypesandSetup-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>BMT dongles are generally distributed as a WIBU Codemeter (metal) dongle or software licence. These dongles were introduced in 2010. The older ‘SoftLok’ dongles are no longer supported.</p>
<p>Two types of licences are currently provided:</p>
<ul>
<li>Local or Standalone Licence – Allows up to a specified limit the
number of TUFLOW simulations to be run from the one computer. For
example, a Local 1 licence will allow a single simulation to be
performed on the machine. A local 4 licence allows up to 4 concurrent
simulations. Local 1 to Local 16 licences can be configured.<br />
</li>
<li>Network Licence – allows for multiple TUFLOW processes running at any
one time across multiple machines within the limitations of the <a href="https://downloads.tuflow.com/_archive/Licensing/TUFLOW%20Products%20Licence%20Agreement.pdf">TUFLOW EULA</a>. For example, a Network 5 licence allows up to 5
concurrent simulations to be performed. This could be 5 simulations on
a single computer, 5 simulations with each one on a different computer, or
anything in between.</li>
</ul>
<p>Refer to the <a href="https://wiki.tuflow.com/TUFLOW_Licensing">installation instructions</a> on the TUFLOW
Wiki for both types of dongles.</p>
<div id="DongleAccessProtocols-4" class="section level4 hasAnchor" number="13.5.1.1">
<h4><span class="header-section-number">13.5.1.1</span> Protocols for Accessing Dongles<a href="Running-Simulations-1.html#DongleAccessProtocols-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If more than one type of dongle is available the protocols for taking
and checking licences are:</p>
<ol style="list-style-type: decimal">
<li>WIBU Codemeter licences are searched for, and if a licence is free
it is taken.<br />
</li>
<li>If no licence is available, you can optionally set for TUFLOW to
continue to try and find an available WIBU dongle licence. This is
achieved using the “C:\BMT\TUFLOW_Dongle_Settings.dcf” file
described below. This is useful if there are no free licences and
you wish to start a simulation (the simulation will start once a
free licence becomes available).<br />
</li>
<li>Once a simulation is under way, and if the licence is lost, TUFLOW
will try to regain a licence, but it cannot switch to a different
dongle type / provider. For example, a WIBU dongle can’t be used to
finish a simulation if it is started with another WIBU dongle which is
removed.</li>
</ol>
<p>There are five varieties of licence type / vendor:</p>
<ul>
<li>BMT physical USB lock (dongle)<br />
</li>
<li>BMT software lock (tied to a particular machine)<br />
</li>
<li>Aquaveo (SMS) USB lock<br />
</li>
<li>Jacobs (Flood Modeller) USB lock<br />
</li>
<li>Jacobs (Flood Modeller) software lock</li>
</ul>
<p>With numerous licencing options available, setting the preferred licence
type can (slightly) speed the simulation start-up. The licence search order can be set
via a licence control file “TUFLOW_licence_settings.lcf”, this replaces
the TUFLOW_Dongle_Settings.dcf. Note that this file can occur in several
locations. When looking for a licence setting file TUFLOW searches in
the following locations:</p>
<ol style="list-style-type: decimal">
<li>A “TUFLOW_licence_settings.lcf” in the same location as the TUFLOW executable.<br />
</li>
<li>A “TUFLOW_licence_settings.lcf” in a TUFLOW folder in the “ProgramData” environment variable location. By default this will resolve to C:\ProgramData\TUFLOW\TUFLOW_licence_settings.lcf.
Entering %programdata% into the windows explorer path will take you to the location.<br />
</li>
<li>C:\BMT\TUFLOW_Licence_Settings.lcf<br />
</li>
<li>C:\BMT\TUFLOW_Dongle_Settings.dcf</li>
</ol>
<p>If no licence settings files are found, TUFLOW defaults to the order
listed above. <a href="TCFCommands-1.html#tcfWIBUFIRMCodeSearchOrder">WIBU Firm Code Search Order</a> can be used
to control the search order in the TUFLOW_licence_settings.lcf file.</p>
<p><strong>Note: Use of C:\BMT\ above is for legacy reasons and is not recommended as read/write access to local drives is now often blocked for protection against hackers.</strong></p>
</div>
<div id="DongleSettingsFile-4" class="section level4 hasAnchor" number="13.5.1.2">
<h4><span class="header-section-number">13.5.1.2</span> TUFLOW_Licence_Settings.lcf File<a href="Running-Simulations-1.html#DongleSettingsFile-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The TUFLOW Licence Settings (.lcf) file can be used to set WIBU settings, such as retry time interval and count. It has the same form and notation as a TUFLOW .tcf file.</p>
<p>This file is optional and if not found the settings below are the default:</p>
<p><tgrn>! Use this file to set general and WIBU specific dongle parameters </tgrn><br />
<tgrn>! Use ! or # to comment out commands or make comments</tgrn><br />
<tcmd>Simulations Log Folder</tcmd><teq> ==</teq><tblk> C:\ProgramData\TUFLOW\<username>\log</tblk> <tgrn>! Path or URL to global .log file </tgrn><br />
<tcmd>WIBU Retry Time</tcmd><teq> ==</teq><tblk> 60</tblk> <tgrn>! seconds. Values less than 3 are reset to 3. Default = 60.</tgrn><br />
<tcmd>WIBU Retry Count</tcmd><teq> ==</teq><tblk> 0</tblk> <tgrn>! Use -1 for indefinitely.</tgrn><br />
<tcmd>WIBU Dongles Only</tcmd><teq> ==</teq><tblk> OFF</tblk> <tgrn>! If ON, searches for WIBU dongles only.
Default is OFF.</tgrn></p>
<p>In the above, the:</p>
<ul>
<li><tcmd>Simulations Log Folder</tcmd> sets the folder path or URL to a folder for
logging all simulations. If the keywords “DO NOT USE” occur within the
folder path or URL, this feature is disabled. Also see <a href="TCFCommands-1.html#tcfSimulationsLogFolder">Simulations Log
Folder</a>.<br />
</li>
<li><tcmd>WIBU Retry Time</tcmd> sets the interval in seconds for retrying to take a
licence or regain a lost licence. The default is 60 and values less than
3 are set to 3.<br />
</li>
<li><tcmd>WIBU Retry Count</tcmd> sets the number of times to retry for a licence at
the start of a simulation. By default, if a licence is lost during the simulation,
TUFLOW tries indefinitely to regain a licence so as not to lose the
simulation.<br />
</li>
<li><tcmd>WIBU Dongles</tcmd> Only if set to ON will force TUFLOW to only search for WIBU dongles.</li>
</ul>
</div>
<div id="DongleFailure-4" class="section level4 hasAnchor" number="13.5.1.3">
<h4><span class="header-section-number">13.5.1.3</span> Dongle Failure during a Simulation<a href="Running-Simulations-1.html#DongleFailure-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If TUFLOW fails to recognise a network lock during a simulation
(e.g. the network dongle server computer is down) it enters a holding
pattern and continues trying until a license is found.</p>
<p>For local, standalone locks, TUFLOW prompts with a message that the lock
could not be found. If it’s a USB lock try a different USB port,
and press Enter to continue.</p>
</div>
</div>
<div id="StartingaSim-3" class="section level3 hasAnchor" number="13.5.2">
<h3><span class="header-section-number">13.5.2</span> Starting a Simulation<a href="Running-Simulations-1.html#StartingaSim-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are a number of ways TUFLOW can be started, in each case the
TUFLOW executable is started with the TUFLOW control file (.tcf) as the
input argument. There are a number of optional switches that can be
specified when starting a simulation; these are outlined in Table <a href="Running-Simulations-1.html#tab:tab-TUFLOWOptions">13.2</a>.</p>
<p>Starting a TUFLOW simulation can be carried out in a multitude of
methods:</p>
<ol style="list-style-type: decimal">
<li>From within a text editor such as <a href="https://wiki.tuflow.com/NotepadPlusPlus_Run_TUFLOW">Notepad++</a><br />
</li>
<li>Through a <a href="https://wiki.tuflow.com/Run_TUFLOW_From_a_Batch-file">batch file</a><br />
</li>
<li>From within your GIS software:
<ol style="list-style-type: decimal">
<li>QGIS via the <a href="https://wiki.tuflow.com/TUFLOW_QGIS_Plugin">QGIS TUFLOW Plugin</a><br />
</li>
<li>ArcMap via the use of the <a href="https://wiki.tuflow.com/ArcGIS_TUFLOW_Toolbar#Run_TUFLOW_Simulation">ArcTUFLOW toolbox</a><br />
</li>
<li>MapInfo (through the <a href="https://wiki.tuflow.com/MiTools_Tips#TUFLOW_Capabilities">MiTools</a> add-on)<br />
</li>
</ol></li>
<li>From a <a href="https://wiki.tuflow.com/Run_TUFLOW_through_the_command_window">Console (DOS) Window</a><br />
</li>
<li>Via the right mouse button in Microsoft Explorer<br />
</li>
<li>Via a runner such as the <a href="https://gitlab.com/tuflow-user-group/tuflow/simulation-management/tuflow-runner">TUFLOW Runner</a> or <a href="https://wiki.tuflow.com/TRIM_Tips">TRIM</a></li>
</ol>
<p>This section of the manual only provides detailed instructions on
initiating simulations through batch files as it is the most effective
method to run several or many simulations. Instructions on all methods
have been described on the <a href="https://wiki.tuflow.com/Running_TUFLOW">TUFLOW
Wiki</a>.</p>
<div id="BatchFileExamples-4" class="section level4 hasAnchor" number="13.5.2.1">
<h4><span class="header-section-number">13.5.2.1</span> Batch File Example and Run Options (Switches)<a href="Running-Simulations-1.html#BatchFileExamples-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A batch file is a text file that contains a series of commands or
instructions that is read by the Windows Operating System. The batch
file requires the extension .bat to be recognised by Windows.</p>
<p>The simplest format of a TUFLOW batch file is to specify a single
simulation. This is of the format:</p>
<p><tblk>&lt;TUFLOW Executable&gt; &lt;TUFLOW Control File&gt;</tblk></p>
<p>For example:</p>
<p><tblk>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe MR_H99_C25_Q100.tcf</tblk></p>
<p>The .bat file is run or opened by double clicking on it in Windows
Explorer. This opens a Console Window and then executes each line of the
.bat file. The above batch file will start the TUFLOW executable with
the control file “MR_H99_C25_Q100.tcf” as the input file. As the control
file argument does not have a file path, the batch file must be located
in the same folder as the .tcf file. This could also include a relative
or absolute file path, for example in the batch file line below, the
batch file could be stored in any folder as the absolute file path is
used. As outlined in Section <a href="ControlFiles-and-Inputs-1.html#FilePath-3">4.2.2</a>, the relative file path is recommended
for TUFLOW modelling inputs.</p>
<p><tblk>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe C:\Example\MR_H99_C25_Q100.tcf</tblk></p>
<p>To start multiple simulations one after the other, these can be listed
in succession.</p>
<p><tblk>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe –b MR_H99_C25_Q100.tcf<br />
C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe –b MR_H99_C25_Q050.tcf<br />
C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe –b MR_H99_C25_Q020.tcf<br />
<em>pause</em></tblk></p>
<p>Note the use of the –b (batch) switch, which suppresses the need to press
the return key at the end of a simulation. This ensures that one
simulation proceeds on to the next without any need for user input. The
pause at the end stops the Console window from closing automatically
after completion of the last simulations so you can check the status of the simulations.</p>
<p>The –t (test) switch is very useful for testing the data input without
running the simulation. It is good practice to use this switch before
carrying out the simulations, as this will tell you whether there are
any data input problems. The –t switch runs TUFLOW to just before it
starts the hydrodynamic computations.</p>
<p>Using the example above, the recommended approach is to first run the
following batch file:</p>
<p><tblk>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –t
MR_H99_C25_Q100.tcf<br />
C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –t
MR_H99_C25_Q050.tcf<br />
C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –t
MR_H99_C25_Q020.tcf<br />
<em>pause</em></tblk></p>
<p>This will indicate any input problems (note some WARNINGS do not require
a “press return key”, but they can be located in the .tlf file).</p>
<p>From TUFLOW version 2018-03-AA, it is possible to use the test model option without using a TUFLOW licence noting no diagnostics are reported so don’t use this option whilst you are developing/building a model. To utilise this licence free test, the -nlc (No Licence Check) input argument
must be specified, e.g. the command line below would run the model in test model (-t) without needing a licence (-nlc):</p>
<p><tblk>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –t -nlc MR_H99_C25_Q020.tcf </tblk></p>
<p>To carry out the simulations the –t can be removed (and -nlc flag if used) or replaced with the –x (execute) switch. The -x switch is optional, but is useful when editing
the .bat file to quickly change between –t and –x switches.</p>
<p><tblk>
C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –x MR_H99_C25_Q100.tcf<br />
C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –x MR_H99_C25_Q050.tcf<br />
C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –x MR_H99_C25_Q020.tcf<br />
<em>pause</em></tblk></p>
<p>Comment lines are specified in a .bat file using “REM” (remark) in the
first column. Alternatively, “::” has a similar effect. The <a href="https://ss64.com/nt/rem.html">ss64 website</a> has further guidance on using comment lines in batch files. For example, if you want to re-run only
the first simulation in the examples above, edit the file as follows:</p>
<p><tblk>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –x MR_H99_C25_Q100.tcf<br />
:: C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –x MR_H99_C25_Q050.tcf<br />
:: C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe -b –x MR_H99_C25_Q020.tcf<br />
<em>pause</em></tblk></p>
<p>Table <a href="Running-Simulations-1.html#tab:tab-TUFLOWOptions">13.2</a> below describes other switches that are available. The switches are also
displayed to the console if TUFLOW.exe is executed without any arguments
(i.e. double click on TUFLOW.exe in Windows Explorer).</p>
<p>Any of the options can be prefixed by a:</p>
<ul>
<li>“-” (short dash or minus sign);<br />
</li>
<li>“-” (long dash); or<br />
</li>
<li>“/” (forward slash)</li>
</ul>
<p>For example, to start a model in batch mode, the following all perform
the exact same function:</p>
<p><tblk>C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe <strong>-</strong>b MR_H99_C25_Q100.tcf<br />
C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe <strong>–</strong>b MR_H99_C25_Q100.tcf<br />
C:\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe <strong>/</strong>b MR_H99_C25_Q100.tcf</tblk></p>
<table>
<caption>
<span id="tab:tab-TUFLOWOptions">Table 13.2: </span><strong>TUFLOW.exe Options (Switches)</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Switch
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
-acf
</td>
<td style="text-align:left;">
Automatically create folders (the default). Prevents the dialog prompt from appearing when encountering non-existent folders (ie. results folders), and creates these folders automatically. If for any reason the folder can’t be created, a dialog will appear.
</td>
</tr>
<tr>
<td style="text-align:left;">
-b
</td>
<td style="text-align:left;">
Batch mode. Used when running two or more simulations in succession from a .bat file (see Section <a href="Running-Simulations-1.html#BatchFileExamples-4">13.5.2.1</a>). Suppresses display of the TUFLOW “simulation has finished” dialogue window, or a request to press Enter at the end of a simulation, so that the .bat file can continue onto the next simulation.
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>-c</p>
<p>Optional additional flags of “a” , “L”, “p” or “ncf”.</p>
(e.g. -c, -cap, -cpncf, -cncf)
</td>
<td style="text-align:left;">
<p>A copy of a TUFLOW model can be created as described below. Making a copy of a model is useful for transferring a model to another site or for making an archive of the input data. Also see the -pm (package model) option as an alternative.</p>
<p>To copy a TUFLOW model, the -c switch must be included on the TUFLOW command line, as a minimum. The -c switch copies only the files read by TUFLOW. Therefore, for MapInfo users, the .mif and .mid files read by TUFLOW will be copied. To copy the remaining MapInfo format files (.tab, .id, .dat and .map) use the -ca option described further below.</p>
<p>Additional optional flags can be added to the base -c switch, in any combination, including:</p>
<ul>
<li>“a” (all);<br />
</li>
<li>“L” (list);<br />
</li>
<li>“p” (path); and<br />
</li>
<li>“ncf” (no check files).</li>
</ul>
<p>The addition of the “a” flag (e.g. -ca) copies all files of the same name for all input files (i.e. same name, but different extensions). This option is particularly useful if the .tab and other associated files of a GIS layer need to be archived or delivered.</p>
<p>The addition of the “L” flag will output the files used by TUFLOW into a .tcl (TUFLOW Copy List) file but not copy the files to a destination folder. This can be useful if scripting the copying of models. To run the copy list the character “L” needs to be specified after the -c input argument. This works for all copy options, for example the following are all valid; -cL, -caL -capL. The .tcl file produced is output in the same directory as the .tcf and takes the simulation name.</p>
<p>The addition of the “p” flag (e.g. -cp) allows the user to specify an alternate path in which to copy the model. Without this flag, the location defaults to the .tcf’s location. For example, specifying the following, will place a copy of the model into a folder C:\put_model_here:</p>
<p>“TUFLOW.exe” -cp “C:\put_model_here” “C:\TUFLOW\runs\M01_5m_003.tcf”</p>
<p>The addition of the “ncf” flag (e.g. -cncf) copies the essential input files and excludes all check files.</p>
<p>Note that these optional flags can be added in any combination to the base -c switch (e.g. -c, -ca, -cp, -cncf, -cap, -cancf, -cpncf, -capncf).</p>
<p>Specifying -c on the TUFLOW command line creates a folder “<span class="math inline">\(\lt\)</span>.tcf filename<span class="math inline">\(\gt\)</span>_copy” (or “<span class="math inline">\(\lt\)</span>.tcf filename<span class="math inline">\(\gt\)</span>_copy_all” if the “a” flag is added) in the same location as the .tcf file. Under the folder, input files are copied (including the full folder structure), and any check files and output folders created. For example, specifying:</p>
<p>TUFLOW.exe -c “C:\tuflow_models\my model.tcf” will make a copy of the TUFLOW model based on the file “my model.tcf” in a folder “my model.tcf_copy”, or “my model.tcf_copy_all” if using the “a” flag.</p>
<p>Notes:</p>
<ol style="list-style-type: decimal">
<li><b>Use the full path to the .tcf file (this is generally the default if running from an editor such as UltraEdit or using the right click approach).</b><br />
</li>
<li>Make sure there is sufficient disk space (no checks for sufficient disk space are made).<br />
</li>
<li>Output folders and some output files are created but these will be empty.<br />
</li>
<li>Unless the -ncf option is used, any check folder(s) are created and check files written (these can be deleted if wishing to minimise the size of the folder).<br />
</li>
<li>The full path of the input files is reproduced to provide traceability and also handle inputs from other drives and URLs. Drive letters are replaced, for example, “C:” becomes a folder “C Drive”. URLs (denoted by “\” or “//” at the beginning of the path) are replaced by a folder called “URL\”.<br />
</li>
<li>To run the copied .tcf file, it will be necessary to change any non-relative pathnames according to the point above. Alternatively you can share and then map, for example, the “D Drive” folder as “D:”.<br />
</li>
<li>If using MapInfo formats, the <a href="TCFCommands-1.html#tcfCheckMISaveDate">Check MI Save Date</a> will need to be set to WARNING or OFF in the .tcf file if the –ca option has not been used as the .tab and other files will not have been copied.<br />
</li>
<li>There is a limit of 1,000 characters (including spaces) on pathnames. As very long pathnames can result due to the above approach, if the number of characters exceeds 1,000, problems may occur.<br />
</li>
<li>The -c switch automatically invokes the -t (i.e. the simulation does not commence, only the input data is tested/checked).<br />
</li>
<li>The -b option still applies if several models wish to be copied using a batch (.bat) file.
</td>
</tr>
<tr>
<td style="text-align:left;">
-e&lt;name&gt;</li>
</ol>
-e{1-9}&lt;name&gt; </name></name>
</td>
<td style="text-align:left;">
<p>Specifies an event name to be used by <a href="#tcfDefineEvent">Define Event</a> in a .tef <a href="TCFCommands-1.html#tcfEventFile">Event File</a> to customise inputs for an event. There must be a space between –e and &lt;name&gt;. &lt;name&gt; may itself contain spaces, but if it does the event name must be enclosed in quotes. More than one (up to a maximum of nine) events per simulation may be specified by placing a number after –e. –e and –e1 are treated the same (don’t specify both of them otherwise indeterminate results may occur).</p>
<p>Also see Section <a href="Running-Simulations-1.html#Events-3">13.3.1</a> and <a href="TCFCommands-1.html#tcfModelEvents">Model Events</a>.</p>
Examples:<br />
–e Q100 Run the Q100 event.<br />
–e1 Q100 –e2 02h Run the Q100, 2 hour storm event.<br />
–e Q100 –e2 02h Same as above.<br />
–e “100 yr” Run the event name “100 yr” noting quotes required as there is a space in the name. </name></name>
</td>
</tr>
<tr>
<td style="text-align:left;">
-et&lt;time_in_hours&gt; </time_in_hours>
</td>
<td style="text-align:left;">
The end time for a simulation can be specified using the run option -et&lt;time_in_hours&gt;. Any end time specified via this run option argument is given the highest priority and overrides the <a href="TCFCommands-1.html#tcfEndTime">End Time</a> settings in the .tcf, event files (.tef) and override files. </time_in_hours>
</td>
</tr>
<tr>
<td style="text-align:left;">
-nc
</td>
<td style="text-align:left;">
<p>The use of the -nc (no console) switch suppresses the appearance (hides) the console window (Section <a href="Checks-and-Logs-1.html#ConsoleDisplay-2">14.2</a>). You won’t be able to see the simulation running, however there will be a TUFLOW process visible in Windows Task Manager. The -nc switch automatically invokes the -nmb and -b switches.</p>
<p>The “start” command included in the Advanced Batch File examples in Section <a href="Running-Simulations-1.html#AdvancedBatchFiles-4">13.5.2.3</a> should not be used with the -nc command.</p>
<p>It is strongly recommended to redirect standard console window output to a text file. It’s recommended that this file be given a unique name for each run, matching your simulation. “…TUFLOW.exe” –nc my_run.tcf &gt; my_run.txt</p>
<p>Build 2018-03-AB included some enhancements when running with the -nc (no console option). These were designed to remove any need for user input to TUFLOW as follows:</p>
<ul>
<li>If no .tcf is specified, no licence check is performed and the simulation is halted. Previously a licence check was performed and the user was prompted to hit a key to release licences and close the simulation.<br />
</li>
<li>If an invalid .tcf file is specified, the simulation stops and returns an error level of 1 to the operating system. Previously the user was prompted to enter a valid .tcf filename.<br />
</li>
<li>If the set log path (-slp) is specified in conjunction with the no console option (-nc) the simulation stops and returns an error level of 1 to the operating system. Previously the user was prompted to confirm the set log path.<br />
</li>
<li>Removed a number of locations where a simulation could pause and wait for a user input before closing.
</td>
</tr>
<tr>
<td style="text-align:left;">
-nlc
</td>
<td style="text-align:left;">
For Build 2018-03-AA or later it is possible to use the copy model (-c option) or test model (-t option) without using a licence. To utiltise this licence free copy / test, the -nlc (No Licence Check) input argument must be specified.</li>
</ul>
If running without a TUFLOW licence no diagnostic output is generated (e.g. messages layer). If these are required, the -nlc option must be removed.
</td>
</tr>
<tr>
<td style="text-align:left;">
-nmb
</td>
<td style="text-align:left;">
No Message Boxes. Suppress use of windows message boxes to prompt the user. All prompts will be via the console window.
</td>
</tr>
<tr>
<td style="text-align:left;">
-nq
</td>
<td style="text-align:left;">
The use of the -nq (no queries) switch prevents the termination query dialog from displaying when Ctrl+C is pressed to terminate a simulation cleanly. If –nq is specified and Ctrl-C is pressed, the simulation terminates cleanly without a query dialog to check you are certain, so be careful!
</td>
</tr>
<tr>
<td style="text-align:left;">
-nt
</td>
<td style="text-align:left;">
Sets the number of CPU threads (cores) to use for a TUFLOW HPC simulation. Noting that the number of threads requested is limited to the maximum number of CPU cores available on the machine, and the available TUFLOW Thread licences.
</td>
</tr>
<tr>
<td style="text-align:left;">
-nwk
</td>
<td style="text-align:left;">
Force TUFLOW to search for a network licence (i.e. skip the search for a local licence).
</td>
</tr>
<tr>
<td style="text-align:left;">
-od&lt;drive&gt; </drive>
</td>
<td style="text-align:left;">
The Output Drive for a simulation can be specified with the –od command line option.  For example –odC will redirect all outputs to the C:\ drive.
</td>
</tr>
<tr>
<td style="text-align:left;">
-oz&lt;name&gt; </name>
</td>
<td style="text-align:left;">
Map output includes Output Zone &lt;name&gt;. For more information on Output Zones, please refer to Section <a href="Outputs-1.html#OutputZones-3">11.2.5</a>. For example “-oz ZoneA” would include output for Zone A, similar to the .tcf command: <a href="TCFCommands-1.html#tcfModelOutputZones">Model Output Zones</a> <teq>==</teq><tblk> Zone A</tblk>. </name>
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>-pm</p>
Optional additional flags of “All” , “L” or “ini”.
</td>
<td style="text-align:left;">
<p>The package model (-pm) function copies all input files for all events and scenarios defined in the model. Unlike the -c option, -pm does not read and process the data during the file copy. As such it is substantially faster than -c. </p>
<p>The package model function does not require access to a TUFLOW licence.</p>
<p>Optional switches are:</p>
<ul>
<li>“All” (e.g. -pmAll) copies all file extensions (e.g. 1d_nwk_culv_L.mif, will become 1d_nwk_culv_L.*).<br />
</li>
<li>“L” (e.g. -pmL) list the files to be copied into an output file, but doesn’t copy the files.<br />
</li>
<li>“ini” (-pmini &lt;file.ini&gt;) provides a .ini file with user defined options as described below.</li>
</ul>
<p>Combinations of the above are also valid, with the order of the optional switches not being important (-pmAllL would be treated the same as -pmLAll).</p>
<p>Three options are also available for handling of the binary processed files created by TUFLOW to speed up the simulation start. These options are:</p>
<ul>
<li>-xf0: Do not copy .xf files, only the original inputs are copied.<br />
</li>
<li>-xf1: Copy both raw input files and .xf files.<br />
</li>
<li>-xf2: Copy only .xf files, if xf files exist for an input only the xf file will be copied.</li>
</ul>
<p>For example, the command line below will package the model but not include any .xf files.</p>
<p>TUFLOW_iSP_w64.exe -pm -xf0 PR_~s1~_~e1~_~e2~_001.tcf</p>
<p>When using package model the default destination folder is created in the same directory as the .tcf file, with the prefix “pm_”. For example, C:\Projects\Modelling\TUFLOW\runs\Run_001.tcf will create a package in the folder “C:\Projects\Modelling\TUFLOW\runs\pm_Run_001”.</p>
<p>A .ini file can be used to overwrite the default base and destination folders. A .ini file is specified by including the optional ini argument after -pm followed by the ini file name. For example:</p>
<p>TUFLOW_iSP_w64.exe -pmini package.ini PR_~s1~_~e1~_~e2~_001.tcf</p>
<p>Valid commands in the .ini file are:</p>
<ul>
<li>Base Folder == &lt;folder&gt;<br />
</li>
<li>Copy Destination == &lt;folder&gt;<br />
</li>
<li>Model Scenario ~s&lt;number&gt; == &lt;scenario a&gt; | &lt;scenario b&gt; | …<br />
</li>
<li>Model Event ~e&lt;number&gt; == &lt;event a&gt; | &lt;event b&gt; | …</li>
<li>Max Event Name == &lt;number&gt; </number></event></event></number></scenario></scenario></number></folder></folder>&lt;/file.ini&gt;</li>
</ul>
</td>
</tr>
<tr>
<td style="text-align:left;">
-pu&lt;id&gt; </id>
</td>
<td style="text-align:left;">
<p>Used to select which processing units to direct the simulation towards. At present this only applies to the HPC GPU solver where a simulation is to be directed to a particular GPU card or cards. –pu must be specified once for each device. For example, to direct the simulation to GPU devices 0 and 2, specify –pu0 –pu2. Can be used in place of the .tcf command <a href="TCFCommands-1.html#tcfGPUDeviceIDs">GPU Device IDs</a>. Note that the numbering starts at 0 for GPU devices.</p>
Override files (see Section <a href="ControlFiles-and-Inputs-1.html#Override-3">4.2.16</a>) can be used to control the device ID’s used by a range of computers accessing the same control file.
</td>
</tr>
<tr>
<td style="text-align:left;">
-qcf
</td>
<td style="text-align:left;">
Query the creation of a folder. If you would prefer to have the create folder query dialog to appear (rather than TUFLOW automatically creating folders - see -acf), you can specify the –qcf run time option.
</td>
</tr>
<tr>
<td style="text-align:left;">
<p>-s&lt;name&gt;</p>
-s{1-9}&lt;name&gt; </name></name>
</td>
<td style="text-align:left;">
<p>Specifies a scenario name to be used by <a href="TCFCommands-1.html#tcfIfScenario">If Scenario</a> blocks to include/exclude commands. There must be a space between –s and &lt;name&gt;. &lt;name&gt; may itself contain spaces, but if it does the scenario name must be enclosed in quotes. More than one (maximum of nine) scenarios per simulation maybe specified by placing a number after –s. –s and –s1 are treated the same, so don’t specify both of them otherwise indeterminate results may occur.</p>
<p>Also see Section <a href="Running-Simulations-1.html#Scenarios-3">13.3.2</a> and <a href="TCFCommands-1.html#tcfModelScenarios">Model Scenarios</a>.</p>
Examples:<br />
–s exg Process all exg scenario commands.<br />
–s1 opA –s2 opB Process all opA and opB scenarios.<br />
–s opA –s2opB Same as above.<br />
–s “Option A” Quotes required as there is a space in the scenario name. </name></name>
</td>
</tr>
<tr>
<td style="text-align:left;">
-slp
</td>
<td style="text-align:left;">
Simulation Log Path is a legacy option for Softlok (blue) dongles to set the path to a folder on the intranet to log all simulations initiated from the lock. Refer to the 2018 manual or earlier for details.
(See Section <a href="Running-Simulations-1.html#DongleSettingsFile-4">13.5.1.2</a> for equivalent option for WIBU Codemeter licences, and also <a href="TCFCommands-1.html#tcfSimulationsLogFolder">Simulations Log Folder</a>.)
</td>
</tr>
<tr>
<td style="text-align:left;">
-st&lt;time_in_hours&gt; </time_in_hours>
</td>
<td style="text-align:left;">
The start time for a simulation can be specified using the run option -st&lt;time_in_hours&gt;. Any start time specified via this run option argument is given the highest priority and overrides the <a href="TCFCommands-1.html#tcfStartTime">Start Time</a> settings in the .tcf, event files (.tef) and override files. </time_in_hours>
</td>
</tr>
<tr>
<td style="text-align:left;">
-t
</td>
<td style="text-align:left;">
Test input only. Processes all input data including writing of check files, but does not start the simulation. Useful for checking that simulations in a .bat file all initialise without error, prior to carrying out the simulations (especially when the runs will take all night or all weekend and you made a change you forgot to test!).
</td>
</tr>
<tr>
<td style="text-align:left;">
-wibu
</td>
<td style="text-align:left;">
Search for a WIBU Codemeter licence only.
</td>
</tr>
<tr>
<td style="text-align:left;">
-x
</td>
<td style="text-align:left;">
eXecute the simulation (the default).
</td>
</tr>
</tbody>
</table>
</div>
<div id="CopyModelBatchFiles-4" class="section level4 hasAnchor" number="13.5.2.2">
<h4><span class="header-section-number">13.5.2.2</span> Copy/Package Model from Batch Files<a href="Running-Simulations-1.html#CopyModelBatchFiles-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>TUFLOW can be run
in copy mode, which can be useful for transferring a model to another site or for making an archive of the input data. To copy a TUFLOW model, the -c switch must be included on the TUFLOW command line. The -nlc (no licence check) flag can be used to copy a model without the need for a TUFLOW licence. Further details can be found <a href="https://wiki.tuflow.com/Run_TUFLOW_From_a_Batch-file#Copy_a_TUFLOW_model">here</a>.</p>
<p>A licence free package model function that copies all input files for all events and scenarios defined in the model is also available using the -pm switch. If only a single set of events and scenarios is required, -c is preferable. Unlike the -c option, -pm does not read and process the data during the file copy, as such it is substantially faster than -c. The package model function does not require access to a TUFLOW licence. More information on the Package model function can be found <a href="https://wiki.tuflow.com/Run_TUFLOW_From_a_Batch-file#Package_a_TUFLOW_model">here</a>.</p>
</div>
<div id="AdvancedBatchFiles-4" class="section level4 hasAnchor" number="13.5.2.3">
<h4><span class="header-section-number">13.5.2.3</span> Advanced Batch Files<a href="Running-Simulations-1.html#AdvancedBatchFiles-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Batch files can be set up so that they are more generic and easily
customised when moving from one project to another. Within the example
below, a variable, TUFLOWEXE, is used to define the path to the TUFLOW
executable, and a variable RUN is used to incorporate options such as
starting the simulation on a low priority and to minimise the console window when the process starts (/min option).</p>
<p><tblk><strong>set</strong> TUFLOWEXE=C:\ProgramFiles\TUFLOW\2023-03\TUFLOW_iSP_w64.exe<br />
<strong>set</strong> RUN=start “TUFLOW” /low /wait /min “<strong>%TUFLOWEXE%</strong>” -b<br />
<strong>%RUN%</strong> MR_H99_C25_Q100.tcf<br />
<strong>%RUN%</strong> MR_H99_C25_Q050.tcf<br />
<strong>%RUN%</strong> MR_H99_C25_Q020.tcf</tblk></p>
<p>The advantage of using variables in batch files is if the path to the TUFLOW executable
changes, or to run a different version of TUFLOW, it is just a simple
single line change in the batch file. In the above, note the use of
quotes around %TUFLOWEXE% in the definition for the RUN variable –
quotes are needed around file path names whenever they contain a space.
Also note there is no space between the variable name and the equals
sign.</p>
<p>For examples of batch files used for running multiple events and
different scenarios from the same .tcf file, see Sections <a href="Running-Simulations-1.html#Events-3">13.3.1</a>
and <a href="Running-Simulations-1.html#Scenarios-3">13.3.2</a>.</p>
<p>It is also possible to create control logic such as loops in a batch
file. For example, this could be used to loop through a large number of
events and scenarios such as the example <a href="https://www.tuflow.com/insights/2021_12-scenarios-events-and-variables/">here</a>.</p>
<p><tblk>:: This sets the variables as local, another batch file can use the same
variables<br />
SetLocal<br />
:: Set up variables<br />
<strong>set</strong> TUFLOWEXE=C:\Program Files\TUFLOW\Releases\2023-03\TUFLOW_iSP_w64.exe<br />
<strong>set</strong> RUN=start “TUFLOW” /low /wait /min “<strong>%TUFLOWEXE%</strong>” -b<br />
<strong>set</strong> A=Q010 Q020 Q050 Q100 Q200<br />
<strong>set</strong> B=10min 30min 60min 120min 270min<br />
:: Loop through each simulation<br />
FOR %%a in (%A%) do (<br />
  FOR %%b in (%B%) DO (<br />
    %RUN% -e1 %%a -e2 %%b filename_~e1~_~e2~.tcf<br />
  )<br />
)<br />
<strong>pause</strong>
</tblk></p>
<p>Further guidance on advanced batch files, including looping examples can
be found on this page of the <a href="https://wiki.tuflow.com/Run_TUFLOW_From_a_Batch-file">TUFLOW
Wiki</a>.</p>
</div>
</div>
<div id="RunningHPC-3" class="section level3 hasAnchor" number="13.5.3">
<h3><span class="header-section-number">13.5.3</span> Running TUFLOW HPC<a href="Running-Simulations-1.html#RunningHPC-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The front end of TUFLOW Classic and TUFLOW HPC are identical. No modification
of the model input is needed to utilise the TUFLOW HPC solver (in CPU or GPU
compute mode). Similarly, the output data is written by TUFLOW in
the same output formats and data types irrespective of whether Classic or HPC solvers are used.</p>
<p>The .tcf <a href="TCFCommands-1.html#tcfSolutionScheme">Solution Scheme</a> command is used to switch the solution scheme from TUFLOW Classic (the default) to TUFLOW HPC.</p>
<p><a href="TCFCommands-1.html#tcfHardware">Hardware</a> is used to access GPU hardware (CPU is the default). As such, to convert a model
from TUFLOW Classic to TUFLOW HPC and run using GPU hardware only
requires two additional TCF commands in most cases:</p>
<p><tcmd><a href="TCFCommands-1.html#tcfSolutionScheme">Solution Scheme</a></tcmd><teq> ==</teq><tblk> HPC </tblk><br />
<tcmd><a href="TCFCommands-1.html#tcfHardware">Hardware</a></tcmd><teq> ==</teq><tblk> GPU </tblk></p>
<p>With TUFLOW HPC it is possible to use multi-GPU cards to split the simulation across multiple cards to reduce run times or access more GPU memory. This is carried out either by using the <a href="TCFCommands-1.html#tcfGPUDeviceIDs">GPU Device IDs</a> command or with the processing unit command line switch “-pu<device id>”). More information can be found <a href="https://wiki.tuflow.com/HPC_Running_and_Converting_Models#Running_HPC_on_Multiple_GPU_Devices">here</a>. It is also possible to simulate multiple simulations on a single GPU card, should model memory requirements allow it, however, the simulations will slow down proportionately.</p>
<p>TUFLOW HPC simulations are started in the same manner as a standard
TUFLOW simulation and explained in Section <a href="Running-Simulations-1.html#StartingaSim-3">13.5.2</a>.</p>
<div id="HPCGPUCommands-4" class="section level4 hasAnchor" number="13.5.3.1">
<h4><span class="header-section-number">13.5.3.1</span> TUFLOW HPC and GPU Module Commands<a href="Running-Simulations-1.html#HPCGPUCommands-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The following .tcf commands (apart from <a href="TCFCommands-1.html#tcfTimestep">Timestep</a>) are
commands specific to the TUFLOW HPC solver:</p>
<table>
<caption>
<span id="tab:tab-TCFCommandsa">Table 13.3: </span><strong>TCF commands (apart from Timestep) specific to the TUFLOW HPC solver</strong>
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Command
</th>
<th style="text-align:left;font-weight: bold;color: WHITE !important;background-color: #1ABDC9 !important;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<a href="TCFCommands-1.html#tcfControlNumberFactor">Control Number Factor</a>
</td>
<td style="text-align:left;">
The default HPC Courant, shallow wave celerity and diffusion control number limits can be reduced to effectively underclock the simulation. Using the above command factors all three control numbers. For example, a value of 0.8 reduces the default limits by 20%. Reducing the control number limits may be useful if the simulation is exhibiting erratic behaviour or numerical “noise”, although testing has found this is rare in real-world models, and if occurring is more likely to be a sign of poor data or poor model schematisation.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="TCFCommands-1.html#tcfHardware">Hardware</a>
</td>
<td style="text-align:left;">
<p>TUFLOW HPC can be run using CPU or GPU hardware. This command defines the hardware to be used for the compute. CPU is the default and will run a simulation using the Central Processing Unit (CPU). GPU will run the simulation using the Graphics Processor Unit (GPU).</p>
<p>When running TUFLOW HPC using the GPU hardware module, the pre (reading of data) and post processing (writing outputs) is managed by the standard TUFLOW CPU engine. This allows the user to utilise the extensive range of GIS input functionality available in TUFLOW.</p>
Simulation using GPU hardware requires the GPU Hardware Module in addition to a standard TUFLOW licence.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="TCFCommands-1.html#tcfHPCDPCheck">HPC DP Check</a>
</td>
<td style="text-align:left;">
<p>TUFLOW HPC is available in both single precision and double precision. If the simulation is started with the single precision version of TUFLOW, the HPC solver will utilise a single precision version. If the simulation is started with the double precision version of TUFLOW, error message <a href="https://wiki.tuflow.com/TUFLOW_Message_2420">ERROR 2420</a> will be output by default stating that the single precision version should be used.</p>
<p>The calculation method in TUFLOW HPC uses depth due to its explicit nature, unlike TUFLOW Classic that uses water level due to its implicit scheme. This means that precision issues when using the Classic solver, such as when applying a very small rainfall to a high elevation, are not applicable in HPC.</p>
<p>Unless testing shows that single and double precision produce significantly different results, use the single precision version of TUFLOW for all TUFLOW HPC simulations. Note: Double precision solutions on GPU cards can be four times slower than single precision! Also, NVIDIA Cards with a compute capability of 1.2 or less are only able to run single precision versions.</p>
The <a href="TCFCommands-1.html#tcfHPCDPCheck">HPC DP Check</a> command allows the user to disable the default setting of issuing <a href="https://wiki.tuflow.com/TUFLOW_Message_2420">ERROR 2420</a> should double precision be required.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="TCFCommands-1.html#tcfHPCTemporalScheme">HPC Temporal Scheme</a>
</td>
<td style="text-align:left;">
<p>Sets the order of the temporal solution. The default is the recommended 4<sup>th</sup> order temporal solution, therefore this command is usually not specified.</p>
We recommend the use of the 4<sup>th</sup> order temporal scheme as it is unconditionally stable with adaptive timestepping turned on and has been found to give accurate results and is results are not affected due to changing the timestepping. Lower order schemes save a little on memory requirements but are more prone to instability and in some cases unreliable results that are sensitive to the timestepping intervals.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="TCFCommands-1.html#tcfGPUDeviceIDs">GPU Device IDs</a>
</td>
<td style="text-align:left;">
Controls the GPU device or devices to be used for the simulation if multiple CUDA enabled GPU cards are available in the computer or on the GPU itself.
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="TCFCommands-1.html#tcfSolutionScheme">Solution Scheme</a>
</td>
<td style="text-align:left;">
This command is used to select the desired solution scheme for the compute. Use “HPC” to call TUFLOW HPC’s finite volume 2<sup>nd</sup> order solver (recommended over the 1<sup>st</sup> order alternative).
</td>
</tr>
<tr>
<td style="text-align:left;">
<a href="TCFCommands-1.html#tcfTimestep">Timestep</a>
</td>
<td style="text-align:left;">
<p>If adaptive timestepping is active (the default), the timestep value is only used for the very first step. To allow the same command to be used for either a TUFLOW Classic or a HPC simulation the timestep value is divided by 10 for the initial HPC timestep, therefore, enter a timestep value similar to that that you would use for TUFLOW Classic.</p>
If adaptive timestepping is off, sets the fixed timestep. The timestep will always be much smaller than TUFLOW Classic’s timesteps as the scheme is explicit (TUFLOW uses an implicit scheme). As a general rule of thumb specify a timestep that is around one tenth of the TUFLOW Classic timestep you would use.
</td>
</tr>
</tbody>
</table>
</div>
<div id="GPUCompatibility-4" class="section level4 hasAnchor" number="13.5.3.2">
<h4><span class="header-section-number">13.5.3.2</span> Compatible Graphics Cards<a href="Running-Simulations-1.html#GPUCompatibility-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>TUFLOW HPC’s GPU hardware module requires an NVIDIA CUDA enabled GPU card. A
list of CUDA enabled GPUs can be found on the following website:
<a href="https://developer.nvidia.com/cuda-gpus" class="uri">https://developer.nvidia.com/cuda-gpus</a>.</p>
<p>To check if your computer has an NVIDIA GPU and if it is CUDA enabled:</p>
<ol style="list-style-type: decimal">
<li>Right click on the Windows desktop.<br />
</li>
<li>If you see “NVIDIA Control Panel” or “NVIDIA Display” in the pop-up
dialogue, the computer has an NVIDIA GPU.<br />
</li>
<li>Click on “NVIDIA Control Panel” or “NVIDIA Display” in the pop-up
dialogue.<br />
</li>
<li>The GPU model should be displayed in the graphics card information.<br />
</li>
<li>Check to see if the graphics card is listed on the following
website: <a href="https://developer.nvidia.com/cuda-gpus" class="uri">https://developer.nvidia.com/cuda-gpus</a>.</li>
</ol>
<p>The following screen images show the steps outlined above, this may vary
slightly between NVIDIA GPU card models.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-NvidiaSettings"></span>
<img src="images/image170a.png" alt="**Accessing NVIDIA Control Panel from the Desktop**"  />
<p class="caption">
Figure 13.2: <strong>Accessing NVIDIA Control Panel from the Desktop</strong>
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-NvidiaGPUModel"></span>
<img src="images/image171a.png" alt="**NVIDIA GPU Model**"  />
<p class="caption">
Figure 13.3: <strong>NVIDIA GPU Model</strong>
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-NvidiaWebsite"></span>
<img src="images/image172.png" alt="**Check the Website for your NVIDIA Card**" width="80%" />
<p class="caption">
Figure 13.4: <strong>Check the Website for your NVIDIA Card</strong>
</p>
</div>
<p>More information on the card can be found in the “System Information”
section, which is accessed from the NVIDIA Control Panel. The system
information contains more details on the following:</p>
<ul>
<li>The number of CUDA cores.<br />
</li>
<li>Frequency of the graphics, processors and memory.<br />
</li>
<li>Available memory including dedicated graphics and shared memory.</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-NVIDASystemInfo"></span>
<img src="images/image174a.jpg" alt="**NVIDIA System Information**" width="50%" />
<p class="caption">
Figure 13.5: <strong>NVIDIA System Information</strong>
</p>
</div>
<p>On the NVIDIA website, each CUDA enabled graphics card has a “Compute
Capability” listed. For cards with a compute capability of 1.2 or less,
only the single precision version of the GPU Module can be utilised.
<strong>However, benchmarking has indicated that the double precision version, except in rare situations,
is NOT required and that for nearly all GPU simulations, TUFLOW_iSP engine versions should
suffice. Refer to Section <a href="Running-Simulations-1.html#iSPdSP-3">13.4.2</a>.</strong></p>
<p>Extensive GPU hardware benchmarking has been undertaken to assist users
who are upgrading hardware for TUFLOW modelling, with numerous
hardware options tested for their speed performance. The
results are provided on the <a href="https://wiki.tuflow.com/Hardware_Benchmarking_(2018-03-AA)">TUFLOW
Wiki</a>.</p>
</div>
<div id="UpdatingGPUDrivers-4" class="section level4 hasAnchor" number="13.5.3.3">
<h4><span class="header-section-number">13.5.3.3</span> Updating NVIDIA Drivers<a href="Running-Simulations-1.html#UpdatingGPUDrivers-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>It is likely that the NVIDIA drivers will need to be updated periodically to the
latest version as the drivers shipped with Windows Operating Systems are not always up-to-date. To update, open the NVIDIA Control Panel (by right clicking on
the desktop and selecting NVIDIA Control Panel or NVIDIA Display). Once
the control panel has loaded, select Help &gt;&gt; Updates from the menu
items. For further guidance see the <a href="https://wiki.tuflow.com/GPU_Setup">Updating NVIDIA Drivers Wiki Page</a>.</p>
<p>If new drivers are available, please download and install these by
following the prompts.</p>
<p><strong>NOTE: Even if not prompted by the system, a restart is recommended
to ensure the new drivers are correctly detected prior to running any
simulations.</strong></p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-GPUDriverInfo"></span>
<img src="images/image175.png" alt="**Accessing Driver Updates from the NVIDIA Control Panel**" width="50%" />
<p class="caption">
Figure 13.6: <strong>Accessing Driver Updates from the NVIDIA Control Panel</strong>
</p>
</div>
</center>
</div>
<div id="GPUNVLink-4" class="section level4 hasAnchor" number="13.5.3.4">
<h4><span class="header-section-number">13.5.3.4</span> NVLink – Multi-GPU Performance (HPC Only)<a href="Running-Simulations-1.html#GPUNVLink-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>NVLink is a connection (cable) for NVIDIA GPU devices providing peer-to-peer (direct) access
between GPUs, rather than having to communicate via the CPU, giving faster communication. For
example, data transfer rate for the RTX 2080 Ti is 32GB/s on the CPU PCIe and 100 GB/s via an
NVLink. The TUFLOW 2020-01 and later releases automatically recognises and utilises any peer-to-peer (p2p) access between GPUs that is possible according to the hardware setup. Peer-to-peer access typically requires an NVLink connector between GPUs, or in some cases peer-to-peer access can occur via the PCI bus if all cards are placed into TCC driver mode.</p>
<p>Whilst testing thus far has not produced a huge jump in performance, it is expected greater gains in the future will arise as it is increasingly possible to connect to large numbers of GPU devices, especially Cloud-based instances. The user can choose to disable peer-to-peer GPU access by specifying the .tcf command:
<a href="TCFCommands-1.html#tcfGPUPeertoPeerAccess">GPU Peer to Peer Access</a> <teq>==</teq><tblk> DISABLED | {ENABLED IF AVAILABLE}</tblk>. This can also be specified using the command line argument -p2p0 to disable, or -p2p1 to enable (if available). Peer-to-peer access in rare occasions has failed to work when a peer connection has been reported as possible by the NVIDIA console or API.</p>
</div>
<div id="GPUTroubleshooting-4" class="section level4 hasAnchor" number="13.5.3.5">
<h4><span class="header-section-number">13.5.3.5</span> Troubleshooting<a href="Running-Simulations-1.html#GPUTroubleshooting-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If you receive the following error when trying to run the TUFLOW GPU
model:</p>
<p><tblk>TUFLOW GPU: Interrogating CUDA enabled GPUs …<br />
TUFLOW GPU: Error: Non-CUDA Success Code returned</tblk></p>
<p>Please try the following steps:</p>
<ol style="list-style-type: decimal">
<li>Check the compatibility of your GPU card and whether the latest
drivers are installed (see instructions in Section <a href="Running-Simulations-1.html#GPUCompatibility-4">13.5.3.2</a>).<br />
</li>
<li>Test with a user account that has administrator privileges as these
may be required for running computations on the GPU.<br />
</li>
<li>If multiple monitors are running from the video card, try running
with only a single monitor.</li>
</ol>
<p>If the above steps fail to get the simulation to run, please email the
NVIDIA system information (see Section <a href="Running-Simulations-1.html#fig:fig-NVIDASystemInfo">13.5</a>) and
TUFLOW log file (.tlf) to <a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a>.</p>
</div>
</div>
<div id="Running1D-3" class="section level3 hasAnchor" number="13.5.4">
<h3><span class="header-section-number">13.5.4</span> Running TUFLOW 1D Only Simulations<a href="Running-Simulations-1.html#Running1D-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>TUFLOW is set up to run as either a 2D model or as a 1D/2D model. It is, however, possible to run a TUFLOW 1D only model by including a small ‘dummy’ 2D domain within the model files. The 2D domain can be set up with the .tgc file and can be small, contain few cells of uniform material type and elevation values. The .tbc file will be set up so that the 2D domain does not receive any flows and therefore will not impact simulation runtimes. The 1D model can then be constructed within the .ecf and the simulation set up within the .tcf as per usual. An example model exists on the <a href="https://gitlab.com/tuflow-user-group/third-party-tools/other/1d_only_example_model">TUFLOW User Gitlab Page</a>.</p>
</div>
</div>
<div id="TUFLOWExternalSchemes-2" class="section level2 hasAnchor" number="13.6">
<h2><span class="header-section-number">13.6</span> Using TUFLOW with Flood Modeller, SWMM, XP-SWMM, 12D or from SMS<a href="Running-Simulations-1.html#TUFLOWExternalSchemes-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>TUFLOW supports the linking with third-party external 1D schemes such as Flood Modeller (Jacobs), SWMM (USA EPA SWMM Version 5), XP-SWMM (Autodesk), 12D (12D Solutions) as well as integration within the SMS GUI (Aquaveo). Flood Modeller (formerly known as ISIS), XP-SWMM and 12D executables access
the TUFLOW hydraulic computational engine via the TUFLOW_LINK.dll. EPA SWMM (Version 5) is built into the standard TUFLOW release (2023-03-AF build or later). Flood Modeller, XP-SWMM, 12D and SMS are generally distributed with the latest supported version of TUFLOW at the time of release. It is possible to utilise different versions of TUFLOW with external 1D schemes using the processes described in the following sections.</p>
<div id="SWMMSimulations-3" class="section level3 hasAnchor" number="13.6.1">
<h3><span class="header-section-number">13.6.1</span> Using TUFLOW with EPA SWMM<a href="Running-Simulations-1.html#SWMMSimulations-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When running a TUFLOW - SWMM model, TUFLOW controls the execution of the simulation. SWMM input commands are specified within a <a href="TCFCommands-1.html#tcfSWMMControlFile">SWMM Control File</a> (.tscf). The SWMM control file is referenced in the TUFLOW Control File (.tcf) and the available commands listed in Appendix <a href="TSCFCommands-1.html#TSCFCommands-1">I</a>.</p>
<p>The SWMM Control File can reference multiple SWMM input files (inp) potentially varying by scenario. These input files are merged giving preferences to later files allowing for the overriding (upgrading) of existing features. After the input files are merged, the final SWMM model will be placed in the TUFLOW output folder and will be executed from there. The report and output files generated by the SWMM engine will also be placed in the TUFLOW output folder.</p>
</div>
<div id="FMSimulations-3" class="section level3 hasAnchor" number="13.6.2">
<h3><span class="header-section-number">13.6.2</span> Using TUFLOW with Flood Modeller<a href="Running-Simulations-1.html#FMSimulations-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Flood Modeller is shipped with the latest release of TUFLOW available at the time of development. It is possible to set Flood Modeller up to use a different version of TUFLOW. Before changing the version of TUFLOW, firstly check the compatibility between Flood Modeller and TUFLOW versions in Figure <a href="DomainLinking-1.html#fig:fig-FMTUFLOWVersionCompatability">10.12</a>. To utilise a newer, or different, version of TUFLOW with Flood Modeller, use the Flood Modeller interface to set the TUFLOW Engine File location to the path of the TUFLOW executable required in the Project Settings as shown in Figure <a href="Running-Simulations-1.html#fig:fig-FMSettings">13.7</a>.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-FMSettings"></span>
<img src="images/FM_Settings.png" alt="**Flood Modeller Settings**" width="50%" />
<p class="caption">
Figure 13.7: <strong>Flood Modeller Settings</strong>
</p>
</div>
</center>
<p>If running TUFLOW HPC utilising GPU hardware, it is important that the Flood Modeller folder contains copies of four TUFLOW files (aka kernels). The Flood Modeller folder is called the “bin” folder and is located (by default) in “C:\Program Files\Flood Modeller”. It is important that the kernel files in the Flood Modeller ‘bin’ folder match those of the TUFLOW version specified in the Flood Modeller project settings. For TUFLOW versions 2023-03-AA release or later, the names of the kernels have changed and are:</p>
<ul>
<li>hpcKernels_nSP.ptx<br />
</li>
<li>hpcKernels_nDP.ptx<br />
</li>
<li>qpcKernels_nSP.ptx<br />
</li>
<li>qpcKernels_nDP.ptx</li>
</ul>
<p>If you need to use a later release of TUFLOW or if you find that the link in a Flood Modeller-TUFLOW coupled model is failing with a <a href="https://wiki.tuflow.com/TUFLOW_Message_3999">ERROR 3999</a> message (and an error description of ‘ptx file version mismatch’ in the hpc.tlf), then browse to your TUFLOW engine folder, and copy the above four files and then paste them into your Flood Modeller bin folder (replacing the files there). If wanting to use the 2023-03-AA release or later, ensure the relevant kernels are in the Flood Modeller Bin folder and any other older TUFLOW .ptx files (ie, kernels_nSP.ptx, kernels_nDP.ptx) are removed.</p>
<p>It is also possible to run Flood Modeller-TUFLOW models using a batch file, which can be useful where different combinations of Flood Modeller and TUFLOW versions are required. This <a href="https://wiki.tuflow.com/Running_linked_Flood_Modeller_-_TUFLOW_Models#Batch_File">page</a> provides instructions on how to set this up.</p>
</div>
<div id="TwelveDSimulations-3" class="section level3 hasAnchor" number="13.6.3">
<h3><span class="header-section-number">13.6.3</span> Using TUFLOW with 12D<a href="Running-Simulations-1.html#TwelveDSimulations-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>12D is shipped and installed with the latest version of TUFLOW at the time of release. Although it is recommended to use the latest version of TUFLOW, it is possible to use other versions of TUFLOW by copying the TUFLOW engine files into the 12D installation folder, which is usually C:Files\12d\12dmodel\15.00_2d. It is possible to have multiple versions of 12D installed to allow multiple 12D-TUFLOW pairs to be installed.</p>
<p>There are two ways to run a TUFLOW model within 12D. The first is via the 2D Quick Analysis, which enables an efficient approach to using TUFLOW with a limited number of parameter options as shown in Figure <a href="Running-Simulations-1.html#fig:fig-twelveD2DQuickSettings">13.8</a>.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-twelveD2DQuickSettings"></span>
<img src="images/12D_2D_Quick_Analysis.png" alt="**12D 2D Quick Setting**" width="50%" />
<p class="caption">
Figure 13.8: <strong>12D 2D Quick Setting</strong>
</p>
</div>
</center>
<p>The second approach is to use the TCF editor allowing full TCF control, and String attribute editing which exposes all the TUFLOW functionality to a 12D user. The TCF editor is shown in Figure <a href="Running-Simulations-1.html#fig:fig-twelveDTUFLOWProjectEditor">13.9</a>.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-twelveDTUFLOWProjectEditor"></span>
<img src="images/12D_TUFLOW_Project_Editor.png" alt="**12D TUFLOW Project Editor**" width="50%" />
<p class="caption">
Figure 13.9: <strong>12D TUFLOW Project Editor</strong>
</p>
</div>
</center>
</div>
<div id="XPSWMMSimulations-3" class="section level3 hasAnchor" number="13.6.4">
<h3><span class="header-section-number">13.6.4</span> Using TUFLOW with XP-SWMM<a href="Running-Simulations-1.html#XPSWMMSimulations-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>XP-SWMM is generally shipped with the latest release of TUFLOW available at the time of development.
To utilise a new version of TUFLOW with XP-SWMM, all of the .dll and .ptx
files described in the previous section need to be copied to the
location where XP SWMM accesses them (usually in the
same folder as the XP-SWMM .exe files).
Alternatively, modifying the path and environment variable found within
Advanced Settings allows the user to point to the location of the
TUFLOW .dll and .ptx files. They do not access the TUFLOW.exe file, although there
are no issues in copying this file as well. Note, it is always wise to
keep copies of any old .dll/.ptx files in a separate folder.</p>
</div>
<div id="SMSSimulations-3" class="section level3 hasAnchor" number="13.6.5">
<h3><span class="header-section-number">13.6.5</span> Using TUFLOW with SMS<a href="Running-Simulations-1.html#SMSSimulations-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When running TUFLOW from SMS, SMS by default looks for a TUFLOW.exe in
the installation folder. To change this to the location where you have
placed the TUFLOW.exe and .dll/.ptx files, go to the Edit, Preferences, File
Locations tab as shown in Figure <a href="Running-Simulations-1.html#fig:fig-SMSSettings">13.10</a>.</p>
<center>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-SMSSettings"></span>
<img src="images/image177.png" alt="**SMS Settings**" width="50%" />
<p class="caption">
Figure 13.10: <strong>SMS Settings</strong>
</p>
</div>
</center>
</div>
<div id="OptimisingSims-3" class="section level3 hasAnchor" number="13.6.6">
<h3><span class="header-section-number">13.6.6</span> Optimising Startup and Run Times<a href="Running-Simulations-1.html#OptimisingSims-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Regardless of the method for initiating a TUFLOW simulation, a simulation start stats file (<simulation_name>_start_stats.txt) is output to the same location as the .tlf file (see Section <a href="Checks-and-Logs-1.html#start-stats-3">14.5.3</a>). This file contains information on the total time and the time elapsed for each stage of model initialisation. This can be used to identify the stages causing slow simulation start-up. If you have a problematic (slow starting) model, please email this file and corresponding .tlf file through to <a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a>.</p>
<p>From the 2018-03-AA release, a new output file is created named “<simulation_name>_run_stats.txt” (see Section <a href="Checks-and-Logs-1.html#run-stats-3">14.5.4</a>). This file contains the amount of time that TUFLOW spends in the 1D and 2D computations. At each mass balance output interval, the percentage of the total computational effort that TUFLOW has spent in 1D calculations, 2D calculations and other is output to the run_stats file. The “other” column includes a variety of tasks that are neither 1D or 2D computations, such as writing of outputs, and transfer of data to GPU (if running on GPU devices). “Other” also includes time spent within an external 1D solver.</p>
<div id="Improved1DInputs-4" class="section level4 hasAnchor" number="13.6.6.1">
<h4><span class="header-section-number">13.6.6.1</span> Improved pre-processing of 1D Model Inputs<a href="Running-Simulations-1.html#Improved1DInputs-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For the 2020-01 release, reading and processing of 1D inputs has been
significantly improved, particularly for large urban drainage models
(&gt;1,000 1D pipe network elements). For a tested model with 25,000 1D
channels, the start-up was approximately 40 times faster with the
2020-01 release compared to the previous 2018-03 release changing the start-up
time from nearly two hours to less than 3 minutes. No changes in model
files is required to implement this improved pre-processing time.</p>
</div>
<div id="SGSParallelProcessing-4" class="section level4 hasAnchor" number="13.6.6.2">
<h4><span class="header-section-number">13.6.6.2</span> Parallel Processing for SGS initialisation<a href="Running-Simulations-1.html#SGSParallelProcessing-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>With the default SGS Method C (the default if “<tblk><a href="TCFCommands-1.html#tcfSGS">SGS</a> </tblk><teq>==</teq><tblk> ON</tblk>”), the SGS elevations are retained in memory throughout the pre-processing stage, with the generation of the storage and face hydraulic data curves occurring only once at the end of the pre-processing. This is a computationally intense exercise, particularly for large models with small SGS sample distances. To speed up model initialisation, this has been parallelised to utilise multiple CPU cores.</p>
<p>By default, all CPU threads will be used for final SGS elevation pre-processing unless the number of threads (-nt[thread count]) command line argument has been specified. For example, to run on 8 threads the command line argument “-nt8” would be used. There is no check for thread licensing used for pre-processing. If the number of threads specified in the command line argument exceeds the number of threads available, all threads are used.</p>
<p>At the end of the .tgc file, after all elevation datasets have been processed, an XF file is written if the <a href="TCFCommands-1.html#tcfXFFiles">XF Files</a> command is set to on (default). The XF file is written to an “xf” folder, which sits in the same location as the .tgc. The XF file is then used for any subsequent simulations for optimised pre-processing performance. To avoid re-processing when changes are made to .tgc data other than elevation (e.g. active cells, materials, soils, etc.), the XF file is not written with the same filename as the .tgc. Instead, the .xf will be prefixed by “hpc” or “qdt” for HPC single grid and Quadtree simulations respectively and includes the nesting level and cell size. Any text set with the .tcf command <a href="TCFCommands-1.html#tcfXFFilesIncludeinFilename">XF Files Include in Filename</a> is included.</p>
<p>When reading the pre-processed SGS XF file, a check is done on the final SGS elevations, if these are consistent then the XF file is used.</p>
</div>
<div id="OptimisingMultiGPUPerformance-4" class="section level4 hasAnchor" number="13.6.6.3">
<h4><span class="header-section-number">13.6.6.3</span> Optimising Multi-GPU Performance (HPC Only)<a href="Running-Simulations-1.html#OptimisingMultiGPUPerformance-4" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If a model is simulated across multiple GPU devices, one of the devices (usually the one with the
most wet cells) will be controlling the speed of the simulation and the other devices will be underutilised. By default, TUFLOW HPC divides a model equally over multiple GPU devices. However,
for real-world models, it is usual for the GPUs to have an inequitable amount of workload due to the number of active cells and number of wet cells, and this can change throughout the simulation as the model wets and dries.</p>
<p>From the TUFLOW 2020-01 release it is possible to distribute the workload unequally to the GPU
devices. During a simulation the workload efficiency of each GPU is output to the console and to
the .tlf file with a suggested distribution provided at the end of the simulation. A number of iterations may be required to fully optimise the distribution.</p>
<p>For example, a model simulated across four GPU devices reported at the end of the simulation in the .tlf file:</p>
<p><tblk>Relative device loads: 60.3% 100.0% 83.7% 53.2%<br />
HPC Suggested workload balance HPC Device Split == 1.23, 0.74, 0.89, 1.40.</tblk></p>
<p>The command <tblk><a href="TCFCommands-1.html#tcfHPCDeviceSplit">HPC Device Split</a> </tblk><teq>==</teq><tblk> 1.23, 0.74, 0.89, 1.40</tblk> was added to the .tcf file for the next simulation producing the improved device workload efficiencies below and a 20% faster run time.</p>
<p><tblk>Relative device loads: 100.0% 96.1% 96.8% 94.6%</tblk></p>
<p><strong>Note: The benefit depends on the model, but if you have a significant variation in workload efficiencies between GPU devices this feature should provide a noticeable decrease in run times.</strong></p>
</div>
</div>
<div id="AutoTerminateOptions-3" class="section level3 hasAnchor" number="13.6.7">
<h3><span class="header-section-number">13.6.7</span> Auto Terminate (Simulation End) Options<a href="Running-Simulations-1.html#AutoTerminateOptions-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>TUFLOW Classic and HPC include an Auto-Terminate feature for stopping
simulations after the flood peak has been experienced within the simulation. This can help project efficiencies by avoiding unnecessary model simulation time once the peak flood extent has been achieved.</p>
<p>The 2D cells that are monitored to trigger the auto-termination are
controlled by specifying a value of 0 (exclude) or 1 (include) using the
.tcf commands: <a href="TCFCommands-1.html#tcfSetAutoTerminate">Set Auto Terminate</a> and <a href="TCFCommands-1.html#tcfReadGISAutoTerminate">Read GIS
Auto Terminate</a>.</p>
<p>For example, in the below, all cells are first set to be excluded for
monitoring followed by the reading of a GIS layer to set cells
individually.</p>
<p><tcmd><a href="TCFCommands-1.html#tcfSetAutoTerminate">Set Auto Terminate</a></tcmd> <teq>==</teq><tblk> 0</tblk><br />
<tcmd><a href="TCFCommands-1.html#tcfReadGISAutoTerminate">Read GIS Auto Terminate</a></tcmd> <teq>==</teq><tblk>
..\model\gis\2d_AT_001_R.shp</tblk></p>
<p>At each <a href="TCFCommands-1.html#tcfMapOutputInterval">Map Output Interval</a> the monitored cells
are compared against two criteria:</p>
<ol style="list-style-type: decimal">
<li>The percentage of the wet cells that have become wet since the last
map output interval.<br />
</li>
<li>The velocity-depth product at the current timestep compared to the
tracked maximum.</li>
</ol>
<p>For the percentage of cells that have become wet since the last
interval, the maximum allowable value is controlled with the .tcf
command:</p>
<p><tcmd><a href="TCFCommands-1.html#tcfAutoTerminateWetCellTolerance">Auto Terminate Wet Cell Tolerance</a>&lt;/&gt;
<teq>== </teq><tblk>&lt;maximum_allowable_%_of_newly_wet_cells&gt;</tblk></p>
<p>If set to 0, then if any monitored cells have become wet since the last
map output the simulation continues. If set to a value of 5, then up to
5% of monitored cells can become wet since the last map output while still
triggering an auto-termination of the simulation.</p>
<p>For the velocity-depth tolerance, at each output interval the velocity-depth product is compared to the tracked maximum value. If the current
dV product is within the specified tolerance <a href="TCFCommands-1.html#tcfAutoTerminatedVValueTolerance">Auto Terminate dV Value
Tolerance</a> the simulation is not
terminated.</p>
<p>The total number of cells that are allowable within the specified range
is controlled with <a href="TCFCommands-1.html#tcfAutoTerminatedVCellTolerance">Auto Terminate dV Cell Tolerance</a>. If set to a value of 1, then up to 1% of monitored cells can be within the tolerance value
without triggering an auto-termination of the simulation. The larger the <a href="TCFCommands-1.html#tcfAutoTerminatedVValueTolerance">Auto Terminate dV
Value Tolerance</a> the further the dV
product needs to have dropped from the peak value.</p>
<p>The time that the auto-terminate feature commences can be controlled
using the .tcf command <a href="TCFCommands-1.html#tcfAutoTerminateStartTime">Auto Terminate Start Time</a> otherwise the <a href="TCFCommands-1.html#tcfStartTime">Start Time</a> is used.</p>
<p><strong>Note, this option is only assessed at every <a href="TCFCommands-1.html#tcfMapOutputInterval">Map Output
Interval</a>.</strong></p>
</div>
</div>
<div id="ResultsReplication-3" class="section level2 hasAnchor" number="13.7">
<h2><span class="header-section-number">13.7</span> Reproducibility of Results<a href="Running-Simulations-1.html#ResultsReplication-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A key concern with hydraulic modelling is the replication of results across a range of hardware. The following sections provide some information to be aware of when looking at the replication of results.</p>
<div id="ResultsReplicationClassic-3" class="section level3 hasAnchor" number="13.7.1">
<h3><span class="header-section-number">13.7.1</span> TUFLOW Classic (CPU only)<a href="Running-Simulations-1.html#ResultsReplicationClassic-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The TUFLOW Classic engine is written in Fortran and compiled for
Windows™ with Intel™’s Fortran compiler, leading to well optimised CPU
code. The computational algorithm is implicit in nature and difficult
to parallelise for multi-thread execution. As a
result race conditions do not exist and a repeat run of a model with the
same inputs, with the same executable on the same type of CPU, should
yield bit-wise identical results (i.e. a subtraction of results should
be exactly zero). If a user finds that repeat model runs (same
executable, same CPU) do not yield identical results then please contact
<a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a> as this may indicate a memory access error or an
un-initialised variable in the code.</p>
<p>A repeat model run with the same executable but on a different type of
CPU (e.g. Intel Xeon vs i9, or AMD Epyc vs Ryzen, or Intel vs AMD) may
produce very slight differences in results due to the CPUs having
different instruction set extensions that may or may not be utilised.
Such differences are typically less than 1 mm water surface elevation
but, in some locations, the differences can become accentuated due to
changes in overtopping or an operational structure threshold.</p>
<p>Even though the source code for TUFLOW Classic is currently seeing
little development, as we update Intel Fortran compilers, different
releases of TUFLOW can be expected to show minor differences even on the
same CPU.</p>
</div>
<div id="ResultsReplicationHPCCPU-3" class="section level3 hasAnchor" number="13.7.2">
<h3><span class="header-section-number">13.7.2</span> TUFLOW HPC (incl. Quadtree) on CPU<a href="Running-Simulations-1.html#ResultsReplicationHPCCPU-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The TUFLOW HPC engine (incl Quadtree) is written in C++ with NVIDIA™
CUDA GPU kernels. The kernels have been carefully written so that they
can be compiled for both GPU and CPU execution. When compiled for CPU
execution, the Microsoft Visual Studio compiler is used and the code is
built into the dynamic link libraries (DLLs) in the executable bundle.
Similar to TUFLOW Classic, repeat model runs of the same model (same
TUFLOW executable, same CPU type) should produce bit-wise identical
results. Again, if differences are observed please contact
<a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a> as this may indicate an issue that needs to be
addressed.</p>
<p>As the TUFLOW HPC and Quadtree solvers are fundamentally different to TUFLOW
Classic, there will always be minor differences between solutions from
the different schemes even when using the same turbulence model and
without sub-grid sampling (SGS). As TUFLOW HPC and Quadtree both default to using the
Wu turbulence model while Classic can only use the Smagorinksy model,
the differences will be more significant when run with the default
settings.</p>
</div>
<div id="ResultsReplicationHPCGPU-3" class="section level3 hasAnchor" number="13.7.3">
<h3><span class="header-section-number">13.7.3</span> TUFLOW HPC (incl. Quadtree) on GPU<a href="Running-Simulations-1.html#ResultsReplicationHPCGPU-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When the CUDA kernels are compiled for GPU execution, a GPU agnostic
intermediate code file (ptx) is produced with the final compilation of
that being done on a just-in-time basis by the GPU driver on the machine
that the executable is running on. The results may now depend not just
on the version of TUFLOW executable used and type of CPU (since the
pre-processing of the model input is still performed on CPU), but also
on the type of GPU <em>and</em> the version of the GPU driver installed. GPUs
have thousands of cores that work in parallel. However, the kernels have
been carefully written to avoid race conditions, and the adaptive
timestep control avoids relying on variables summed with atomic
additions of floating point data. Therefore, provided these factors
(version of TUFLOW, CPU type, GPU type, GPU driver version) are kept
constant, a repeat model run will yield bit-wise reproducible results.</p>
<p>Also note that the GPU cores use different hardware for the floating
point operations and the GPU compiler may re-optimise the sequence of
instructions for complex lines of code compared to the CPU compiler.
Therefore, even when using the same version of TUFLOW HPC, very small
differences in the solution can be seen when the model is run on GPU
compared to running on CPU. These differences are typically less than
1 mm water surface elevation but again, in some locations, the differences can become accentuated due to
changes in overtopping or an operational structure threshold.</p>
</div>
<div id="ResultsReplicationHPCMultiThread-3" class="section level3 hasAnchor" number="13.7.4">
<h3><span class="header-section-number">13.7.4</span> TUFLOW HPC (incl. Quadtree) on multiple GPUs / CPU threads<a href="Running-Simulations-1.html#ResultsReplicationHPCMultiThread-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>TUFLOW HPC (incl. Quadtree) support running a model across multiple GPU
devices in one computer. In this case the model is decomposed into
subdomains, and model data are exchanged and sychronised at the domain
boundaries as required. Care has been taken to ensure that results when
run on multiple GPUs (of all the same GPU type) are bit-wise identical
to when run on a single GPU. If differences are observed between results
from a run on multiple devices vs a single device please contact
<a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a>.</p>
<p>Likewise when running on multiple CPU threads (default is four unless
specified), the model results should be bit-wise identical to when
running on a single thread (<a href="#tcfCPUthreads">CPU Threads</a> <teq>==</teq><tblk> 1</tblk>). Please contact us at <a href="mailto:support@tuflow.com" class="email">support@tuflow.com</a> if found
otherwise.</p>
<p><img src="images/WQFooter.jpg" width="100%" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Hardware-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="Checks-and-Logs-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": false,
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
